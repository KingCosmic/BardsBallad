var qF=Object.defineProperty;var KF=(e,t,n)=>t in e?qF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Rs=(e,t,n)=>KF(e,typeof t!="symbol"?t+"":t,n);function N0e(){import.meta.url,import("_").catch(()=>1),async function*(){}().next()}function YF(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var ao=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qa(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function GF(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var tR={exports:{}},l0={},nR={exports:{}},an={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp=Symbol.for("react.element"),XF=Symbol.for("react.portal"),JF=Symbol.for("react.fragment"),QF=Symbol.for("react.strict_mode"),ZF=Symbol.for("react.profiler"),eL=Symbol.for("react.provider"),tL=Symbol.for("react.context"),nL=Symbol.for("react.forward_ref"),rL=Symbol.for("react.suspense"),iL=Symbol.for("react.memo"),oL=Symbol.for("react.lazy"),FC=Symbol.iterator;function sL(e){return e===null||typeof e!="object"?null:(e=FC&&e[FC]||e["@@iterator"],typeof e=="function"?e:null)}var rR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},iR=Object.assign,oR={};function Kd(e,t,n){this.props=e,this.context=t,this.refs=oR,this.updater=n||rR}Kd.prototype.isReactComponent={};Kd.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Kd.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sR(){}sR.prototype=Kd.prototype;function b2(e,t,n){this.props=e,this.context=t,this.refs=oR,this.updater=n||rR}var _2=b2.prototype=new sR;_2.constructor=b2;iR(_2,Kd.prototype);_2.isPureReactComponent=!0;var LC=Array.isArray,aR=Object.prototype.hasOwnProperty,k2={current:null},lR={key:!0,ref:!0,__self:!0,__source:!0};function cR(e,t,n){var r,i={},o=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(o=""+t.key),t)aR.call(t,r)&&!lR.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Yp,type:e,key:o,ref:s,props:i,_owner:k2.current}}function aL(e,t){return{$$typeof:Yp,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function S2(e){return typeof e=="object"&&e!==null&&e.$$typeof===Yp}function lL(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var BC=/\/+/g;function lw(e,t){return typeof e=="object"&&e!==null&&e.key!=null?lL(""+e.key):t.toString(36)}function zg(e,t,n,r,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Yp:case XF:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+lw(s,0):r,LC(i)?(n="",e!=null&&(n=e.replace(BC,"$&/")+"/"),zg(i,t,n,"",function(c){return c})):i!=null&&(S2(i)&&(i=aL(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(BC,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",LC(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+lw(o,a);s+=zg(o,t,n,l,i)}else if(l=sL(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+lw(o,a++),s+=zg(o,t,n,l,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function $m(e,t,n){if(e==null)return e;var r=[],i=0;return zg(e,r,"","",function(o){return t.call(n,o,i++)}),r}function cL(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ri={current:null},Hg={transition:null},uL={ReactCurrentDispatcher:Ri,ReactCurrentBatchConfig:Hg,ReactCurrentOwner:k2};function uR(){throw Error("act(...) is not supported in production builds of React.")}an.Children={map:$m,forEach:function(e,t,n){$m(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return $m(e,function(){t++}),t},toArray:function(e){return $m(e,function(t){return t})||[]},only:function(e){if(!S2(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};an.Component=Kd;an.Fragment=JF;an.Profiler=ZF;an.PureComponent=b2;an.StrictMode=QF;an.Suspense=rL;an.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uL;an.act=uR;an.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=iR({},e.props),i=e.key,o=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,s=k2.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)aR.call(t,l)&&!lR.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Yp,type:e.type,key:i,ref:o,props:r,_owner:s}};an.createContext=function(e){return e={$$typeof:tL,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:eL,_context:e},e.Consumer=e};an.createElement=cR;an.createFactory=function(e){var t=cR.bind(null,e);return t.type=e,t};an.createRef=function(){return{current:null}};an.forwardRef=function(e){return{$$typeof:nL,render:e}};an.isValidElement=S2;an.lazy=function(e){return{$$typeof:oL,_payload:{_status:-1,_result:e},_init:cL}};an.memo=function(e,t){return{$$typeof:iL,type:e,compare:t===void 0?null:t}};an.startTransition=function(e){var t=Hg.transition;Hg.transition={};try{e()}finally{Hg.transition=t}};an.unstable_act=uR;an.useCallback=function(e,t){return Ri.current.useCallback(e,t)};an.useContext=function(e){return Ri.current.useContext(e)};an.useDebugValue=function(){};an.useDeferredValue=function(e){return Ri.current.useDeferredValue(e)};an.useEffect=function(e,t){return Ri.current.useEffect(e,t)};an.useId=function(){return Ri.current.useId()};an.useImperativeHandle=function(e,t,n){return Ri.current.useImperativeHandle(e,t,n)};an.useInsertionEffect=function(e,t){return Ri.current.useInsertionEffect(e,t)};an.useLayoutEffect=function(e,t){return Ri.current.useLayoutEffect(e,t)};an.useMemo=function(e,t){return Ri.current.useMemo(e,t)};an.useReducer=function(e,t,n){return Ri.current.useReducer(e,t,n)};an.useRef=function(e){return Ri.current.useRef(e)};an.useState=function(e){return Ri.current.useState(e)};an.useSyncExternalStore=function(e,t,n){return Ri.current.useSyncExternalStore(e,t,n)};an.useTransition=function(){return Ri.current.useTransition()};an.version="18.3.1";nR.exports=an;var N=nR.exports;const $t=qa(N),dR=YF({__proto__:null,default:$t},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dL=N,fL=Symbol.for("react.element"),hL=Symbol.for("react.fragment"),pL=Object.prototype.hasOwnProperty,mL=dL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gL={key:!0,ref:!0,__self:!0,__source:!0};function fR(e,t,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)pL.call(t,r)&&!gL.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:fL,type:e,key:o,ref:s,props:i,_owner:mL.current}}l0.Fragment=hL;l0.jsx=fR;l0.jsxs=fR;tR.exports=l0;var d=tR.exports,hR={exports:{}},xo={},pR={exports:{}},mR={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(O,D){var $=O.length;O.push(D);e:for(;0<$;){var Y=$-1>>>1,ie=O[Y];if(0<i(ie,D))O[Y]=D,O[$]=ie,$=Y;else break e}}function n(O){return O.length===0?null:O[0]}function r(O){if(O.length===0)return null;var D=O[0],$=O.pop();if($!==D){O[0]=$;e:for(var Y=0,ie=O.length,ae=ie>>>1;Y<ae;){var xe=2*(Y+1)-1,ke=O[xe],Ne=xe+1,V=O[Ne];if(0>i(ke,$))Ne<ie&&0>i(V,ke)?(O[Y]=V,O[Ne]=$,Y=Ne):(O[Y]=ke,O[xe]=$,Y=xe);else if(Ne<ie&&0>i(V,$))O[Y]=V,O[Ne]=$,Y=Ne;else break e}}return D}function i(O,D){var $=O.sortIndex-D.sortIndex;return $!==0?$:O.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();e.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,f=null,h=3,p=!1,v=!1,g=!1,b=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(O){for(var D=n(c);D!==null;){if(D.callback===null)r(c);else if(D.startTime<=O)r(c),D.sortIndex=D.expirationTime,t(l,D);else break;D=n(c)}}function k(O){if(g=!1,x(O),!v)if(n(l)!==null)v=!0,I(S);else{var D=n(c);D!==null&&U(k,D.startTime-O)}}function S(O,D){v=!1,g&&(g=!1,m(M),M=-1),p=!0;var $=h;try{for(x(D),f=n(l);f!==null&&(!(f.expirationTime>D)||O&&!L());){var Y=f.callback;if(typeof Y=="function"){f.callback=null,h=f.priorityLevel;var ie=Y(f.expirationTime<=D);D=e.unstable_now(),typeof ie=="function"?f.callback=ie:f===n(l)&&r(l),x(D)}else r(l);f=n(l)}if(f!==null)var ae=!0;else{var xe=n(c);xe!==null&&U(k,xe.startTime-D),ae=!1}return ae}finally{f=null,h=$,p=!1}}var E=!1,T=null,M=-1,W=5,F=-1;function L(){return!(e.unstable_now()-F<W)}function G(){if(T!==null){var O=e.unstable_now();F=O;var D=!0;try{D=T(!0,O)}finally{D?z():(E=!1,T=null)}}else E=!1}var z;if(typeof y=="function")z=function(){y(G)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,J=H.port2;H.port1.onmessage=G,z=function(){J.postMessage(null)}}else z=function(){b(G,0)};function I(O){T=O,E||(E=!0,z())}function U(O,D){M=b(function(){O(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(O){O.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,I(S))},e.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<O?Math.floor(1e3/O):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(O){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var $=h;h=D;try{return O()}finally{h=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(O,D){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var $=h;h=O;try{return D()}finally{h=$}},e.unstable_scheduleCallback=function(O,D,$){var Y=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Y+$:Y):$=Y,O){case 1:var ie=-1;break;case 2:ie=250;break;case 5:ie=1073741823;break;case 4:ie=1e4;break;default:ie=5e3}return ie=$+ie,O={id:u++,callback:D,priorityLevel:O,startTime:$,expirationTime:ie,sortIndex:-1},$>Y?(O.sortIndex=$,t(c,O),n(l)===null&&O===n(c)&&(g?(m(M),M=-1):g=!0,U(k,$-Y))):(O.sortIndex=ie,t(l,O),v||p||(v=!0,I(S))),O},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(O){var D=h;return function(){var $=h;h=D;try{return O.apply(this,arguments)}finally{h=$}}}})(mR);pR.exports=mR;var vL=pR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yL=N,po=vL;function rt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gR=new Set,Fh={};function ru(e,t){gd(e,t),gd(e+"Capture",t)}function gd(e,t){for(Fh[e]=t,e=0;e<t.length;e++)gR.add(t[e])}var Ma=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),E1=Object.prototype.hasOwnProperty,xL=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zC={},HC={};function wL(e){return E1.call(HC,e)?!0:E1.call(zC,e)?!1:xL.test(e)?HC[e]=!0:(zC[e]=!0,!1)}function bL(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function _L(e,t,n,r){if(t===null||typeof t>"u"||bL(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ii(e,t,n,r,i,o,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var Yr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Yr[e]=new Ii(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Yr[t]=new Ii(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Yr[e]=new Ii(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Yr[e]=new Ii(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Yr[e]=new Ii(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Yr[e]=new Ii(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Yr[e]=new Ii(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Yr[e]=new Ii(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Yr[e]=new Ii(e,5,!1,e.toLowerCase(),null,!1,!1)});var E2=/[\-:]([a-z])/g;function C2(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(E2,C2);Yr[t]=new Ii(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(E2,C2);Yr[t]=new Ii(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(E2,C2);Yr[t]=new Ii(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Yr[e]=new Ii(e,1,!1,e.toLowerCase(),null,!1,!1)});Yr.xlinkHref=new Ii("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Yr[e]=new Ii(e,1,!1,e.toLowerCase(),null,!0,!0)});function j2(e,t,n,r){var i=Yr.hasOwnProperty(t)?Yr[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(_L(t,n,i,r)&&(n=null),r||i===null?wL(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Ka=yL.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dm=Symbol.for("react.element"),Mu=Symbol.for("react.portal"),$u=Symbol.for("react.fragment"),N2=Symbol.for("react.strict_mode"),C1=Symbol.for("react.profiler"),vR=Symbol.for("react.provider"),yR=Symbol.for("react.context"),A2=Symbol.for("react.forward_ref"),j1=Symbol.for("react.suspense"),N1=Symbol.for("react.suspense_list"),T2=Symbol.for("react.memo"),ul=Symbol.for("react.lazy"),xR=Symbol.for("react.offscreen"),WC=Symbol.iterator;function Cf(e){return e===null||typeof e!="object"?null:(e=WC&&e[WC]||e["@@iterator"],typeof e=="function"?e:null)}var tr=Object.assign,cw;function Jf(e){if(cw===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);cw=t&&t[1]||""}return"\n"+cw+e}var uw=!1;function dw(e,t){if(!e||uw)return"";uw=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split("\n"),o=r.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l="\n"+i[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=s&&0<=a);break}}}finally{uw=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Jf(e):""}function kL(e){switch(e.tag){case 5:return Jf(e.type);case 16:return Jf("Lazy");case 13:return Jf("Suspense");case 19:return Jf("SuspenseList");case 0:case 2:case 15:return e=dw(e.type,!1),e;case 11:return e=dw(e.type.render,!1),e;case 1:return e=dw(e.type,!0),e;default:return""}}function A1(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $u:return"Fragment";case Mu:return"Portal";case C1:return"Profiler";case N2:return"StrictMode";case j1:return"Suspense";case N1:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yR:return(e.displayName||"Context")+".Consumer";case vR:return(e._context.displayName||"Context")+".Provider";case A2:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case T2:return t=e.displayName||null,t!==null?t:A1(e.type)||"Memo";case ul:t=e._payload,e=e._init;try{return A1(e(t))}catch(n){}}return null}function SL(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A1(t);case 8:return t===N2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ol(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function wR(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function EL(e){var t=wR(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Fm(e){e._valueTracker||(e._valueTracker=EL(e))}function bR(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=wR(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function wv(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch(t){return e.body}}function T1(e,t){var n=t.checked;return tr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n!=null?n:e._wrapperState.initialChecked})}function UC(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ol(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function _R(e,t){t=t.checked,t!=null&&j2(e,"checked",t,!1)}function R1(e,t){_R(e,t);var n=Ol(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?I1(e,t.type,n):t.hasOwnProperty("defaultValue")&&I1(e,t.type,Ol(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function VC(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function I1(e,t,n){(t!=="number"||wv(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Qf=Array.isArray;function Zu(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ol(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function P1(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(rt(91));return tr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function qC(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(rt(92));if(Qf(n)){if(1<n.length)throw Error(rt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ol(n)}}function kR(e,t){var n=Ol(t.value),r=Ol(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function KC(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function SR(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function O1(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?SR(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Lm,ER=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Lm=Lm||document.createElement("div"),Lm.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Lm.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Lh(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var vh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CL=["Webkit","ms","Moz","O"];Object.keys(vh).forEach(function(e){CL.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),vh[t]=vh[e]})});function CR(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||vh.hasOwnProperty(e)&&vh[e]?(""+t).trim():t+"px"}function jR(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=CR(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var jL=tr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function M1(e,t){if(t){if(jL[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(rt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(rt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(rt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(rt(62))}}function $1(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var D1=null;function R2(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var F1=null,ed=null,td=null;function YC(e){if(e=Jp(e)){if(typeof F1!="function")throw Error(rt(280));var t=e.stateNode;t&&(t=h0(t),F1(e.stateNode,e.type,t))}}function NR(e){ed?td?td.push(e):td=[e]:ed=e}function AR(){if(ed){var e=ed,t=td;if(td=ed=null,YC(e),t)for(e=0;e<t.length;e++)YC(t[e])}}function TR(e,t){return e(t)}function RR(){}var fw=!1;function IR(e,t,n){if(fw)return e(t,n);fw=!0;try{return TR(e,t,n)}finally{fw=!1,(ed!==null||td!==null)&&(RR(),AR())}}function Bh(e,t){var n=e.stateNode;if(n===null)return null;var r=h0(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(rt(231,t,typeof n));return n}var L1=!1;if(Ma)try{var jf={};Object.defineProperty(jf,"passive",{get:function(){L1=!0}}),window.addEventListener("test",jf,jf),window.removeEventListener("test",jf,jf)}catch(e){L1=!1}function NL(e,t,n,r,i,o,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var yh=!1,bv=null,_v=!1,B1=null,AL={onError:function(e){yh=!0,bv=e}};function TL(e,t,n,r,i,o,s,a,l){yh=!1,bv=null,NL.apply(AL,arguments)}function RL(e,t,n,r,i,o,s,a,l){if(TL.apply(this,arguments),yh){if(yh){var c=bv;yh=!1,bv=null}else throw Error(rt(198));_v||(_v=!0,B1=c)}}function iu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function PR(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function GC(e){if(iu(e)!==e)throw Error(rt(188))}function IL(e){var t=e.alternate;if(!t){if(t=iu(e),t===null)throw Error(rt(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return GC(i),e;if(o===r)return GC(i),t;o=o.sibling}throw Error(rt(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(rt(189))}}if(n.alternate!==r)throw Error(rt(190))}if(n.tag!==3)throw Error(rt(188));return n.stateNode.current===n?e:t}function OR(e){return e=IL(e),e!==null?MR(e):null}function MR(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=MR(e);if(t!==null)return t;e=e.sibling}return null}var $R=po.unstable_scheduleCallback,XC=po.unstable_cancelCallback,PL=po.unstable_shouldYield,OL=po.unstable_requestPaint,mr=po.unstable_now,ML=po.unstable_getCurrentPriorityLevel,I2=po.unstable_ImmediatePriority,DR=po.unstable_UserBlockingPriority,kv=po.unstable_NormalPriority,$L=po.unstable_LowPriority,FR=po.unstable_IdlePriority,c0=null,Bs=null;function DL(e){if(Bs&&typeof Bs.onCommitFiberRoot=="function")try{Bs.onCommitFiberRoot(c0,e,void 0,(e.current.flags&128)===128)}catch(t){}}var ss=Math.clz32?Math.clz32:BL,FL=Math.log,LL=Math.LN2;function BL(e){return e>>>=0,e===0?32:31-(FL(e)/LL|0)|0}var Bm=64,zm=4194304;function Zf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Sv(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,o=e.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=Zf(a):(o&=s,o!==0&&(r=Zf(o)))}else s=n&~i,s!==0?r=Zf(s):o!==0&&(r=Zf(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-ss(t),i=1<<n,r|=e[n],t&=~i;return r}function zL(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HL(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-ss(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=zL(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function z1(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function LR(){var e=Bm;return Bm<<=1,!(Bm&4194240)&&(Bm=64),e}function hw(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Gp(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-ss(t),e[t]=n}function WL(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ss(n),o=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~o}}function P2(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ss(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kn=0;function BR(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var zR,O2,HR,WR,UR,H1=!1,Hm=[],bl=null,_l=null,kl=null,zh=new Map,Hh=new Map,pl=[],UL="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function JC(e,t){switch(e){case"focusin":case"focusout":bl=null;break;case"dragenter":case"dragleave":_l=null;break;case"mouseover":case"mouseout":kl=null;break;case"pointerover":case"pointerout":zh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hh.delete(t.pointerId)}}function Nf(e,t,n,r,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},t!==null&&(t=Jp(t),t!==null&&O2(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function VL(e,t,n,r,i){switch(t){case"focusin":return bl=Nf(bl,e,t,n,r,i),!0;case"dragenter":return _l=Nf(_l,e,t,n,r,i),!0;case"mouseover":return kl=Nf(kl,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return zh.set(o,Nf(zh.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Hh.set(o,Nf(Hh.get(o)||null,e,t,n,r,i)),!0}return!1}function VR(e){var t=wc(e.target);if(t!==null){var n=iu(t);if(n!==null){if(t=n.tag,t===13){if(t=PR(n),t!==null){e.blockedOn=t,UR(e.priority,function(){HR(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Wg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=W1(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);D1=r,n.target.dispatchEvent(r),D1=null}else return t=Jp(n),t!==null&&O2(t),e.blockedOn=n,!1;t.shift()}return!0}function QC(e,t,n){Wg(e)&&n.delete(t)}function qL(){H1=!1,bl!==null&&Wg(bl)&&(bl=null),_l!==null&&Wg(_l)&&(_l=null),kl!==null&&Wg(kl)&&(kl=null),zh.forEach(QC),Hh.forEach(QC)}function Af(e,t){e.blockedOn===t&&(e.blockedOn=null,H1||(H1=!0,po.unstable_scheduleCallback(po.unstable_NormalPriority,qL)))}function Wh(e){function t(i){return Af(i,e)}if(0<Hm.length){Af(Hm[0],e);for(var n=1;n<Hm.length;n++){var r=Hm[n];r.blockedOn===e&&(r.blockedOn=null)}}for(bl!==null&&Af(bl,e),_l!==null&&Af(_l,e),kl!==null&&Af(kl,e),zh.forEach(t),Hh.forEach(t),n=0;n<pl.length;n++)r=pl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<pl.length&&(n=pl[0],n.blockedOn===null);)VR(n),n.blockedOn===null&&pl.shift()}var nd=Ka.ReactCurrentBatchConfig,Ev=!0;function KL(e,t,n,r){var i=kn,o=nd.transition;nd.transition=null;try{kn=1,M2(e,t,n,r)}finally{kn=i,nd.transition=o}}function YL(e,t,n,r){var i=kn,o=nd.transition;nd.transition=null;try{kn=4,M2(e,t,n,r)}finally{kn=i,nd.transition=o}}function M2(e,t,n,r){if(Ev){var i=W1(e,t,n,r);if(i===null)kw(e,t,r,Cv,n),JC(e,r);else if(VL(i,e,t,n,r))r.stopPropagation();else if(JC(e,r),t&4&&-1<UL.indexOf(e)){for(;i!==null;){var o=Jp(i);if(o!==null&&zR(o),o=W1(e,t,n,r),o===null&&kw(e,t,r,Cv,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else kw(e,t,r,null,n)}}var Cv=null;function W1(e,t,n,r){if(Cv=null,e=R2(r),e=wc(e),e!==null)if(t=iu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=PR(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Cv=e,null}function qR(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ML()){case I2:return 1;case DR:return 4;case kv:case $L:return 16;case FR:return 536870912;default:return 16}default:return 16}}var yl=null,$2=null,Ug=null;function KR(){if(Ug)return Ug;var e,t=$2,n=t.length,r,i="value"in yl?yl.value:yl.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[o-r];r++);return Ug=i.slice(e,1<r?1-r:void 0)}function Vg(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wm(){return!0}function ZC(){return!1}function wo(e){function t(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Wm:ZC,this.isPropagationStopped=ZC,this}return tr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wm)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wm)},persist:function(){},isPersistent:Wm}),t}var Yd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},D2=wo(Yd),Xp=tr({},Yd,{view:0,detail:0}),GL=wo(Xp),pw,mw,Tf,u0=tr({},Xp,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:F2,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Tf&&(Tf&&e.type==="mousemove"?(pw=e.screenX-Tf.screenX,mw=e.screenY-Tf.screenY):mw=pw=0,Tf=e),pw)},movementY:function(e){return"movementY"in e?e.movementY:mw}}),ej=wo(u0),XL=tr({},u0,{dataTransfer:0}),JL=wo(XL),QL=tr({},Xp,{relatedTarget:0}),gw=wo(QL),ZL=tr({},Yd,{animationName:0,elapsedTime:0,pseudoElement:0}),eB=wo(ZL),tB=tr({},Yd,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),nB=wo(tB),rB=tr({},Yd,{data:0}),tj=wo(rB),iB={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},oB={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},sB={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function aB(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=sB[e])?!!t[e]:!1}function F2(){return aB}var lB=tr({},Xp,{key:function(e){if(e.key){var t=iB[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Vg(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?oB[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:F2,charCode:function(e){return e.type==="keypress"?Vg(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Vg(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cB=wo(lB),uB=tr({},u0,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),nj=wo(uB),dB=tr({},Xp,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:F2}),fB=wo(dB),hB=tr({},Yd,{propertyName:0,elapsedTime:0,pseudoElement:0}),pB=wo(hB),mB=tr({},u0,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),gB=wo(mB),vB=[9,13,27,32],L2=Ma&&"CompositionEvent"in window,xh=null;Ma&&"documentMode"in document&&(xh=document.documentMode);var yB=Ma&&"TextEvent"in window&&!xh,YR=Ma&&(!L2||xh&&8<xh&&11>=xh),rj=" ",ij=!1;function GR(e,t){switch(e){case"keyup":return vB.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XR(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Du=!1;function xB(e,t){switch(e){case"compositionend":return XR(t);case"keypress":return t.which!==32?null:(ij=!0,rj);case"textInput":return e=t.data,e===rj&&ij?null:e;default:return null}}function wB(e,t){if(Du)return e==="compositionend"||!L2&&GR(e,t)?(e=KR(),Ug=$2=yl=null,Du=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return YR&&t.locale!=="ko"?null:t.data;default:return null}}var bB={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!bB[e.type]:t==="textarea"}function JR(e,t,n,r){NR(r),t=jv(t,"onChange"),0<t.length&&(n=new D2("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var wh=null,Uh=null;function _B(e){lI(e,0)}function d0(e){var t=Bu(e);if(bR(t))return e}function kB(e,t){if(e==="change")return t}var QR=!1;if(Ma){var vw;if(Ma){var yw="oninput"in document;if(!yw){var sj=document.createElement("div");sj.setAttribute("oninput","return;"),yw=typeof sj.oninput=="function"}vw=yw}else vw=!1;QR=vw&&(!document.documentMode||9<document.documentMode)}function aj(){wh&&(wh.detachEvent("onpropertychange",ZR),Uh=wh=null)}function ZR(e){if(e.propertyName==="value"&&d0(Uh)){var t=[];JR(t,Uh,e,R2(e)),IR(_B,t)}}function SB(e,t,n){e==="focusin"?(aj(),wh=t,Uh=n,wh.attachEvent("onpropertychange",ZR)):e==="focusout"&&aj()}function EB(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return d0(Uh)}function CB(e,t){if(e==="click")return d0(t)}function jB(e,t){if(e==="input"||e==="change")return d0(t)}function NB(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ds=typeof Object.is=="function"?Object.is:NB;function Vh(e,t){if(ds(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!E1.call(t,i)||!ds(e[i],t[i]))return!1}return!0}function lj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cj(e,t){var n=lj(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=lj(n)}}function eI(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?eI(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tI(){for(var e=window,t=wv();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch(r){n=!1}if(n)e=t.contentWindow;else break;t=wv(e.document)}return t}function B2(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function AB(e){var t=tI(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&eI(n.ownerDocument.documentElement,n)){if(r!==null&&B2(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!e.extend&&o>r&&(i=r,r=o,o=i),i=cj(n,o);var s=cj(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var TB=Ma&&"documentMode"in document&&11>=document.documentMode,Fu=null,U1=null,bh=null,V1=!1;function uj(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;V1||Fu==null||Fu!==wv(r)||(r=Fu,"selectionStart"in r&&B2(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),bh&&Vh(bh,r)||(bh=r,r=jv(U1,"onSelect"),0<r.length&&(t=new D2("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Fu)))}function Um(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Lu={animationend:Um("Animation","AnimationEnd"),animationiteration:Um("Animation","AnimationIteration"),animationstart:Um("Animation","AnimationStart"),transitionend:Um("Transition","TransitionEnd")},xw={},nI={};Ma&&(nI=document.createElement("div").style,"AnimationEvent"in window||(delete Lu.animationend.animation,delete Lu.animationiteration.animation,delete Lu.animationstart.animation),"TransitionEvent"in window||delete Lu.transitionend.transition);function f0(e){if(xw[e])return xw[e];if(!Lu[e])return e;var t=Lu[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in nI)return xw[e]=t[n];return e}var rI=f0("animationend"),iI=f0("animationiteration"),oI=f0("animationstart"),sI=f0("transitionend"),aI=new Map,dj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Vl(e,t){aI.set(e,t),ru(t,[e])}for(var ww=0;ww<dj.length;ww++){var bw=dj[ww],RB=bw.toLowerCase(),IB=bw[0].toUpperCase()+bw.slice(1);Vl(RB,"on"+IB)}Vl(rI,"onAnimationEnd");Vl(iI,"onAnimationIteration");Vl(oI,"onAnimationStart");Vl("dblclick","onDoubleClick");Vl("focusin","onFocus");Vl("focusout","onBlur");Vl(sI,"onTransitionEnd");gd("onMouseEnter",["mouseout","mouseover"]);gd("onMouseLeave",["mouseout","mouseover"]);gd("onPointerEnter",["pointerout","pointerover"]);gd("onPointerLeave",["pointerout","pointerover"]);ru("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ru("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ru("onBeforeInput",["compositionend","keypress","textInput","paste"]);ru("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ru("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ru("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var eh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PB=new Set("cancel close invalid load scroll toggle".split(" ").concat(eh));function fj(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,RL(r,t,void 0,e),e.currentTarget=null}function lI(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;fj(i,a,c),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;fj(i,a,c),o=l}}}if(_v)throw e=B1,_v=!1,B1=null,e}function $n(e,t){var n=t[X1];n===void 0&&(n=t[X1]=new Set);var r=e+"__bubble";n.has(r)||(cI(t,e,2,!1),n.add(r))}function _w(e,t,n){var r=0;t&&(r|=4),cI(n,e,r,t)}var Vm="_reactListening"+Math.random().toString(36).slice(2);function qh(e){if(!e[Vm]){e[Vm]=!0,gR.forEach(function(n){n!=="selectionchange"&&(PB.has(n)||_w(n,!1,e),_w(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Vm]||(t[Vm]=!0,_w("selectionchange",!1,t))}}function cI(e,t,n,r){switch(qR(t)){case 1:var i=KL;break;case 4:i=YL;break;default:i=M2}n=i.bind(null,t,n,e),i=void 0,!L1||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function kw(e,t,n,r,i){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=wc(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}IR(function(){var c=o,u=R2(n),f=[];e:{var h=aI.get(e);if(h!==void 0){var p=D2,v=e;switch(e){case"keypress":if(Vg(n)===0)break e;case"keydown":case"keyup":p=cB;break;case"focusin":v="focus",p=gw;break;case"focusout":v="blur",p=gw;break;case"beforeblur":case"afterblur":p=gw;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=ej;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=JL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=fB;break;case rI:case iI:case oI:p=eB;break;case sI:p=pB;break;case"scroll":p=GL;break;case"wheel":p=gB;break;case"copy":case"cut":case"paste":p=nB;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=nj}var g=(t&4)!==0,b=!g&&e==="scroll",m=g?h!==null?h+"Capture":null:h;g=[];for(var y=c,x;y!==null;){x=y;var k=x.stateNode;if(x.tag===5&&k!==null&&(x=k,m!==null&&(k=Bh(y,m),k!=null&&g.push(Kh(y,k,x)))),b)break;y=y.return}0<g.length&&(h=new p(h,v,null,n,u),f.push({event:h,listeners:g}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&n!==D1&&(v=n.relatedTarget||n.fromElement)&&(wc(v)||v[$a]))break e;if((p||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=c,v=v?wc(v):null,v!==null&&(b=iu(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(g=ej,k="onMouseLeave",m="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(g=nj,k="onPointerLeave",m="onPointerEnter",y="pointer"),b=p==null?h:Bu(p),x=v==null?h:Bu(v),h=new g(k,y+"leave",p,n,u),h.target=b,h.relatedTarget=x,k=null,wc(u)===c&&(g=new g(m,y+"enter",v,n,u),g.target=x,g.relatedTarget=b,k=g),b=k,p&&v)t:{for(g=p,m=v,y=0,x=g;x;x=wu(x))y++;for(x=0,k=m;k;k=wu(k))x++;for(;0<y-x;)g=wu(g),y--;for(;0<x-y;)m=wu(m),x--;for(;y--;){if(g===m||m!==null&&g===m.alternate)break t;g=wu(g),m=wu(m)}g=null}else g=null;p!==null&&hj(f,h,p,g,!1),v!==null&&b!==null&&hj(f,b,v,g,!0)}}e:{if(h=c?Bu(c):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=kB;else if(oj(h))if(QR)S=jB;else{S=EB;var E=SB}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=CB);if(S&&(S=S(e,c))){JR(f,S,n,u);break e}E&&E(e,h,c),e==="focusout"&&(E=h._wrapperState)&&E.controlled&&h.type==="number"&&I1(h,"number",h.value)}switch(E=c?Bu(c):window,e){case"focusin":(oj(E)||E.contentEditable==="true")&&(Fu=E,U1=c,bh=null);break;case"focusout":bh=U1=Fu=null;break;case"mousedown":V1=!0;break;case"contextmenu":case"mouseup":case"dragend":V1=!1,uj(f,n,u);break;case"selectionchange":if(TB)break;case"keydown":case"keyup":uj(f,n,u)}var T;if(L2)e:{switch(e){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else Du?GR(e,n)&&(M="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(YR&&n.locale!=="ko"&&(Du||M!=="onCompositionStart"?M==="onCompositionEnd"&&Du&&(T=KR()):(yl=u,$2="value"in yl?yl.value:yl.textContent,Du=!0)),E=jv(c,M),0<E.length&&(M=new tj(M,e,null,n,u),f.push({event:M,listeners:E}),T?M.data=T:(T=XR(n),T!==null&&(M.data=T)))),(T=yB?xB(e,n):wB(e,n))&&(c=jv(c,"onBeforeInput"),0<c.length&&(u=new tj("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=T))}lI(f,t)})}function Kh(e,t,n){return{instance:e,listener:t,currentTarget:n}}function jv(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Bh(e,n),o!=null&&r.unshift(Kh(e,o,i)),o=Bh(e,t),o!=null&&r.push(Kh(e,o,i))),e=e.return}return r}function wu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function hj(e,t,n,r,i){for(var o=t._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Bh(n,o),l!=null&&s.unshift(Kh(n,l,a))):i||(l=Bh(n,o),l!=null&&s.push(Kh(n,l,a)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var OB=/\r\n?/g,MB=/\u0000|\uFFFD/g;function pj(e){return(typeof e=="string"?e:""+e).replace(OB,"\n").replace(MB,"")}function qm(e,t,n){if(t=pj(t),pj(e)!==t&&n)throw Error(rt(425))}function Nv(){}var q1=null,K1=null;function Y1(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var G1=typeof setTimeout=="function"?setTimeout:void 0,$B=typeof clearTimeout=="function"?clearTimeout:void 0,mj=typeof Promise=="function"?Promise:void 0,DB=typeof queueMicrotask=="function"?queueMicrotask:typeof mj<"u"?function(e){return mj.resolve(null).then(e).catch(FB)}:G1;function FB(e){setTimeout(function(){throw e})}function Sw(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Wh(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Wh(t)}function Sl(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function gj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Gd=Math.random().toString(36).slice(2),Fs="__reactFiber$"+Gd,Yh="__reactProps$"+Gd,$a="__reactContainer$"+Gd,X1="__reactEvents$"+Gd,LB="__reactListeners$"+Gd,BB="__reactHandles$"+Gd;function wc(e){var t=e[Fs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[$a]||n[Fs]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=gj(e);e!==null;){if(n=e[Fs])return n;e=gj(e)}return t}e=n,n=e.parentNode}return null}function Jp(e){return e=e[Fs]||e[$a],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Bu(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(rt(33))}function h0(e){return e[Yh]||null}var J1=[],zu=-1;function ql(e){return{current:e}}function Bn(e){0>zu||(e.current=J1[zu],J1[zu]=null,zu--)}function On(e,t){zu++,J1[zu]=e.current,e.current=t}var Ml={},hi=ql(Ml),Vi=ql(!1),$c=Ml;function vd(e,t){var n=e.type.contextTypes;if(!n)return Ml;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function qi(e){return e=e.childContextTypes,e!=null}function Av(){Bn(Vi),Bn(hi)}function vj(e,t,n){if(hi.current!==Ml)throw Error(rt(168));On(hi,t),On(Vi,n)}function uI(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(rt(108,SL(e)||"Unknown",i));return tr({},n,r)}function Tv(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ml,$c=hi.current,On(hi,e),On(Vi,Vi.current),!0}function yj(e,t,n){var r=e.stateNode;if(!r)throw Error(rt(169));n?(e=uI(e,t,$c),r.__reactInternalMemoizedMergedChildContext=e,Bn(Vi),Bn(hi),On(hi,e)):Bn(Vi),On(Vi,n)}var ya=null,p0=!1,Ew=!1;function dI(e){ya===null?ya=[e]:ya.push(e)}function zB(e){p0=!0,dI(e)}function Kl(){if(!Ew&&ya!==null){Ew=!0;var e=0,t=kn;try{var n=ya;for(kn=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ya=null,p0=!1}catch(i){throw ya!==null&&(ya=ya.slice(e+1)),$R(I2,Kl),i}finally{kn=t,Ew=!1}}return null}var Hu=[],Wu=0,Rv=null,Iv=0,Eo=[],Co=0,Dc=null,ka=1,Sa="";function fc(e,t){Hu[Wu++]=Iv,Hu[Wu++]=Rv,Rv=e,Iv=t}function fI(e,t,n){Eo[Co++]=ka,Eo[Co++]=Sa,Eo[Co++]=Dc,Dc=e;var r=ka;e=Sa;var i=32-ss(r)-1;r&=~(1<<i),n+=1;var o=32-ss(t)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,ka=1<<32-ss(t)+i|n<<i|r,Sa=o+e}else ka=1<<o|n<<i|r,Sa=e}function z2(e){e.return!==null&&(fc(e,1),fI(e,1,0))}function H2(e){for(;e===Rv;)Rv=Hu[--Wu],Hu[Wu]=null,Iv=Hu[--Wu],Hu[Wu]=null;for(;e===Dc;)Dc=Eo[--Co],Eo[Co]=null,Sa=Eo[--Co],Eo[Co]=null,ka=Eo[--Co],Eo[Co]=null}var uo=null,lo=null,Wn=!1,Qo=null;function hI(e,t){var n=Ao(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function xj(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,uo=e,lo=Sl(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,uo=e,lo=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Dc!==null?{id:ka,overflow:Sa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ao(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,uo=e,lo=null,!0):!1;default:return!1}}function Q1(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Z1(e){if(Wn){var t=lo;if(t){var n=t;if(!xj(e,t)){if(Q1(e))throw Error(rt(418));t=Sl(n.nextSibling);var r=uo;t&&xj(e,t)?hI(r,n):(e.flags=e.flags&-4097|2,Wn=!1,uo=e)}}else{if(Q1(e))throw Error(rt(418));e.flags=e.flags&-4097|2,Wn=!1,uo=e}}}function wj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;uo=e}function Km(e){if(e!==uo)return!1;if(!Wn)return wj(e),Wn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Y1(e.type,e.memoizedProps)),t&&(t=lo)){if(Q1(e))throw pI(),Error(rt(418));for(;t;)hI(e,t),t=Sl(t.nextSibling)}if(wj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(rt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){lo=Sl(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}lo=null}}else lo=uo?Sl(e.stateNode.nextSibling):null;return!0}function pI(){for(var e=lo;e;)e=Sl(e.nextSibling)}function yd(){lo=uo=null,Wn=!1}function W2(e){Qo===null?Qo=[e]:Qo.push(e)}var HB=Ka.ReactCurrentBatchConfig;function Rf(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(rt(309));var r=n.stateNode}if(!r)throw Error(rt(147,e));var i=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},t._stringRef=o,t)}if(typeof e!="string")throw Error(rt(284));if(!n._owner)throw Error(rt(290,e))}return e}function Ym(e,t){throw e=Object.prototype.toString.call(t),Error(rt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bj(e){var t=e._init;return t(e._payload)}function mI(e){function t(m,y){if(e){var x=m.deletions;x===null?(m.deletions=[y],m.flags|=16):x.push(y)}}function n(m,y){if(!e)return null;for(;y!==null;)t(m,y),y=y.sibling;return null}function r(m,y){for(m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function i(m,y){return m=Nl(m,y),m.index=0,m.sibling=null,m}function o(m,y,x){return m.index=x,e?(x=m.alternate,x!==null?(x=x.index,x<y?(m.flags|=2,y):x):(m.flags|=2,y)):(m.flags|=1048576,y)}function s(m){return e&&m.alternate===null&&(m.flags|=2),m}function a(m,y,x,k){return y===null||y.tag!==6?(y=Iw(x,m.mode,k),y.return=m,y):(y=i(y,x),y.return=m,y)}function l(m,y,x,k){var S=x.type;return S===$u?u(m,y,x.props.children,k,x.key):y!==null&&(y.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ul&&bj(S)===y.type)?(k=i(y,x.props),k.ref=Rf(m,y,x),k.return=m,k):(k=Qg(x.type,x.key,x.props,null,m.mode,k),k.ref=Rf(m,y,x),k.return=m,k)}function c(m,y,x,k){return y===null||y.tag!==4||y.stateNode.containerInfo!==x.containerInfo||y.stateNode.implementation!==x.implementation?(y=Pw(x,m.mode,k),y.return=m,y):(y=i(y,x.children||[]),y.return=m,y)}function u(m,y,x,k,S){return y===null||y.tag!==7?(y=Tc(x,m.mode,k,S),y.return=m,y):(y=i(y,x),y.return=m,y)}function f(m,y,x){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Iw(""+y,m.mode,x),y.return=m,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Dm:return x=Qg(y.type,y.key,y.props,null,m.mode,x),x.ref=Rf(m,null,y),x.return=m,x;case Mu:return y=Pw(y,m.mode,x),y.return=m,y;case ul:var k=y._init;return f(m,k(y._payload),x)}if(Qf(y)||Cf(y))return y=Tc(y,m.mode,x,null),y.return=m,y;Ym(m,y)}return null}function h(m,y,x,k){var S=y!==null?y.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return S!==null?null:a(m,y,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Dm:return x.key===S?l(m,y,x,k):null;case Mu:return x.key===S?c(m,y,x,k):null;case ul:return S=x._init,h(m,y,S(x._payload),k)}if(Qf(x)||Cf(x))return S!==null?null:u(m,y,x,k,null);Ym(m,x)}return null}function p(m,y,x,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return m=m.get(x)||null,a(y,m,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Dm:return m=m.get(k.key===null?x:k.key)||null,l(y,m,k,S);case Mu:return m=m.get(k.key===null?x:k.key)||null,c(y,m,k,S);case ul:var E=k._init;return p(m,y,x,E(k._payload),S)}if(Qf(k)||Cf(k))return m=m.get(x)||null,u(y,m,k,S,null);Ym(y,k)}return null}function v(m,y,x,k){for(var S=null,E=null,T=y,M=y=0,W=null;T!==null&&M<x.length;M++){T.index>M?(W=T,T=null):W=T.sibling;var F=h(m,T,x[M],k);if(F===null){T===null&&(T=W);break}e&&T&&F.alternate===null&&t(m,T),y=o(F,y,M),E===null?S=F:E.sibling=F,E=F,T=W}if(M===x.length)return n(m,T),Wn&&fc(m,M),S;if(T===null){for(;M<x.length;M++)T=f(m,x[M],k),T!==null&&(y=o(T,y,M),E===null?S=T:E.sibling=T,E=T);return Wn&&fc(m,M),S}for(T=r(m,T);M<x.length;M++)W=p(T,m,M,x[M],k),W!==null&&(e&&W.alternate!==null&&T.delete(W.key===null?M:W.key),y=o(W,y,M),E===null?S=W:E.sibling=W,E=W);return e&&T.forEach(function(L){return t(m,L)}),Wn&&fc(m,M),S}function g(m,y,x,k){var S=Cf(x);if(typeof S!="function")throw Error(rt(150));if(x=S.call(x),x==null)throw Error(rt(151));for(var E=S=null,T=y,M=y=0,W=null,F=x.next();T!==null&&!F.done;M++,F=x.next()){T.index>M?(W=T,T=null):W=T.sibling;var L=h(m,T,F.value,k);if(L===null){T===null&&(T=W);break}e&&T&&L.alternate===null&&t(m,T),y=o(L,y,M),E===null?S=L:E.sibling=L,E=L,T=W}if(F.done)return n(m,T),Wn&&fc(m,M),S;if(T===null){for(;!F.done;M++,F=x.next())F=f(m,F.value,k),F!==null&&(y=o(F,y,M),E===null?S=F:E.sibling=F,E=F);return Wn&&fc(m,M),S}for(T=r(m,T);!F.done;M++,F=x.next())F=p(T,m,M,F.value,k),F!==null&&(e&&F.alternate!==null&&T.delete(F.key===null?M:F.key),y=o(F,y,M),E===null?S=F:E.sibling=F,E=F);return e&&T.forEach(function(G){return t(m,G)}),Wn&&fc(m,M),S}function b(m,y,x,k){if(typeof x=="object"&&x!==null&&x.type===$u&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Dm:e:{for(var S=x.key,E=y;E!==null;){if(E.key===S){if(S=x.type,S===$u){if(E.tag===7){n(m,E.sibling),y=i(E,x.props.children),y.return=m,m=y;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===ul&&bj(S)===E.type){n(m,E.sibling),y=i(E,x.props),y.ref=Rf(m,E,x),y.return=m,m=y;break e}n(m,E);break}else t(m,E);E=E.sibling}x.type===$u?(y=Tc(x.props.children,m.mode,k,x.key),y.return=m,m=y):(k=Qg(x.type,x.key,x.props,null,m.mode,k),k.ref=Rf(m,y,x),k.return=m,m=k)}return s(m);case Mu:e:{for(E=x.key;y!==null;){if(y.key===E)if(y.tag===4&&y.stateNode.containerInfo===x.containerInfo&&y.stateNode.implementation===x.implementation){n(m,y.sibling),y=i(y,x.children||[]),y.return=m,m=y;break e}else{n(m,y);break}else t(m,y);y=y.sibling}y=Pw(x,m.mode,k),y.return=m,m=y}return s(m);case ul:return E=x._init,b(m,y,E(x._payload),k)}if(Qf(x))return v(m,y,x,k);if(Cf(x))return g(m,y,x,k);Ym(m,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,y!==null&&y.tag===6?(n(m,y.sibling),y=i(y,x),y.return=m,m=y):(n(m,y),y=Iw(x,m.mode,k),y.return=m,m=y),s(m)):n(m,y)}return b}var xd=mI(!0),gI=mI(!1),Pv=ql(null),Ov=null,Uu=null,U2=null;function V2(){U2=Uu=Ov=null}function q2(e){var t=Pv.current;Bn(Pv),e._currentValue=t}function e_(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function rd(e,t){Ov=e,U2=Uu=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(zi=!0),e.firstContext=null)}function $o(e){var t=e._currentValue;if(U2!==e)if(e={context:e,memoizedValue:t,next:null},Uu===null){if(Ov===null)throw Error(rt(308));Uu=e,Ov.dependencies={lanes:0,firstContext:e}}else Uu=Uu.next=e;return t}var bc=null;function K2(e){bc===null?bc=[e]:bc.push(e)}function vI(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,K2(t)):(n.next=i.next,i.next=n),t.interleaved=n,Da(e,r)}function Da(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var dl=!1;function Y2(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yI(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Aa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function El(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,gn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Da(e,n)}return i=r.interleaved,i===null?(t.next=t,K2(r)):(t.next=i.next,i.next=t),r.interleaved=t,Da(e,n)}function qg(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,P2(e,n)}}function _j(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Mv(e,t,n,r){var i=e.updateQueue;dl=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?o=c:s.next=c,s=l;var u=e.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,u=c=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,g=a;switch(h=t,p=n,g.tag){case 1:if(v=g.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=g.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=tr({},f,h);break e;case 2:dl=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);Lc|=s,e.lanes=s,e.memoizedState=f}}function kj(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(rt(191,i));i.call(r)}}}var Qp={},zs=ql(Qp),Gh=ql(Qp),Xh=ql(Qp);function _c(e){if(e===Qp)throw Error(rt(174));return e}function G2(e,t){switch(On(Xh,t),On(Gh,e),On(zs,Qp),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:O1(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=O1(t,e)}Bn(zs),On(zs,t)}function wd(){Bn(zs),Bn(Gh),Bn(Xh)}function xI(e){_c(Xh.current);var t=_c(zs.current),n=O1(t,e.type);t!==n&&(On(Gh,e),On(zs,n))}function X2(e){Gh.current===e&&(Bn(zs),Bn(Gh))}var Xn=ql(0);function $v(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cw=[];function J2(){for(var e=0;e<Cw.length;e++)Cw[e]._workInProgressVersionPrimary=null;Cw.length=0}var Kg=Ka.ReactCurrentDispatcher,jw=Ka.ReactCurrentBatchConfig,Fc=0,Qn=null,Tr=null,Fr=null,Dv=!1,_h=!1,Jh=0,WB=0;function ni(){throw Error(rt(321))}function Q2(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ds(e[n],t[n]))return!1;return!0}function Z2(e,t,n,r,i,o){if(Fc=o,Qn=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Kg.current=e===null||e.memoizedState===null?KB:YB,e=n(r,i),_h){o=0;do{if(_h=!1,Jh=0,25<=o)throw Error(rt(301));o+=1,Fr=Tr=null,t.updateQueue=null,Kg.current=GB,e=n(r,i)}while(_h)}if(Kg.current=Fv,t=Tr!==null&&Tr.next!==null,Fc=0,Fr=Tr=Qn=null,Dv=!1,t)throw Error(rt(300));return e}function eS(){var e=Jh!==0;return Jh=0,e}function Ds(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fr===null?Qn.memoizedState=Fr=e:Fr=Fr.next=e,Fr}function Do(){if(Tr===null){var e=Qn.alternate;e=e!==null?e.memoizedState:null}else e=Tr.next;var t=Fr===null?Qn.memoizedState:Fr.next;if(t!==null)Fr=t,Tr=e;else{if(e===null)throw Error(rt(310));Tr=e,e={memoizedState:Tr.memoizedState,baseState:Tr.baseState,baseQueue:Tr.baseQueue,queue:Tr.queue,next:null},Fr===null?Qn.memoizedState=Fr=e:Fr=Fr.next=e}return Fr}function Qh(e,t){return typeof t=="function"?t(e):t}function Nw(e){var t=Do(),n=t.queue;if(n===null)throw Error(rt(311));n.lastRenderedReducer=e;var r=Tr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,c=o;do{var u=c.lane;if((Fc&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,Qn.lanes|=u,Lc|=u}c=c.next}while(c!==null&&c!==o);l===null?s=r:l.next=a,ds(r,t.memoizedState)||(zi=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Qn.lanes|=o,Lc|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Aw(e){var t=Do(),n=t.queue;if(n===null)throw Error(rt(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=e(o,s.action),s=s.next;while(s!==i);ds(o,t.memoizedState)||(zi=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function wI(){}function bI(e,t){var n=Qn,r=Do(),i=t(),o=!ds(r.memoizedState,i);if(o&&(r.memoizedState=i,zi=!0),r=r.queue,tS(SI.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||Fr!==null&&Fr.memoizedState.tag&1){if(n.flags|=2048,Zh(9,kI.bind(null,n,r,i,t),void 0,null),Lr===null)throw Error(rt(349));Fc&30||_I(n,t,i)}return i}function _I(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Qn.updateQueue,t===null?(t={lastEffect:null,stores:null},Qn.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function kI(e,t,n,r){t.value=n,t.getSnapshot=r,EI(t)&&CI(e)}function SI(e,t,n){return n(function(){EI(t)&&CI(e)})}function EI(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ds(e,n)}catch(r){return!0}}function CI(e){var t=Da(e,1);t!==null&&as(t,e,1,-1)}function Sj(e){var t=Ds();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Qh,lastRenderedState:e},t.queue=e,e=e.dispatch=qB.bind(null,Qn,e),[t.memoizedState,e]}function Zh(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Qn.updateQueue,t===null?(t={lastEffect:null,stores:null},Qn.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function jI(){return Do().memoizedState}function Yg(e,t,n,r){var i=Ds();Qn.flags|=e,i.memoizedState=Zh(1|t,n,void 0,r===void 0?null:r)}function m0(e,t,n,r){var i=Do();r=r===void 0?null:r;var o=void 0;if(Tr!==null){var s=Tr.memoizedState;if(o=s.destroy,r!==null&&Q2(r,s.deps)){i.memoizedState=Zh(t,n,o,r);return}}Qn.flags|=e,i.memoizedState=Zh(1|t,n,o,r)}function Ej(e,t){return Yg(8390656,8,e,t)}function tS(e,t){return m0(2048,8,e,t)}function NI(e,t){return m0(4,2,e,t)}function AI(e,t){return m0(4,4,e,t)}function TI(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function RI(e,t,n){return n=n!=null?n.concat([e]):null,m0(4,4,TI.bind(null,t,e),n)}function nS(){}function II(e,t){var n=Do();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Q2(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function PI(e,t){var n=Do();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Q2(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function OI(e,t,n){return Fc&21?(ds(n,t)||(n=LR(),Qn.lanes|=n,Lc|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,zi=!0),e.memoizedState=n)}function UB(e,t){var n=kn;kn=n!==0&&4>n?n:4,e(!0);var r=jw.transition;jw.transition={};try{e(!1),t()}finally{kn=n,jw.transition=r}}function MI(){return Do().memoizedState}function VB(e,t,n){var r=jl(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$I(e))DI(t,n);else if(n=vI(e,t,n,r),n!==null){var i=ji();as(n,e,r,i),FI(n,t,r)}}function qB(e,t,n){var r=jl(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($I(e))DI(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var s=t.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ds(a,s)){var l=t.interleaved;l===null?(i.next=i,K2(t)):(i.next=l.next,l.next=i),t.interleaved=i;return}}catch(c){}finally{}n=vI(e,t,i,r),n!==null&&(i=ji(),as(n,e,r,i),FI(n,t,r))}}function $I(e){var t=e.alternate;return e===Qn||t!==null&&t===Qn}function DI(e,t){_h=Dv=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function FI(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,P2(e,n)}}var Fv={readContext:$o,useCallback:ni,useContext:ni,useEffect:ni,useImperativeHandle:ni,useInsertionEffect:ni,useLayoutEffect:ni,useMemo:ni,useReducer:ni,useRef:ni,useState:ni,useDebugValue:ni,useDeferredValue:ni,useTransition:ni,useMutableSource:ni,useSyncExternalStore:ni,useId:ni,unstable_isNewReconciler:!1},KB={readContext:$o,useCallback:function(e,t){return Ds().memoizedState=[e,t===void 0?null:t],e},useContext:$o,useEffect:Ej,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Yg(4194308,4,TI.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Yg(4194308,4,e,t)},useInsertionEffect:function(e,t){return Yg(4,2,e,t)},useMemo:function(e,t){var n=Ds();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ds();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=VB.bind(null,Qn,e),[r.memoizedState,e]},useRef:function(e){var t=Ds();return e={current:e},t.memoizedState=e},useState:Sj,useDebugValue:nS,useDeferredValue:function(e){return Ds().memoizedState=e},useTransition:function(){var e=Sj(!1),t=e[0];return e=UB.bind(null,e[1]),Ds().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Qn,i=Ds();if(Wn){if(n===void 0)throw Error(rt(407));n=n()}else{if(n=t(),Lr===null)throw Error(rt(349));Fc&30||_I(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,Ej(SI.bind(null,r,o,e),[e]),r.flags|=2048,Zh(9,kI.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Ds(),t=Lr.identifierPrefix;if(Wn){var n=Sa,r=ka;n=(r&~(1<<32-ss(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Jh++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=WB++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},YB={readContext:$o,useCallback:II,useContext:$o,useEffect:tS,useImperativeHandle:RI,useInsertionEffect:NI,useLayoutEffect:AI,useMemo:PI,useReducer:Nw,useRef:jI,useState:function(){return Nw(Qh)},useDebugValue:nS,useDeferredValue:function(e){var t=Do();return OI(t,Tr.memoizedState,e)},useTransition:function(){var e=Nw(Qh)[0],t=Do().memoizedState;return[e,t]},useMutableSource:wI,useSyncExternalStore:bI,useId:MI,unstable_isNewReconciler:!1},GB={readContext:$o,useCallback:II,useContext:$o,useEffect:tS,useImperativeHandle:RI,useInsertionEffect:NI,useLayoutEffect:AI,useMemo:PI,useReducer:Aw,useRef:jI,useState:function(){return Aw(Qh)},useDebugValue:nS,useDeferredValue:function(e){var t=Do();return Tr===null?t.memoizedState=e:OI(t,Tr.memoizedState,e)},useTransition:function(){var e=Aw(Qh)[0],t=Do().memoizedState;return[e,t]},useMutableSource:wI,useSyncExternalStore:bI,useId:MI,unstable_isNewReconciler:!1};function Ko(e,t){if(e&&e.defaultProps){t=tr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function t_(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:tr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var g0={isMounted:function(e){return(e=e._reactInternals)?iu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ji(),i=jl(e),o=Aa(r,i);o.payload=t,n!=null&&(o.callback=n),t=El(e,o,i),t!==null&&(as(t,e,i,r),qg(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ji(),i=jl(e),o=Aa(r,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=El(e,o,i),t!==null&&(as(t,e,i,r),qg(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ji(),r=jl(e),i=Aa(n,r);i.tag=2,t!=null&&(i.callback=t),t=El(e,i,r),t!==null&&(as(t,e,r,n),qg(t,e,r))}};function Cj(e,t,n,r,i,o,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,s):t.prototype&&t.prototype.isPureReactComponent?!Vh(n,r)||!Vh(i,o):!0}function LI(e,t,n){var r=!1,i=Ml,o=t.contextType;return typeof o=="object"&&o!==null?o=$o(o):(i=qi(t)?$c:hi.current,r=t.contextTypes,o=(r=r!=null)?vd(e,i):Ml),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=g0,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function jj(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&g0.enqueueReplaceState(t,t.state,null)}function n_(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Y2(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=$o(o):(o=qi(t)?$c:hi.current,i.context=vd(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(t_(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&g0.enqueueReplaceState(i,i.state,null),Mv(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function bd(e,t){try{var n="",r=t;do n+=kL(r),r=r.return;while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function Tw(e,t,n){return{value:e,source:null,stack:n!=null?n:null,digest:t!=null?t:null}}function r_(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var XB=typeof WeakMap=="function"?WeakMap:Map;function BI(e,t,n){n=Aa(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Bv||(Bv=!0,h_=r),r_(e,t)},n}function zI(e,t,n){n=Aa(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){r_(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){r_(e,t),typeof r!="function"&&(Cl===null?Cl=new Set([this]):Cl.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function Nj(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new XB;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=u7.bind(null,e,t,n),t.then(e,e))}function Aj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Tj(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Aa(-1,1),t.tag=2,El(n,t,1))),n.lanes|=1),e)}var JB=Ka.ReactCurrentOwner,zi=!1;function Si(e,t,n,r){t.child=e===null?gI(t,null,n,r):xd(t,e.child,n,r)}function Rj(e,t,n,r,i){n=n.render;var o=t.ref;return rd(t,i),r=Z2(e,t,n,r,o,i),n=eS(),e!==null&&!zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fa(e,t,i)):(Wn&&n&&z2(t),t.flags|=1,Si(e,t,r,i),t.child)}function Ij(e,t,n,r,i){if(e===null){var o=n.type;return typeof o=="function"&&!uS(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,HI(e,t,o,r,i)):(e=Qg(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Vh,n(s,r)&&e.ref===t.ref)return Fa(e,t,i)}return t.flags|=1,e=Nl(o,r),e.ref=t.ref,e.return=t,t.child=e}function HI(e,t,n,r,i){if(e!==null){var o=e.memoizedProps;if(Vh(o,r)&&e.ref===t.ref)if(zi=!1,t.pendingProps=r=o,(e.lanes&i)!==0)e.flags&131072&&(zi=!0);else return t.lanes=e.lanes,Fa(e,t,i)}return i_(e,t,n,r,i)}function WI(e,t,n){var r=t.pendingProps,i=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},On(qu,to),to|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,On(qu,to),to|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,On(qu,to),to|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,On(qu,to),to|=r;return Si(e,t,i,n),t.child}function UI(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function i_(e,t,n,r,i){var o=qi(n)?$c:hi.current;return o=vd(t,o),rd(t,i),n=Z2(e,t,n,r,o,i),r=eS(),e!==null&&!zi?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Fa(e,t,i)):(Wn&&r&&z2(t),t.flags|=1,Si(e,t,n,i),t.child)}function Pj(e,t,n,r,i){if(qi(n)){var o=!0;Tv(t)}else o=!1;if(rd(t,i),t.stateNode===null)Gg(e,t),LI(t,n,r),n_(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=$o(c):(c=qi(n)?$c:hi.current,c=vd(t,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&jj(t,s,r,c),dl=!1;var h=t.memoizedState;s.state=h,Mv(t,r,s,i),l=t.memoizedState,a!==r||h!==l||Vi.current||dl?(typeof u=="function"&&(t_(t,n,u,r),l=t.memoizedState),(a=dl||Cj(t,n,a,r,h,l,c))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,yI(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:Ko(t.type,a),s.props=c,f=t.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=$o(l):(l=qi(n)?$c:hi.current,l=vd(t,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&jj(t,s,r,l),dl=!1,h=t.memoizedState,s.state=h,Mv(t,r,s,i);var v=t.memoizedState;a!==f||h!==v||Vi.current||dl?(typeof p=="function"&&(t_(t,n,p,r),v=t.memoizedState),(c=dl||Cj(t,n,c,r,h,v,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,v,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,v,l)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),s.props=r,s.state=v,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return o_(e,t,n,r,o,i)}function o_(e,t,n,r,i,o){UI(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&yj(t,n,!1),Fa(e,t,o);r=t.stateNode,JB.current=t;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=xd(t,e.child,null,o),t.child=xd(t,null,a,o)):Si(e,t,a,o),t.memoizedState=r.state,i&&yj(t,n,!0),t.child}function VI(e){var t=e.stateNode;t.pendingContext?vj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&vj(e,t.context,!1),G2(e,t.containerInfo)}function Oj(e,t,n,r,i){return yd(),W2(i),t.flags|=256,Si(e,t,n,r),t.child}var s_={dehydrated:null,treeContext:null,retryLane:0};function a_(e){return{baseLanes:e,cachePool:null,transitions:null}}function qI(e,t,n){var r=t.pendingProps,i=Xn.current,o=!1,s=(t.flags&128)!==0,a;if((a=s)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),On(Xn,i&1),e===null)return Z1(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,o?(r=t.mode,o=t.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=x0(s,r,0,null),e=Tc(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=a_(n),t.memoizedState=s_,e):rS(t,s));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return QB(e,t,s,r,a,i,n);if(o){o=r.fallback,s=t.mode,i=e.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Nl(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=Nl(a,o):(o=Tc(o,s,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,s=e.child.memoizedState,s=s===null?a_(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=e.childLanes&~n,t.memoizedState=s_,r}return o=e.child,e=o.sibling,r=Nl(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function rS(e,t){return t=x0({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gm(e,t,n,r){return r!==null&&W2(r),xd(t,e.child,null,n),e=rS(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function QB(e,t,n,r,i,o,s){if(n)return t.flags&256?(t.flags&=-257,r=Tw(Error(rt(422))),Gm(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=x0({mode:"visible",children:r.children},i,0,null),o=Tc(o,i,s,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&xd(t,e.child,null,s),t.child.memoizedState=a_(s),t.memoizedState=s_,o);if(!(t.mode&1))return Gm(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(rt(419)),r=Tw(o,r,void 0),Gm(e,t,s,r)}if(a=(s&e.childLanes)!==0,zi||a){if(r=Lr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Da(e,i),as(r,e,i,-1))}return cS(),r=Tw(Error(rt(421))),Gm(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=d7.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,lo=Sl(i.nextSibling),uo=t,Wn=!0,Qo=null,e!==null&&(Eo[Co++]=ka,Eo[Co++]=Sa,Eo[Co++]=Dc,ka=e.id,Sa=e.overflow,Dc=t),t=rS(t,r.children),t.flags|=4096,t)}function Mj(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),e_(e.return,t,n)}function Rw(e,t,n,r,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function KI(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(Si(e,t,r.children,n),r=Xn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Mj(e,n,t);else if(e.tag===19)Mj(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(On(Xn,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&$v(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Rw(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&$v(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Rw(t,!0,n,null,o);break;case"together":Rw(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Gg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Fa(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Lc|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(rt(153));if(t.child!==null){for(e=t.child,n=Nl(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Nl(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function ZB(e,t,n){switch(t.tag){case 3:VI(t),yd();break;case 5:xI(t);break;case 1:qi(t.type)&&Tv(t);break;case 4:G2(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;On(Pv,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(On(Xn,Xn.current&1),t.flags|=128,null):n&t.child.childLanes?qI(e,t,n):(On(Xn,Xn.current&1),e=Fa(e,t,n),e!==null?e.sibling:null);On(Xn,Xn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return KI(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),On(Xn,Xn.current),r)break;return null;case 22:case 23:return t.lanes=0,WI(e,t,n)}return Fa(e,t,n)}var YI,l_,GI,XI;YI=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};l_=function(){};GI=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,_c(zs.current);var o=null;switch(n){case"input":i=T1(e,i),r=T1(e,r),o=[];break;case"select":i=tr({},i,{value:void 0}),r=tr({},r,{value:void 0}),o=[];break;case"textarea":i=P1(e,i),r=P1(e,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Nv)}M1(n,r);var s;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fh.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fh.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&$n("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};XI=function(e,t,n,r){n!==r&&(t.flags|=4)};function If(e,t){if(!Wn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ri(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function e7(e,t,n){var r=t.pendingProps;switch(H2(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ri(t),null;case 1:return qi(t.type)&&Av(),ri(t),null;case 3:return r=t.stateNode,wd(),Bn(Vi),Bn(hi),J2(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Km(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qo!==null&&(g_(Qo),Qo=null))),l_(e,t),ri(t),null;case 5:X2(t);var i=_c(Xh.current);if(n=t.type,e!==null&&t.stateNode!=null)GI(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(rt(166));return ri(t),null}if(e=_c(zs.current),Km(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Fs]=t,r[Yh]=o,e=(t.mode&1)!==0,n){case"dialog":$n("cancel",r),$n("close",r);break;case"iframe":case"object":case"embed":$n("load",r);break;case"video":case"audio":for(i=0;i<eh.length;i++)$n(eh[i],r);break;case"source":$n("error",r);break;case"img":case"image":case"link":$n("error",r),$n("load",r);break;case"details":$n("toggle",r);break;case"input":UC(r,o),$n("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},$n("invalid",r);break;case"textarea":qC(r,o),$n("invalid",r)}M1(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&qm(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&qm(r.textContent,a,e),i=["children",""+a]):Fh.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&$n("scroll",r)}switch(n){case"input":Fm(r),VC(r,o,!0);break;case"textarea":Fm(r),KC(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Nv)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=SR(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Fs]=t,e[Yh]=r,YI(e,t,!1,!1),t.stateNode=e;e:{switch(s=$1(n,r),n){case"dialog":$n("cancel",e),$n("close",e),i=r;break;case"iframe":case"object":case"embed":$n("load",e),i=r;break;case"video":case"audio":for(i=0;i<eh.length;i++)$n(eh[i],e);i=r;break;case"source":$n("error",e),i=r;break;case"img":case"image":case"link":$n("error",e),$n("load",e),i=r;break;case"details":$n("toggle",e),i=r;break;case"input":UC(e,r),i=T1(e,r),$n("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=tr({},r,{value:void 0}),$n("invalid",e);break;case"textarea":qC(e,r),i=P1(e,r),$n("invalid",e);break;default:i=r}M1(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?jR(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&ER(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Lh(e,l):typeof l=="number"&&Lh(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Fh.hasOwnProperty(o)?l!=null&&o==="onScroll"&&$n("scroll",e):l!=null&&j2(e,o,l,s))}switch(n){case"input":Fm(e),VC(e,r,!1);break;case"textarea":Fm(e),KC(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ol(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Zu(e,!!r.multiple,o,!1):r.defaultValue!=null&&Zu(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Nv)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ri(t),null;case 6:if(e&&t.stateNode!=null)XI(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(rt(166));if(n=_c(Xh.current),_c(zs.current),Km(t)){if(r=t.stateNode,n=t.memoizedProps,r[Fs]=t,(o=r.nodeValue!==n)&&(e=uo,e!==null))switch(e.tag){case 3:qm(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&qm(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fs]=t,t.stateNode=r}return ri(t),null;case 13:if(Bn(Xn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Wn&&lo!==null&&t.mode&1&&!(t.flags&128))pI(),yd(),t.flags|=98560,o=!1;else if(o=Km(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(rt(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(rt(317));o[Fs]=t}else yd(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ri(t),o=!1}else Qo!==null&&(g_(Qo),Qo=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Xn.current&1?Pr===0&&(Pr=3):cS())),t.updateQueue!==null&&(t.flags|=4),ri(t),null);case 4:return wd(),l_(e,t),e===null&&qh(t.stateNode.containerInfo),ri(t),null;case 10:return q2(t.type._context),ri(t),null;case 17:return qi(t.type)&&Av(),ri(t),null;case 19:if(Bn(Xn),o=t.memoizedState,o===null)return ri(t),null;if(r=(t.flags&128)!==0,s=o.rendering,s===null)if(r)If(o,!1);else{if(Pr!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=$v(e),s!==null){for(t.flags|=128,If(o,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return On(Xn,Xn.current&1|2),t.child}e=e.sibling}o.tail!==null&&mr()>_d&&(t.flags|=128,r=!0,If(o,!1),t.lanes=4194304)}else{if(!r)if(e=$v(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),If(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Wn)return ri(t),null}else 2*mr()-o.renderingStartTime>_d&&n!==1073741824&&(t.flags|=128,r=!0,If(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(n=o.last,n!==null?n.sibling=s:t.child=s,o.last=s)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=mr(),t.sibling=null,n=Xn.current,On(Xn,r?n&1|2:n&1),t):(ri(t),null);case 22:case 23:return lS(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?to&1073741824&&(ri(t),t.subtreeFlags&6&&(t.flags|=8192)):ri(t),null;case 24:return null;case 25:return null}throw Error(rt(156,t.tag))}function t7(e,t){switch(H2(t),t.tag){case 1:return qi(t.type)&&Av(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return wd(),Bn(Vi),Bn(hi),J2(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return X2(t),null;case 13:if(Bn(Xn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(rt(340));yd()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Bn(Xn),null;case 4:return wd(),null;case 10:return q2(t.type._context),null;case 22:case 23:return lS(),null;case 24:return null;default:return null}}var Xm=!1,ai=!1,n7=typeof WeakSet=="function"?WeakSet:Set,St=null;function Vu(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){or(e,t,r)}else n.current=null}function c_(e,t,n){try{n()}catch(r){or(e,t,r)}}var $j=!1;function r7(e,t){if(q1=Ev,e=tI(),B2(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(k){n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,f=e,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===n&&++c===i&&(a=s),h===o&&++u===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(K1={focusedElem:e,selectionRange:n},Ev=!1,St=t;St!==null;)if(t=St,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,St=e;else for(;St!==null;){t=St;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var g=v.memoizedProps,b=v.memoizedState,m=t.stateNode,y=m.getSnapshotBeforeUpdate(t.elementType===t.type?g:Ko(t.type,g),b);m.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(rt(163))}}catch(k){or(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,St=e;break}St=t.return}return v=$j,$j=!1,v}function kh(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&c_(t,n,o)}i=i.next}while(i!==r)}}function v0(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function u_(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function JI(e){var t=e.alternate;t!==null&&(e.alternate=null,JI(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fs],delete t[Yh],delete t[X1],delete t[LB],delete t[BB])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function QI(e){return e.tag===5||e.tag===3||e.tag===4}function Dj(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||QI(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function d_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Nv));else if(r!==4&&(e=e.child,e!==null))for(d_(e,t,n),e=e.sibling;e!==null;)d_(e,t,n),e=e.sibling}function f_(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(f_(e,t,n),e=e.sibling;e!==null;)f_(e,t,n),e=e.sibling}var Ur=null,Xo=!1;function rl(e,t,n){for(n=n.child;n!==null;)ZI(e,t,n),n=n.sibling}function ZI(e,t,n){if(Bs&&typeof Bs.onCommitFiberUnmount=="function")try{Bs.onCommitFiberUnmount(c0,n)}catch(a){}switch(n.tag){case 5:ai||Vu(n,t);case 6:var r=Ur,i=Xo;Ur=null,rl(e,t,n),Ur=r,Xo=i,Ur!==null&&(Xo?(e=Ur,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ur.removeChild(n.stateNode));break;case 18:Ur!==null&&(Xo?(e=Ur,n=n.stateNode,e.nodeType===8?Sw(e.parentNode,n):e.nodeType===1&&Sw(e,n),Wh(e)):Sw(Ur,n.stateNode));break;case 4:r=Ur,i=Xo,Ur=n.stateNode.containerInfo,Xo=!0,rl(e,t,n),Ur=r,Xo=i;break;case 0:case 11:case 14:case 15:if(!ai&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&c_(n,t,s),i=i.next}while(i!==r)}rl(e,t,n);break;case 1:if(!ai&&(Vu(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){or(n,t,a)}rl(e,t,n);break;case 21:rl(e,t,n);break;case 22:n.mode&1?(ai=(r=ai)||n.memoizedState!==null,rl(e,t,n),ai=r):rl(e,t,n);break;default:rl(e,t,n)}}function Fj(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new n7),t.forEach(function(r){var i=f7.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Vo(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,s=t,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ur=a.stateNode,Xo=!1;break e;case 3:Ur=a.stateNode.containerInfo,Xo=!0;break e;case 4:Ur=a.stateNode.containerInfo,Xo=!0;break e}a=a.return}if(Ur===null)throw Error(rt(160));ZI(o,s,i),Ur=null,Xo=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){or(i,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)eP(t,e),t=t.sibling}function eP(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Vo(t,e),Is(e),r&4){try{kh(3,e,e.return),v0(3,e)}catch(g){or(e,e.return,g)}try{kh(5,e,e.return)}catch(g){or(e,e.return,g)}}break;case 1:Vo(t,e),Is(e),r&512&&n!==null&&Vu(n,n.return);break;case 5:if(Vo(t,e),Is(e),r&512&&n!==null&&Vu(n,n.return),e.flags&32){var i=e.stateNode;try{Lh(i,"")}catch(g){or(e,e.return,g)}}if(r&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,s=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&_R(i,o),$1(a,s);var c=$1(a,o);for(s=0;s<l.length;s+=2){var u=l[s],f=l[s+1];u==="style"?jR(i,f):u==="dangerouslySetInnerHTML"?ER(i,f):u==="children"?Lh(i,f):j2(i,u,f,c)}switch(a){case"input":R1(i,o);break;case"textarea":kR(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?Zu(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?Zu(i,!!o.multiple,o.defaultValue,!0):Zu(i,!!o.multiple,o.multiple?[]:"",!1))}i[Yh]=o}catch(g){or(e,e.return,g)}}break;case 6:if(Vo(t,e),Is(e),r&4){if(e.stateNode===null)throw Error(rt(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){or(e,e.return,g)}}break;case 3:if(Vo(t,e),Is(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wh(t.containerInfo)}catch(g){or(e,e.return,g)}break;case 4:Vo(t,e),Is(e);break;case 13:Vo(t,e),Is(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(sS=mr())),r&4&&Fj(e);break;case 22:if(u=n!==null&&n.memoizedState!==null,e.mode&1?(ai=(c=ai)||u,Vo(t,e),ai=c):Vo(t,e),Is(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!u&&e.mode&1)for(St=e,u=e.child;u!==null;){for(f=St=u;St!==null;){switch(h=St,p=h.child,h.tag){case 0:case 11:case 14:case 15:kh(4,h,h.return);break;case 1:Vu(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(g){or(r,n,g)}}break;case 5:Vu(h,h.return);break;case 22:if(h.memoizedState!==null){Bj(f);continue}}p!==null?(p.return=h,St=p):Bj(f)}u=u.sibling}e:for(u=null,f=e;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=CR("display",s))}catch(g){or(e,e.return,g)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){or(e,e.return,g)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Vo(t,e),Is(e),r&4&&Fj(e);break;case 21:break;default:Vo(t,e),Is(e)}}function Is(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(QI(n)){var r=n;break e}n=n.return}throw Error(rt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Lh(i,""),r.flags&=-33);var o=Dj(e);f_(e,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Dj(e);d_(e,a,s);break;default:throw Error(rt(161))}}catch(l){or(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function i7(e,t,n){St=e,tP(e)}function tP(e,t,n){for(var r=(e.mode&1)!==0;St!==null;){var i=St,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Xm;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||ai;a=Xm;var c=ai;if(Xm=s,(ai=l)&&!c)for(St=i;St!==null;)s=St,l=s.child,s.tag===22&&s.memoizedState!==null?zj(i):l!==null?(l.return=s,St=l):zj(i);for(;o!==null;)St=o,tP(o),o=o.sibling;St=i,Xm=a,ai=c}Lj(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,St=o):Lj(e)}}function Lj(e){for(;St!==null;){var t=St;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:ai||v0(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!ai)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Ko(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&kj(t,o,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}kj(t,s,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Wh(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(rt(163))}ai||t.flags&512&&u_(t)}catch(h){or(t,t.return,h)}}if(t===e){St=null;break}if(n=t.sibling,n!==null){n.return=t.return,St=n;break}St=t.return}}function Bj(e){for(;St!==null;){var t=St;if(t===e){St=null;break}var n=t.sibling;if(n!==null){n.return=t.return,St=n;break}St=t.return}}function zj(e){for(;St!==null;){var t=St;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{v0(4,t)}catch(l){or(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(l){or(t,i,l)}}var o=t.return;try{u_(t)}catch(l){or(t,o,l)}break;case 5:var s=t.return;try{u_(t)}catch(l){or(t,s,l)}}}catch(l){or(t,t.return,l)}if(t===e){St=null;break}var a=t.sibling;if(a!==null){a.return=t.return,St=a;break}St=t.return}}var o7=Math.ceil,Lv=Ka.ReactCurrentDispatcher,iS=Ka.ReactCurrentOwner,Ro=Ka.ReactCurrentBatchConfig,gn=0,Lr=null,kr=null,Kr=0,to=0,qu=ql(0),Pr=0,ep=null,Lc=0,y0=0,oS=0,Sh=null,Di=null,sS=0,_d=1/0,ha=null,Bv=!1,h_=null,Cl=null,Jm=!1,xl=null,zv=0,Eh=0,p_=null,Xg=-1,Jg=0;function ji(){return gn&6?mr():Xg!==-1?Xg:Xg=mr()}function jl(e){return e.mode&1?gn&2&&Kr!==0?Kr&-Kr:HB.transition!==null?(Jg===0&&(Jg=LR()),Jg):(e=kn,e!==0||(e=window.event,e=e===void 0?16:qR(e.type)),e):1}function as(e,t,n,r){if(50<Eh)throw Eh=0,p_=null,Error(rt(185));Gp(e,n,r),(!(gn&2)||e!==Lr)&&(e===Lr&&(!(gn&2)&&(y0|=n),Pr===4&&ml(e,Kr)),Ki(e,r),n===1&&gn===0&&!(t.mode&1)&&(_d=mr()+500,p0&&Kl()))}function Ki(e,t){var n=e.callbackNode;HL(e,t);var r=Sv(e,e===Lr?Kr:0);if(r===0)n!==null&&XC(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&XC(n),t===1)e.tag===0?zB(Hj.bind(null,e)):dI(Hj.bind(null,e)),DB(function(){!(gn&6)&&Kl()}),n=null;else{switch(BR(r)){case 1:n=I2;break;case 4:n=DR;break;case 16:n=kv;break;case 536870912:n=FR;break;default:n=kv}n=cP(n,nP.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function nP(e,t){if(Xg=-1,Jg=0,gn&6)throw Error(rt(327));var n=e.callbackNode;if(id()&&e.callbackNode!==n)return null;var r=Sv(e,e===Lr?Kr:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Hv(e,r);else{t=r;var i=gn;gn|=2;var o=iP();(Lr!==e||Kr!==t)&&(ha=null,_d=mr()+500,Ac(e,t));do try{l7();break}catch(a){rP(e,a)}while(!0);V2(),Lv.current=o,gn=i,kr!==null?t=0:(Lr=null,Kr=0,t=Pr)}if(t!==0){if(t===2&&(i=z1(e),i!==0&&(r=i,t=m_(e,i))),t===1)throw n=ep,Ac(e,0),ml(e,r),Ki(e,mr()),n;if(t===6)ml(e,r);else{if(i=e.current.alternate,!(r&30)&&!s7(i)&&(t=Hv(e,r),t===2&&(o=z1(e),o!==0&&(r=o,t=m_(e,o))),t===1))throw n=ep,Ac(e,0),ml(e,r),Ki(e,mr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(rt(345));case 2:hc(e,Di,ha);break;case 3:if(ml(e,r),(r&130023424)===r&&(t=sS+500-mr(),10<t)){if(Sv(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ji(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=G1(hc.bind(null,e,Di,ha),t);break}hc(e,Di,ha);break;case 4:if(ml(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-ss(r);o=1<<s,s=t[s],s>i&&(i=s),r&=~o}if(r=i,r=mr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*o7(r/1960))-r,10<r){e.timeoutHandle=G1(hc.bind(null,e,Di,ha),r);break}hc(e,Di,ha);break;case 5:hc(e,Di,ha);break;default:throw Error(rt(329))}}}return Ki(e,mr()),e.callbackNode===n?nP.bind(null,e):null}function m_(e,t){var n=Sh;return e.current.memoizedState.isDehydrated&&(Ac(e,t).flags|=256),e=Hv(e,t),e!==2&&(t=Di,Di=n,t!==null&&g_(t)),e}function g_(e){Di===null?Di=e:Di.push.apply(Di,e)}function s7(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ds(o(),i))return!1}catch(s){return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ml(e,t){for(t&=~oS,t&=~y0,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ss(t),r=1<<n;e[n]=-1,t&=~r}}function Hj(e){if(gn&6)throw Error(rt(327));id();var t=Sv(e,0);if(!(t&1))return Ki(e,mr()),null;var n=Hv(e,t);if(e.tag!==0&&n===2){var r=z1(e);r!==0&&(t=r,n=m_(e,r))}if(n===1)throw n=ep,Ac(e,0),ml(e,t),Ki(e,mr()),n;if(n===6)throw Error(rt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,hc(e,Di,ha),Ki(e,mr()),null}function aS(e,t){var n=gn;gn|=1;try{return e(t)}finally{gn=n,gn===0&&(_d=mr()+500,p0&&Kl())}}function Bc(e){xl!==null&&xl.tag===0&&!(gn&6)&&id();var t=gn;gn|=1;var n=Ro.transition,r=kn;try{if(Ro.transition=null,kn=1,e)return e()}finally{kn=r,Ro.transition=n,gn=t,!(gn&6)&&Kl()}}function lS(){to=qu.current,Bn(qu)}function Ac(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,$B(n)),kr!==null)for(n=kr.return;n!==null;){var r=n;switch(H2(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Av();break;case 3:wd(),Bn(Vi),Bn(hi),J2();break;case 5:X2(r);break;case 4:wd();break;case 13:Bn(Xn);break;case 19:Bn(Xn);break;case 10:q2(r.type._context);break;case 22:case 23:lS()}n=n.return}if(Lr=e,kr=e=Nl(e.current,null),Kr=to=t,Pr=0,ep=null,oS=y0=Lc=0,Di=Sh=null,bc!==null){for(t=0;t<bc.length;t++)if(n=bc[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}bc=null}return e}function rP(e,t){do{var n=kr;try{if(V2(),Kg.current=Fv,Dv){for(var r=Qn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Dv=!1}if(Fc=0,Fr=Tr=Qn=null,_h=!1,Jh=0,iS.current=null,n===null||n.return===null){Pr=1,ep=t,kr=null;break}e:{var o=e,s=n.return,a=n,l=t;if(t=Kr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=Aj(s);if(p!==null){p.flags&=-257,Tj(p,s,a,o,t),p.mode&1&&Nj(o,c,t),t=p,l=c;var v=t.updateQueue;if(v===null){var g=new Set;g.add(l),t.updateQueue=g}else v.add(l);break e}else{if(!(t&1)){Nj(o,c,t),cS();break e}l=Error(rt(426))}}else if(Wn&&a.mode&1){var b=Aj(s);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Tj(b,s,a,o,t),W2(bd(l,a));break e}}o=l=bd(l,a),Pr!==4&&(Pr=2),Sh===null?Sh=[o]:Sh.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var m=BI(o,l,t);_j(o,m);break e;case 1:a=l;var y=o.type,x=o.stateNode;if(!(o.flags&128)&&(typeof y.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Cl===null||!Cl.has(x)))){o.flags|=65536,t&=-t,o.lanes|=t;var k=zI(o,a,t);_j(o,k);break e}}o=o.return}while(o!==null)}sP(n)}catch(S){t=S,kr===n&&n!==null&&(kr=n=n.return);continue}break}while(!0)}function iP(){var e=Lv.current;return Lv.current=Fv,e===null?Fv:e}function cS(){(Pr===0||Pr===3||Pr===2)&&(Pr=4),Lr===null||!(Lc&268435455)&&!(y0&268435455)||ml(Lr,Kr)}function Hv(e,t){var n=gn;gn|=2;var r=iP();(Lr!==e||Kr!==t)&&(ha=null,Ac(e,t));do try{a7();break}catch(i){rP(e,i)}while(!0);if(V2(),gn=n,Lv.current=r,kr!==null)throw Error(rt(261));return Lr=null,Kr=0,Pr}function a7(){for(;kr!==null;)oP(kr)}function l7(){for(;kr!==null&&!PL();)oP(kr)}function oP(e){var t=lP(e.alternate,e,to);e.memoizedProps=e.pendingProps,t===null?sP(e):kr=t,iS.current=null}function sP(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=t7(n,t),n!==null){n.flags&=32767,kr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Pr=6,kr=null;return}}else if(n=e7(n,t,to),n!==null){kr=n;return}if(t=t.sibling,t!==null){kr=t;return}kr=t=e}while(t!==null);Pr===0&&(Pr=5)}function hc(e,t,n){var r=kn,i=Ro.transition;try{Ro.transition=null,kn=1,c7(e,t,n,r)}finally{Ro.transition=i,kn=r}return null}function c7(e,t,n,r){do id();while(xl!==null);if(gn&6)throw Error(rt(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(rt(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(WL(e,o),e===Lr&&(kr=Lr=null,Kr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Jm||(Jm=!0,cP(kv,function(){return id(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ro.transition,Ro.transition=null;var s=kn;kn=1;var a=gn;gn|=4,iS.current=null,r7(e,n),eP(n,e),AB(K1),Ev=!!q1,K1=q1=null,e.current=n,i7(n),OL(),gn=a,kn=s,Ro.transition=o}else e.current=n;if(Jm&&(Jm=!1,xl=e,zv=i),o=e.pendingLanes,o===0&&(Cl=null),DL(n.stateNode),Ki(e,mr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Bv)throw Bv=!1,e=h_,h_=null,e;return zv&1&&e.tag!==0&&id(),o=e.pendingLanes,o&1?e===p_?Eh++:(Eh=0,p_=e):Eh=0,Kl(),null}function id(){if(xl!==null){var e=BR(zv),t=Ro.transition,n=kn;try{if(Ro.transition=null,kn=16>e?16:e,xl===null)var r=!1;else{if(e=xl,xl=null,zv=0,gn&6)throw Error(rt(331));var i=gn;for(gn|=4,St=e.current;St!==null;){var o=St,s=o.child;if(St.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(St=c;St!==null;){var u=St;switch(u.tag){case 0:case 11:case 15:kh(8,u,o)}var f=u.child;if(f!==null)f.return=u,St=f;else for(;St!==null;){u=St;var h=u.sibling,p=u.return;if(JI(u),u===c){St=null;break}if(h!==null){h.return=p,St=h;break}St=p}}}var v=o.alternate;if(v!==null){var g=v.child;if(g!==null){v.child=null;do{var b=g.sibling;g.sibling=null,g=b}while(g!==null)}}St=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,St=s;else e:for(;St!==null;){if(o=St,o.flags&2048)switch(o.tag){case 0:case 11:case 15:kh(9,o,o.return)}var m=o.sibling;if(m!==null){m.return=o.return,St=m;break e}St=o.return}}var y=e.current;for(St=y;St!==null;){s=St;var x=s.child;if(s.subtreeFlags&2064&&x!==null)x.return=s,St=x;else e:for(s=y;St!==null;){if(a=St,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:v0(9,a)}}catch(S){or(a,a.return,S)}if(a===s){St=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,St=k;break e}St=a.return}}if(gn=i,Kl(),Bs&&typeof Bs.onPostCommitFiberRoot=="function")try{Bs.onPostCommitFiberRoot(c0,e)}catch(S){}r=!0}return r}finally{kn=n,Ro.transition=t}}return!1}function Wj(e,t,n){t=bd(n,t),t=BI(e,t,1),e=El(e,t,1),t=ji(),e!==null&&(Gp(e,1,t),Ki(e,t))}function or(e,t,n){if(e.tag===3)Wj(e,e,n);else for(;t!==null;){if(t.tag===3){Wj(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Cl===null||!Cl.has(r))){e=bd(n,e),e=zI(t,e,1),t=El(t,e,1),e=ji(),t!==null&&(Gp(t,1,e),Ki(t,e));break}}t=t.return}}function u7(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ji(),e.pingedLanes|=e.suspendedLanes&n,Lr===e&&(Kr&n)===n&&(Pr===4||Pr===3&&(Kr&130023424)===Kr&&500>mr()-sS?Ac(e,0):oS|=n),Ki(e,t)}function aP(e,t){t===0&&(e.mode&1?(t=zm,zm<<=1,!(zm&130023424)&&(zm=4194304)):t=1);var n=ji();e=Da(e,t),e!==null&&(Gp(e,t,n),Ki(e,n))}function d7(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),aP(e,n)}function f7(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(rt(314))}r!==null&&r.delete(t),aP(e,n)}var lP;lP=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vi.current)zi=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return zi=!1,ZB(e,t,n);zi=!!(e.flags&131072)}else zi=!1,Wn&&t.flags&1048576&&fI(t,Iv,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Gg(e,t),e=t.pendingProps;var i=vd(t,hi.current);rd(t,n),i=Z2(null,t,r,e,i,n);var o=eS();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,qi(r)?(o=!0,Tv(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Y2(t),i.updater=g0,t.stateNode=i,i._reactInternals=t,n_(t,r,e,n),t=o_(null,t,r,!0,o,n)):(t.tag=0,Wn&&o&&z2(t),Si(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Gg(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=p7(r),e=Ko(r,e),i){case 0:t=i_(null,t,r,e,n);break e;case 1:t=Pj(null,t,r,e,n);break e;case 11:t=Rj(null,t,r,e,n);break e;case 14:t=Ij(null,t,r,Ko(r.type,e),n);break e}throw Error(rt(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ko(r,i),i_(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ko(r,i),Pj(e,t,r,i,n);case 3:e:{if(VI(t),e===null)throw Error(rt(387));r=t.pendingProps,o=t.memoizedState,i=o.element,yI(e,t),Mv(t,r,null,n);var s=t.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=bd(Error(rt(423)),t),t=Oj(e,t,r,n,i);break e}else if(r!==i){i=bd(Error(rt(424)),t),t=Oj(e,t,r,n,i);break e}else for(lo=Sl(t.stateNode.containerInfo.firstChild),uo=t,Wn=!0,Qo=null,n=gI(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(yd(),r===i){t=Fa(e,t,n);break e}Si(e,t,r,n)}t=t.child}return t;case 5:return xI(t),e===null&&Z1(t),r=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,s=i.children,Y1(r,i)?s=null:o!==null&&Y1(r,o)&&(t.flags|=32),UI(e,t),Si(e,t,s,n),t.child;case 6:return e===null&&Z1(t),null;case 13:return qI(e,t,n);case 4:return G2(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=xd(t,null,r,n):Si(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ko(r,i),Rj(e,t,r,i,n);case 7:return Si(e,t,t.pendingProps,n),t.child;case 8:return Si(e,t,t.pendingProps.children,n),t.child;case 12:return Si(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,s=i.value,On(Pv,r._currentValue),r._currentValue=s,o!==null)if(ds(o.value,s)){if(o.children===i.children&&!Vi.current){t=Fa(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Aa(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),e_(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===t.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(rt(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),e_(s,n,t),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===t){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Si(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,rd(t,n),i=$o(i),r=r(i),t.flags|=1,Si(e,t,r,n),t.child;case 14:return r=t.type,i=Ko(r,t.pendingProps),i=Ko(r.type,i),Ij(e,t,r,i,n);case 15:return HI(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Ko(r,i),Gg(e,t),t.tag=1,qi(r)?(e=!0,Tv(t)):e=!1,rd(t,n),LI(t,r,i),n_(t,r,i,n),o_(null,t,r,!0,e,n);case 19:return KI(e,t,n);case 22:return WI(e,t,n)}throw Error(rt(156,t.tag))};function cP(e,t){return $R(e,t)}function h7(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ao(e,t,n,r){return new h7(e,t,n,r)}function uS(e){return e=e.prototype,!(!e||!e.isReactComponent)}function p7(e){if(typeof e=="function")return uS(e)?1:0;if(e!=null){if(e=e.$$typeof,e===A2)return 11;if(e===T2)return 14}return 2}function Nl(e,t){var n=e.alternate;return n===null?(n=Ao(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Qg(e,t,n,r,i,o){var s=2;if(r=e,typeof e=="function")uS(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case $u:return Tc(n.children,i,o,t);case N2:s=8,i|=8;break;case C1:return e=Ao(12,n,t,i|2),e.elementType=C1,e.lanes=o,e;case j1:return e=Ao(13,n,t,i),e.elementType=j1,e.lanes=o,e;case N1:return e=Ao(19,n,t,i),e.elementType=N1,e.lanes=o,e;case xR:return x0(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case vR:s=10;break e;case yR:s=9;break e;case A2:s=11;break e;case T2:s=14;break e;case ul:s=16,r=null;break e}throw Error(rt(130,e==null?e:typeof e,""))}return t=Ao(s,n,t,i),t.elementType=e,t.type=r,t.lanes=o,t}function Tc(e,t,n,r){return e=Ao(7,e,r,t),e.lanes=n,e}function x0(e,t,n,r){return e=Ao(22,e,r,t),e.elementType=xR,e.lanes=n,e.stateNode={isHidden:!1},e}function Iw(e,t,n){return e=Ao(6,e,null,t),e.lanes=n,e}function Pw(e,t,n){return t=Ao(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function m7(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hw(0),this.expirationTimes=hw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hw(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dS(e,t,n,r,i,o,s,a,l){return e=new m7(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=Ao(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Y2(o),e}function g7(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Mu,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function uP(e){if(!e)return Ml;e=e._reactInternals;e:{if(iu(e)!==e||e.tag!==1)throw Error(rt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(qi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(rt(171))}if(e.tag===1){var n=e.type;if(qi(n))return uI(e,n,t)}return t}function dP(e,t,n,r,i,o,s,a,l){return e=dS(n,r,!0,e,i,o,s,a,l),e.context=uP(null),n=e.current,r=ji(),i=jl(n),o=Aa(r,i),o.callback=t!=null?t:null,El(n,o,i),e.current.lanes=i,Gp(e,i,r),Ki(e,r),e}function w0(e,t,n,r){var i=t.current,o=ji(),s=jl(i);return n=uP(n),t.context===null?t.context=n:t.pendingContext=n,t=Aa(o,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=El(i,t,s),e!==null&&(as(e,i,s,o),qg(e,i,s)),s}function Wv(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Uj(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function fS(e,t){Uj(e,t),(e=e.alternate)&&Uj(e,t)}function v7(){return null}var fP=typeof reportError=="function"?reportError:function(e){console.error(e)};function hS(e){this._internalRoot=e}b0.prototype.render=hS.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(rt(409));w0(e,t,null,null)};b0.prototype.unmount=hS.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bc(function(){w0(null,e,null,null)}),t[$a]=null}};function b0(e){this._internalRoot=e}b0.prototype.unstable_scheduleHydration=function(e){if(e){var t=WR();e={blockedOn:null,target:e,priority:t};for(var n=0;n<pl.length&&t!==0&&t<pl[n].priority;n++);pl.splice(n,0,e),n===0&&VR(e)}};function pS(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _0(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Vj(){}function y7(e,t,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var c=Wv(s);o.call(c)}}var s=dP(t,r,e,0,null,!1,!1,"",Vj);return e._reactRootContainer=s,e[$a]=s.current,qh(e.nodeType===8?e.parentNode:e),Bc(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=Wv(l);a.call(c)}}var l=dS(e,0,!1,null,null,!1,!1,"",Vj);return e._reactRootContainer=l,e[$a]=l.current,qh(e.nodeType===8?e.parentNode:e),Bc(function(){w0(t,l,n,r)}),l}function k0(e,t,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=Wv(s);a.call(l)}}w0(t,s,e,i)}else s=y7(n,t,e,i,r);return Wv(s)}zR=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Zf(t.pendingLanes);n!==0&&(P2(t,n|1),Ki(t,mr()),!(gn&6)&&(_d=mr()+500,Kl()))}break;case 13:Bc(function(){var r=Da(e,1);if(r!==null){var i=ji();as(r,e,1,i)}}),fS(e,1)}};O2=function(e){if(e.tag===13){var t=Da(e,134217728);if(t!==null){var n=ji();as(t,e,134217728,n)}fS(e,134217728)}};HR=function(e){if(e.tag===13){var t=jl(e),n=Da(e,t);if(n!==null){var r=ji();as(n,e,t,r)}fS(e,t)}};WR=function(){return kn};UR=function(e,t){var n=kn;try{return kn=e,t()}finally{kn=n}};F1=function(e,t,n){switch(t){case"input":if(R1(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=h0(r);if(!i)throw Error(rt(90));bR(r),R1(r,i)}}}break;case"textarea":kR(e,n);break;case"select":t=n.value,t!=null&&Zu(e,!!n.multiple,t,!1)}};TR=aS;RR=Bc;var x7={usingClientEntryPoint:!1,Events:[Jp,Bu,h0,NR,AR,aS]},Pf={findFiberByHostInstance:wc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w7={bundleType:Pf.bundleType,version:Pf.version,rendererPackageName:Pf.rendererPackageName,rendererConfig:Pf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ka.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=OR(e),e===null?null:e.stateNode},findFiberByHostInstance:Pf.findFiberByHostInstance||v7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qm=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qm.isDisabled&&Qm.supportsFiber)try{c0=Qm.inject(w7),Bs=Qm}catch(e){}}xo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x7;xo.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!pS(t))throw Error(rt(200));return g7(e,t,null,n)};xo.createRoot=function(e,t){if(!pS(e))throw Error(rt(299));var n=!1,r="",i=fP;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=dS(e,1,!1,null,null,n,!1,r,i),e[$a]=t.current,qh(e.nodeType===8?e.parentNode:e),new hS(t)};xo.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(rt(188)):(e=Object.keys(e).join(","),Error(rt(268,e)));return e=OR(t),e=e===null?null:e.stateNode,e};xo.flushSync=function(e){return Bc(e)};xo.hydrate=function(e,t,n){if(!_0(t))throw Error(rt(200));return k0(null,e,t,!0,n)};xo.hydrateRoot=function(e,t,n){if(!pS(e))throw Error(rt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=fP;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=dP(t,null,e,1,n!=null?n:null,i,!1,o,s),e[$a]=t.current,qh(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new b0(t)};xo.render=function(e,t,n){if(!_0(t))throw Error(rt(200));return k0(null,e,t,!1,n)};xo.unmountComponentAtNode=function(e){if(!_0(e))throw Error(rt(40));return e._reactRootContainer?(Bc(function(){k0(null,null,e,!1,function(){e._reactRootContainer=null,e[$a]=null})}),!0):!1};xo.unstable_batchedUpdates=aS;xo.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!_0(n))throw Error(rt(200));if(e==null||e._reactInternals===void 0)throw Error(rt(38));return k0(e,t,n,!1,r)};xo.version="18.3.1-next-f1338f8080-20240426";function hP(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(hP)}catch(e){console.error(e)}}hP(),hR.exports=xo;var S0=hR.exports;const pP=qa(S0);var mP,qj=S0;mP=qj.createRoot,qj.hydrateRoot;var mS={};Object.defineProperty(mS,"__esModule",{value:!0});mS.parse=j7;mS.serialize=N7;const b7=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,_7=/^[\u0021-\u003A\u003C-\u007E]*$/,k7=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,S7=/^[\u0020-\u003A\u003D-\u007E]*$/,E7=Object.prototype.toString,C7=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function j7(e,t){const n=new C7,r=e.length;if(r<2)return n;const i=(t==null?void 0:t.decode)||A7;let o=0;do{const s=e.indexOf("=",o);if(s===-1)break;const a=e.indexOf(";",o),l=a===-1?r:a;if(s>l){o=e.lastIndexOf(";",s-1)+1;continue}const c=Kj(e,o,s),u=Yj(e,s,c),f=e.slice(c,u);if(n[f]===void 0){let h=Kj(e,s+1,l),p=Yj(e,l,h);const v=i(e.slice(h,p));n[f]=v}o=l+1}while(o<r);return n}function Kj(e,t,n){do{const r=e.charCodeAt(t);if(r!==32&&r!==9)return t}while(++t<n);return n}function Yj(e,t,n){for(;t>n;){const r=e.charCodeAt(--t);if(r!==32&&r!==9)return t+1}return n}function N7(e,t,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!b7.test(e))throw new TypeError("argument name is invalid: ".concat(e));const i=r(t);if(!_7.test(i))throw new TypeError("argument val is invalid: ".concat(t));let o=e+"="+i;if(!n)return o;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError("option maxAge is invalid: ".concat(n.maxAge));o+="; Max-Age="+n.maxAge}if(n.domain){if(!k7.test(n.domain))throw new TypeError("option domain is invalid: ".concat(n.domain));o+="; Domain="+n.domain}if(n.path){if(!S7.test(n.path))throw new TypeError("option path is invalid: ".concat(n.path));o+="; Path="+n.path}if(n.expires){if(!T7(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError("option expires is invalid: ".concat(n.expires));o+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(o+="; HttpOnly"),n.secure&&(o+="; Secure"),n.partitioned&&(o+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":o+="; Priority=Low";break;case"medium":o+="; Priority=Medium";break;case"high":o+="; Priority=High";break;default:throw new TypeError("option priority is invalid: ".concat(n.priority))}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":o+="; SameSite=Strict";break;case"lax":o+="; SameSite=Lax";break;case"none":o+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid: ".concat(n.sameSite))}return o}function A7(e){if(e.indexOf("%")===-1)return e;try{return decodeURIComponent(e)}catch(t){return e}}function T7(e){return E7.call(e)==="[object Date]"}var Gj="popstate";function R7(e={}){function t(r,i){let{pathname:o,search:s,hash:a}=r.location;return v_("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:tp(i)}return P7(t,n,null,e)}function Zn(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Ks(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch(n){}}}function I7(){return Math.random().toString(36).substring(2,10)}function Xj(e,t){return{usr:e.state,key:e.key,idx:t}}function v_(e,t,n=null,r){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?Xd(t):t,state:n,key:t&&t.key||r||I7()}}function tp({pathname:e="/",search:t="",hash:n=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Xd(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function P7(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a="POP",l=null,c=u();c==null&&(c=0,s.replaceState({...s.state,idx:c},""));function u(){return(s.state||{idx:null}).idx}function f(){a="POP";let b=u(),m=b==null?null:b-c;c=b,l&&l({action:a,location:g.location,delta:m})}function h(b,m){a="PUSH";let y=v_(g.location,b,m);c=u()+1;let x=Xj(y,c),k=g.createHref(y);try{s.pushState(x,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;i.location.assign(k)}o&&l&&l({action:a,location:g.location,delta:1})}function p(b,m){a="REPLACE";let y=v_(g.location,b,m);c=u();let x=Xj(y,c),k=g.createHref(y);s.replaceState(x,"",k),o&&l&&l({action:a,location:g.location,delta:0})}function v(b){return O7(b)}let g={get action(){return a},get location(){return e(i,s)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Gj,f),l=b,()=>{i.removeEventListener(Gj,f),l=null}},createHref(b){return t(i,b)},createURL:v,encodeLocation(b){let m=v(b);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:h,replace:p,go(b){return s.go(b)}};return g}function O7(e,t=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),Zn(n,"No window.location.(origin|href) available to create URL");let r=typeof e=="string"?e:tp(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}function gP(e,t,n="/"){return M7(e,t,n,!1)}function M7(e,t,n,r){let i=typeof t=="string"?Xd(t):t,o=La(i.pathname||"/",n);if(o==null)return null;let s=vP(e);$7(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let c=K7(o);a=V7(s[l],c,r)}return a}function vP(e,t=[],n=[],r=""){let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Zn(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length));let c=Ta([r,l.relativePath]),u=n.concat(l);o.children&&o.children.length>0&&(Zn(o.index!==!0,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),vP(o.children,t,u,c)),!(o.path==null&&!o.index)&&t.push({path:c,score:W7(c,o.index),routesMeta:u})};return e.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of yP(o.path))i(o,s,l)}),t}function yP(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=yP(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>e.startsWith("/")&&l===""?"/":l)}function $7(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:U7(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var D7=/^:[\w-]+$/,F7=3,L7=2,B7=1,z7=10,H7=-2,Jj=e=>e==="*";function W7(e,t){let n=e.split("/"),r=n.length;return n.some(Jj)&&(r+=H7),t&&(r+=L7),n.filter(i=>!Jj(i)).reduce((i,o)=>i+(D7.test(o)?F7:o===""?B7:z7),r)}function U7(e,t){return e.length===t.length&&e.slice(0,-1).every((r,i)=>r===t[i])?e[e.length-1]-t[t.length-1]:0}function V7(e,t,n=!1){let{routesMeta:r}=e,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,u=o==="/"?t:t.slice(o.length)||"/",f=Uv({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),h=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=Uv({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Ta([o,f.pathname]),pathnameBase:J7(Ta([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Ta([o,f.pathnameBase]))}return s}function Uv(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=q7(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,{paramName:u,isOptional:f},h)=>{if(u==="*"){let v=a[h]||"";s=o.slice(0,o.length-v.length).replace(/(.)\/+$/,"$1")}const p=a[h];return f&&!p?c[u]=void 0:c[u]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:o,pathnameBase:s,pattern:e}}function q7(e,t=!1,n=!0){Ks(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),i+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":e!==""&&e!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function K7(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Ks(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function La(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function Y7(e,t="/"){let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?Xd(e):e;return{pathname:n?n.startsWith("/")?n:G7(n,t):t,search:Q7(r),hash:Z7(i)}}function G7(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Ow(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function X7(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function xP(e){let t=X7(e);return t.map((n,r)=>r===t.length-1?n.pathname:n.pathnameBase)}function wP(e,t,n,r=!1){let i;typeof e=="string"?i=Xd(e):(i={...e},Zn(!i.pathname||!i.pathname.includes("?"),Ow("?","pathname","search",i)),Zn(!i.pathname||!i.pathname.includes("#"),Ow("#","pathname","hash",i)),Zn(!i.search||!i.search.includes("#"),Ow("#","search","hash",i)));let o=e===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=t.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?t[f]:"/"}let l=Y7(i,a),c=s&&s!=="/"&&s.endsWith("/"),u=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}var Ta=e=>e.join("/").replace(/\/\/+/g,"/"),J7=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Q7=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Z7=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ez(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var bP=["POST","PUT","PATCH","DELETE"];new Set(bP);var tz=["GET",...bP];new Set(tz);var Jd=N.createContext(null);Jd.displayName="DataRouter";var E0=N.createContext(null);E0.displayName="DataRouterState";var _P=N.createContext({isTransitioning:!1});_P.displayName="ViewTransition";var nz=N.createContext(new Map);nz.displayName="Fetchers";var rz=N.createContext(null);rz.displayName="Await";var ea=N.createContext(null);ea.displayName="Navigation";var Zp=N.createContext(null);Zp.displayName="Location";var vs=N.createContext({outlet:null,matches:[],isDataRoute:!1});vs.displayName="Route";var gS=N.createContext(null);gS.displayName="RouteError";function iz(e,{relative:t}={}){Zn(em(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=N.useContext(ea),{hash:i,pathname:o,search:s}=tm(e,{relative:t}),a=o;return n!=="/"&&(a=o==="/"?n:Ta([n,o])),r.createHref({pathname:a,search:s,hash:i})}function em(){return N.useContext(Zp)!=null}function ou(){return Zn(em(),"useLocation() may be used only in the context of a <Router> component."),N.useContext(Zp).location}var kP="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function SP(e){N.useContext(ea).static||N.useLayoutEffect(e)}function su(){let{isDataRoute:e}=N.useContext(vs);return e?xz():oz()}function oz(){Zn(em(),"useNavigate() may be used only in the context of a <Router> component.");let e=N.useContext(Jd),{basename:t,navigator:n}=N.useContext(ea),{matches:r}=N.useContext(vs),{pathname:i}=ou(),o=JSON.stringify(xP(r)),s=N.useRef(!1);return SP(()=>{s.current=!0}),N.useCallback((l,c={})=>{if(Ks(s.current,kP),!s.current)return;if(typeof l=="number"){n.go(l);return}let u=wP(l,JSON.parse(o),i,c.relative==="path");e==null&&t!=="/"&&(u.pathname=u.pathname==="/"?t:Ta([t,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[t,n,o,i,e])}var sz=N.createContext(null);function az(e){let t=N.useContext(vs).outlet;return t&&N.createElement(sz.Provider,{value:e},t)}function vS(){let{matches:e}=N.useContext(vs),t=e[e.length-1];return t?t.params:{}}function tm(e,{relative:t}={}){let{matches:n}=N.useContext(vs),{pathname:r}=ou(),i=JSON.stringify(xP(n));return N.useMemo(()=>wP(e,JSON.parse(i),r,t==="path"),[e,i,r,t])}function lz(e,t){return EP(e,t)}function EP(e,t,n,r){var y;Zn(em(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i,static:o}=N.useContext(ea),{matches:s}=N.useContext(vs),a=s[s.length-1],l=a?a.params:{},c=a?a.pathname:"/",u=a?a.pathnameBase:"/",f=a&&a.route;{let x=f&&f.path||"";CP(c,!f||x.endsWith("*")||x.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(c,'" (under <Route path="').concat(x,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(x,'"> to <Route path="').concat(x==="/"?"*":"".concat(x,"/*"),'">.'))}let h=ou(),p;if(t){let x=typeof t=="string"?Xd(t):t;Zn(u==="/"||((y=x.pathname)==null?void 0:y.startsWith(u)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(u,'" but pathname "').concat(x.pathname,'" was given in the `location` prop.')),p=x}else p=h;let v=p.pathname||"/",g=v;if(u!=="/"){let x=u.replace(/^\//,"").split("/");g="/"+v.replace(/^\//,"").split("/").slice(x.length).join("/")}let b=!o&&n&&n.matches&&n.matches.length>0?n.matches:gP(e,{pathname:g});Ks(f||b!=null,'No routes matched location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" ')),Ks(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,'Matched leaf route at location "'.concat(p.pathname).concat(p.search).concat(p.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let m=hz(b&&b.map(x=>Object.assign({},x,{params:Object.assign({},l,x.params),pathname:Ta([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:Ta([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return t&&m?N.createElement(Zp.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},m):m}function cz(){let e=yz(),t=ez(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},o={padding:"2px 4px",backgroundColor:r},s=null;return console.error("Error handled by React Router default ErrorBoundary:",e),s=N.createElement(N.Fragment,null,N.createElement("p",null,"💿 Hey developer 👋"),N.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",N.createElement("code",{style:o},"ErrorBoundary")," or"," ",N.createElement("code",{style:o},"errorElement")," prop on your route.")),N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),n?N.createElement("pre",{style:i},n):null,s)}var uz=N.createElement(cz,null),dz=class extends N.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?N.createElement(vs.Provider,{value:this.props.routeContext},N.createElement(gS.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function fz({routeContext:e,match:t,children:n}){let r=N.useContext(Jd);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),N.createElement(vs.Provider,{value:e},n)}function hz(e,t=[],n=null,r=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let i=e,o=n==null?void 0:n.errors;if(o!=null){let l=i.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id])!==void 0);Zn(l>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(o).join(","))),i=i.slice(0,Math.min(i.length,l+1))}let s=!1,a=-1;if(n)for(let l=0;l<i.length;l++){let c=i[l];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(a=l),c.route.id){let{loaderData:u,errors:f}=n,h=c.route.loader&&!u.hasOwnProperty(c.route.id)&&(!f||f[c.route.id]===void 0);if(c.route.lazy||h){s=!0,a>=0?i=i.slice(0,a+1):i=[i[0]];break}}}return i.reduceRight((l,c,u)=>{let f,h=!1,p=null,v=null;n&&(f=o&&c.route.id?o[c.route.id]:void 0,p=c.route.errorElement||uz,s&&(a<0&&u===0?(CP("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,v=null):a===u&&(h=!0,v=c.route.hydrateFallbackElement||null)));let g=t.concat(i.slice(0,u+1)),b=()=>{let m;return f?m=p:h?m=v:c.route.Component?m=N.createElement(c.route.Component,null):c.route.element?m=c.route.element:m=l,N.createElement(fz,{match:c,routeContext:{outlet:l,matches:g,isDataRoute:n!=null},children:m})};return n&&(c.route.ErrorBoundary||c.route.errorElement||u===0)?N.createElement(dz,{location:n.location,revalidation:n.revalidation,component:p,error:f,children:b(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):b()},null)}function yS(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function pz(e){let t=N.useContext(Jd);return Zn(t,yS(e)),t}function mz(e){let t=N.useContext(E0);return Zn(t,yS(e)),t}function gz(e){let t=N.useContext(vs);return Zn(t,yS(e)),t}function xS(e){let t=gz(e),n=t.matches[t.matches.length-1];return Zn(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function vz(){return xS("useRouteId")}function yz(){var r;let e=N.useContext(gS),t=mz("useRouteError"),n=xS("useRouteError");return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function xz(){let{router:e}=pz("useNavigate"),t=xS("useNavigate"),n=N.useRef(!1);return SP(()=>{n.current=!0}),N.useCallback(async(i,o={})=>{Ks(n.current,kP),n.current&&(typeof i=="number"?e.navigate(i):await e.navigate(i,{fromRouteId:t,...o}))},[e,t])}var Qj={};function CP(e,t,n){!t&&!Qj[e]&&(Qj[e]=!0,Ks(!1,n))}N.memo(wz);function wz({routes:e,future:t,state:n}){return EP(e,void 0,n,t)}function bz(e){return az(e.context)}function Mi(e){Zn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _z({basename:e="/",children:t=null,location:n,navigationType:r="POP",navigator:i,static:o=!1}){Zn(!em(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let s=e.replace(/^\/*/,"/"),a=N.useMemo(()=>({basename:s,navigator:i,static:o,future:{}}),[s,i,o]);typeof n=="string"&&(n=Xd(n));let{pathname:l="/",search:c="",hash:u="",state:f=null,key:h="default"}=n,p=N.useMemo(()=>{let v=La(l,s);return v==null?null:{location:{pathname:v,search:c,hash:u,state:f,key:h},navigationType:r}},[s,l,c,u,f,h,r]);return Ks(p!=null,'<Router basename="'.concat(s,'"> is not able to match the URL "').concat(l).concat(c).concat(u,"\" because it does not start with the basename, so the <Router> won't render anything.")),p==null?null:N.createElement(ea.Provider,{value:a},N.createElement(Zp.Provider,{children:t,value:p}))}function kz({children:e,location:t}){return lz(y_(e),t)}function y_(e,t=[]){let n=[];return N.Children.forEach(e,(r,i)=>{if(!N.isValidElement(r))return;let o=[...t,i];if(r.type===N.Fragment){n.push.apply(n,y_(r.props.children,o));return}Zn(r.type===Mi,"[".concat(typeof r.type=="string"?r.type:r.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),Zn(!r.props.index||!r.props.children,"An index route cannot have child routes.");let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=y_(r.props.children,o)),n.push(s)}),n}var Zg="get",ev="application/x-www-form-urlencoded";function C0(e){return e!=null&&typeof e.tagName=="string"}function Sz(e){return C0(e)&&e.tagName.toLowerCase()==="button"}function Ez(e){return C0(e)&&e.tagName.toLowerCase()==="form"}function Cz(e){return C0(e)&&e.tagName.toLowerCase()==="input"}function jz(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Nz(e,t){return e.button===0&&(!t||t==="_self")&&!jz(e)}var Zm=null;function Az(){if(Zm===null)try{new FormData(document.createElement("form"),0),Zm=!1}catch(e){Zm=!0}return Zm}var Tz=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Mw(e){return e!=null&&!Tz.has(e)?(Ks(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(ev,'"')),null):e}function Rz(e,t){let n,r,i,o,s;if(Ez(e)){let a=e.getAttribute("action");r=a?La(a,t):null,n=e.getAttribute("method")||Zg,i=Mw(e.getAttribute("enctype"))||ev,o=new FormData(e)}else if(Sz(e)||Cz(e)&&(e.type==="submit"||e.type==="image")){let a=e.form;if(a==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let l=e.getAttribute("formaction")||a.getAttribute("action");if(r=l?La(l,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Zg,i=Mw(e.getAttribute("formenctype"))||Mw(a.getAttribute("enctype"))||ev,o=new FormData(a,e),!Az()){let{name:c,type:u,value:f}=e;if(u==="image"){let h=c?"".concat(c,"."):"";o.append("".concat(h,"x"),"0"),o.append("".concat(h,"y"),"0")}else c&&o.append(c,f)}}else{if(C0(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Zg,r=null,i=ev,s=e}return o&&i==="text/plain"&&(s=o,o=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:o,body:s}}function wS(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}async function Iz(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Pz(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function Oz(e,t,n){let r=await Promise.all(e.map(async i=>{let o=t.routes[i.route.id];if(o){let s=await Iz(o,n);return s.links?s.links():[]}return[]}));return Fz(r.flat(1).filter(Pz).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Zj(e,t,n,r,i,o){let s=(l,c)=>n[c]?l.route.id!==n[c].route.id:!0,a=(l,c)=>{var u;return n[c].pathname!==l.pathname||((u=n[c].route.path)==null?void 0:u.endsWith("*"))&&n[c].params["*"]!==l.params["*"]};return o==="assets"?t.filter((l,c)=>s(l,c)||a(l,c)):o==="data"?t.filter((l,c)=>{var f;let u=r.routes[l.route.id];if(!u||!u.hasLoader)return!1;if(s(l,c)||a(l,c))return!0;if(l.route.shouldRevalidate){let h=l.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((f=n[0])==null?void 0:f.params)||{},nextUrl:new URL(e,window.origin),nextParams:l.params,defaultShouldRevalidate:!0});if(typeof h=="boolean")return h}return!0}):[]}function Mz(e,t,{includeHydrateFallback:n}={}){return $z(e.map(r=>{let i=t.routes[r.route.id];if(!i)return[];let o=[i.module];return i.clientActionModule&&(o=o.concat(i.clientActionModule)),i.clientLoaderModule&&(o=o.concat(i.clientLoaderModule)),n&&i.hydrateFallbackModule&&(o=o.concat(i.hydrateFallbackModule)),i.imports&&(o=o.concat(i.imports)),o}).flat(1))}function $z(e){return[...new Set(e)]}function Dz(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function Fz(e,t){let n=new Set;return new Set(t),e.reduce((r,i)=>{let o=JSON.stringify(Dz(i));return n.has(o)||(n.add(o),r.push({key:o,link:i})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Lz=new Set([100,101,204,205]);function Bz(e,t){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname="_root.data":t&&La(n.pathname,t)==="/"?n.pathname="".concat(t.replace(/\/$/,""),"/_root.data"):n.pathname="".concat(n.pathname.replace(/\/$/,""),".data"),n}function jP(){let e=N.useContext(Jd);return wS(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function zz(){let e=N.useContext(E0);return wS(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var bS=N.createContext(void 0);bS.displayName="FrameworkContext";function NP(){let e=N.useContext(bS);return wS(e,"You must render this element inside a <HydratedRouter> element"),e}function Hz(e,t){let n=N.useContext(bS),[r,i]=N.useState(!1),[o,s]=N.useState(!1),{onFocus:a,onBlur:l,onMouseEnter:c,onMouseLeave:u,onTouchStart:f}=t,h=N.useRef(null);N.useEffect(()=>{if(e==="render"&&s(!0),e==="viewport"){let g=m=>{m.forEach(y=>{s(y.isIntersecting)})},b=new IntersectionObserver(g,{threshold:.5});return h.current&&b.observe(h.current),()=>{b.disconnect()}}},[e]),N.useEffect(()=>{if(r){let g=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(g)}}},[r]);let p=()=>{i(!0)},v=()=>{i(!1),s(!1)};return n?e!=="intent"?[o,h,{}]:[o,h,{onFocus:Of(a,p),onBlur:Of(l,v),onMouseEnter:Of(c,p),onMouseLeave:Of(u,v),onTouchStart:Of(f,p)}]:[!1,h,{}]}function Of(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Wz({page:e,...t}){let{router:n}=jP(),r=N.useMemo(()=>gP(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?N.createElement(Vz,{page:e,matches:r,...t}):null}function Uz(e){let{manifest:t,routeModules:n}=NP(),[r,i]=N.useState([]);return N.useEffect(()=>{let o=!1;return Oz(e,t,n).then(s=>{o||i(s)}),()=>{o=!0}},[e,t,n]),r}function Vz({page:e,matches:t,...n}){let r=ou(),{manifest:i,routeModules:o}=NP(),{basename:s}=jP(),{loaderData:a,matches:l}=zz(),c=N.useMemo(()=>Zj(e,t,l,i,r,"data"),[e,t,l,i,r]),u=N.useMemo(()=>Zj(e,t,l,i,r,"assets"),[e,t,l,i,r]),f=N.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let v=new Set,g=!1;if(t.forEach(m=>{var x;let y=i.routes[m.route.id];!y||!y.hasLoader||(!c.some(k=>k.route.id===m.route.id)&&m.route.id in a&&((x=o[m.route.id])!=null&&x.shouldRevalidate)||y.hasClientLoader?g=!0:v.add(m.route.id))}),v.size===0)return[];let b=Bz(e,s);return g&&v.size>0&&b.searchParams.set("_routes",t.filter(m=>v.has(m.route.id)).map(m=>m.route.id).join(",")),[b.pathname+b.search]},[s,a,r,i,c,t,e,o]),h=N.useMemo(()=>Mz(u,i),[u,i]),p=Uz(u);return N.createElement(N.Fragment,null,f.map(v=>N.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...n})),h.map(v=>N.createElement("link",{key:v,rel:"modulepreload",href:v,...n})),p.map(({key:v,link:g})=>N.createElement("link",{key:v,...g})))}function qz(...e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var AP=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{AP&&(window.__reactRouterVersion="7.6.0")}catch(e){}function Kz({basename:e,children:t,window:n}){let r=N.useRef();r.current==null&&(r.current=R7({window:n,v5Compat:!0}));let i=r.current,[o,s]=N.useState({action:i.action,location:i.location}),a=N.useCallback(l=>{N.startTransition(()=>s(l))},[s]);return N.useLayoutEffect(()=>i.listen(a),[i,a]),N.createElement(_z,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:i})}var TP=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RP=N.forwardRef(function({onClick:t,discover:n="render",prefetch:r="none",relative:i,reloadDocument:o,replace:s,state:a,target:l,to:c,preventScrollReset:u,viewTransition:f,...h},p){let{basename:v}=N.useContext(ea),g=typeof c=="string"&&TP.test(c),b,m=!1;if(typeof c=="string"&&g&&(b=c,AP))try{let W=new URL(window.location.href),F=c.startsWith("//")?new URL(W.protocol+c):new URL(c),L=La(F.pathname,v);F.origin===W.origin&&L!=null?c=L+F.search+F.hash:m=!0}catch(W){Ks(!1,'<Link to="'.concat(c,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let y=iz(c,{relative:i}),[x,k,S]=Hz(r,h),E=Xz(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:i,viewTransition:f});function T(W){t&&t(W),W.defaultPrevented||E(W)}let M=N.createElement("a",{...h,...S,href:b||y,onClick:m||o?t:T,ref:qz(p,k),target:l,"data-discover":!g&&n==="render"?"true":void 0});return x&&!g?N.createElement(N.Fragment,null,M,N.createElement(Wz,{page:y})):M});RP.displayName="Link";var x_=N.forwardRef(function({"aria-current":t="page",caseSensitive:n=!1,className:r="",end:i=!1,style:o,to:s,viewTransition:a,children:l,...c},u){let f=tm(s,{relative:c.relative}),h=ou(),p=N.useContext(E0),{navigator:v,basename:g}=N.useContext(ea),b=p!=null&&t9(f)&&a===!0,m=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,y=h.pathname,x=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;n||(y=y.toLowerCase(),x=x?x.toLowerCase():null,m=m.toLowerCase()),x&&g&&(x=La(x,g)||x);const k=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let S=y===m||!i&&y.startsWith(m)&&y.charAt(k)==="/",E=x!=null&&(x===m||!i&&x.startsWith(m)&&x.charAt(m.length)==="/"),T={isActive:S,isPending:E,isTransitioning:b},M=S?t:void 0,W;typeof r=="function"?W=r(T):W=[r,S?"active":null,E?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let F=typeof o=="function"?o(T):o;return N.createElement(RP,{...c,"aria-current":M,className:W,ref:u,style:F,to:s,viewTransition:a},typeof l=="function"?l(T):l)});x_.displayName="NavLink";var Yz=N.forwardRef(({discover:e="render",fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:o,method:s=Zg,action:a,onSubmit:l,relative:c,preventScrollReset:u,viewTransition:f,...h},p)=>{let v=Zz(),g=e9(a,{relative:c}),b=s.toLowerCase()==="get"?"get":"post",m=typeof a=="string"&&TP.test(a),y=x=>{if(l&&l(x),x.defaultPrevented)return;x.preventDefault();let k=x.nativeEvent.submitter,S=(k==null?void 0:k.getAttribute("formmethod"))||s;v(k||x.currentTarget,{fetcherKey:t,method:S,navigate:n,replace:i,state:o,relative:c,preventScrollReset:u,viewTransition:f})};return N.createElement("form",{ref:p,method:b,action:g,onSubmit:r?l:y,...h,"data-discover":!m&&e==="render"?"true":void 0})});Yz.displayName="Form";function Gz(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function IP(e){let t=N.useContext(Jd);return Zn(t,Gz(e)),t}function Xz(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:o,viewTransition:s}={}){let a=su(),l=ou(),c=tm(e,{relative:o});return N.useCallback(u=>{if(Nz(u,t)){u.preventDefault();let f=n!==void 0?n:tp(l)===tp(c);a(e,{replace:f,state:r,preventScrollReset:i,relative:o,viewTransition:s})}},[l,a,c,n,r,t,e,i,o,s])}var Jz=0,Qz=()=>"__".concat(String(++Jz),"__");function Zz(){let{router:e}=IP("useSubmit"),{basename:t}=N.useContext(ea),n=vz();return N.useCallback(async(r,i={})=>{let{action:o,method:s,encType:a,formData:l,body:c}=Rz(r,t);if(i.navigate===!1){let u=i.fetcherKey||Qz();await e.fetch(u,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})},[e,t,n])}function e9(e,{relative:t}={}){let{basename:n}=N.useContext(ea),r=N.useContext(vs);Zn(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),o={...tm(e||".",{relative:t})},s=ou();if(e==null){o.search=s.search;let a=new URLSearchParams(o.search),l=a.getAll("index");if(l.some(u=>u==="")){a.delete("index"),l.filter(f=>f).forEach(f=>a.append("index",f));let u=a.toString();o.search=u?"?".concat(u):""}}return(!e||e===".")&&i.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(o.pathname=o.pathname==="/"?n:Ta([n,o.pathname])),tp(o)}function t9(e,t={}){let n=N.useContext(_P);Zn(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=IP("useViewTransitionState"),i=tm(e,{relative:t.relative});if(!n.isTransitioning)return!1;let o=La(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=La(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Uv(i.pathname,s)!=null||Uv(i.pathname,o)!=null}[...Lz];var _S={};Object.defineProperty(_S,"__esModule",{value:!0});var Ya=_S.newRidgeState=void 0;const Vv=N,PP=typeof window<"u"||typeof document<"u"?Vv.useLayoutEffect:Vv.useEffect,OP=(e,t)=>e===t,eN={};function n9(e,t=OP){const n=(0,Vv.useRef)(eN);let r=n.current;return PP(()=>{n.current=r}),(n.current===eN||!t(e,n.current))&&(r=e),r}function r9(e,t){let n=[],r=e;function i(c,u){const f=r;r=c instanceof Function?c(r):c,setTimeout(()=>{var h;n.forEach(p=>p(r,f)),u==null||u(r,f),(h=t==null?void 0:t.onSet)===null||h===void 0||h.call(t,r,f)})}function o(c){return n.push(c),()=>{n=n.filter(u=>u!==c)}}function s(c){PP(()=>o(c),[c])}function a(){const[c,u]=(0,Vv.useState)(r);return s(u),[c,i]}function l(c,u=OP){const[f]=a();return n9(c(f),u)}return{use:a,useSelector:l,useValue:()=>a()[0],get:()=>r,set:i,reset:()=>i(e),subscribe:o}}Ya=_S.newRidgeState=r9;let i9=0;const j0=Ya([]);function Rt(e,t){const n=i9++;return j0.set(r=>[...r,{id:n,tag:e,Component:t}]),n}function cr(e){j0.set(t=>t.filter(n=>n.id!==e))}function o9(e){j0.set(t=>t.filter(n=>n.tag!==e))}const s9=()=>{const e=j0.useValue();return d.jsx("div",{style:{zIndex:9999},children:e.map(({id:t,Component:n})=>d.jsx(n,{id:t},t))})},kS=Ya(!1),MP=()=>kS.set(!0),eg=()=>kS.set(!1);class th extends Error{}th.prototype.name="InvalidTokenError";function a9(e){return decodeURIComponent(atob(e).replace(/(.)/g,(t,n)=>{let r=n.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r}))}function l9(e){let t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("base64 string is not of the correct length")}try{return a9(t)}catch(n){return atob(t)}}function Qd(e,t){if(typeof e!="string")throw new th("Invalid token specified: must be a string");t||(t={});const n=t.header===!0?0:1,r=e.split(".")[n];if(typeof r!="string")throw new th("Invalid token specified: missing part #".concat(n+1));let i;try{i=l9(r)}catch(o){throw new th("Invalid token specified: invalid base64 for part #".concat(n+1," (").concat(o.message,")"))}try{return JSON.parse(i)}catch(o){throw new th("Invalid token specified: invalid json for part #".concat(n+1," (").concat(o.message,")"))}}function tg(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var $P={exports:{}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(e,t){(function(n){e.exports=n()})(function(){return function n(r,i,o){function s(c,u){if(!i[c]){if(!r[c]){var f=typeof tg=="function"&&tg;if(!u&&f)return f(c,!0);if(a)return a(c,!0);var h=new Error("Cannot find module '"+c+"'");throw h.code="MODULE_NOT_FOUND",h}var p=i[c]={exports:{}};r[c][0].call(p.exports,function(v){var g=r[c][1][v];return s(g||v)},p,p.exports,n,r,i,o)}return i[c].exports}for(var a=typeof tg=="function"&&tg,l=0;l<o.length;l++)s(o[l]);return s}({1:[function(n,r,i){(function(o){var s=o.MutationObserver||o.WebKitMutationObserver,a;if(s){var l=0,c=new s(v),u=o.document.createTextNode("");c.observe(u,{characterData:!0}),a=function(){u.data=l=++l%2}}else if(!o.setImmediate&&typeof o.MessageChannel<"u"){var f=new o.MessageChannel;f.port1.onmessage=v,a=function(){f.port2.postMessage(0)}}else"document"in o&&"onreadystatechange"in o.document.createElement("script")?a=function(){var b=o.document.createElement("script");b.onreadystatechange=function(){v(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},o.document.documentElement.appendChild(b)}:a=function(){setTimeout(v,0)};var h,p=[];function v(){h=!0;for(var b,m,y=p.length;y;){for(m=p,p=[],b=-1;++b<y;)m[b]();y=p.length}h=!1}r.exports=g;function g(b){p.push(b)===1&&!h&&a()}}).call(this,typeof ao<"u"?ao:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var o=n(1);function s(){}var a={},l=["REJECTED"],c=["FULFILLED"],u=["PENDING"];r.exports=f;function f(S){if(typeof S!="function")throw new TypeError("resolver must be a function");this.state=u,this.queue=[],this.outcome=void 0,S!==s&&g(this,S)}f.prototype.catch=function(S){return this.then(null,S)},f.prototype.then=function(S,E){if(typeof S!="function"&&this.state===c||typeof E!="function"&&this.state===l)return this;var T=new this.constructor(s);if(this.state!==u){var M=this.state===c?S:E;p(T,M,this.outcome)}else this.queue.push(new h(T,S,E));return T};function h(S,E,T){this.promise=S,typeof E=="function"&&(this.onFulfilled=E,this.callFulfilled=this.otherCallFulfilled),typeof T=="function"&&(this.onRejected=T,this.callRejected=this.otherCallRejected)}h.prototype.callFulfilled=function(S){a.resolve(this.promise,S)},h.prototype.otherCallFulfilled=function(S){p(this.promise,this.onFulfilled,S)},h.prototype.callRejected=function(S){a.reject(this.promise,S)},h.prototype.otherCallRejected=function(S){p(this.promise,this.onRejected,S)};function p(S,E,T){o(function(){var M;try{M=E(T)}catch(W){return a.reject(S,W)}M===S?a.reject(S,new TypeError("Cannot resolve promise with itself")):a.resolve(S,M)})}a.resolve=function(S,E){var T=b(v,E);if(T.status==="error")return a.reject(S,T.value);var M=T.value;if(M)g(S,M);else{S.state=c,S.outcome=E;for(var W=-1,F=S.queue.length;++W<F;)S.queue[W].callFulfilled(E)}return S},a.reject=function(S,E){S.state=l,S.outcome=E;for(var T=-1,M=S.queue.length;++T<M;)S.queue[T].callRejected(E);return S};function v(S){var E=S&&S.then;if(S&&(typeof S=="object"||typeof S=="function")&&typeof E=="function")return function(){E.apply(S,arguments)}}function g(S,E){var T=!1;function M(G){T||(T=!0,a.reject(S,G))}function W(G){T||(T=!0,a.resolve(S,G))}function F(){E(W,M)}var L=b(F);L.status==="error"&&M(L.value)}function b(S,E){var T={};try{T.value=S(E),T.status="success"}catch(M){T.status="error",T.value=M}return T}f.resolve=m;function m(S){return S instanceof this?S:a.resolve(new this(s),S)}f.reject=y;function y(S){var E=new this(s);return a.reject(E,S)}f.all=x;function x(S){var E=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=S.length,M=!1;if(!T)return this.resolve([]);for(var W=new Array(T),F=0,L=-1,G=new this(s);++L<T;)z(S[L],L);return G;function z(H,J){E.resolve(H).then(I,function(U){M||(M=!0,a.reject(G,U))});function I(U){W[J]=U,++F===T&&!M&&(M=!0,a.resolve(G,W))}}}f.race=k;function k(S){var E=this;if(Object.prototype.toString.call(S)!=="[object Array]")return this.reject(new TypeError("must be an array"));var T=S.length,M=!1;if(!T)return this.resolve([]);for(var W=-1,F=new this(s);++W<T;)L(S[W]);return F;function L(G){E.resolve(G).then(function(z){M||(M=!0,a.resolve(F,z))},function(z){M||(M=!0,a.reject(F,z))})}}},{1:1}],3:[function(n,r,i){(function(o){typeof o.Promise!="function"&&(o.Promise=n(2))}).call(this,typeof ao<"u"?ao:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X};function s(X,ue){if(!(X instanceof ue))throw new TypeError("Cannot call a class as a function")}function a(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch(X){return}}var l=a();function c(){try{if(!l||!l.open)return!1;var X=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),ue=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!X||ue)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch(te){return!1}}function u(X,ue){X=X||[],ue=ue||{};try{return new Blob(X,ue)}catch(me){if(me.name!=="TypeError")throw me;for(var te=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,de=new te,Ee=0;Ee<X.length;Ee+=1)de.append(X[Ee]);return de.getBlob(ue.type)}}typeof Promise>"u"&&n(3);var f=Promise;function h(X,ue){ue&&X.then(function(te){ue(null,te)},function(te){ue(te)})}function p(X,ue,te){typeof ue=="function"&&X.then(ue),typeof te=="function"&&X.catch(te)}function v(X){return typeof X!="string"&&(console.warn(X+" used as a key, but it is not a string."),X=String(X)),X}function g(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var b="local-forage-detect-blob-support",m=void 0,y={},x=Object.prototype.toString,k="readonly",S="readwrite";function E(X){for(var ue=X.length,te=new ArrayBuffer(ue),de=new Uint8Array(te),Ee=0;Ee<ue;Ee++)de[Ee]=X.charCodeAt(Ee);return te}function T(X){return new f(function(ue){var te=X.transaction(b,S),de=u([""]);te.objectStore(b).put(de,"key"),te.onabort=function(Ee){Ee.preventDefault(),Ee.stopPropagation(),ue(!1)},te.oncomplete=function(){var Ee=navigator.userAgent.match(/Chrome\/(\d+)/),me=navigator.userAgent.match(/Edge\//);ue(me||!Ee||parseInt(Ee[1],10)>=43)}}).catch(function(){return!1})}function M(X){return typeof m=="boolean"?f.resolve(m):T(X).then(function(ue){return m=ue,m})}function W(X){var ue=y[X.name],te={};te.promise=new f(function(de,Ee){te.resolve=de,te.reject=Ee}),ue.deferredOperations.push(te),ue.dbReady?ue.dbReady=ue.dbReady.then(function(){return te.promise}):ue.dbReady=te.promise}function F(X){var ue=y[X.name],te=ue.deferredOperations.pop();if(te)return te.resolve(),te.promise}function L(X,ue){var te=y[X.name],de=te.deferredOperations.pop();if(de)return de.reject(ue),de.promise}function G(X,ue){return new f(function(te,de){if(y[X.name]=y[X.name]||ie(),X.db)if(ue)W(X),X.db.close();else return te(X.db);var Ee=[X.name];ue&&Ee.push(X.version);var me=l.open.apply(l,Ee);ue&&(me.onupgradeneeded=function(Be){var Qe=me.result;try{Qe.createObjectStore(X.storeName),Be.oldVersion<=1&&Qe.createObjectStore(b)}catch(et){if(et.name==="ConstraintError")console.warn('The database "'+X.name+'" has been upgraded from version '+Be.oldVersion+" to version "+Be.newVersion+', but the storage "'+X.storeName+'" already exists.');else throw et}}),me.onerror=function(Be){Be.preventDefault(),de(me.error)},me.onsuccess=function(){var Be=me.result;Be.onversionchange=function(Qe){Qe.target.close()},te(Be),F(X)}})}function z(X){return G(X,!1)}function H(X){return G(X,!0)}function J(X,ue){if(!X.db)return!0;var te=!X.db.objectStoreNames.contains(X.storeName),de=X.version<X.db.version,Ee=X.version>X.db.version;if(de&&(X.version!==ue&&console.warn('The database "'+X.name+"\" can't be downgraded from version "+X.db.version+" to version "+X.version+"."),X.version=X.db.version),Ee||te){if(te){var me=X.db.version+1;me>X.version&&(X.version=me)}return!0}return!1}function I(X){return new f(function(ue,te){var de=new FileReader;de.onerror=te,de.onloadend=function(Ee){var me=btoa(Ee.target.result||"");ue({__local_forage_encoded_blob:!0,data:me,type:X.type})},de.readAsBinaryString(X)})}function U(X){var ue=E(atob(X.data));return u([ue],{type:X.type})}function O(X){return X&&X.__local_forage_encoded_blob}function D(X){var ue=this,te=ue._initReady().then(function(){var de=y[ue._dbInfo.name];if(de&&de.dbReady)return de.dbReady});return p(te,X,X),te}function $(X){W(X);for(var ue=y[X.name],te=ue.forages,de=0;de<te.length;de++){var Ee=te[de];Ee._dbInfo.db&&(Ee._dbInfo.db.close(),Ee._dbInfo.db=null)}return X.db=null,z(X).then(function(me){return X.db=me,J(X)?H(X):me}).then(function(me){X.db=ue.db=me;for(var Be=0;Be<te.length;Be++)te[Be]._dbInfo.db=me}).catch(function(me){throw L(X,me),me})}function Y(X,ue,te,de){de===void 0&&(de=1);try{var Ee=X.db.transaction(X.storeName,ue);te(null,Ee)}catch(me){if(de>0&&(!X.db||me.name==="InvalidStateError"||me.name==="NotFoundError"))return f.resolve().then(function(){if(!X.db||me.name==="NotFoundError"&&!X.db.objectStoreNames.contains(X.storeName)&&X.version<=X.db.version)return X.db&&(X.version=X.db.version+1),H(X)}).then(function(){return $(X).then(function(){Y(X,ue,te,de-1)})}).catch(te);te(me)}}function ie(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function ae(X){var ue=this,te={db:null};if(X)for(var de in X)te[de]=X[de];var Ee=y[te.name];Ee||(Ee=ie(),y[te.name]=Ee),Ee.forages.push(ue),ue._initReady||(ue._initReady=ue.ready,ue.ready=D);var me=[];function Be(){return f.resolve()}for(var Qe=0;Qe<Ee.forages.length;Qe++){var et=Ee.forages[Qe];et!==ue&&me.push(et._initReady().catch(Be))}var Ze=Ee.forages.slice(0);return f.all(me).then(function(){return te.db=Ee.db,z(te)}).then(function(ut){return te.db=ut,J(te,ue._defaultConfig.version)?H(te):ut}).then(function(ut){te.db=Ee.db=ut,ue._dbInfo=te;for(var Et=0;Et<Ze.length;Et++){var Kt=Ze[Et];Kt!==ue&&(Kt._dbInfo.db=te.db,Kt._dbInfo.version=te.version)}})}function xe(X,ue){var te=this;X=v(X);var de=new f(function(Ee,me){te.ready().then(function(){Y(te._dbInfo,k,function(Be,Qe){if(Be)return me(Be);try{var et=Qe.objectStore(te._dbInfo.storeName),Ze=et.get(X);Ze.onsuccess=function(){var ut=Ze.result;ut===void 0&&(ut=null),O(ut)&&(ut=U(ut)),Ee(ut)},Ze.onerror=function(){me(Ze.error)}}catch(ut){me(ut)}})}).catch(me)});return h(de,ue),de}function ke(X,ue){var te=this,de=new f(function(Ee,me){te.ready().then(function(){Y(te._dbInfo,k,function(Be,Qe){if(Be)return me(Be);try{var et=Qe.objectStore(te._dbInfo.storeName),Ze=et.openCursor(),ut=1;Ze.onsuccess=function(){var Et=Ze.result;if(Et){var Kt=Et.value;O(Kt)&&(Kt=U(Kt));var cn=X(Kt,Et.key,ut++);cn!==void 0?Ee(cn):Et.continue()}else Ee()},Ze.onerror=function(){me(Ze.error)}}catch(Et){me(Et)}})}).catch(me)});return h(de,ue),de}function Ne(X,ue,te){var de=this;X=v(X);var Ee=new f(function(me,Be){var Qe;de.ready().then(function(){return Qe=de._dbInfo,x.call(ue)==="[object Blob]"?M(Qe.db).then(function(et){return et?ue:I(ue)}):ue}).then(function(et){Y(de._dbInfo,S,function(Ze,ut){if(Ze)return Be(Ze);try{var Et=ut.objectStore(de._dbInfo.storeName);et===null&&(et=void 0);var Kt=Et.put(et,X);ut.oncomplete=function(){et===void 0&&(et=null),me(et)},ut.onabort=ut.onerror=function(){var cn=Kt.error?Kt.error:Kt.transaction.error;Be(cn)}}catch(cn){Be(cn)}})}).catch(Be)});return h(Ee,te),Ee}function V(X,ue){var te=this;X=v(X);var de=new f(function(Ee,me){te.ready().then(function(){Y(te._dbInfo,S,function(Be,Qe){if(Be)return me(Be);try{var et=Qe.objectStore(te._dbInfo.storeName),Ze=et.delete(X);Qe.oncomplete=function(){Ee()},Qe.onerror=function(){me(Ze.error)},Qe.onabort=function(){var ut=Ze.error?Ze.error:Ze.transaction.error;me(ut)}}catch(ut){me(ut)}})}).catch(me)});return h(de,ue),de}function Q(X){var ue=this,te=new f(function(de,Ee){ue.ready().then(function(){Y(ue._dbInfo,S,function(me,Be){if(me)return Ee(me);try{var Qe=Be.objectStore(ue._dbInfo.storeName),et=Qe.clear();Be.oncomplete=function(){de()},Be.onabort=Be.onerror=function(){var Ze=et.error?et.error:et.transaction.error;Ee(Ze)}}catch(Ze){Ee(Ze)}})}).catch(Ee)});return h(te,X),te}function re(X){var ue=this,te=new f(function(de,Ee){ue.ready().then(function(){Y(ue._dbInfo,k,function(me,Be){if(me)return Ee(me);try{var Qe=Be.objectStore(ue._dbInfo.storeName),et=Qe.count();et.onsuccess=function(){de(et.result)},et.onerror=function(){Ee(et.error)}}catch(Ze){Ee(Ze)}})}).catch(Ee)});return h(te,X),te}function Pe(X,ue){var te=this,de=new f(function(Ee,me){if(X<0){Ee(null);return}te.ready().then(function(){Y(te._dbInfo,k,function(Be,Qe){if(Be)return me(Be);try{var et=Qe.objectStore(te._dbInfo.storeName),Ze=!1,ut=et.openKeyCursor();ut.onsuccess=function(){var Et=ut.result;if(!Et){Ee(null);return}X===0||Ze?Ee(Et.key):(Ze=!0,Et.advance(X))},ut.onerror=function(){me(ut.error)}}catch(Et){me(Et)}})}).catch(me)});return h(de,ue),de}function Ye(X){var ue=this,te=new f(function(de,Ee){ue.ready().then(function(){Y(ue._dbInfo,k,function(me,Be){if(me)return Ee(me);try{var Qe=Be.objectStore(ue._dbInfo.storeName),et=Qe.openKeyCursor(),Ze=[];et.onsuccess=function(){var ut=et.result;if(!ut){de(Ze);return}Ze.push(ut.key),ut.continue()},et.onerror=function(){Ee(et.error)}}catch(ut){Ee(ut)}})}).catch(Ee)});return h(te,X),te}function ze(X,ue){ue=g.apply(this,arguments);var te=this.config();X=typeof X!="function"&&X||{},X.name||(X.name=X.name||te.name,X.storeName=X.storeName||te.storeName);var de=this,Ee;if(!X.name)Ee=f.reject("Invalid arguments");else{var me=X.name===te.name&&de._dbInfo.db,Be=me?f.resolve(de._dbInfo.db):z(X).then(function(Qe){var et=y[X.name],Ze=et.forages;et.db=Qe;for(var ut=0;ut<Ze.length;ut++)Ze[ut]._dbInfo.db=Qe;return Qe});X.storeName?Ee=Be.then(function(Qe){if(Qe.objectStoreNames.contains(X.storeName)){var et=Qe.version+1;W(X);var Ze=y[X.name],ut=Ze.forages;Qe.close();for(var Et=0;Et<ut.length;Et++){var Kt=ut[Et];Kt._dbInfo.db=null,Kt._dbInfo.version=et}var cn=new f(function(yn,rr){var Pt=l.open(X.name,et);Pt.onerror=function(Qr){var tc=Pt.result;tc.close(),rr(Qr)},Pt.onupgradeneeded=function(){var Qr=Pt.result;Qr.deleteObjectStore(X.storeName)},Pt.onsuccess=function(){var Qr=Pt.result;Qr.close(),yn(Qr)}});return cn.then(function(yn){Ze.db=yn;for(var rr=0;rr<ut.length;rr++){var Pt=ut[rr];Pt._dbInfo.db=yn,F(Pt._dbInfo)}}).catch(function(yn){throw(L(X,yn)||f.resolve()).catch(function(){}),yn})}}):Ee=Be.then(function(Qe){W(X);var et=y[X.name],Ze=et.forages;Qe.close();for(var ut=0;ut<Ze.length;ut++){var Et=Ze[ut];Et._dbInfo.db=null}var Kt=new f(function(cn,yn){var rr=l.deleteDatabase(X.name);rr.onerror=function(){var Pt=rr.result;Pt&&Pt.close(),yn(rr.error)},rr.onblocked=function(){console.warn('dropInstance blocked for database "'+X.name+'" until all open connections are closed')},rr.onsuccess=function(){var Pt=rr.result;Pt&&Pt.close(),cn(Pt)}});return Kt.then(function(cn){et.db=cn;for(var yn=0;yn<Ze.length;yn++){var rr=Ze[yn];F(rr._dbInfo)}}).catch(function(cn){throw(L(X,cn)||f.resolve()).catch(function(){}),cn})})}return h(Ee,ue),Ee}var se={_driver:"asyncStorage",_initStorage:ae,_support:c(),iterate:ke,getItem:xe,setItem:Ne,removeItem:V,clear:Q,length:re,key:Pe,keys:Ye,dropInstance:ze};function fe(){return typeof openDatabase=="function"}var je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ve="~~local_forage_type~",qe=/^~~local_forage_type~([^~]+)~/,Je="__lfsc__:",pe=Je.length,We="arbf",Ge="blob",Fe="si08",Ot="ui08",An="uic8",It="si16",mn="si32",q="ur16",A="ui32",R="fl32",ee="fl64",he=pe+We.length,Re=Object.prototype.toString;function He(X){var ue=X.length*.75,te=X.length,de,Ee=0,me,Be,Qe,et;X[X.length-1]==="="&&(ue--,X[X.length-2]==="="&&ue--);var Ze=new ArrayBuffer(ue),ut=new Uint8Array(Ze);for(de=0;de<te;de+=4)me=je.indexOf(X[de]),Be=je.indexOf(X[de+1]),Qe=je.indexOf(X[de+2]),et=je.indexOf(X[de+3]),ut[Ee++]=me<<2|Be>>4,ut[Ee++]=(Be&15)<<4|Qe>>2,ut[Ee++]=(Qe&3)<<6|et&63;return Ze}function Mt(X){var ue=new Uint8Array(X),te="",de;for(de=0;de<ue.length;de+=3)te+=je[ue[de]>>2],te+=je[(ue[de]&3)<<4|ue[de+1]>>4],te+=je[(ue[de+1]&15)<<2|ue[de+2]>>6],te+=je[ue[de+2]&63];return ue.length%3===2?te=te.substring(0,te.length-1)+"=":ue.length%3===1&&(te=te.substring(0,te.length-2)+"=="),te}function on(X,ue){var te="";if(X&&(te=Re.call(X)),X&&(te==="[object ArrayBuffer]"||X.buffer&&Re.call(X.buffer)==="[object ArrayBuffer]")){var de,Ee=Je;X instanceof ArrayBuffer?(de=X,Ee+=We):(de=X.buffer,te==="[object Int8Array]"?Ee+=Fe:te==="[object Uint8Array]"?Ee+=Ot:te==="[object Uint8ClampedArray]"?Ee+=An:te==="[object Int16Array]"?Ee+=It:te==="[object Uint16Array]"?Ee+=q:te==="[object Int32Array]"?Ee+=mn:te==="[object Uint32Array]"?Ee+=A:te==="[object Float32Array]"?Ee+=R:te==="[object Float64Array]"?Ee+=ee:ue(new Error("Failed to get type for BinaryArray"))),ue(Ee+Mt(de))}else if(te==="[object Blob]"){var me=new FileReader;me.onload=function(){var Be=Ve+X.type+"~"+Mt(this.result);ue(Je+Ge+Be)},me.readAsArrayBuffer(X)}else try{ue(JSON.stringify(X))}catch(Be){console.error("Couldn't convert value into a JSON string: ",X),ue(null,Be)}}function lt(X){if(X.substring(0,pe)!==Je)return JSON.parse(X);var ue=X.substring(he),te=X.substring(pe,he),de;if(te===Ge&&qe.test(ue)){var Ee=ue.match(qe);de=Ee[1],ue=ue.substring(Ee[0].length)}var me=He(ue);switch(te){case We:return me;case Ge:return u([me],{type:de});case Fe:return new Int8Array(me);case Ot:return new Uint8Array(me);case An:return new Uint8ClampedArray(me);case It:return new Int16Array(me);case q:return new Uint16Array(me);case mn:return new Int32Array(me);case A:return new Uint32Array(me);case R:return new Float32Array(me);case ee:return new Float64Array(me);default:throw new Error("Unkown type: "+te)}}var ln={serialize:on,deserialize:lt,stringToBuffer:He,bufferToString:Mt};function zt(X,ue,te,de){X.executeSql("CREATE TABLE IF NOT EXISTS "+ue.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],te,de)}function Bo(X){var ue=this,te={db:null};if(X)for(var de in X)te[de]=typeof X[de]!="string"?X[de].toString():X[de];var Ee=new f(function(me,Be){try{te.db=openDatabase(te.name,String(te.version),te.description,te.size)}catch(Qe){return Be(Qe)}te.db.transaction(function(Qe){zt(Qe,te,function(){ue._dbInfo=te,me()},function(et,Ze){Be(Ze)})},Be)});return te.serializer=ln,Ee}function ct(X,ue,te,de,Ee,me){X.executeSql(te,de,Ee,function(Be,Qe){Qe.code===Qe.SYNTAX_ERR?Be.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[ue.storeName],function(et,Ze){Ze.rows.length?me(et,Qe):zt(et,ue,function(){et.executeSql(te,de,Ee,me)},me)},me):me(Be,Qe)},me)}function bs(X,ue){var te=this;X=v(X);var de=new f(function(Ee,me){te.ready().then(function(){var Be=te._dbInfo;Be.db.transaction(function(Qe){ct(Qe,Be,"SELECT * FROM "+Be.storeName+" WHERE key = ? LIMIT 1",[X],function(et,Ze){var ut=Ze.rows.length?Ze.rows.item(0).value:null;ut&&(ut=Be.serializer.deserialize(ut)),Ee(ut)},function(et,Ze){me(Ze)})})}).catch(me)});return h(de,ue),de}function _s(X,ue){var te=this,de=new f(function(Ee,me){te.ready().then(function(){var Be=te._dbInfo;Be.db.transaction(function(Qe){ct(Qe,Be,"SELECT * FROM "+Be.storeName,[],function(et,Ze){for(var ut=Ze.rows,Et=ut.length,Kt=0;Kt<Et;Kt++){var cn=ut.item(Kt),yn=cn.value;if(yn&&(yn=Be.serializer.deserialize(yn)),yn=X(yn,cn.key,Kt+1),yn!==void 0){Ee(yn);return}}Ee()},function(et,Ze){me(Ze)})})}).catch(me)});return h(de,ue),de}function ks(X,ue,te,de){var Ee=this;X=v(X);var me=new f(function(Be,Qe){Ee.ready().then(function(){ue===void 0&&(ue=null);var et=ue,Ze=Ee._dbInfo;Ze.serializer.serialize(ue,function(ut,Et){Et?Qe(Et):Ze.db.transaction(function(Kt){ct(Kt,Ze,"INSERT OR REPLACE INTO "+Ze.storeName+" (key, value) VALUES (?, ?)",[X,ut],function(){Be(et)},function(cn,yn){Qe(yn)})},function(Kt){if(Kt.code===Kt.QUOTA_ERR){if(de>0){Be(ks.apply(Ee,[X,et,te,de-1]));return}Qe(Kt)}})})}).catch(Qe)});return h(me,te),me}function oa(X,ue,te){return ks.apply(this,[X,ue,te,1])}function zo(X,ue){var te=this;X=v(X);var de=new f(function(Ee,me){te.ready().then(function(){var Be=te._dbInfo;Be.db.transaction(function(Qe){ct(Qe,Be,"DELETE FROM "+Be.storeName+" WHERE key = ?",[X],function(){Ee()},function(et,Ze){me(Ze)})})}).catch(me)});return h(de,ue),de}function Qa(X){var ue=this,te=new f(function(de,Ee){ue.ready().then(function(){var me=ue._dbInfo;me.db.transaction(function(Be){ct(Be,me,"DELETE FROM "+me.storeName,[],function(){de()},function(Qe,et){Ee(et)})})}).catch(Ee)});return h(te,X),te}function Z(X){var ue=this,te=new f(function(de,Ee){ue.ready().then(function(){var me=ue._dbInfo;me.db.transaction(function(Be){ct(Be,me,"SELECT COUNT(key) as c FROM "+me.storeName,[],function(Qe,et){var Ze=et.rows.item(0).c;de(Ze)},function(Qe,et){Ee(et)})})}).catch(Ee)});return h(te,X),te}function oe(X,ue){var te=this,de=new f(function(Ee,me){te.ready().then(function(){var Be=te._dbInfo;Be.db.transaction(function(Qe){ct(Qe,Be,"SELECT key FROM "+Be.storeName+" WHERE id = ? LIMIT 1",[X+1],function(et,Ze){var ut=Ze.rows.length?Ze.rows.item(0).key:null;Ee(ut)},function(et,Ze){me(Ze)})})}).catch(me)});return h(de,ue),de}function nt(X){var ue=this,te=new f(function(de,Ee){ue.ready().then(function(){var me=ue._dbInfo;me.db.transaction(function(Be){ct(Be,me,"SELECT key FROM "+me.storeName,[],function(Qe,et){for(var Ze=[],ut=0;ut<et.rows.length;ut++)Ze.push(et.rows.item(ut).key);de(Ze)},function(Qe,et){Ee(et)})})}).catch(Ee)});return h(te,X),te}function at(X){return new f(function(ue,te){X.transaction(function(de){de.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Ee,me){for(var Be=[],Qe=0;Qe<me.rows.length;Qe++)Be.push(me.rows.item(Qe).name);ue({db:X,storeNames:Be})},function(Ee,me){te(me)})},function(de){te(de)})})}function yt(X,ue){ue=g.apply(this,arguments);var te=this.config();X=typeof X!="function"&&X||{},X.name||(X.name=X.name||te.name,X.storeName=X.storeName||te.storeName);var de=this,Ee;return X.name?Ee=new f(function(me){var Be;X.name===te.name?Be=de._dbInfo.db:Be=openDatabase(X.name,"","",0),X.storeName?me({db:Be,storeNames:[X.storeName]}):me(at(Be))}).then(function(me){return new f(function(Be,Qe){me.db.transaction(function(et){function Ze(cn){return new f(function(yn,rr){et.executeSql("DROP TABLE IF EXISTS "+cn,[],function(){yn()},function(Pt,Qr){rr(Qr)})})}for(var ut=[],Et=0,Kt=me.storeNames.length;Et<Kt;Et++)ut.push(Ze(me.storeNames[Et]));f.all(ut).then(function(){Be()}).catch(function(cn){Qe(cn)})},function(et){Qe(et)})})}):Ee=f.reject("Invalid arguments"),h(Ee,ue),Ee}var Lt={_driver:"webSQLStorage",_initStorage:Bo,_support:fe(),iterate:_s,getItem:bs,setItem:oa,removeItem:zo,clear:Qa,length:Z,key:oe,keys:nt,dropInstance:yt};function un(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch(X){return!1}}function sa(X,ue){var te=X.name+"/";return X.storeName!==ue.storeName&&(te+=X.storeName+"/"),te}function Xr(){var X="_localforage_support_test";try{return localStorage.setItem(X,!0),localStorage.removeItem(X),!1}catch(ue){return!0}}function Ho(){return!Xr()||localStorage.length>0}function Ss(X){var ue=this,te={};if(X)for(var de in X)te[de]=X[de];return te.keyPrefix=sa(X,ue._defaultConfig),Ho()?(ue._dbInfo=te,te.serializer=ln,f.resolve()):f.reject()}function Za(X){var ue=this,te=ue.ready().then(function(){for(var de=ue._dbInfo.keyPrefix,Ee=localStorage.length-1;Ee>=0;Ee--){var me=localStorage.key(Ee);me.indexOf(de)===0&&localStorage.removeItem(me)}});return h(te,X),te}function vi(X,ue){var te=this;X=v(X);var de=te.ready().then(function(){var Ee=te._dbInfo,me=localStorage.getItem(Ee.keyPrefix+X);return me&&(me=Ee.serializer.deserialize(me)),me});return h(de,ue),de}function yi(X,ue){var te=this,de=te.ready().then(function(){for(var Ee=te._dbInfo,me=Ee.keyPrefix,Be=me.length,Qe=localStorage.length,et=1,Ze=0;Ze<Qe;Ze++){var ut=localStorage.key(Ze);if(ut.indexOf(me)===0){var Et=localStorage.getItem(ut);if(Et&&(Et=Ee.serializer.deserialize(Et)),Et=X(Et,ut.substring(Be),et++),Et!==void 0)return Et}}});return h(de,ue),de}function zr(X,ue){var te=this,de=te.ready().then(function(){var Ee=te._dbInfo,me;try{me=localStorage.key(X)}catch(Be){me=null}return me&&(me=me.substring(Ee.keyPrefix.length)),me});return h(de,ue),de}function Qi(X){var ue=this,te=ue.ready().then(function(){for(var de=ue._dbInfo,Ee=localStorage.length,me=[],Be=0;Be<Ee;Be++){var Qe=localStorage.key(Be);Qe.indexOf(de.keyPrefix)===0&&me.push(Qe.substring(de.keyPrefix.length))}return me});return h(te,X),te}function Wo(X){var ue=this,te=ue.keys().then(function(de){return de.length});return h(te,X),te}function wr(X,ue){var te=this;X=v(X);var de=te.ready().then(function(){var Ee=te._dbInfo;localStorage.removeItem(Ee.keyPrefix+X)});return h(de,ue),de}function Jr(X,ue,te){var de=this;X=v(X);var Ee=de.ready().then(function(){ue===void 0&&(ue=null);var me=ue;return new f(function(Be,Qe){var et=de._dbInfo;et.serializer.serialize(ue,function(Ze,ut){if(ut)Qe(ut);else try{localStorage.setItem(et.keyPrefix+X,Ze),Be(me)}catch(Et){(Et.name==="QuotaExceededError"||Et.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Qe(Et),Qe(Et)}})})});return h(Ee,te),Ee}function Uo(X,ue){if(ue=g.apply(this,arguments),X=typeof X!="function"&&X||{},!X.name){var te=this.config();X.name=X.name||te.name,X.storeName=X.storeName||te.storeName}var de=this,Ee;return X.name?Ee=new f(function(me){X.storeName?me(sa(X,de._defaultConfig)):me(X.name+"/")}).then(function(me){for(var Be=localStorage.length-1;Be>=0;Be--){var Qe=localStorage.key(Be);Qe.indexOf(me)===0&&localStorage.removeItem(Qe)}}):Ee=f.reject("Invalid arguments"),h(Ee,ue),Ee}var gu={_driver:"localStorageWrapper",_initStorage:Ss,_support:un(),iterate:yi,getItem:vi,setItem:Jr,removeItem:wr,clear:Za,length:Wo,key:zr,keys:Qi,dropInstance:Uo},Zl=function(ue,te){return ue===te||typeof ue=="number"&&typeof te=="number"&&isNaN(ue)&&isNaN(te)},Tn=function(ue,te){for(var de=ue.length,Ee=0;Ee<de;){if(Zl(ue[Ee],te))return!0;Ee++}return!1},_o=Array.isArray||function(X){return Object.prototype.toString.call(X)==="[object Array]"},Hr={},ec={},xi={INDEXEDDB:se,WEBSQL:Lt,LOCALSTORAGE:gu},el=[xi.INDEXEDDB._driver,xi.WEBSQL._driver,xi.LOCALSTORAGE._driver],Es=["dropInstance"],aa=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(Es),ko={description:"",driver:el.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function vu(X,ue){X[ue]=function(){var te=arguments;return X.ready().then(function(){return X[ue].apply(X,te)})}}function Cs(){for(var X=1;X<arguments.length;X++){var ue=arguments[X];if(ue)for(var te in ue)ue.hasOwnProperty(te)&&(_o(ue[te])?arguments[0][te]=ue[te].slice():arguments[0][te]=ue[te])}return arguments[0]}var yu=function(){function X(ue){s(this,X);for(var te in xi)if(xi.hasOwnProperty(te)){var de=xi[te],Ee=de._driver;this[te]=Ee,Hr[Ee]||this.defineDriver(de)}this._defaultConfig=Cs({},ko),this._config=Cs({},this._defaultConfig,ue),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return X.prototype.config=function(te){if((typeof te>"u"?"undefined":o(te))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var de in te){if(de==="storeName"&&(te[de]=te[de].replace(/\W/g,"_")),de==="version"&&typeof te[de]!="number")return new Error("Database version must be a number.");this._config[de]=te[de]}return"driver"in te&&te.driver?this.setDriver(this._config.driver):!0}else return typeof te=="string"?this._config[te]:this._config},X.prototype.defineDriver=function(te,de,Ee){var me=new f(function(Be,Qe){try{var et=te._driver,Ze=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!te._driver){Qe(Ze);return}for(var ut=aa.concat("_initStorage"),Et=0,Kt=ut.length;Et<Kt;Et++){var cn=ut[Et],yn=!Tn(Es,cn);if((yn||te[cn])&&typeof te[cn]!="function"){Qe(Ze);return}}var rr=function(){for(var tc=function(Ns){return function(){var _m=new Error("Method "+Ns+" is not implemented by the current driver"),xf=f.reject(_m);return h(xf,arguments[arguments.length-1]),xf}},vf=0,wi=Es.length;vf<wi;vf++){var js=Es[vf];te[js]||(te[js]=tc(js))}};rr();var Pt=function(tc){Hr[et]&&console.info("Redefining LocalForage driver: "+et),Hr[et]=te,ec[et]=tc,Be()};"_support"in te?te._support&&typeof te._support=="function"?te._support().then(Pt,Qe):Pt(!!te._support):Pt(!0)}catch(Qr){Qe(Qr)}});return p(me,de,Ee),me},X.prototype.driver=function(){return this._driver||null},X.prototype.getDriver=function(te,de,Ee){var me=Hr[te]?f.resolve(Hr[te]):f.reject(new Error("Driver not found."));return p(me,de,Ee),me},X.prototype.getSerializer=function(te){var de=f.resolve(ln);return p(de,te),de},X.prototype.ready=function(te){var de=this,Ee=de._driverSet.then(function(){return de._ready===null&&(de._ready=de._initDriver()),de._ready});return p(Ee,te,te),Ee},X.prototype.setDriver=function(te,de,Ee){var me=this;_o(te)||(te=[te]);var Be=this._getSupportedDrivers(te);function Qe(){me._config.driver=me.driver()}function et(Et){return me._extend(Et),Qe(),me._ready=me._initStorage(me._config),me._ready}function Ze(Et){return function(){var Kt=0;function cn(){for(;Kt<Et.length;){var yn=Et[Kt];return Kt++,me._dbInfo=null,me._ready=null,me.getDriver(yn).then(et).catch(cn)}Qe();var rr=new Error("No available storage method found.");return me._driverSet=f.reject(rr),me._driverSet}return cn()}}var ut=this._driverSet!==null?this._driverSet.catch(function(){return f.resolve()}):f.resolve();return this._driverSet=ut.then(function(){var Et=Be[0];return me._dbInfo=null,me._ready=null,me.getDriver(Et).then(function(Kt){me._driver=Kt._driver,Qe(),me._wrapLibraryMethodsWithReady(),me._initDriver=Ze(Be)})}).catch(function(){Qe();var Et=new Error("No available storage method found.");return me._driverSet=f.reject(Et),me._driverSet}),p(this._driverSet,de,Ee),this._driverSet},X.prototype.supports=function(te){return!!ec[te]},X.prototype._extend=function(te){Cs(this,te)},X.prototype._getSupportedDrivers=function(te){for(var de=[],Ee=0,me=te.length;Ee<me;Ee++){var Be=te[Ee];this.supports(Be)&&de.push(Be)}return de},X.prototype._wrapLibraryMethodsWithReady=function(){for(var te=0,de=aa.length;te<de;te++)vu(this,aa[te])},X.prototype.createInstance=function(te){return new X(te)},X}(),Zt=new yu;r.exports=Zt},{3:3}]},{},[4])(4)})})($P);var c9=$P.exports;const qv=qa(c9),tv={SecureStorage:"ionicSecureStorage",IndexedDB:qv.INDEXEDDB,LocalStorage:qv.LOCALSTORAGE},tN={name:"_ionicstorage",storeName:"_ionickv",dbKey:"_ionickey",driverOrder:[tv.SecureStorage,tv.IndexedDB,tv.LocalStorage]};let u9=class{constructor(t=tN){this._db=null,this._secureStorageDriver=null;const n=Object.assign({},tN,t||{});this._config=n}async create(){const t=qv.createInstance(this._config);return this._db=t,await t.setDriver(this._config.driverOrder||[]),this}async defineDriver(t){return t._driver===tv.SecureStorage&&(this._secureStorageDriver=t),qv.defineDriver(t)}get driver(){var t;return((t=this._db)===null||t===void 0?void 0:t.driver())||null}assertDb(){if(!this._db)throw new Error("Database not created. Must call create() first");return this._db}get(t){return this.assertDb().getItem(t)}set(t,n){return this.assertDb().setItem(t,n)}remove(t){return this.assertDb().removeItem(t)}clear(){return this.assertDb().clear()}length(){return this.assertDb().length()}keys(){return this.assertDb().keys()}forEach(t){return this.assertDb().iterate(t)}setEncryptionKey(t){var n;if(this._secureStorageDriver)(n=this._secureStorageDriver)===null||n===void 0||n.setEncryptionKey(t);else throw new Error("@ionic-enterprise/secure-storage not installed. Encryption support not available")}};class N0{constructor(t){Rs(this,"store");Rs(this,"isCreated",!1);this.store=new u9({name:t}),this.createStorage()}async createStorage(){await this.store.create(),this.isCreated=!0}get(t){return this.store.get(t)}set(t,n){return this.store.set(t,n)}remove(t){return this.store.remove(t)}clear(){return this.store.clear()}keys(){return this.store.keys()}length(){return this.store.length()}forEach(t){return this.store.forEach(t)}}const DP=new N0("settings"),di=new N0("auth"),Sn=new N0("sync"),Ch=new N0("misc"),d9={isLoggedIn:!1,user:null,synced_characters:[]},Er=Ya(d9),f9=async()=>{const e=await di.get("token");if(e){const t=Qd(e);Er.set({isLoggedIn:!0,user:t,synced_characters:t.synced_characters||[]})}},A0=async e=>{await di.set("token",e);const t=Qd(e);return Er.set({isLoggedIn:!0,user:t,synced_characters:t.synced_characters||[]}),t},nN=e=>{Er.set(t=>({...t,synced_characters:e})),Sn.set("synced_characters",e)};f9();function h9(e,t){const[n,r]=N.useState(null),i=N.useRef(null);return N.useEffect(()=>{let o=null;const s=()=>{if(e){if(o=document.querySelector(e),o){const a=o.getBoundingClientRect();r(l=>!l||JSON.stringify(l)!==JSON.stringify(a)?a:l)}i.current=requestAnimationFrame(s)}};return e&&s(),()=>{i.current&&cancelAnimationFrame(i.current)}},[e,t]),n}function p9(e,t){if(!e||t==="center")return{top:"50%",left:"50%",transform:"translate(-50%, -50%)"};const n=12;switch(t){case"top":return{top:"".concat(e.top-n,"px"),left:"".concat(e.left,"px"),transform:"translate(0, -100%)"};case"bottom":return{top:"".concat(e.bottom+n,"px"),left:"".concat(e.left,"px"),transform:"translate(0, 0)"};case"left":return{top:"".concat(e.top,"px"),left:"".concat(e.left-n,"px"),transform:"translate(-100%, 0)"};case"right":return{top:"".concat(e.top,"px"),left:"".concat(e.right+n,"px"),transform:"translate(0, 0)"};default:return{top:"".concat(e.bottom+n,"px"),left:"".concat(e.left,"px"),transform:"translate(0, 0)"}}}const m9=({steps:e,onFinish:t})=>{const[n,r]=N.useState(0),i=h9(e[n].selector,!0),o=su(),s=e[n],a=()=>{s.navTo&&o(s.navTo),n+1<e.length?r(n+1):t()};return i?pP.createPortal(d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 z-50 pointer-events-auto"}),d.jsx("div",{className:"fixed border-2 border-yellow-400 pointer-events-auto z-50 rounded-lg transition-all duration-300",style:{top:i.top+window.scrollY,left:i.left+window.scrollX,width:i.width,height:i.height}}),d.jsxs("div",{className:"fixed z-50 p-4 bg-white text-black rounded shadow-xl max-w-xs",style:p9(i,s.position||"bottom"),children:[d.jsx("p",{className:"mb-2",children:s.content}),!s.waitForClick&&d.jsx("button",{className:"bg-blue-500 text-white px-4 py-1 rounded",onClick:a,children:n+1<e.length?"Next":"Finish"})]})]}),document.body):null},g9=[{id:"step1",selector:"#nav-Home",content:"Welcome to the app! This is the home page, where you can see our latest news and updates.",position:"bottom"},{id:"step2",selector:"#nav-Characters",content:"This is the character manager, where you can create and manage your characters. You can also import characters from json files.",position:"bottom",navTo:"characters"},{id:"step3",selector:"#nav-Library",content:"Library is where you can find all the systems you have downloaded. You can also create your own systems here.",position:"bottom",navTo:"library"},{id:"step4",selector:"#nav-Settings",content:"And this is the settings page, where you can change your settings and preferences. You can also manage your account here.",position:"top",navTo:"settings"},{id:"step5",selector:"#nav-Marketplace",content:"This is the marketplace, where you can find systems to use. You can search for systems by name or filter by license type.",position:"bottom",navTo:"marketplace"}];/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v9=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),FP=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var y9={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=N.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:o,iconNode:s,...a},l)=>N.createElement("svg",{ref:l,...y9,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:FP("lucide",i),...a},[...s.map(([c,u])=>N.createElement(c,u)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const au=(e,t)=>{const n=N.forwardRef(({className:r,...i},o)=>N.createElement(x9,{ref:o,iconNode:t,className:FP("lucide-".concat(v9(e)),r),...i}));return n.displayName="".concat(e),n};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=au("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SS=au("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=au("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=au("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k9=au("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=au("Layers",[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LP=au("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),E9={success:"bg-green-600 text-white",error:"bg-red-600 text-white"},C9=({id:e,message:t,type:n="success",onClose:r})=>d.jsxs("div",{className:"rounded-lg shadow-lg px-4 py-3 flex items-center justify-between w-72 ".concat(E9[n]),children:[d.jsx("span",{children:t}),d.jsx("button",{onClick:r,children:d.jsx(LP,{className:"w-4 h-4 ml-2 opacity-80 hover:opacity-100"})})]}),Wr=[];for(let e=0;e<256;++e)Wr.push((e+256).toString(16).slice(1));function j9(e,t=0){return(Wr[e[t+0]]+Wr[e[t+1]]+Wr[e[t+2]]+Wr[e[t+3]]+"-"+Wr[e[t+4]]+Wr[e[t+5]]+"-"+Wr[e[t+6]]+Wr[e[t+7]]+"-"+Wr[e[t+8]]+Wr[e[t+9]]+"-"+Wr[e[t+10]]+Wr[e[t+11]]+Wr[e[t+12]]+Wr[e[t+13]]+Wr[e[t+14]]+Wr[e[t+15]]).toLowerCase()}let $w;const N9=new Uint8Array(16);function A9(){if(!$w){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");$w=crypto.getRandomValues.bind(crypto)}return $w(N9)}const T9=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),rN={randomUUID:T9};function ES(e,t,n){var i,o,s;if(rN.randomUUID&&!e)return rN.randomUUID();e=e||{};const r=(s=(o=e.random)!=null?o:(i=e.rng)==null?void 0:i.call(e))!=null?s:A9();if(r.length<16)throw new Error("Random bytes length must be >= 16");return r[6]=r[6]&15|64,r[8]=r[8]&63|128,j9(r)}const CS=Ya([]),BP=e=>{CS.set(t=>t.filter(n=>n.id!==e))},Un=(e,t="success",n=3e3)=>{const r=ES();CS.set(i=>[...i,{id:r,message:e,type:t}]),setTimeout(()=>BP(r),n)},R9=()=>{const e=CS.useValue();return d.jsx("div",{className:"fixed bottom-4 right-4 space-y-2 z-50",children:e.map(t=>d.jsx(C9,{...t,onClose:()=>BP(t.id)},t.id))})},iN={primary:"fantasy-accent-gradient text-fantasy-dark transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-fantasy-accent/40 border-none",light:"text-neutral-900 bg-white border-neutral-300 hover:bg-neutral-100 focus:ring-neutral-100 dark:bg-neutral-800 dark:text-white dark:border-neutral-600 dark:hover:bg-neutral-700 dark:hover:border-neutral-600 dark:focus:ring-neutral-700",danger:"border-red-600 text-red-600 font-semibold py-2 px-4 rounded-lg shadow-md hover:bg-red-600 hover:text-white focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2 transition",disabled:"border-neutral-600 bg-neutral-400 text-fantasy-text-muted cursor-not-allowed opacity-50"},kt=({children:e,className:t="",type:n="button",color:r,disabled:i=!1,onClick:o,id:s})=>d.jsx("button",{type:n,id:s,className:"".concat(i?iN.disabled:iN[r]," me-2.5 focus:ring-4 border focus:outline-none font-medium rounded-lg transition text-sm px-4 py-2 text-center ").concat(t),onClick:i?void 0:o,children:e}),Vn=({children:e,isOpen:t,onClose:n,className:r=""})=>d.jsx("div",{tabIndex:-1,"aria-hidden":"true",className:"".concat(t?"flex":"hidden"," bg-black/70 absolute top-0 right-0 left-0 bottom-0 z-50 justify-center items-center w-screen max-h-screen"),onClick:n,children:d.jsx("div",{className:"relative min-w-96 max-w-2xl",onClick:i=>i.stopPropagation(),children:d.jsx("div",{className:"relative rounded-lg shadow bg-fantasy-light border border-fantasy-border ".concat(r),children:e})})}),qn=({children:e,className:t=""})=>d.jsx("div",{className:t||"p-4 md:p-5 space-y-4 max-h-96 overflow-y-auto",children:e}),yr=({children:e})=>d.jsx("div",{className:"flex items-center p-4 md:p-5 border-t border-gray-200 rounded-b dark:border-neutral-700",children:e}),Kn=({title:e,onClose:t})=>d.jsxs("div",{className:"flex items-center justify-between p-4 md:p-5 border-b rounded-t dark:border-neutral-700",children:[d.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:e}),t&&d.jsxs("button",{type:"button",onClick:t,className:"text-neutral-400 bg-transparent hover:bg-neutral-200 hover:text-neutral-900 rounded-lg text-sm w-8 h-8 ms-auto inline-flex justify-center items-center dark:hover:bg-neutral-600 dark:hover:text-white","data-modal-hide":"default-modal",children:[d.jsx("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 14 14",children:d.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 6 6m0 0 6 6M7 7l6-6M7 7l-6 6"})}),d.jsx("span",{className:"sr-only",children:"Close modal"})]})]}),I9=({yes:e,no:t})=>d.jsxs(Vn,{isOpen:!0,onClose:t,children:[d.jsx(Kn,{title:"Welcome Adventurer",onClose:t}),d.jsx(qn,{children:d.jsxs("div",{className:"flex flex-col gap-2",children:[d.jsx("p",{children:"Welcome to BardsBallad we're a System Agnostic TTRPG Character Manager"}),d.jsx("p",{children:"Seems you're new here. Would you like to take a tour?"})]})}),d.jsxs(yr,{children:[d.jsx(kt,{color:"light",onClick:t,children:"No Thank You"}),d.jsx(kt,{color:"primary",onClick:e,children:"Yes Please!"})]})]}),en=N.forwardRef(({id:e,autoComplete:t,label:n,placeholder:r,value:i,onChange:o,isValid:s,errorMessage:a,style:l,minNumber:c,maxNumber:u,type:f="text"},h)=>{const p=s?"":"text-red-700 dark:text-red-500",v=s?"border border-neutral-600":"bg-red-50 border-red-500 text-red-900 placeholder-red-700 focus:ring-red-500 focus:border-red-500 dark:text-red-500 dark:placeholder-red-500 dark:border-red-500",g=s?"":"text-red-600 dark:text-red-500";return d.jsxs("div",{className:"mb-6",style:l,ref:h,children:[d.jsx("label",{htmlFor:e,className:"".concat(p," block mb-2 text-sm font-medium"),children:n}),d.jsx("input",{id:e,name:e,autoComplete:t,type:f,value:i,min:c,max:u,onChange:b=>o(b.target.value),placeholder:r,className:"".concat(v," text-sm rounded-lg block w-full p-2.5 dark:bg-neutral-700 dark:placeholder:text-neutral-300")}),d.jsx("p",{className:"".concat(g," mt-2 text-sm"),children:s?"":a})]})});function P9(){const e=navigator.userAgent,t=navigator.platform,n=navigator.language;return"Web-".concat(t,"-").concat(n,"-").concat(e.slice(0,15))}async function zP(){return P9()}var HP={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(ao,function(){var n=function(w,_){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,P){j.__proto__=P}||function(j,P){for(var B in P)Object.prototype.hasOwnProperty.call(P,B)&&(j[B]=P[B])})(w,_)},r=function(){return(r=Object.assign||function(w){for(var _,j=1,P=arguments.length;j<P;j++)for(var B in _=arguments[j])Object.prototype.hasOwnProperty.call(_,B)&&(w[B]=_[B]);return w}).apply(this,arguments)};function i(w,_,j){for(var P,B=0,K=_.length;B<K;B++)!P&&B in _||((P=P||Array.prototype.slice.call(_,0,B))[B]=_[B]);return w.concat(P||Array.prototype.slice.call(_))}var o=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:ao,s=Object.keys,a=Array.isArray;function l(w,_){return typeof _!="object"||s(_).forEach(function(j){w[j]=_[j]}),w}typeof Promise>"u"||o.Promise||(o.Promise=Promise);var c=Object.getPrototypeOf,u={}.hasOwnProperty;function f(w,_){return u.call(w,_)}function h(w,_){typeof _=="function"&&(_=_(c(w))),(typeof Reflect>"u"?s:Reflect.ownKeys)(_).forEach(function(j){v(w,j,_[j])})}var p=Object.defineProperty;function v(w,_,j,P){p(w,_,l(j&&f(j,"get")&&typeof j.get=="function"?{get:j.get,set:j.set,configurable:!0}:{value:j,configurable:!0,writable:!0},P))}function g(w){return{from:function(_){return w.prototype=Object.create(_.prototype),v(w.prototype,"constructor",w),{extend:h.bind(null,w.prototype)}}}}var b=Object.getOwnPropertyDescriptor,m=[].slice;function y(w,_,j){return m.call(w,_,j)}function x(w,_){return _(w)}function k(w){if(!w)throw new Error("Assertion Failed")}function S(w){o.setImmediate?setImmediate(w):setTimeout(w,0)}function E(w,_){if(typeof _=="string"&&f(w,_))return w[_];if(!_)return w;if(typeof _!="string"){for(var j=[],P=0,B=_.length;P<B;++P){var K=E(w,_[P]);j.push(K)}return j}var ne=_.indexOf(".");if(ne!==-1){var le=w[_.substr(0,ne)];return le==null?void 0:E(le,_.substr(ne+1))}}function T(w,_,j){if(w&&_!==void 0&&!("isFrozen"in Object&&Object.isFrozen(w)))if(typeof _!="string"&&"length"in _){k(typeof j!="string"&&"length"in j);for(var P=0,B=_.length;P<B;++P)T(w,_[P],j[P])}else{var K,ne,le=_.indexOf(".");le!==-1?(K=_.substr(0,le),(ne=_.substr(le+1))===""?j===void 0?a(w)&&!isNaN(parseInt(K))?w.splice(K,1):delete w[K]:w[K]=j:T(le=!(le=w[K])||!f(w,K)?w[K]={}:le,ne,j)):j===void 0?a(w)&&!isNaN(parseInt(_))?w.splice(_,1):delete w[_]:w[_]=j}}function M(w){var _,j={};for(_ in w)f(w,_)&&(j[_]=w[_]);return j}var W=[].concat;function F(w){return W.apply([],w)}var mn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(F([8,16,32,64].map(function(w){return["Int","Uint","Float"].map(function(_){return _+w+"Array"})}))).filter(function(w){return o[w]}),L=new Set(mn.map(function(w){return o[w]})),G=null;function z(w){return G=new WeakMap,w=function _(j){if(!j||typeof j!="object")return j;var P=G.get(j);if(P)return P;if(a(j)){P=[],G.set(j,P);for(var B=0,K=j.length;B<K;++B)P.push(_(j[B]))}else if(L.has(j.constructor))P=j;else{var ne,le=c(j);for(ne in P=le===Object.prototype?{}:Object.create(le),G.set(j,P),j)f(j,ne)&&(P[ne]=_(j[ne]))}return P}(w),G=null,w}var H={}.toString;function J(w){return H.call(w).slice(8,-1)}var I=typeof Symbol<"u"?Symbol.iterator:"@@iterator",U=typeof I=="symbol"?function(w){var _;return w!=null&&(_=w[I])&&_.apply(w)}:function(){return null};function O(w,_){return _=w.indexOf(_),0<=_&&w.splice(_,1),0<=_}var D={};function $(w){var _,j,P,B;if(arguments.length===1){if(a(w))return w.slice();if(this===D&&typeof w=="string")return[w];if(B=U(w)){for(j=[];!(P=B.next()).done;)j.push(P.value);return j}if(w==null)return[w];if(typeof(_=w.length)!="number")return[w];for(j=new Array(_);_--;)j[_]=w[_];return j}for(_=arguments.length,j=new Array(_);_--;)j[_]=arguments[_];return j}var Y=typeof Symbol<"u"?function(w){return w[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},It=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],So=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(It),ie={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function ae(w,_){this.name=w,this.message=_}function xe(w,_){return w+". Errors: "+Object.keys(_).map(function(j){return _[j].toString()}).filter(function(j,P,B){return B.indexOf(j)===P}).join("\n")}function ke(w,_,j,P){this.failures=_,this.failedKeys=P,this.successCount=j,this.message=xe(w,_)}function Ne(w,_){this.name="BulkError",this.failures=Object.keys(_).map(function(j){return _[j]}),this.failuresByPos=_,this.message=xe(w,this.failures)}g(ae).from(Error).extend({toString:function(){return this.name+": "+this.message}}),g(ke).from(ae),g(Ne).from(ae);var V=So.reduce(function(w,_){return w[_]=_+"Error",w},{}),Q=ae,re=So.reduce(function(w,_){var j=_+"Error";function P(B,K){this.name=j,B?typeof B=="string"?(this.message="".concat(B).concat(K?"\n "+K:""),this.inner=K||null):typeof B=="object"&&(this.message="".concat(B.name," ").concat(B.message),this.inner=B):(this.message=ie[_]||j,this.inner=null)}return g(P).from(Q),w[_]=P,w},{});re.Syntax=SyntaxError,re.Type=TypeError,re.Range=RangeError;var Pe=It.reduce(function(w,_){return w[_+"Error"]=re[_],w},{}),Ye=So.reduce(function(w,_){return["Syntax","Type","Range"].indexOf(_)===-1&&(w[_+"Error"]=re[_]),w},{});function ze(){}function se(w){return w}function fe(w,_){return w==null||w===se?_:function(j){return _(w(j))}}function je(w,_){return function(){w.apply(this,arguments),_.apply(this,arguments)}}function Ve(w,_){return w===ze?_:function(){var j=w.apply(this,arguments);j!==void 0&&(arguments[0]=j);var P=this.onsuccess,B=this.onerror;this.onsuccess=null,this.onerror=null;var K=_.apply(this,arguments);return P&&(this.onsuccess=this.onsuccess?je(P,this.onsuccess):P),B&&(this.onerror=this.onerror?je(B,this.onerror):B),K!==void 0?K:j}}function qe(w,_){return w===ze?_:function(){w.apply(this,arguments);var j=this.onsuccess,P=this.onerror;this.onsuccess=this.onerror=null,_.apply(this,arguments),j&&(this.onsuccess=this.onsuccess?je(j,this.onsuccess):j),P&&(this.onerror=this.onerror?je(P,this.onerror):P)}}function Je(w,_){return w===ze?_:function(j){var P=w.apply(this,arguments);l(j,P);var B=this.onsuccess,K=this.onerror;return this.onsuccess=null,this.onerror=null,j=_.apply(this,arguments),B&&(this.onsuccess=this.onsuccess?je(B,this.onsuccess):B),K&&(this.onerror=this.onerror?je(K,this.onerror):K),P===void 0?j===void 0?void 0:j:l(P,j)}}function pe(w,_){return w===ze?_:function(){return _.apply(this,arguments)!==!1&&w.apply(this,arguments)}}function We(w,_){return w===ze?_:function(){var j=w.apply(this,arguments);if(j&&typeof j.then=="function"){for(var P=this,B=arguments.length,K=new Array(B);B--;)K[B]=arguments[B];return j.then(function(){return _.apply(P,K)})}return _.apply(this,arguments)}}Ye.ModifyError=ke,Ye.DexieError=ae,Ye.BulkError=Ne;var Ge=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function Fe(w){Ge=w}var Ot={},An=100,mn=typeof Promise>"u"?[]:function(){var w=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[w,c(w),w];var _=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[_,c(_),w]}(),It=mn[0],So=mn[1],mn=mn[2],So=So&&So.then,q=It&&It.constructor,A=!!mn,R=function(w,_){ln.push([w,_]),he&&(queueMicrotask(Z),he=!1)},ee=!0,he=!0,Re=[],He=[],Mt=se,on={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:ze,pgp:!1,env:{},finalize:ze},lt=on,ln=[],zt=0,Bo=[];function ct(w){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var _=this._PSD=lt;if(typeof w!="function"){if(w!==Ot)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&ks(this,this._value))}this._state=null,this._value=null,++_.ref,function j(P,B){try{B(function(K){if(P._state===null){if(K===P)throw new TypeError("A promise cannot be resolved with itself.");var ne=P._lib&&oe();K&&typeof K.then=="function"?j(P,function(le,ge){K instanceof ct?K._then(le,ge):K.then(le,ge)}):(P._state=!0,P._value=K,oa(P)),ne&&nt()}},ks.bind(null,P))}catch(K){ks(P,K)}}(this,w)}var bs={get:function(){var w=lt,_=Ss;function j(P,B){var K=this,ne=!w.global&&(w!==lt||_!==Ss),le=ne&&!zr(),ge=new ct(function(we,Ce){zo(K,new _s(gu(P,w,ne,le),gu(B,w,ne,le),we,Ce,w))});return this._consoleTask&&(ge._consoleTask=this._consoleTask),ge}return j.prototype=Ot,j},set:function(w){v(this,"then",w&&w.prototype===Ot?bs:{get:function(){return w},set:bs.set})}};function _s(w,_,j,P,B){this.onFulfilled=typeof w=="function"?w:null,this.onRejected=typeof _=="function"?_:null,this.resolve=j,this.reject=P,this.psd=B}function ks(w,_){var j,P;He.push(_),w._state===null&&(j=w._lib&&oe(),_=Mt(_),w._state=!1,w._value=_,P=w,Re.some(function(B){return B._value===P._value})||Re.push(P),oa(w),j&&nt())}function oa(w){var _=w._listeners;w._listeners=[];for(var j=0,P=_.length;j<P;++j)zo(w,_[j]);var B=w._PSD;--B.ref||B.finalize(),zt===0&&(++zt,R(function(){--zt==0&&at()},[]))}function zo(w,_){if(w._state!==null){var j=w._state?_.onFulfilled:_.onRejected;if(j===null)return(w._state?_.resolve:_.reject)(w._value);++_.psd.ref,++zt,R(Qa,[j,w,_])}else w._listeners.push(_)}function Qa(w,_,j){try{var P,B=_._value;!_._state&&He.length&&(He=[]),P=Ge&&_._consoleTask?_._consoleTask.run(function(){return w(B)}):w(B),_._state||He.indexOf(B)!==-1||function(K){for(var ne=Re.length;ne;)if(Re[--ne]._value===K._value)return Re.splice(ne,1)}(_),j.resolve(P)}catch(K){j.reject(K)}finally{--zt==0&&at(),--j.psd.ref||j.psd.finalize()}}function Z(){Uo(on,function(){oe()&&nt()})}function oe(){var w=ee;return he=ee=!1,w}function nt(){var w,_,j;do for(;0<ln.length;)for(w=ln,ln=[],j=w.length,_=0;_<j;++_){var P=w[_];P[0].apply(null,P[1])}while(0<ln.length);he=ee=!0}function at(){var w=Re;Re=[],w.forEach(function(P){P._PSD.onunhandled.call(null,P._value,P)});for(var _=Bo.slice(0),j=_.length;j;)_[--j]()}function yt(w){return new ct(Ot,!1,w)}function Lt(w,_){var j=lt;return function(){var P=oe(),B=lt;try{return wr(j,!0),w.apply(this,arguments)}catch(K){_&&_(K)}finally{wr(B,!1),P&&nt()}}}h(ct.prototype,{then:bs,_then:function(w,_){zo(this,new _s(null,null,w,_,lt))},catch:function(w){if(arguments.length===1)return this.then(null,w);var _=w,j=arguments[1];return typeof _=="function"?this.then(null,function(P){return(P instanceof _?j:yt)(P)}):this.then(null,function(P){return(P&&P.name===_?j:yt)(P)})},finally:function(w){return this.then(function(_){return ct.resolve(w()).then(function(){return _})},function(_){return ct.resolve(w()).then(function(){return yt(_)})})},timeout:function(w,_){var j=this;return w<1/0?new ct(function(P,B){var K=setTimeout(function(){return B(new re.Timeout(_))},w);j.then(P,B).finally(clearTimeout.bind(null,K))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&v(ct.prototype,Symbol.toStringTag,"Dexie.Promise"),on.env=Jr(),h(ct,{all:function(){var w=$.apply(null,arguments).map(Qi);return new ct(function(_,j){w.length===0&&_([]);var P=w.length;w.forEach(function(B,K){return ct.resolve(B).then(function(ne){w[K]=ne,--P||_(w)},j)})})},resolve:function(w){return w instanceof ct?w:w&&typeof w.then=="function"?new ct(function(_,j){w.then(_,j)}):new ct(Ot,!0,w)},reject:yt,race:function(){var w=$.apply(null,arguments).map(Qi);return new ct(function(_,j){w.map(function(P){return ct.resolve(P).then(_,j)})})},PSD:{get:function(){return lt},set:function(w){return lt=w}},totalEchoes:{get:function(){return Ss}},newPSD:vi,usePSD:Uo,scheduler:{get:function(){return R},set:function(w){R=w}},rejectionMapper:{get:function(){return Mt},set:function(w){Mt=w}},follow:function(w,_){return new ct(function(j,P){return vi(function(B,K){var ne=lt;ne.unhandleds=[],ne.onunhandled=K,ne.finalize=je(function(){var le,ge=this;le=function(){ge.unhandleds.length===0?B():K(ge.unhandleds[0])},Bo.push(function we(){le(),Bo.splice(Bo.indexOf(we),1)}),++zt,R(function(){--zt==0&&at()},[])},ne.finalize),w()},_,j,P)})}}),q&&(q.allSettled&&v(ct,"allSettled",function(){var w=$.apply(null,arguments).map(Qi);return new ct(function(_){w.length===0&&_([]);var j=w.length,P=new Array(j);w.forEach(function(B,K){return ct.resolve(B).then(function(ne){return P[K]={status:"fulfilled",value:ne}},function(ne){return P[K]={status:"rejected",reason:ne}}).then(function(){return--j||_(P)})})})}),q.any&&typeof AggregateError<"u"&&v(ct,"any",function(){var w=$.apply(null,arguments).map(Qi);return new ct(function(_,j){w.length===0&&j(new AggregateError([]));var P=w.length,B=new Array(P);w.forEach(function(K,ne){return ct.resolve(K).then(function(le){return _(le)},function(le){B[ne]=le,--P||j(new AggregateError(B))})})})}),q.withResolvers&&(ct.withResolvers=q.withResolvers));var un={awaits:0,echoes:0,id:0},sa=0,Xr=[],Ho=0,Ss=0,Za=0;function vi(w,_,j,P){var B=lt,K=Object.create(B);return K.parent=B,K.ref=0,K.global=!1,K.id=++Za,on.env,K.env=A?{Promise:ct,PromiseProp:{value:ct,configurable:!0,writable:!0},all:ct.all,race:ct.race,allSettled:ct.allSettled,any:ct.any,resolve:ct.resolve,reject:ct.reject}:{},_&&l(K,_),++B.ref,K.finalize=function(){--this.parent.ref||this.parent.finalize()},P=Uo(K,w,j,P),K.ref===0&&K.finalize(),P}function yi(){return un.id||(un.id=++sa),++un.awaits,un.echoes+=An,un.id}function zr(){return!!un.awaits&&(--un.awaits==0&&(un.id=0),un.echoes=un.awaits*An,!0)}function Qi(w){return un.echoes&&w&&w.constructor===q?(yi(),w.then(function(_){return zr(),_},function(_){return zr(),Tn(_)})):w}function Wo(){var w=Xr[Xr.length-1];Xr.pop(),wr(w,!1)}function wr(w,_){var j,P=lt;(_?!un.echoes||Ho++&&w===lt:!Ho||--Ho&&w===lt)||queueMicrotask(_?(function(B){++Ss,un.echoes&&--un.echoes!=0||(un.echoes=un.awaits=un.id=0),Xr.push(lt),wr(B,!0)}).bind(null,w):Wo),w!==lt&&(lt=w,P===on&&(on.env=Jr()),A&&(j=on.env.Promise,_=w.env,(P.global||w.global)&&(Object.defineProperty(o,"Promise",_.PromiseProp),j.all=_.all,j.race=_.race,j.resolve=_.resolve,j.reject=_.reject,_.allSettled&&(j.allSettled=_.allSettled),_.any&&(j.any=_.any))))}function Jr(){var w=o.Promise;return A?{Promise:w,PromiseProp:Object.getOwnPropertyDescriptor(o,"Promise"),all:w.all,race:w.race,allSettled:w.allSettled,any:w.any,resolve:w.resolve,reject:w.reject}:{}}function Uo(w,_,j,P,B){var K=lt;try{return wr(w,!0),_(j,P,B)}finally{wr(K,!1)}}function gu(w,_,j,P){return typeof w!="function"?w:function(){var B=lt;j&&yi(),wr(_,!0);try{return w.apply(this,arguments)}finally{wr(B,!1),P&&queueMicrotask(zr)}}}function Zl(w){Promise===q&&un.echoes===0?Ho===0?w():enqueueNativeMicroTask(w):setTimeout(w,0)}(""+So).indexOf("[native code]")===-1&&(yi=zr=ze);var Tn=ct.reject,_o="￿",Hr="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ec="String expected.",xi=[],el="__dbnames",Es="readonly",aa="readwrite";function ko(w,_){return w?_?function(){return w.apply(this,arguments)&&_.apply(this,arguments)}:w:_}var vu={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Cs(w){return typeof w!="string"||/\./.test(w)?function(_){return _}:function(_){return _[w]===void 0&&w in _&&delete(_=z(_))[w],_}}function yu(){throw re.Type()}function Zt(w,_){try{var j=X(w),P=X(_);if(j!==P)return j==="Array"?1:P==="Array"?-1:j==="binary"?1:P==="binary"?-1:j==="string"?1:P==="string"?-1:j==="Date"?1:P!=="Date"?NaN:-1;switch(j){case"number":case"Date":case"string":return _<w?1:w<_?-1:0;case"binary":return function(B,K){for(var ne=B.length,le=K.length,ge=ne<le?ne:le,we=0;we<ge;++we)if(B[we]!==K[we])return B[we]<K[we]?-1:1;return ne===le?0:ne<le?-1:1}(ue(w),ue(_));case"Array":return function(B,K){for(var ne=B.length,le=K.length,ge=ne<le?ne:le,we=0;we<ge;++we){var Ce=Zt(B[we],K[we]);if(Ce!==0)return Ce}return ne===le?0:ne<le?-1:1}(w,_)}}catch(B){}return NaN}function X(w){var _=typeof w;return _!="object"?_:ArrayBuffer.isView(w)?"binary":(w=J(w),w==="ArrayBuffer"?"binary":w)}function ue(w){return w instanceof Uint8Array?w:ArrayBuffer.isView(w)?new Uint8Array(w.buffer,w.byteOffset,w.byteLength):new Uint8Array(w)}var te=(de.prototype._trans=function(w,_,j){var P=this._tx||lt.trans,B=this.name,K=Ge&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(w==="readonly"?"read":"write"," ").concat(this.name));function ne(we,Ce,ce){if(!ce.schema[B])throw new re.NotFound("Table "+B+" not part of transaction");return _(ce.idbtrans,ce)}var le=oe();try{var ge=P&&P.db._novip===this.db._novip?P===lt.trans?P._promise(w,ne,j):vi(function(){return P._promise(w,ne,j)},{trans:P,transless:lt.transless||lt}):function we(Ce,ce,Te,ve){if(Ce.idbdb&&(Ce._state.openComplete||lt.letThrough||Ce._vip)){var Se=Ce._createTransaction(ce,Te,Ce._dbSchema);try{Se.create(),Ce._state.PR1398_maxLoop=3}catch(Ae){return Ae.name===V.InvalidState&&Ce.isOpen()&&0<--Ce._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Ce.close({disableAutoOpen:!1}),Ce.open().then(function(){return we(Ce,ce,Te,ve)})):Tn(Ae)}return Se._promise(ce,function(Ae,_e){return vi(function(){return lt.trans=Se,ve(Ae,_e,Se)})}).then(function(Ae){if(ce==="readwrite")try{Se.idbtrans.commit()}catch(_e){}return ce==="readonly"?Ae:Se._completion.then(function(){return Ae})})}if(Ce._state.openComplete)return Tn(new re.DatabaseClosed(Ce._state.dbOpenError));if(!Ce._state.isBeingOpened){if(!Ce._state.autoOpen)return Tn(new re.DatabaseClosed);Ce.open().catch(ze)}return Ce._state.dbReadyPromise.then(function(){return we(Ce,ce,Te,ve)})}(this.db,w,[this.name],ne);return K&&(ge._consoleTask=K,ge=ge.catch(function(we){return console.trace(we),Tn(we)})),ge}finally{le&&nt()}},de.prototype.get=function(w,_){var j=this;return w&&w.constructor===Object?this.where(w).first(_):w==null?Tn(new re.Type("Invalid argument to Table.get()")):this._trans("readonly",function(P){return j.core.get({trans:P,key:w}).then(function(B){return j.hook.reading.fire(B)})}).then(_)},de.prototype.where=function(w){if(typeof w=="string")return new this.db.WhereClause(this,w);if(a(w))return new this.db.WhereClause(this,"[".concat(w.join("+"),"]"));var _=s(w);if(_.length===1)return this.where(_[0]).equals(w[_[0]]);var j=this.schema.indexes.concat(this.schema.primKey).filter(function(le){if(le.compound&&_.every(function(we){return 0<=le.keyPath.indexOf(we)})){for(var ge=0;ge<_.length;++ge)if(_.indexOf(le.keyPath[ge])===-1)return!1;return!0}return!1}).sort(function(le,ge){return le.keyPath.length-ge.keyPath.length})[0];if(j&&this.db._maxKey!==_o){var K=j.keyPath.slice(0,_.length);return this.where(K).equals(K.map(function(ge){return w[ge]}))}!j&&Ge&&console.warn("The query ".concat(JSON.stringify(w)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(_.join("+"),"]"));var P=this.schema.idxByName;function B(le,ge){return Zt(le,ge)===0}var ne=_.reduce(function(ce,ge){var we=ce[0],Ce=ce[1],ce=P[ge],Te=w[ge];return[we||ce,we||!ce?ko(Ce,ce&&ce.multi?function(ve){return ve=E(ve,ge),a(ve)&&ve.some(function(Se){return B(Te,Se)})}:function(ve){return B(Te,E(ve,ge))}):Ce]},[null,null]),K=ne[0],ne=ne[1];return K?this.where(K.name).equals(w[K.keyPath]).filter(ne):j?this.filter(ne):this.where(_).equals("")},de.prototype.filter=function(w){return this.toCollection().and(w)},de.prototype.count=function(w){return this.toCollection().count(w)},de.prototype.offset=function(w){return this.toCollection().offset(w)},de.prototype.limit=function(w){return this.toCollection().limit(w)},de.prototype.each=function(w){return this.toCollection().each(w)},de.prototype.toArray=function(w){return this.toCollection().toArray(w)},de.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},de.prototype.orderBy=function(w){return new this.db.Collection(new this.db.WhereClause(this,a(w)?"[".concat(w.join("+"),"]"):w))},de.prototype.reverse=function(){return this.toCollection().reverse()},de.prototype.mapToClass=function(w){var _,j=this.db,P=this.name;function B(){return _!==null&&_.apply(this,arguments)||this}(this.schema.mappedClass=w).prototype instanceof yu&&(function(ge,we){if(typeof we!="function"&&we!==null)throw new TypeError("Class extends value "+String(we)+" is not a constructor or null");function Ce(){this.constructor=ge}n(ge,we),ge.prototype=we===null?Object.create(we):(Ce.prototype=we.prototype,new Ce)}(B,_=w),Object.defineProperty(B.prototype,"db",{get:function(){return j},enumerable:!1,configurable:!0}),B.prototype.table=function(){return P},w=B);for(var K=new Set,ne=w.prototype;ne;ne=c(ne))Object.getOwnPropertyNames(ne).forEach(function(ge){return K.add(ge)});function le(ge){if(!ge)return ge;var we,Ce=Object.create(w.prototype);for(we in ge)if(!K.has(we))try{Ce[we]=ge[we]}catch(ce){}return Ce}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=le,this.hook("reading",le),w},de.prototype.defineClass=function(){return this.mapToClass(function(w){l(this,w)})},de.prototype.add=function(w,_){var j=this,P=this.schema.primKey,B=P.auto,K=P.keyPath,ne=w;return K&&B&&(ne=Cs(K)(w)),this._trans("readwrite",function(le){return j.core.mutate({trans:le,type:"add",keys:_!=null?[_]:null,values:[ne]})}).then(function(le){return le.numFailures?ct.reject(le.failures[0]):le.lastResult}).then(function(le){if(K)try{T(w,K,le)}catch(ge){}return le})},de.prototype.update=function(w,_){return typeof w!="object"||a(w)?this.where(":id").equals(w).modify(_):(w=E(w,this.schema.primKey.keyPath),w===void 0?Tn(new re.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(w).modify(_))},de.prototype.put=function(w,_){var j=this,P=this.schema.primKey,B=P.auto,K=P.keyPath,ne=w;return K&&B&&(ne=Cs(K)(w)),this._trans("readwrite",function(le){return j.core.mutate({trans:le,type:"put",values:[ne],keys:_!=null?[_]:null})}).then(function(le){return le.numFailures?ct.reject(le.failures[0]):le.lastResult}).then(function(le){if(K)try{T(w,K,le)}catch(ge){}return le})},de.prototype.delete=function(w){var _=this;return this._trans("readwrite",function(j){return _.core.mutate({trans:j,type:"delete",keys:[w]})}).then(function(j){return j.numFailures?ct.reject(j.failures[0]):void 0})},de.prototype.clear=function(){var w=this;return this._trans("readwrite",function(_){return w.core.mutate({trans:_,type:"deleteRange",range:vu})}).then(function(_){return _.numFailures?ct.reject(_.failures[0]):void 0})},de.prototype.bulkGet=function(w){var _=this;return this._trans("readonly",function(j){return _.core.getMany({keys:w,trans:j}).then(function(P){return P.map(function(B){return _.hook.reading.fire(B)})})})},de.prototype.bulkAdd=function(w,_,j){var P=this,B=Array.isArray(_)?_:void 0,K=(j=j||(B?void 0:_))?j.allKeys:void 0;return this._trans("readwrite",function(ne){var we=P.schema.primKey,le=we.auto,we=we.keyPath;if(we&&B)throw new re.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(B&&B.length!==w.length)throw new re.InvalidArgument("Arguments objects and keys must have the same length");var ge=w.length,we=we&&le?w.map(Cs(we)):w;return P.core.mutate({trans:ne,type:"add",keys:B,values:we,wantResults:K}).then(function(Se){var ce=Se.numFailures,Te=Se.results,ve=Se.lastResult,Se=Se.failures;if(ce===0)return K?Te:ve;throw new Ne("".concat(P.name,".bulkAdd(): ").concat(ce," of ").concat(ge," operations failed"),Se)})})},de.prototype.bulkPut=function(w,_,j){var P=this,B=Array.isArray(_)?_:void 0,K=(j=j||(B?void 0:_))?j.allKeys:void 0;return this._trans("readwrite",function(ne){var we=P.schema.primKey,le=we.auto,we=we.keyPath;if(we&&B)throw new re.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(B&&B.length!==w.length)throw new re.InvalidArgument("Arguments objects and keys must have the same length");var ge=w.length,we=we&&le?w.map(Cs(we)):w;return P.core.mutate({trans:ne,type:"put",keys:B,values:we,wantResults:K}).then(function(Se){var ce=Se.numFailures,Te=Se.results,ve=Se.lastResult,Se=Se.failures;if(ce===0)return K?Te:ve;throw new Ne("".concat(P.name,".bulkPut(): ").concat(ce," of ").concat(ge," operations failed"),Se)})})},de.prototype.bulkUpdate=function(w){var _=this,j=this.core,P=w.map(function(ne){return ne.key}),B=w.map(function(ne){return ne.changes}),K=[];return this._trans("readwrite",function(ne){return j.getMany({trans:ne,keys:P,cache:"clone"}).then(function(le){var ge=[],we=[];w.forEach(function(ce,Te){var ve=ce.key,Se=ce.changes,Ae=le[Te];if(Ae){for(var _e=0,Ie=Object.keys(Se);_e<Ie.length;_e++){var $e=Ie[_e],De=Se[$e];if($e===_.schema.primKey.keyPath){if(Zt(De,ve)!==0)throw new re.Constraint("Cannot update primary key in bulkUpdate()")}else T(Ae,$e,De)}K.push(Te),ge.push(ve),we.push(Ae)}});var Ce=ge.length;return j.mutate({trans:ne,type:"put",keys:ge,values:we,updates:{keys:P,changeSpecs:B}}).then(function(ce){var Te=ce.numFailures,ve=ce.failures;if(Te===0)return Ce;for(var Se=0,Ae=Object.keys(ve);Se<Ae.length;Se++){var _e,Ie=Ae[Se],$e=K[Number(Ie)];$e!=null&&(_e=ve[Ie],delete ve[Ie],ve[$e]=_e)}throw new Ne("".concat(_.name,".bulkUpdate(): ").concat(Te," of ").concat(Ce," operations failed"),ve)})})})},de.prototype.bulkDelete=function(w){var _=this,j=w.length;return this._trans("readwrite",function(P){return _.core.mutate({trans:P,type:"delete",keys:w})}).then(function(ne){var B=ne.numFailures,K=ne.lastResult,ne=ne.failures;if(B===0)return K;throw new Ne("".concat(_.name,".bulkDelete(): ").concat(B," of ").concat(j," operations failed"),ne)})},de);function de(){}function Ee(w){function _(ne,le){if(le){for(var ge=arguments.length,we=new Array(ge-1);--ge;)we[ge-1]=arguments[ge];return j[ne].subscribe.apply(null,we),w}if(typeof ne=="string")return j[ne]}var j={};_.addEventType=K;for(var P=1,B=arguments.length;P<B;++P)K(arguments[P]);return _;function K(ne,le,ge){if(typeof ne!="object"){var we;le=le||pe;var Ce={subscribers:[],fire:ge=ge||ze,subscribe:function(ce){Ce.subscribers.indexOf(ce)===-1&&(Ce.subscribers.push(ce),Ce.fire=le(Ce.fire,ce))},unsubscribe:function(ce){Ce.subscribers=Ce.subscribers.filter(function(Te){return Te!==ce}),Ce.fire=Ce.subscribers.reduce(le,ge)}};return j[ne]=_[ne]=Ce}s(we=ne).forEach(function(ce){var Te=we[ce];if(a(Te))K(ce,we[ce][0],we[ce][1]);else{if(Te!=="asap")throw new re.InvalidArgument("Invalid event config");var ve=K(ce,se,function(){for(var Se=arguments.length,Ae=new Array(Se);Se--;)Ae[Se]=arguments[Se];ve.subscribers.forEach(function(_e){S(function(){_e.apply(null,Ae)})})})}})}}function me(w,_){return g(_).from({prototype:w}),_}function Be(w,_){return!(w.filter||w.algorithm||w.or)&&(_?w.justLimit:!w.replayFilter)}function Qe(w,_){w.filter=ko(w.filter,_)}function et(w,_,j){var P=w.replayFilter;w.replayFilter=P?function(){return ko(P(),_())}:_,w.justLimit=j&&!P}function Ze(w,_){if(w.isPrimKey)return _.primaryKey;var j=_.getIndexByKeyPath(w.index);if(!j)throw new re.Schema("KeyPath "+w.index+" on object store "+_.name+" is not indexed");return j}function ut(w,_,j){var P=Ze(w,_.schema);return _.openCursor({trans:j,values:!w.keysOnly,reverse:w.dir==="prev",unique:!!w.unique,query:{index:P,range:w.range}})}function Et(w,_,j,P){var B=w.replayFilter?ko(w.filter,w.replayFilter()):w.filter;if(w.or){var K={},ne=function(le,ge,we){var Ce,ce;B&&!B(ge,we,function(Te){return ge.stop(Te)},function(Te){return ge.fail(Te)})||((ce=""+(Ce=ge.primaryKey))=="[object ArrayBuffer]"&&(ce=""+new Uint8Array(Ce)),f(K,ce)||(K[ce]=!0,_(le,ge,we)))};return Promise.all([w.or._iterate(ne,j),Kt(ut(w,P,j),w.algorithm,ne,!w.keysOnly&&w.valueMapper)])}return Kt(ut(w,P,j),ko(w.algorithm,B),_,!w.keysOnly&&w.valueMapper)}function Kt(w,_,j,P){var B=Lt(P?function(K,ne,le){return j(P(K),ne,le)}:j);return w.then(function(K){if(K)return K.start(function(){var ne=function(){return K.continue()};_&&!_(K,function(le){return ne=le},function(le){K.stop(le),ne=ze},function(le){K.fail(le),ne=ze})||B(K.value,K,function(le){return ne=le}),ne()})})}var cn=(yn.prototype.execute=function(w){var _=this["@@propmod"];if(_.add!==void 0){var j=_.add;if(a(j))return i(i([],a(w)?w:[],!0),j).sort();if(typeof j=="number")return(Number(w)||0)+j;if(typeof j=="bigint")try{return BigInt(w)+j}catch(B){return BigInt(0)+j}throw new TypeError("Invalid term ".concat(j))}if(_.remove!==void 0){var P=_.remove;if(a(P))return a(w)?w.filter(function(B){return!P.includes(B)}).sort():[];if(typeof P=="number")return Number(w)-P;if(typeof P=="bigint")try{return BigInt(w)-P}catch(B){return BigInt(0)-P}throw new TypeError("Invalid subtrahend ".concat(P))}return j=(j=_.replacePrefix)===null||j===void 0?void 0:j[0],j&&typeof w=="string"&&w.startsWith(j)?_.replacePrefix[1]+w.substring(j.length):w},yn);function yn(w){this["@@propmod"]=w}var rr=(Pt.prototype._read=function(w,_){var j=this._ctx;return j.error?j.table._trans(null,Tn.bind(null,j.error)):j.table._trans("readonly",w).then(_)},Pt.prototype._write=function(w){var _=this._ctx;return _.error?_.table._trans(null,Tn.bind(null,_.error)):_.table._trans("readwrite",w,"locked")},Pt.prototype._addAlgorithm=function(w){var _=this._ctx;_.algorithm=ko(_.algorithm,w)},Pt.prototype._iterate=function(w,_){return Et(this._ctx,w,_,this._ctx.table.core)},Pt.prototype.clone=function(w){var _=Object.create(this.constructor.prototype),j=Object.create(this._ctx);return w&&l(j,w),_._ctx=j,_},Pt.prototype.raw=function(){return this._ctx.valueMapper=null,this},Pt.prototype.each=function(w){var _=this._ctx;return this._read(function(j){return Et(_,w,j,_.table.core)})},Pt.prototype.count=function(w){var _=this;return this._read(function(j){var P=_._ctx,B=P.table.core;if(Be(P,!0))return B.count({trans:j,query:{index:Ze(P,B.schema),range:P.range}}).then(function(ne){return Math.min(ne,P.limit)});var K=0;return Et(P,function(){return++K,!1},j,B).then(function(){return K})}).then(w)},Pt.prototype.sortBy=function(w,_){var j=w.split(".").reverse(),P=j[0],B=j.length-1;function K(ge,we){return we?K(ge[j[we]],we-1):ge[P]}var ne=this._ctx.dir==="next"?1:-1;function le(ge,we){return Zt(K(ge,B),K(we,B))*ne}return this.toArray(function(ge){return ge.sort(le)}).then(_)},Pt.prototype.toArray=function(w){var _=this;return this._read(function(j){var P=_._ctx;if(P.dir==="next"&&Be(P,!0)&&0<P.limit){var B=P.valueMapper,K=Ze(P,P.table.core.schema);return P.table.core.query({trans:j,limit:P.limit,values:!0,query:{index:K,range:P.range}}).then(function(le){return le=le.result,B?le.map(B):le})}var ne=[];return Et(P,function(le){return ne.push(le)},j,P.table.core).then(function(){return ne})},w)},Pt.prototype.offset=function(w){var _=this._ctx;return w<=0||(_.offset+=w,Be(_)?et(_,function(){var j=w;return function(P,B){return j===0||(j===1?--j:B(function(){P.advance(j),j=0}),!1)}}):et(_,function(){var j=w;return function(){return--j<0}})),this},Pt.prototype.limit=function(w){return this._ctx.limit=Math.min(this._ctx.limit,w),et(this._ctx,function(){var _=w;return function(j,P,B){return--_<=0&&P(B),0<=_}},!0),this},Pt.prototype.until=function(w,_){return Qe(this._ctx,function(j,P,B){return!w(j.value)||(P(B),_)}),this},Pt.prototype.first=function(w){return this.limit(1).toArray(function(_){return _[0]}).then(w)},Pt.prototype.last=function(w){return this.reverse().first(w)},Pt.prototype.filter=function(w){var _;return Qe(this._ctx,function(j){return w(j.value)}),(_=this._ctx).isMatch=ko(_.isMatch,w),this},Pt.prototype.and=function(w){return this.filter(w)},Pt.prototype.or=function(w){return new this.db.WhereClause(this._ctx.table,w,this)},Pt.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Pt.prototype.desc=function(){return this.reverse()},Pt.prototype.eachKey=function(w){var _=this._ctx;return _.keysOnly=!_.isMatch,this.each(function(j,P){w(P.key,P)})},Pt.prototype.eachUniqueKey=function(w){return this._ctx.unique="unique",this.eachKey(w)},Pt.prototype.eachPrimaryKey=function(w){var _=this._ctx;return _.keysOnly=!_.isMatch,this.each(function(j,P){w(P.primaryKey,P)})},Pt.prototype.keys=function(w){var _=this._ctx;_.keysOnly=!_.isMatch;var j=[];return this.each(function(P,B){j.push(B.key)}).then(function(){return j}).then(w)},Pt.prototype.primaryKeys=function(w){var _=this._ctx;if(_.dir==="next"&&Be(_,!0)&&0<_.limit)return this._read(function(P){var B=Ze(_,_.table.core.schema);return _.table.core.query({trans:P,values:!1,limit:_.limit,query:{index:B,range:_.range}})}).then(function(P){return P.result}).then(w);_.keysOnly=!_.isMatch;var j=[];return this.each(function(P,B){j.push(B.primaryKey)}).then(function(){return j}).then(w)},Pt.prototype.uniqueKeys=function(w){return this._ctx.unique="unique",this.keys(w)},Pt.prototype.firstKey=function(w){return this.limit(1).keys(function(_){return _[0]}).then(w)},Pt.prototype.lastKey=function(w){return this.reverse().firstKey(w)},Pt.prototype.distinct=function(){var w=this._ctx,w=w.index&&w.table.schema.idxByName[w.index];if(!w||!w.multi)return this;var _={};return Qe(this._ctx,function(B){var P=B.primaryKey.toString(),B=f(_,P);return _[P]=!0,!B}),this},Pt.prototype.modify=function(w){var _=this,j=this._ctx;return this._write(function(P){var B,K,ne;ne=typeof w=="function"?w:(B=s(w),K=B.length,function(_e){for(var Ie=!1,$e=0;$e<K;++$e){var De=B[$e],Ue=w[De],ot=E(_e,De);Ue instanceof cn?(T(_e,De,Ue.execute(ot)),Ie=!0):ot!==Ue&&(T(_e,De,Ue),Ie=!0)}return Ie});var le=j.table.core,ce=le.schema.primaryKey,ge=ce.outbound,we=ce.extractKey,Ce=200,ce=_.db._options.modifyChunkSize;ce&&(Ce=typeof ce=="object"?ce[le.name]||ce["*"]||200:ce);function Te(_e,De){var $e=De.failures,De=De.numFailures;Se+=_e-De;for(var Ue=0,ot=s($e);Ue<ot.length;Ue++){var pt=ot[Ue];ve.push($e[pt])}}var ve=[],Se=0,Ae=[];return _.clone().primaryKeys().then(function(_e){function Ie(De){var Ue=Math.min(Ce,_e.length-De);return le.getMany({trans:P,keys:_e.slice(De,De+Ue),cache:"immutable"}).then(function(ot){for(var pt=[],st=[],dt=ge?[]:null,mt=[],ht=0;ht<Ue;++ht){var _t=ot[ht],Ut={value:z(_t),primKey:_e[De+ht]};ne.call(Ut,Ut.value,Ut)!==!1&&(Ut.value==null?mt.push(_e[De+ht]):ge||Zt(we(_t),we(Ut.value))===0?(st.push(Ut.value),ge&&dt.push(_e[De+ht])):(mt.push(_e[De+ht]),pt.push(Ut.value)))}return Promise.resolve(0<pt.length&&le.mutate({trans:P,type:"add",values:pt}).then(function(nn){for(var rn in nn.failures)mt.splice(parseInt(rn),1);Te(pt.length,nn)})).then(function(){return(0<st.length||$e&&typeof w=="object")&&le.mutate({trans:P,type:"put",keys:dt,values:st,criteria:$e,changeSpec:typeof w!="function"&&w,isAdditionalChunk:0<De}).then(function(nn){return Te(st.length,nn)})}).then(function(){return(0<mt.length||$e&&w===Qr)&&le.mutate({trans:P,type:"delete",keys:mt,criteria:$e,isAdditionalChunk:0<De}).then(function(nn){return Te(mt.length,nn)})}).then(function(){return _e.length>De+Ue&&Ie(De+Ce)})})}var $e=Be(j)&&j.limit===1/0&&(typeof w!="function"||w===Qr)&&{index:j.index,range:j.range};return Ie(0).then(function(){if(0<ve.length)throw new ke("Error modifying one or more objects",ve,Se,Ae);return _e.length})})})},Pt.prototype.delete=function(){var w=this._ctx,_=w.range;return Be(w)&&(w.isPrimKey||_.type===3)?this._write(function(j){var P=w.table.core.schema.primaryKey,B=_;return w.table.core.count({trans:j,query:{index:P,range:B}}).then(function(K){return w.table.core.mutate({trans:j,type:"deleteRange",range:B}).then(function(ne){var le=ne.failures;if(ne.lastResult,ne.results,ne=ne.numFailures,ne)throw new ke("Could not delete some values",Object.keys(le).map(function(ge){return le[ge]}),K-ne);return K-ne})})}):this.modify(Qr)},Pt);function Pt(){}var Qr=function(w,_){return _.value=null};function tc(w,_){return w<_?-1:w===_?0:1}function vf(w,_){return _<w?-1:w===_?0:1}function wi(w,_,j){return w=w instanceof xf?new w.Collection(w):w,w._ctx.error=new(j||TypeError)(_),w}function js(w){return new w.Collection(w,function(){return _m("")}).limit(0)}function yf(w,_,j,P){var B,K,ne,le,ge,we,Ce,ce=j.length;if(!j.every(function(Se){return typeof Se=="string"}))return wi(w,ec);function Te(Se){B=Se==="next"?function(_e){return _e.toUpperCase()}:function(_e){return _e.toLowerCase()},K=Se==="next"?function(_e){return _e.toLowerCase()}:function(_e){return _e.toUpperCase()},ne=Se==="next"?tc:vf;var Ae=j.map(function(_e){return{lower:K(_e),upper:B(_e)}}).sort(function(_e,Ie){return ne(_e.lower,Ie.lower)});le=Ae.map(function(_e){return _e.upper}),ge=Ae.map(function(_e){return _e.lower}),Ce=(we=Se)==="next"?"":P}Te("next"),w=new w.Collection(w,function(){return Ns(le[0],ge[ce-1]+P)}),w._ondirectionchange=function(Se){Te(Se)};var ve=0;return w._addAlgorithm(function(Se,Ae,_e){var Ie=Se.key;if(typeof Ie!="string")return!1;var $e=K(Ie);if(_($e,ge,ve))return!0;for(var De=null,Ue=ve;Ue<ce;++Ue){var ot=function(pt,st,dt,mt,ht,_t){for(var Ut=Math.min(pt.length,mt.length),nn=-1,rn=0;rn<Ut;++rn){var Zi=st[rn];if(Zi!==mt[rn])return ht(pt[rn],dt[rn])<0?pt.substr(0,rn)+dt[rn]+dt.substr(rn+1):ht(pt[rn],mt[rn])<0?pt.substr(0,rn)+mt[rn]+dt.substr(rn+1):0<=nn?pt.substr(0,nn)+st[nn]+dt.substr(nn+1):null;ht(pt[rn],Zi)<0&&(nn=rn)}return Ut<mt.length&&_t==="next"?pt+dt.substr(pt.length):Ut<pt.length&&_t==="prev"?pt.substr(0,dt.length):nn<0?null:pt.substr(0,nn)+mt[nn]+dt.substr(nn+1)}(Ie,$e,le[Ue],ge[Ue],ne,we);ot===null&&De===null?ve=Ue+1:(De===null||0<ne(De,ot))&&(De=ot)}return Ae(De!==null?function(){Se.continue(De+Ce)}:_e),!1}),w}function Ns(w,_,j,P){return{type:2,lower:w,upper:_,lowerOpen:j,upperOpen:P}}function _m(w){return{type:1,lower:w,upper:w}}var xf=(Object.defineProperty($r.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),$r.prototype.between=function(w,_,j,P){j=j!==!1,P=P===!0;try{return 0<this._cmp(w,_)||this._cmp(w,_)===0&&(j||P)&&(!j||!P)?js(this):new this.Collection(this,function(){return Ns(w,_,!j,!P)})}catch(B){return wi(this,Hr)}},$r.prototype.equals=function(w){return w==null?wi(this,Hr):new this.Collection(this,function(){return _m(w)})},$r.prototype.above=function(w){return w==null?wi(this,Hr):new this.Collection(this,function(){return Ns(w,void 0,!0)})},$r.prototype.aboveOrEqual=function(w){return w==null?wi(this,Hr):new this.Collection(this,function(){return Ns(w,void 0,!1)})},$r.prototype.below=function(w){return w==null?wi(this,Hr):new this.Collection(this,function(){return Ns(void 0,w,!1,!0)})},$r.prototype.belowOrEqual=function(w){return w==null?wi(this,Hr):new this.Collection(this,function(){return Ns(void 0,w)})},$r.prototype.startsWith=function(w){return typeof w!="string"?wi(this,ec):this.between(w,w+_o,!0,!0)},$r.prototype.startsWithIgnoreCase=function(w){return w===""?this.startsWith(w):yf(this,function(_,j){return _.indexOf(j[0])===0},[w],_o)},$r.prototype.equalsIgnoreCase=function(w){return yf(this,function(_,j){return _===j[0]},[w],"")},$r.prototype.anyOfIgnoreCase=function(){var w=$.apply(D,arguments);return w.length===0?js(this):yf(this,function(_,j){return j.indexOf(_)!==-1},w,"")},$r.prototype.startsWithAnyOfIgnoreCase=function(){var w=$.apply(D,arguments);return w.length===0?js(this):yf(this,function(_,j){return j.some(function(P){return _.indexOf(P)===0})},w,_o)},$r.prototype.anyOf=function(){var w=this,_=$.apply(D,arguments),j=this._cmp;try{_.sort(j)}catch(K){return wi(this,Hr)}if(_.length===0)return js(this);var P=new this.Collection(this,function(){return Ns(_[0],_[_.length-1])});P._ondirectionchange=function(K){j=K==="next"?w._ascending:w._descending,_.sort(j)};var B=0;return P._addAlgorithm(function(K,ne,le){for(var ge=K.key;0<j(ge,_[B]);)if(++B===_.length)return ne(le),!1;return j(ge,_[B])===0||(ne(function(){K.continue(_[B])}),!1)}),P},$r.prototype.notEqual=function(w){return this.inAnyRange([[-1/0,w],[w,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},$r.prototype.noneOf=function(){var w=$.apply(D,arguments);if(w.length===0)return new this.Collection(this);try{w.sort(this._ascending)}catch(j){return wi(this,Hr)}var _=w.reduce(function(j,P){return j?j.concat([[j[j.length-1][1],P]]):[[-1/0,P]]},null);return _.push([w[w.length-1],this.db._maxKey]),this.inAnyRange(_,{includeLowers:!1,includeUppers:!1})},$r.prototype.inAnyRange=function(Ie,_){var j=this,P=this._cmp,B=this._ascending,K=this._descending,ne=this._min,le=this._max;if(Ie.length===0)return js(this);if(!Ie.every(function($e){return $e[0]!==void 0&&$e[1]!==void 0&&B($e[0],$e[1])<=0}))return wi(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",re.InvalidArgument);var ge=!_||_.includeLowers!==!1,we=_&&_.includeUppers===!0,Ce,ce=B;function Te($e,De){return ce($e[0],De[0])}try{(Ce=Ie.reduce(function($e,De){for(var Ue=0,ot=$e.length;Ue<ot;++Ue){var pt=$e[Ue];if(P(De[0],pt[1])<0&&0<P(De[1],pt[0])){pt[0]=ne(pt[0],De[0]),pt[1]=le(pt[1],De[1]);break}}return Ue===ot&&$e.push(De),$e},[])).sort(Te)}catch($e){return wi(this,Hr)}var ve=0,Se=we?function($e){return 0<B($e,Ce[ve][1])}:function($e){return 0<=B($e,Ce[ve][1])},Ae=ge?function($e){return 0<K($e,Ce[ve][0])}:function($e){return 0<=K($e,Ce[ve][0])},_e=Se,Ie=new this.Collection(this,function(){return Ns(Ce[0][0],Ce[Ce.length-1][1],!ge,!we)});return Ie._ondirectionchange=function($e){ce=$e==="next"?(_e=Se,B):(_e=Ae,K),Ce.sort(Te)},Ie._addAlgorithm(function($e,De,Ue){for(var ot,pt=$e.key;_e(pt);)if(++ve===Ce.length)return De(Ue),!1;return!Se(ot=pt)&&!Ae(ot)||(j._cmp(pt,Ce[ve][1])===0||j._cmp(pt,Ce[ve][0])===0||De(function(){ce===B?$e.continue(Ce[ve][0]):$e.continue(Ce[ve][1])}),!1)}),Ie},$r.prototype.startsWithAnyOf=function(){var w=$.apply(D,arguments);return w.every(function(_){return typeof _=="string"})?w.length===0?js(this):this.inAnyRange(w.map(function(_){return[_,_+_o]})):wi(this,"startsWithAnyOf() only works with strings")},$r);function $r(){}function As(w){return Lt(function(_){return wf(_),w(_.target.error),!1})}function wf(w){w.stopPropagation&&w.stopPropagation(),w.preventDefault&&w.preventDefault()}var bf="storagemutated",Bx="x-storagemutated-1",tl=Ee(null,bf),AF=(Ts.prototype._lock=function(){return k(!lt.global),++this._reculock,this._reculock!==1||lt.global||(lt.lockOwnerFor=this),this},Ts.prototype._unlock=function(){if(k(!lt.global),--this._reculock==0)for(lt.global||(lt.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var w=this._blockedFuncs.shift();try{Uo(w[1],w[0])}catch(_){}}return this},Ts.prototype._locked=function(){return this._reculock&&lt.lockOwnerFor!==this},Ts.prototype.create=function(w){var _=this;if(!this.mode)return this;var j=this.db.idbdb,P=this.db._state.dbOpenError;if(k(!this.idbtrans),!w&&!j)switch(P&&P.name){case"DatabaseClosedError":throw new re.DatabaseClosed(P);case"MissingAPIError":throw new re.MissingAPI(P.message,P);default:throw new re.OpenFailed(P)}if(!this.active)throw new re.TransactionInactive;return k(this._completion._state===null),(w=this.idbtrans=w||(this.db.core||j).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Lt(function(B){wf(B),_._reject(w.error)}),w.onabort=Lt(function(B){wf(B),_.active&&_._reject(new re.Abort(w.error)),_.active=!1,_.on("abort").fire(B)}),w.oncomplete=Lt(function(){_.active=!1,_._resolve(),"mutatedParts"in w&&tl.storagemutated.fire(w.mutatedParts)}),this},Ts.prototype._promise=function(w,_,j){var P=this;if(w==="readwrite"&&this.mode!=="readwrite")return Tn(new re.ReadOnly("Transaction is readonly"));if(!this.active)return Tn(new re.TransactionInactive);if(this._locked())return new ct(function(K,ne){P._blockedFuncs.push([function(){P._promise(w,_,j).then(K,ne)},lt])});if(j)return vi(function(){var K=new ct(function(ne,le){P._lock();var ge=_(ne,le,P);ge&&ge.then&&ge.then(ne,le)});return K.finally(function(){return P._unlock()}),K._lib=!0,K});var B=new ct(function(K,ne){var le=_(K,ne,P);le&&le.then&&le.then(K,ne)});return B._lib=!0,B},Ts.prototype._root=function(){return this.parent?this.parent._root():this},Ts.prototype.waitFor=function(w){var _,j=this._root(),P=ct.resolve(w);j._waitingFor?j._waitingFor=j._waitingFor.then(function(){return P}):(j._waitingFor=P,j._waitingQueue=[],_=j.idbtrans.objectStore(j.storeNames[0]),function K(){for(++j._spinCount;j._waitingQueue.length;)j._waitingQueue.shift()();j._waitingFor&&(_.get(-1/0).onsuccess=K)}());var B=j._waitingFor;return new ct(function(K,ne){P.then(function(le){return j._waitingQueue.push(Lt(K.bind(null,le)))},function(le){return j._waitingQueue.push(Lt(ne.bind(null,le)))}).finally(function(){j._waitingFor===B&&(j._waitingFor=null)})})},Ts.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new re.Abort))},Ts.prototype.table=function(w){var _=this._memoizedTables||(this._memoizedTables={});if(f(_,w))return _[w];var j=this.schema[w];if(!j)throw new re.NotFound("Table "+w+" not part of transaction");return j=new this.db.Table(w,j,this),j.core=this.db.core.table(w),_[w]=j},Ts);function Ts(){}function zx(w,_,j,P,B,K,ne){return{name:w,keyPath:_,unique:j,multi:P,auto:B,compound:K,src:(j&&!ne?"&":"")+(P?"*":"")+(B?"++":"")+_C(_)}}function _C(w){return typeof w=="string"?w:w?"["+[].join.call(w,"+")+"]":""}function Hx(w,_,j){return{name:w,primKey:_,indexes:j,mappedClass:null,idxByName:(P=function(B){return[B.name,B]},j.reduce(function(B,K,ne){return ne=P(K,ne),ne&&(B[ne[0]]=ne[1]),B},{}))};var P}var _f=function(w){try{return w.only([[]]),_f=function(){return[[]]},[[]]}catch(_){return _f=function(){return _o},_o}};function Wx(w){return w==null?function(){}:typeof w=="string"?(_=w).split(".").length===1?function(j){return j[_]}:function(j){return E(j,_)}:function(j){return E(j,w)};var _}function kC(w){return[].slice.call(w)}var TF=0;function kf(w){return w==null?":id":typeof w=="string"?w:"[".concat(w.join("+"),"]")}function RF(w,_,ge){function P(_e){if(_e.type===3)return null;if(_e.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var ve=_e.lower,Se=_e.upper,Ae=_e.lowerOpen,_e=_e.upperOpen;return ve===void 0?Se===void 0?null:_.upperBound(Se,!!_e):Se===void 0?_.lowerBound(ve,!!Ae):_.bound(ve,Se,!!Ae,!!_e)}function B(Te){var ve,Se=Te.name;return{name:Se,schema:Te,mutate:function(Ae){var _e=Ae.trans,Ie=Ae.type,$e=Ae.keys,De=Ae.values,Ue=Ae.range;return new Promise(function(ot,pt){ot=Lt(ot);var st=_e.objectStore(Se),dt=st.keyPath==null,mt=Ie==="put"||Ie==="add";if(!mt&&Ie!=="delete"&&Ie!=="deleteRange")throw new Error("Invalid operation type: "+Ie);var ht,_t=($e||De||{length:1}).length;if($e&&De&&$e.length!==De.length)throw new Error("Given keys array must have same length as given values array.");if(_t===0)return ot({numFailures:0,failures:{},results:[],lastResult:void 0});function Ut(bi){++Zi,wf(bi)}var nn=[],rn=[],Zi=0;if(Ie==="deleteRange"){if(Ue.type===4)return ot({numFailures:Zi,failures:rn,results:[],lastResult:void 0});Ue.type===3?nn.push(ht=st.clear()):nn.push(ht=st.delete(P(Ue)))}else{var dt=mt?dt?[De,$e]:[De,null]:[$e,null],Ht=dt[0],ei=dt[1];if(mt)for(var ti=0;ti<_t;++ti)nn.push(ht=ei&&ei[ti]!==void 0?st[Ie](Ht[ti],ei[ti]):st[Ie](Ht[ti])),ht.onerror=Ut;else for(ti=0;ti<_t;++ti)nn.push(ht=st[Ie](Ht[ti])),ht.onerror=Ut}function Mm(bi){bi=bi.target.result,nn.forEach(function(ic,aw){return ic.error!=null&&(rn[aw]=ic.error)}),ot({numFailures:Zi,failures:rn,results:Ie==="delete"?$e:nn.map(function(ic){return ic.result}),lastResult:bi})}ht.onerror=function(bi){Ut(bi),Mm(bi)},ht.onsuccess=Mm})},getMany:function(Ae){var _e=Ae.trans,Ie=Ae.keys;return new Promise(function($e,De){$e=Lt($e);for(var Ue,ot=_e.objectStore(Se),pt=Ie.length,st=new Array(pt),dt=0,mt=0,ht=function(nn){nn=nn.target,st[nn._pos]=nn.result,++mt===dt&&$e(st)},_t=As(De),Ut=0;Ut<pt;++Ut)Ie[Ut]!=null&&((Ue=ot.get(Ie[Ut]))._pos=Ut,Ue.onsuccess=ht,Ue.onerror=_t,++dt);dt===0&&$e(st)})},get:function(Ae){var _e=Ae.trans,Ie=Ae.key;return new Promise(function($e,De){$e=Lt($e);var Ue=_e.objectStore(Se).get(Ie);Ue.onsuccess=function(ot){return $e(ot.target.result)},Ue.onerror=As(De)})},query:(ve=we,function(Ae){return new Promise(function(_e,Ie){_e=Lt(_e);var $e,De,Ue,dt=Ae.trans,ot=Ae.values,pt=Ae.limit,ht=Ae.query,st=pt===1/0?void 0:pt,mt=ht.index,ht=ht.range,dt=dt.objectStore(Se),mt=mt.isPrimaryKey?dt:dt.index(mt.name),ht=P(ht);if(pt===0)return _e({result:[]});ve?((st=ot?mt.getAll(ht,st):mt.getAllKeys(ht,st)).onsuccess=function(_t){return _e({result:_t.target.result})},st.onerror=As(Ie)):($e=0,De=!ot&&"openKeyCursor"in mt?mt.openKeyCursor(ht):mt.openCursor(ht),Ue=[],De.onsuccess=function(_t){var Ut=De.result;return Ut?(Ue.push(ot?Ut.value:Ut.primaryKey),++$e===pt?_e({result:Ue}):void Ut.continue()):_e({result:Ue})},De.onerror=As(Ie))})}),openCursor:function(Ae){var _e=Ae.trans,Ie=Ae.values,$e=Ae.query,De=Ae.reverse,Ue=Ae.unique;return new Promise(function(ot,pt){ot=Lt(ot);var mt=$e.index,st=$e.range,dt=_e.objectStore(Se),dt=mt.isPrimaryKey?dt:dt.index(mt.name),mt=De?Ue?"prevunique":"prev":Ue?"nextunique":"next",ht=!Ie&&"openKeyCursor"in dt?dt.openKeyCursor(P(st),mt):dt.openCursor(P(st),mt);ht.onerror=As(pt),ht.onsuccess=Lt(function(_t){var Ut,nn,rn,Zi,Ht=ht.result;Ht?(Ht.___id=++TF,Ht.done=!1,Ut=Ht.continue.bind(Ht),nn=(nn=Ht.continuePrimaryKey)&&nn.bind(Ht),rn=Ht.advance.bind(Ht),Zi=function(){throw new Error("Cursor not stopped")},Ht.trans=_e,Ht.stop=Ht.continue=Ht.continuePrimaryKey=Ht.advance=function(){throw new Error("Cursor not started")},Ht.fail=Lt(pt),Ht.next=function(){var ei=this,ti=1;return this.start(function(){return ti--?ei.continue():ei.stop()}).then(function(){return ei})},Ht.start=function(ei){function ti(){if(ht.result)try{ei()}catch(bi){Ht.fail(bi)}else Ht.done=!0,Ht.start=function(){throw new Error("Cursor behind last entry")},Ht.stop()}var Mm=new Promise(function(bi,ic){bi=Lt(bi),ht.onerror=As(ic),Ht.fail=ic,Ht.stop=function(aw){Ht.stop=Ht.continue=Ht.continuePrimaryKey=Ht.advance=Zi,bi(aw)}});return ht.onsuccess=Lt(function(bi){ht.onsuccess=ti,ti()}),Ht.continue=Ut,Ht.continuePrimaryKey=nn,Ht.advance=rn,ti(),Mm},ot(Ht)):ot(null)},pt)})},count:function(Ae){var _e=Ae.query,Ie=Ae.trans,$e=_e.index,De=_e.range;return new Promise(function(Ue,ot){var pt=Ie.objectStore(Se),st=$e.isPrimaryKey?pt:pt.index($e.name),pt=P(De),st=pt?st.count(pt):st.count();st.onsuccess=Lt(function(dt){return Ue(dt.target.result)}),st.onerror=As(ot)})}}}var K,ne,le,Ce=(ne=ge,le=kC((K=w).objectStoreNames),{schema:{name:K.name,tables:le.map(function(Te){return ne.objectStore(Te)}).map(function(Te){var ve=Te.keyPath,_e=Te.autoIncrement,Se=a(ve),Ae={},_e={name:Te.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:ve==null,compound:Se,keyPath:ve,autoIncrement:_e,unique:!0,extractKey:Wx(ve)},indexes:kC(Te.indexNames).map(function(Ie){return Te.index(Ie)}).map(function(Ue){var $e=Ue.name,De=Ue.unique,ot=Ue.multiEntry,Ue=Ue.keyPath,ot={name:$e,compound:a(Ue),keyPath:Ue,unique:De,multiEntry:ot,extractKey:Wx(Ue)};return Ae[kf(Ue)]=ot}),getIndexByKeyPath:function(Ie){return Ae[kf(Ie)]}};return Ae[":id"]=_e.primaryKey,ve!=null&&(Ae[kf(ve)]=_e.primaryKey),_e})},hasGetAll:0<le.length&&"getAll"in ne.objectStore(le[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),ge=Ce.schema,we=Ce.hasGetAll,Ce=ge.tables.map(B),ce={};return Ce.forEach(function(Te){return ce[Te.name]=Te}),{stack:"dbcore",transaction:w.transaction.bind(w),table:function(Te){if(!ce[Te])throw new Error("Table '".concat(Te,"' not found"));return ce[Te]},MIN_KEY:-1/0,MAX_KEY:_f(_),schema:ge}}function IF(w,_,j,P){var B=j.IDBKeyRange;return j.indexedDB,{dbcore:(P=RF(_,B,P),w.dbcore.reduce(function(K,ne){return ne=ne.create,r(r({},K),ne(K))},P))}}function km(w,P){var j=P.db,P=IF(w._middlewares,j,w._deps,P);w.core=P.dbcore,w.tables.forEach(function(B){var K=B.name;w.core.schema.tables.some(function(ne){return ne.name===K})&&(B.core=w.core.table(K),w[K]instanceof w.Table&&(w[K].core=B.core))})}function Sm(w,_,j,P){j.forEach(function(B){var K=P[B];_.forEach(function(ne){var le=function ge(we,Ce){return b(we,Ce)||(we=c(we))&&ge(we,Ce)}(ne,B);(!le||"value"in le&&le.value===void 0)&&(ne===w.Transaction.prototype||ne instanceof w.Transaction?v(ne,B,{get:function(){return this.table(B)},set:function(ge){p(this,B,{value:ge,writable:!0,configurable:!0,enumerable:!0})}}):ne[B]=new w.Table(B,K))})})}function Ux(w,_){_.forEach(function(j){for(var P in j)j[P]instanceof w.Table&&delete j[P]})}function PF(w,_){return w._cfg.version-_._cfg.version}function OF(w,_,j,P){var B=w._dbSchema;j.objectStoreNames.contains("$meta")&&!B.$meta&&(B.$meta=Hx("$meta",EC("")[0],[]),w._storeNames.push("$meta"));var K=w._createTransaction("readwrite",w._storeNames,B);K.create(j),K._completion.catch(P);var ne=K._reject.bind(K),le=lt.transless||lt;vi(function(){return lt.trans=K,lt.transless=le,_!==0?(km(w,j),we=_,((ge=K).storeNames.includes("$meta")?ge.table("$meta").get("version").then(function(Ce){return Ce!=null?Ce:we}):ct.resolve(we)).then(function(Ce){return Te=Ce,ve=K,Se=j,Ae=[],Ce=(ce=w)._versions,_e=ce._dbSchema=Cm(0,ce.idbdb,Se),(Ce=Ce.filter(function(Ie){return Ie._cfg.version>=Te})).length!==0?(Ce.forEach(function(Ie){Ae.push(function(){var $e=_e,De=Ie._cfg.dbschema;jm(ce,$e,Se),jm(ce,De,Se),_e=ce._dbSchema=De;var Ue=Vx($e,De);Ue.add.forEach(function(mt){qx(Se,mt[0],mt[1].primKey,mt[1].indexes)}),Ue.change.forEach(function(mt){if(mt.recreate)throw new re.Upgrade("Not yet support for changing primary key");var ht=Se.objectStore(mt.name);mt.add.forEach(function(_t){return Em(ht,_t)}),mt.change.forEach(function(_t){ht.deleteIndex(_t.name),Em(ht,_t)}),mt.del.forEach(function(_t){return ht.deleteIndex(_t)})});var ot=Ie._cfg.contentUpgrade;if(ot&&Ie._cfg.version>Te){km(ce,Se),ve._memoizedTables={};var pt=M(De);Ue.del.forEach(function(mt){pt[mt]=$e[mt]}),Ux(ce,[ce.Transaction.prototype]),Sm(ce,[ce.Transaction.prototype],s(pt),pt),ve.schema=pt;var st,dt=Y(ot);return dt&&yi(),Ue=ct.follow(function(){var mt;(st=ot(ve))&&dt&&(mt=zr.bind(null,null),st.then(mt,mt))}),st&&typeof st.then=="function"?ct.resolve(st):Ue.then(function(){return st})}}),Ae.push(function($e){var De,Ue,ot=Ie._cfg.dbschema;De=ot,Ue=$e,[].slice.call(Ue.db.objectStoreNames).forEach(function(pt){return De[pt]==null&&Ue.db.deleteObjectStore(pt)}),Ux(ce,[ce.Transaction.prototype]),Sm(ce,[ce.Transaction.prototype],ce._storeNames,ce._dbSchema),ve.schema=ce._dbSchema}),Ae.push(function($e){ce.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(ce.idbdb.version/10)===Ie._cfg.version?(ce.idbdb.deleteObjectStore("$meta"),delete ce._dbSchema.$meta,ce._storeNames=ce._storeNames.filter(function(De){return De!=="$meta"})):$e.objectStore("$meta").put(Ie._cfg.version,"version"))})}),function Ie(){return Ae.length?ct.resolve(Ae.shift()(ve.idbtrans)).then(Ie):ct.resolve()}().then(function(){SC(_e,Se)})):ct.resolve();var ce,Te,ve,Se,Ae,_e}).catch(ne)):(s(B).forEach(function(Ce){qx(j,Ce,B[Ce].primKey,B[Ce].indexes)}),km(w,j),void ct.follow(function(){return w.on.populate.fire(K)}).catch(ne));var ge,we})}function MF(w,_){SC(w._dbSchema,_),_.db.version%10!=0||_.objectStoreNames.contains("$meta")||_.db.createObjectStore("$meta").add(Math.ceil(_.db.version/10-1),"version");var j=Cm(0,w.idbdb,_);jm(w,w._dbSchema,_);for(var P=0,B=Vx(j,w._dbSchema).change;P<B.length;P++){var K=function(ne){if(ne.change.length||ne.recreate)return console.warn("Unable to patch indexes of table ".concat(ne.name," because it has changes on the type of index or primary key.")),{value:void 0};var le=_.objectStore(ne.name);ne.add.forEach(function(ge){Ge&&console.debug("Dexie upgrade patch: Creating missing index ".concat(ne.name,".").concat(ge.src)),Em(le,ge)})}(B[P]);if(typeof K=="object")return K.value}}function Vx(w,_){var j,P={del:[],add:[],change:[]};for(j in w)_[j]||P.del.push(j);for(j in _){var B=w[j],K=_[j];if(B){var ne={name:j,def:K,recreate:!1,del:[],add:[],change:[]};if(""+(B.primKey.keyPath||"")!=""+(K.primKey.keyPath||"")||B.primKey.auto!==K.primKey.auto)ne.recreate=!0,P.change.push(ne);else{var le=B.idxByName,ge=K.idxByName,we=void 0;for(we in le)ge[we]||ne.del.push(we);for(we in ge){var Ce=le[we],ce=ge[we];Ce?Ce.src!==ce.src&&ne.change.push(ce):ne.add.push(ce)}(0<ne.del.length||0<ne.add.length||0<ne.change.length)&&P.change.push(ne)}}else P.add.push([j,K])}return P}function qx(w,_,j,P){var B=w.db.createObjectStore(_,j.keyPath?{keyPath:j.keyPath,autoIncrement:j.auto}:{autoIncrement:j.auto});return P.forEach(function(K){return Em(B,K)}),B}function SC(w,_){s(w).forEach(function(j){_.db.objectStoreNames.contains(j)||(Ge&&console.debug("Dexie: Creating missing table",j),qx(_,j,w[j].primKey,w[j].indexes))})}function Em(w,_){w.createIndex(_.name,_.keyPath,{unique:_.unique,multiEntry:_.multi})}function Cm(w,_,j){var P={};return y(_.objectStoreNames,0).forEach(function(B){for(var K=j.objectStore(B),ne=zx(_C(we=K.keyPath),we||"",!0,!1,!!K.autoIncrement,we&&typeof we!="string",!0),le=[],ge=0;ge<K.indexNames.length;++ge){var Ce=K.index(K.indexNames[ge]),we=Ce.keyPath,Ce=zx(Ce.name,we,!!Ce.unique,!!Ce.multiEntry,!1,we&&typeof we!="string",!1);le.push(Ce)}P[B]=Hx(B,ne,le)}),P}function jm(w,_,j){for(var P=j.db.objectStoreNames,B=0;B<P.length;++B){var K=P[B],ne=j.objectStore(K);w._hasGetAll="getAll"in ne;for(var le=0;le<ne.indexNames.length;++le){var ge=ne.indexNames[le],we=ne.index(ge).keyPath,Ce=typeof we=="string"?we:"["+y(we).join("+")+"]";!_[K]||(we=_[K].idxByName[Ce])&&(we.name=ge,delete _[K].idxByName[Ce],_[K].idxByName[ge]=we)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&o.WorkerGlobalScope&&o instanceof o.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(w._hasGetAll=!1)}function EC(w){return w.split(",").map(function(_,j){var P=(_=_.trim()).replace(/([&*]|\+\+)/g,""),B=/^\[/.test(P)?P.match(/^\[(.*)\]$/)[1].split("+"):P;return zx(P,B||null,/\&/.test(_),/\*/.test(_),/\+\+/.test(_),a(B),j===0)})}var $F=(Nm.prototype._parseStoresSpec=function(w,_){s(w).forEach(function(j){if(w[j]!==null){var P=EC(w[j]),B=P.shift();if(B.unique=!0,B.multi)throw new re.Schema("Primary key cannot be multi-valued");P.forEach(function(K){if(K.auto)throw new re.Schema("Only primary key can be marked as autoIncrement (++)");if(!K.keyPath)throw new re.Schema("Index must have a name and cannot be an empty string")}),_[j]=Hx(j,B,P)}})},Nm.prototype.stores=function(j){var _=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,j):j;var j=_._versions,P={},B={};return j.forEach(function(K){l(P,K._cfg.storesSource),B=K._cfg.dbschema={},K._parseStoresSpec(P,B)}),_._dbSchema=B,Ux(_,[_._allTables,_,_.Transaction.prototype]),Sm(_,[_._allTables,_,_.Transaction.prototype,this._cfg.tables],s(B),B),_._storeNames=s(B),this},Nm.prototype.upgrade=function(w){return this._cfg.contentUpgrade=We(this._cfg.contentUpgrade||ze,w),this},Nm);function Nm(){}function Kx(w,_){var j=w._dbNamesDB;return j||(j=w._dbNamesDB=new la(el,{addons:[],indexedDB:w,IDBKeyRange:_})).version(1).stores({dbnames:"name"}),j.table("dbnames")}function Yx(w){return w&&typeof w.databases=="function"}function Gx(w){return vi(function(){return lt.letThrough=!0,w()})}function Xx(w){return!("from"in w)}var Zr=function(w,_){if(!this){var j=new Zr;return w&&"d"in w&&l(j,w),j}l(this,arguments.length?{d:1,from:w,to:1<arguments.length?_:w}:{d:0})};function Sf(w,_,j){var P=Zt(_,j);if(!isNaN(P)){if(0<P)throw RangeError();if(Xx(w))return l(w,{from:_,to:j,d:1});var B=w.l,P=w.r;if(Zt(j,w.from)<0)return B?Sf(B,_,j):w.l={from:_,to:j,d:1,l:null,r:null},jC(w);if(0<Zt(_,w.to))return P?Sf(P,_,j):w.r={from:_,to:j,d:1,l:null,r:null},jC(w);Zt(_,w.from)<0&&(w.from=_,w.l=null,w.d=P?P.d+1:1),0<Zt(j,w.to)&&(w.to=j,w.r=null,w.d=w.l?w.l.d+1:1),j=!w.r,B&&!w.l&&Ef(w,B),P&&j&&Ef(w,P)}}function Ef(w,_){Xx(_)||function j(P,ge){var K=ge.from,ne=ge.to,le=ge.l,ge=ge.r;Sf(P,K,ne),le&&j(P,le),ge&&j(P,ge)}(w,_)}function CC(w,_){var j=Am(_),P=j.next();if(P.done)return!1;for(var B=P.value,K=Am(w),ne=K.next(B.from),le=ne.value;!P.done&&!ne.done;){if(Zt(le.from,B.to)<=0&&0<=Zt(le.to,B.from))return!0;Zt(B.from,le.from)<0?B=(P=j.next(le.from)).value:le=(ne=K.next(B.from)).value}return!1}function Am(w){var _=Xx(w)?null:{s:0,n:w};return{next:function(j){for(var P=0<arguments.length;_;)switch(_.s){case 0:if(_.s=1,P)for(;_.n.l&&Zt(j,_.n.from)<0;)_={up:_,n:_.n.l,s:1};else for(;_.n.l;)_={up:_,n:_.n.l,s:1};case 1:if(_.s=2,!P||Zt(j,_.n.to)<=0)return{value:_.n,done:!1};case 2:if(_.n.r){_.s=3,_={up:_,n:_.n.r,s:0};continue}case 3:_=_.up}return{done:!0}}}}function jC(w){var _,j,P=(((_=w.r)===null||_===void 0?void 0:_.d)||0)-(((j=w.l)===null||j===void 0?void 0:j.d)||0),B=1<P?"r":P<-1?"l":"";B&&(_=B=="r"?"l":"r",j=r({},w),P=w[B],w.from=P.from,w.to=P.to,w[B]=P[B],j[B]=P[_],(w[_]=j).d=NC(j)),w.d=NC(w)}function NC(j){var _=j.r,j=j.l;return(_?j?Math.max(_.d,j.d):_.d:j?j.d:0)+1}function Tm(w,_){return s(_).forEach(function(j){w[j]?Ef(w[j],_[j]):w[j]=function P(B){var K,ne,le={};for(K in B)f(B,K)&&(ne=B[K],le[K]=!ne||typeof ne!="object"||L.has(ne.constructor)?ne:P(ne));return le}(_[j])}),w}function Jx(w,_){return w.all||_.all||Object.keys(w).some(function(j){return _[j]&&CC(_[j],w[j])})}h(Zr.prototype,((So={add:function(w){return Ef(this,w),this},addKey:function(w){return Sf(this,w,w),this},addKeys:function(w){var _=this;return w.forEach(function(j){return Sf(_,j,j)}),this},hasKey:function(w){var _=Am(this).next(w).value;return _&&Zt(_.from,w)<=0&&0<=Zt(_.to,w)}})[I]=function(){return Am(this)},So));var nc={},Qx={},Zx=!1;function Rm(w){Tm(Qx,w),Zx||(Zx=!0,setTimeout(function(){Zx=!1,ew(Qx,!(Qx={}))},0))}function ew(w,_){_===void 0&&(_=!1);var j=new Set;if(w.all)for(var P=0,B=Object.values(nc);P<B.length;P++)AC(ne=B[P],w,j,_);else for(var K in w){var ne,le=/^idb\:\/\/(.*)\/(.*)\//.exec(K);le&&(K=le[1],le=le[2],(ne=nc["idb://".concat(K,"/").concat(le)])&&AC(ne,w,j,_))}j.forEach(function(ge){return ge()})}function AC(w,_,j,P){for(var B=[],K=0,ne=Object.entries(w.queries.query);K<ne.length;K++){for(var le=ne[K],ge=le[0],we=[],Ce=0,ce=le[1];Ce<ce.length;Ce++){var Te=ce[Ce];Jx(_,Te.obsSet)?Te.subscribers.forEach(function(_e){return j.add(_e)}):P&&we.push(Te)}P&&B.push([ge,we])}if(P)for(var ve=0,Se=B;ve<Se.length;ve++){var Ae=Se[ve],ge=Ae[0],we=Ae[1];w.queries.query[ge]=we}}function DF(w){var _=w._state,j=w._deps.indexedDB;if(_.isBeingOpened||w.idbdb)return _.dbReadyPromise.then(function(){return _.dbOpenError?Tn(_.dbOpenError):w});_.isBeingOpened=!0,_.dbOpenError=null,_.openComplete=!1;var P=_.openCanceller,B=Math.round(10*w.verno),K=!1;function ne(){if(_.openCanceller!==P)throw new re.DatabaseClosed("db.open() was cancelled")}function le(){return new ct(function(Te,ve){if(ne(),!j)throw new re.MissingAPI;var Se=w.name,Ae=_.autoSchema||!B?j.open(Se):j.open(Se,B);if(!Ae)throw new re.MissingAPI;Ae.onerror=As(ve),Ae.onblocked=Lt(w._fireOnBlocked),Ae.onupgradeneeded=Lt(function(_e){var Ie;Ce=Ae.transaction,_.autoSchema&&!w._options.allowEmptyDB?(Ae.onerror=wf,Ce.abort(),Ae.result.close(),(Ie=j.deleteDatabase(Se)).onsuccess=Ie.onerror=Lt(function(){ve(new re.NoSuchDatabase("Database ".concat(Se," doesnt exist")))})):(Ce.onerror=As(ve),_e=_e.oldVersion>Math.pow(2,62)?0:_e.oldVersion,ce=_e<1,w.idbdb=Ae.result,K&&MF(w,Ce),OF(w,_e/10,Ce,ve))},ve),Ae.onsuccess=Lt(function(){Ce=null;var _e,Ie,$e,De,Ue,ot=w.idbdb=Ae.result,pt=y(ot.objectStoreNames);if(0<pt.length)try{var st=ot.transaction((De=pt).length===1?De[0]:De,"readonly");if(_.autoSchema)Ie=ot,$e=st,(_e=w).verno=Ie.version/10,$e=_e._dbSchema=Cm(0,Ie,$e),_e._storeNames=y(Ie.objectStoreNames,0),Sm(_e,[_e._allTables],s($e),$e);else if(jm(w,w._dbSchema,st),((Ue=Vx(Cm(0,(Ue=w).idbdb,st),Ue._dbSchema)).add.length||Ue.change.some(function(dt){return dt.add.length||dt.change.length}))&&!K)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),ot.close(),B=ot.version+1,K=!0,Te(le());km(w,st)}catch(dt){}xi.push(w),ot.onversionchange=Lt(function(dt){_.vcFired=!0,w.on("versionchange").fire(dt)}),ot.onclose=Lt(function(dt){w.on("close").fire(dt)}),ce&&(Ue=w._deps,st=Se,ot=Ue.indexedDB,Ue=Ue.IDBKeyRange,Yx(ot)||st===el||Kx(ot,Ue).put({name:st}).catch(ze)),Te()},ve)}).catch(function(Te){switch(Te==null?void 0:Te.name){case"UnknownError":if(0<_.PR1398_maxLoop)return _.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),le();break;case"VersionError":if(0<B)return B=0,le()}return ct.reject(Te)})}var ge,we=_.dbReadyResolve,Ce=null,ce=!1;return ct.race([P,(typeof navigator>"u"?ct.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(Te){function ve(){return indexedDB.databases().finally(Te)}ge=setInterval(ve,100),ve()}).finally(function(){return clearInterval(ge)}):Promise.resolve()).then(le)]).then(function(){return ne(),_.onReadyBeingFired=[],ct.resolve(Gx(function(){return w.on.ready.fire(w.vip)})).then(function Te(){if(0<_.onReadyBeingFired.length){var ve=_.onReadyBeingFired.reduce(We,ze);return _.onReadyBeingFired=[],ct.resolve(Gx(function(){return ve(w.vip)})).then(Te)}})}).finally(function(){_.openCanceller===P&&(_.onReadyBeingFired=null,_.isBeingOpened=!1)}).catch(function(Te){_.dbOpenError=Te;try{Ce&&Ce.abort()}catch(ve){}return P===_.openCanceller&&w._close(),Tn(Te)}).finally(function(){_.openComplete=!0,we()}).then(function(){var Te;return ce&&(Te={},w.tables.forEach(function(ve){ve.schema.indexes.forEach(function(Se){Se.name&&(Te["idb://".concat(w.name,"/").concat(ve.name,"/").concat(Se.name)]=new Zr(-1/0,[[[]]]))}),Te["idb://".concat(w.name,"/").concat(ve.name,"/")]=Te["idb://".concat(w.name,"/").concat(ve.name,"/:dels")]=new Zr(-1/0,[[[]]])}),tl(bf).fire(Te),ew(Te,!0)),w})}function tw(w){function _(K){return w.next(K)}var j=B(_),P=B(function(K){return w.throw(K)});function B(K){return function(ge){var le=K(ge),ge=le.value;return le.done?ge:ge&&typeof ge.then=="function"?ge.then(j,P):a(ge)?Promise.all(ge).then(j,P):j(ge)}}return B(_)()}function Im(w,_,j){for(var P=a(w)?w.slice():[w],B=0;B<j;++B)P.push(_);return P}var FF={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(w){return r(r({},w),{table:function(_){var j=w.table(_),P=j.schema,B={},K=[];function ne(ce,Te,ve){var Se=kf(ce),Ae=B[Se]=B[Se]||[],_e=ce==null?0:typeof ce=="string"?1:ce.length,Ie=0<Te,Ie=r(r({},ve),{name:Ie?"".concat(Se,"(virtual-from:").concat(ve.name,")"):ve.name,lowLevelIndex:ve,isVirtual:Ie,keyTail:Te,keyLength:_e,extractKey:Wx(ce),unique:!Ie&&ve.unique});return Ae.push(Ie),Ie.isPrimaryKey||K.push(Ie),1<_e&&ne(_e===2?ce[0]:ce.slice(0,_e-1),Te+1,ve),Ae.sort(function($e,De){return $e.keyTail-De.keyTail}),Ie}_=ne(P.primaryKey.keyPath,0,P.primaryKey),B[":id"]=[_];for(var le=0,ge=P.indexes;le<ge.length;le++){var we=ge[le];ne(we.keyPath,0,we)}function Ce(ce){var Te,ve=ce.query.index;return ve.isVirtual?r(r({},ce),{query:{index:ve.lowLevelIndex,range:(Te=ce.query.range,ve=ve.keyTail,{type:Te.type===1?2:Te.type,lower:Im(Te.lower,Te.lowerOpen?w.MAX_KEY:w.MIN_KEY,ve),lowerOpen:!0,upper:Im(Te.upper,Te.upperOpen?w.MIN_KEY:w.MAX_KEY,ve),upperOpen:!0})}}):ce}return r(r({},j),{schema:r(r({},P),{primaryKey:_,indexes:K,getIndexByKeyPath:function(ce){return(ce=B[kf(ce)])&&ce[0]}}),count:function(ce){return j.count(Ce(ce))},query:function(ce){return j.query(Ce(ce))},openCursor:function(ce){var Te=ce.query.index,ve=Te.keyTail,Se=Te.isVirtual,Ae=Te.keyLength;return Se?j.openCursor(Ce(ce)).then(function(Ie){return Ie&&_e(Ie)}):j.openCursor(ce);function _e(Ie){return Object.create(Ie,{continue:{value:function($e){$e!=null?Ie.continue(Im($e,ce.reverse?w.MAX_KEY:w.MIN_KEY,ve)):ce.unique?Ie.continue(Ie.key.slice(0,Ae).concat(ce.reverse?w.MIN_KEY:w.MAX_KEY,ve)):Ie.continue()}},continuePrimaryKey:{value:function($e,De){Ie.continuePrimaryKey(Im($e,w.MAX_KEY,ve),De)}},primaryKey:{get:function(){return Ie.primaryKey}},key:{get:function(){var $e=Ie.key;return Ae===1?$e[0]:$e.slice(0,Ae)}},value:{get:function(){return Ie.value}}})}}})}})}};function nw(w,_,j,P){return j=j||{},P=P||"",s(w).forEach(function(B){var K,ne,le;f(_,B)?(K=w[B],ne=_[B],typeof K=="object"&&typeof ne=="object"&&K&&ne?(le=J(K))!==J(ne)?j[P+B]=_[B]:le==="Object"?nw(K,ne,j,P+B+"."):K!==ne&&(j[P+B]=_[B]):K!==ne&&(j[P+B]=_[B])):j[P+B]=void 0}),s(_).forEach(function(B){f(w,B)||(j[P+B]=_[B])}),j}function rw(w,_){return _.type==="delete"?_.keys:_.keys||_.values.map(w.extractKey)}var LF={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(w){return r(r({},w),{table:function(_){var j=w.table(_),P=j.schema.primaryKey;return r(r({},j),{mutate:function(B){var K=lt.trans,ne=K.table(_).hook,le=ne.deleting,ge=ne.creating,we=ne.updating;switch(B.type){case"add":if(ge.fire===ze)break;return K._promise("readwrite",function(){return Ce(B)},!0);case"put":if(ge.fire===ze&&we.fire===ze)break;return K._promise("readwrite",function(){return Ce(B)},!0);case"delete":if(le.fire===ze)break;return K._promise("readwrite",function(){return Ce(B)},!0);case"deleteRange":if(le.fire===ze)break;return K._promise("readwrite",function(){return function ce(Te,ve,Se){return j.query({trans:Te,values:!1,query:{index:P,range:ve},limit:Se}).then(function(Ae){var _e=Ae.result;return Ce({type:"delete",keys:_e,trans:Te}).then(function(Ie){return 0<Ie.numFailures?Promise.reject(Ie.failures[0]):_e.length<Se?{failures:[],numFailures:0,lastResult:void 0}:ce(Te,r(r({},ve),{lower:_e[_e.length-1],lowerOpen:!0}),Se)})})}(B.trans,B.range,1e4)},!0)}return j.mutate(B);function Ce(ce){var Te,ve,Se,Ae=lt.trans,_e=ce.keys||rw(P,ce);if(!_e)throw new Error("Keys missing");return(ce=ce.type==="add"||ce.type==="put"?r(r({},ce),{keys:_e}):r({},ce)).type!=="delete"&&(ce.values=i([],ce.values)),ce.keys&&(ce.keys=i([],ce.keys)),Te=j,Se=_e,((ve=ce).type==="add"?Promise.resolve([]):Te.getMany({trans:ve.trans,keys:Se,cache:"immutable"})).then(function(Ie){var $e=_e.map(function(De,Ue){var ot,pt,st,dt=Ie[Ue],mt={onerror:null,onsuccess:null};return ce.type==="delete"?le.fire.call(mt,De,dt,Ae):ce.type==="add"||dt===void 0?(ot=ge.fire.call(mt,De,ce.values[Ue],Ae),De==null&&ot!=null&&(ce.keys[Ue]=De=ot,P.outbound||T(ce.values[Ue],P.keyPath,De))):(ot=nw(dt,ce.values[Ue]),(pt=we.fire.call(mt,ot,De,dt,Ae))&&(st=ce.values[Ue],Object.keys(pt).forEach(function(ht){f(st,ht)?st[ht]=pt[ht]:T(st,ht,pt[ht])}))),mt});return j.mutate(ce).then(function(De){for(var Ue=De.failures,ot=De.results,pt=De.numFailures,De=De.lastResult,st=0;st<_e.length;++st){var dt=(ot||_e)[st],mt=$e[st];dt==null?mt.onerror&&mt.onerror(Ue[st]):mt.onsuccess&&mt.onsuccess(ce.type==="put"&&Ie[st]?ce.values[st]:dt)}return{failures:Ue,results:ot,numFailures:pt,lastResult:De}}).catch(function(De){return $e.forEach(function(Ue){return Ue.onerror&&Ue.onerror(De)}),Promise.reject(De)})})}}})}})}};function TC(w,_,j){try{if(!_||_.keys.length<w.length)return null;for(var P=[],B=0,K=0;B<_.keys.length&&K<w.length;++B)Zt(_.keys[B],w[K])===0&&(P.push(j?z(_.values[B]):_.values[B]),++K);return P.length===w.length?P:null}catch(ne){return null}}var BF={stack:"dbcore",level:-1,create:function(w){return{table:function(_){var j=w.table(_);return r(r({},j),{getMany:function(P){if(!P.cache)return j.getMany(P);var B=TC(P.keys,P.trans._cache,P.cache==="clone");return B?ct.resolve(B):j.getMany(P).then(function(K){return P.trans._cache={keys:P.keys,values:P.cache==="clone"?z(K):K},K})},mutate:function(P){return P.type!=="add"&&(P.trans._cache=null),j.mutate(P)}})}}}};function RC(w,_){return w.trans.mode==="readonly"&&!!w.subscr&&!w.trans.explicit&&w.trans.db._options.cache!=="disabled"&&!_.schema.primaryKey.outbound}function IC(w,_){switch(w){case"query":return _.values&&!_.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var zF={stack:"dbcore",level:0,name:"Observability",create:function(w){var _=w.schema.name,j=new Zr(w.MIN_KEY,w.MAX_KEY);return r(r({},w),{transaction:function(P,B,K){if(lt.subscr&&B!=="readonly")throw new re.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(lt.querier));return w.transaction(P,B,K)},table:function(P){var B=w.table(P),K=B.schema,ne=K.primaryKey,ce=K.indexes,le=ne.extractKey,ge=ne.outbound,we=ne.autoIncrement&&ce.filter(function(ve){return ve.compound&&ve.keyPath.includes(ne.keyPath)}),Ce=r(r({},B),{mutate:function(ve){function Se(ht){return ht="idb://".concat(_,"/").concat(P,"/").concat(ht),De[ht]||(De[ht]=new Zr)}var Ae,_e,Ie,$e=ve.trans,De=ve.mutatedParts||(ve.mutatedParts={}),Ue=Se(""),ot=Se(":dels"),pt=ve.type,mt=ve.type==="deleteRange"?[ve.range]:ve.type==="delete"?[ve.keys]:ve.values.length<50?[rw(ne,ve).filter(function(ht){return ht}),ve.values]:[],st=mt[0],dt=mt[1],mt=ve.trans._cache;return a(st)?(Ue.addKeys(st),(mt=pt==="delete"||st.length===dt.length?TC(st,mt):null)||ot.addKeys(st),(mt||dt)&&(Ae=Se,_e=mt,Ie=dt,K.indexes.forEach(function(ht){var _t=Ae(ht.name||"");function Ut(rn){return rn!=null?ht.extractKey(rn):null}function nn(rn){return ht.multiEntry&&a(rn)?rn.forEach(function(Zi){return _t.addKey(Zi)}):_t.addKey(rn)}(_e||Ie).forEach(function(rn,ei){var Ht=_e&&Ut(_e[ei]),ei=Ie&&Ut(Ie[ei]);Zt(Ht,ei)!==0&&(Ht!=null&&nn(Ht),ei!=null&&nn(ei))})}))):st?(dt={from:(dt=st.lower)!==null&&dt!==void 0?dt:w.MIN_KEY,to:(dt=st.upper)!==null&&dt!==void 0?dt:w.MAX_KEY},ot.add(dt),Ue.add(dt)):(Ue.add(j),ot.add(j),K.indexes.forEach(function(ht){return Se(ht.name).add(j)})),B.mutate(ve).then(function(ht){return!st||ve.type!=="add"&&ve.type!=="put"||(Ue.addKeys(ht.results),we&&we.forEach(function(_t){for(var Ut=ve.values.map(function(Ht){return _t.extractKey(Ht)}),nn=_t.keyPath.findIndex(function(Ht){return Ht===ne.keyPath}),rn=0,Zi=ht.results.length;rn<Zi;++rn)Ut[rn][nn]=ht.results[rn];Se(_t.name).addKeys(Ut)})),$e.mutatedParts=Tm($e.mutatedParts||{},De),ht})}}),ce=function(Se){var Ae=Se.query,Se=Ae.index,Ae=Ae.range;return[Se,new Zr((Se=Ae.lower)!==null&&Se!==void 0?Se:w.MIN_KEY,(Ae=Ae.upper)!==null&&Ae!==void 0?Ae:w.MAX_KEY)]},Te={get:function(ve){return[ne,new Zr(ve.key)]},getMany:function(ve){return[ne,new Zr().addKeys(ve.keys)]},count:ce,query:ce,openCursor:ce};return s(Te).forEach(function(ve){Ce[ve]=function(Se){var Ae=lt.subscr,_e=!!Ae,Ie=RC(lt,B)&&IC(ve,Se)?Se.obsSet={}:Ae;if(_e){var $e=function(dt){return dt="idb://".concat(_,"/").concat(P,"/").concat(dt),Ie[dt]||(Ie[dt]=new Zr)},De=$e(""),Ue=$e(":dels"),Ae=Te[ve](Se),_e=Ae[0],Ae=Ae[1];if((ve==="query"&&_e.isPrimaryKey&&!Se.values?Ue:$e(_e.name||"")).add(Ae),!_e.isPrimaryKey){if(ve!=="count"){var ot=ve==="query"&&ge&&Se.values&&B.query(r(r({},Se),{values:!1}));return B[ve].apply(this,arguments).then(function(dt){if(ve==="query"){if(ge&&Se.values)return ot.then(function(Ut){return Ut=Ut.result,De.addKeys(Ut),dt});var mt=Se.values?dt.result.map(le):dt.result;(Se.values?De:Ue).addKeys(mt)}else if(ve==="openCursor"){var ht=dt,_t=Se.values;return ht&&Object.create(ht,{key:{get:function(){return Ue.addKey(ht.primaryKey),ht.key}},primaryKey:{get:function(){var Ut=ht.primaryKey;return Ue.addKey(Ut),Ut}},value:{get:function(){return _t&&De.addKey(ht.primaryKey),ht.value}}})}return dt})}Ue.add(j)}}return B[ve].apply(this,arguments)}}),Ce}})}};function PC(w,_,j){if(j.numFailures===0)return _;if(_.type==="deleteRange")return null;var P=_.keys?_.keys.length:"values"in _&&_.values?_.values.length:1;return j.numFailures===P?null:(_=r({},_),a(_.keys)&&(_.keys=_.keys.filter(function(B,K){return!(K in j.failures)})),"values"in _&&a(_.values)&&(_.values=_.values.filter(function(B,K){return!(K in j.failures)})),_)}function iw(w,_){return j=w,((P=_).lower===void 0||(P.lowerOpen?0<Zt(j,P.lower):0<=Zt(j,P.lower)))&&(w=w,(_=_).upper===void 0||(_.upperOpen?Zt(w,_.upper)<0:Zt(w,_.upper)<=0));var j,P}function OC(w,_,Te,P,B,K){if(!Te||Te.length===0)return w;var ne=_.query.index,le=ne.multiEntry,ge=_.query.range,we=P.schema.primaryKey.extractKey,Ce=ne.extractKey,ce=(ne.lowLevelIndex||ne).extractKey,Te=Te.reduce(function(ve,Se){var Ae=ve,_e=[];if(Se.type==="add"||Se.type==="put")for(var Ie=new Zr,$e=Se.values.length-1;0<=$e;--$e){var De,Ue=Se.values[$e],ot=we(Ue);Ie.hasKey(ot)||(De=Ce(Ue),(le&&a(De)?De.some(function(ht){return iw(ht,ge)}):iw(De,ge))&&(Ie.addKey(ot),_e.push(Ue)))}switch(Se.type){case"add":var pt=new Zr().addKeys(_.values?ve.map(function(_t){return we(_t)}):ve),Ae=ve.concat(_.values?_e.filter(function(_t){return _t=we(_t),!pt.hasKey(_t)&&(pt.addKey(_t),!0)}):_e.map(function(_t){return we(_t)}).filter(function(_t){return!pt.hasKey(_t)&&(pt.addKey(_t),!0)}));break;case"put":var st=new Zr().addKeys(Se.values.map(function(_t){return we(_t)}));Ae=ve.filter(function(_t){return!st.hasKey(_.values?we(_t):_t)}).concat(_.values?_e:_e.map(function(_t){return we(_t)}));break;case"delete":var dt=new Zr().addKeys(Se.keys);Ae=ve.filter(function(_t){return!dt.hasKey(_.values?we(_t):_t)});break;case"deleteRange":var mt=Se.range;Ae=ve.filter(function(_t){return!iw(we(_t),mt)})}return Ae},w);return Te===w?w:(Te.sort(function(ve,Se){return Zt(ce(ve),ce(Se))||Zt(we(ve),we(Se))}),_.limit&&_.limit<1/0&&(Te.length>_.limit?Te.length=_.limit:w.length===_.limit&&Te.length<_.limit&&(B.dirty=!0)),K?Object.freeze(Te):Te)}function MC(w,_){return Zt(w.lower,_.lower)===0&&Zt(w.upper,_.upper)===0&&!!w.lowerOpen==!!_.lowerOpen&&!!w.upperOpen==!!_.upperOpen}function HF(w,_){return function(j,P,B,K){if(j===void 0)return P!==void 0?-1:0;if(P===void 0)return 1;if((P=Zt(j,P))===0){if(B&&K)return 0;if(B)return 1;if(K)return-1}return P}(w.lower,_.lower,w.lowerOpen,_.lowerOpen)<=0&&0<=function(j,P,B,K){if(j===void 0)return P!==void 0?1:0;if(P===void 0)return-1;if((P=Zt(j,P))===0){if(B&&K)return 0;if(B)return-1;if(K)return 1}return P}(w.upper,_.upper,w.upperOpen,_.upperOpen)}function WF(w,_,j,P){w.subscribers.add(j),P.addEventListener("abort",function(){var B,K;w.subscribers.delete(j),w.subscribers.size===0&&(B=w,K=_,setTimeout(function(){B.subscribers.size===0&&O(K,B)},3e3))})}var UF={stack:"dbcore",level:0,name:"Cache",create:function(w){var _=w.schema.name;return r(r({},w),{transaction:function(j,P,B){var K,ne,le=w.transaction(j,P,B);return P==="readwrite"&&(ne=(K=new AbortController).signal,B=function(ge){return function(){if(K.abort(),P==="readwrite"){for(var we=new Set,Ce=0,ce=j;Ce<ce.length;Ce++){var Te=ce[Ce],ve=nc["idb://".concat(_,"/").concat(Te)];if(ve){var Se=w.table(Te),Ae=ve.optimisticOps.filter(function(_t){return _t.trans===le});if(le._explicit&&ge&&le.mutatedParts)for(var _e=0,Ie=Object.values(ve.queries.query);_e<Ie.length;_e++)for(var $e=0,De=(pt=Ie[_e]).slice();$e<De.length;$e++)Jx((st=De[$e]).obsSet,le.mutatedParts)&&(O(pt,st),st.subscribers.forEach(function(_t){return we.add(_t)}));else if(0<Ae.length){ve.optimisticOps=ve.optimisticOps.filter(function(_t){return _t.trans!==le});for(var Ue=0,ot=Object.values(ve.queries.query);Ue<ot.length;Ue++)for(var pt,st,dt,mt=0,ht=(pt=ot[Ue]).slice();mt<ht.length;mt++)(st=ht[mt]).res!=null&&le.mutatedParts&&(ge&&!st.dirty?(dt=Object.isFrozen(st.res),dt=OC(st.res,st.req,Ae,Se,st,dt),st.dirty?(O(pt,st),st.subscribers.forEach(function(_t){return we.add(_t)})):dt!==st.res&&(st.res=dt,st.promise=ct.resolve({result:dt}))):(st.dirty&&O(pt,st),st.subscribers.forEach(function(_t){return we.add(_t)})))}}}we.forEach(function(_t){return _t()})}}},le.addEventListener("abort",B(!1),{signal:ne}),le.addEventListener("error",B(!1),{signal:ne}),le.addEventListener("complete",B(!0),{signal:ne})),le},table:function(j){var P=w.table(j),B=P.schema.primaryKey;return r(r({},P),{mutate:function(K){var ne=lt.trans;if(B.outbound||ne.db._options.cache==="disabled"||ne.explicit||ne.idbtrans.mode!=="readwrite")return P.mutate(K);var le=nc["idb://".concat(_,"/").concat(j)];return le?(ne=P.mutate(K),K.type!=="add"&&K.type!=="put"||!(50<=K.values.length||rw(B,K).some(function(ge){return ge==null}))?(le.optimisticOps.push(K),K.mutatedParts&&Rm(K.mutatedParts),ne.then(function(ge){0<ge.numFailures&&(O(le.optimisticOps,K),(ge=PC(0,K,ge))&&le.optimisticOps.push(ge),K.mutatedParts&&Rm(K.mutatedParts))}),ne.catch(function(){O(le.optimisticOps,K),K.mutatedParts&&Rm(K.mutatedParts)})):ne.then(function(ge){var we=PC(0,r(r({},K),{values:K.values.map(function(Ce,ce){var Te;return ge.failures[ce]?Ce:(Ce=(Te=B.keyPath)!==null&&Te!==void 0&&Te.includes(".")?z(Ce):r({},Ce),T(Ce,B.keyPath,ge.results[ce]),Ce)})}),ge);le.optimisticOps.push(we),queueMicrotask(function(){return K.mutatedParts&&Rm(K.mutatedParts)})}),ne):P.mutate(K)},query:function(K){if(!RC(lt,P)||!IC("query",K))return P.query(K);var ne=((we=lt.trans)===null||we===void 0?void 0:we.db._options.cache)==="immutable",ce=lt,le=ce.requery,ge=ce.signal,we=function(Se,Ae,_e,Ie){var $e=nc["idb://".concat(Se,"/").concat(Ae)];if(!$e)return[];if(!(Ae=$e.queries[_e]))return[null,!1,$e,null];var De=Ae[(Ie.query?Ie.query.index.name:null)||""];if(!De)return[null,!1,$e,null];switch(_e){case"query":var Ue=De.find(function(ot){return ot.req.limit===Ie.limit&&ot.req.values===Ie.values&&MC(ot.req.query.range,Ie.query.range)});return Ue?[Ue,!0,$e,De]:[De.find(function(ot){return("limit"in ot.req?ot.req.limit:1/0)>=Ie.limit&&(!Ie.values||ot.req.values)&&HF(ot.req.query.range,Ie.query.range)}),!1,$e,De];case"count":return Ue=De.find(function(ot){return MC(ot.req.query.range,Ie.query.range)}),[Ue,!!Ue,$e,De]}}(_,j,"query",K),Ce=we[0],ce=we[1],Te=we[2],ve=we[3];return Ce&&ce?Ce.obsSet=K.obsSet:(ce=P.query(K).then(function(Se){var Ae=Se.result;if(Ce&&(Ce.res=Ae),ne){for(var _e=0,Ie=Ae.length;_e<Ie;++_e)Object.freeze(Ae[_e]);Object.freeze(Ae)}else Se.result=z(Ae);return Se}).catch(function(Se){return ve&&Ce&&O(ve,Ce),Promise.reject(Se)}),Ce={obsSet:K.obsSet,promise:ce,subscribers:new Set,type:"query",req:K,dirty:!1},ve?ve.push(Ce):(ve=[Ce],(Te=Te||(nc["idb://".concat(_,"/").concat(j)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[K.query.index.name||""]=ve)),WF(Ce,ve,le,ge),Ce.promise.then(function(Se){return{result:OC(Se.result,K,Te==null?void 0:Te.optimisticOps,P,Ce,ne)}})}})}})}};function Pm(w,_){return new Proxy(w,{get:function(j,P,B){return P==="db"?_:Reflect.get(j,P,B)}})}var la=(dr.prototype.version=function(w){if(isNaN(w)||w<.1)throw new re.Type("Given version is not a positive number");if(w=Math.round(10*w)/10,this.idbdb||this._state.isBeingOpened)throw new re.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,w);var _=this._versions,j=_.filter(function(P){return P._cfg.version===w})[0];return j||(j=new this.Version(w),_.push(j),_.sort(PF),j.stores({}),this._state.autoSchema=!1,j)},dr.prototype._whenReady=function(w){var _=this;return this.idbdb&&(this._state.openComplete||lt.letThrough||this._vip)?w():new ct(function(j,P){if(_._state.openComplete)return P(new re.DatabaseClosed(_._state.dbOpenError));if(!_._state.isBeingOpened){if(!_._state.autoOpen)return void P(new re.DatabaseClosed);_.open().catch(ze)}_._state.dbReadyPromise.then(j,P)}).then(w)},dr.prototype.use=function(w){var _=w.stack,j=w.create,P=w.level,B=w.name;return B&&this.unuse({stack:_,name:B}),w=this._middlewares[_]||(this._middlewares[_]=[]),w.push({stack:_,create:j,level:P==null?10:P,name:B}),w.sort(function(K,ne){return K.level-ne.level}),this},dr.prototype.unuse=function(w){var _=w.stack,j=w.name,P=w.create;return _&&this._middlewares[_]&&(this._middlewares[_]=this._middlewares[_].filter(function(B){return P?B.create!==P:!!j&&B.name!==j})),this},dr.prototype.open=function(){var w=this;return Uo(on,function(){return DF(w)})},dr.prototype._close=function(){var w=this._state,_=xi.indexOf(this);if(0<=_&&xi.splice(_,1),this.idbdb){try{this.idbdb.close()}catch(j){}this.idbdb=null}w.isBeingOpened||(w.dbReadyPromise=new ct(function(j){w.dbReadyResolve=j}),w.openCanceller=new ct(function(j,P){w.cancelOpen=P}))},dr.prototype.close=function(j){var _=(j===void 0?{disableAutoOpen:!0}:j).disableAutoOpen,j=this._state;_?(j.isBeingOpened&&j.cancelOpen(new re.DatabaseClosed),this._close(),j.autoOpen=!1,j.dbOpenError=new re.DatabaseClosed):(this._close(),j.autoOpen=this._options.autoOpen||j.isBeingOpened,j.openComplete=!1,j.dbOpenError=null)},dr.prototype.delete=function(w){var _=this;w===void 0&&(w={disableAutoOpen:!0});var j=0<arguments.length&&typeof arguments[0]!="object",P=this._state;return new ct(function(B,K){function ne(){_.close(w);var le=_._deps.indexedDB.deleteDatabase(_.name);le.onsuccess=Lt(function(){var ge,we,Ce;ge=_._deps,we=_.name,Ce=ge.indexedDB,ge=ge.IDBKeyRange,Yx(Ce)||we===el||Kx(Ce,ge).delete(we).catch(ze),B()}),le.onerror=As(K),le.onblocked=_._fireOnBlocked}if(j)throw new re.InvalidArgument("Invalid closeOptions argument to db.delete()");P.isBeingOpened?P.dbReadyPromise.then(ne):ne()})},dr.prototype.backendDB=function(){return this.idbdb},dr.prototype.isOpen=function(){return this.idbdb!==null},dr.prototype.hasBeenClosed=function(){var w=this._state.dbOpenError;return w&&w.name==="DatabaseClosed"},dr.prototype.hasFailed=function(){return this._state.dbOpenError!==null},dr.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(dr.prototype,"tables",{get:function(){var w=this;return s(this._allTables).map(function(_){return w._allTables[_]})},enumerable:!1,configurable:!0}),dr.prototype.transaction=function(){var w=(function(_,j,P){var B=arguments.length;if(B<2)throw new re.InvalidArgument("Too few arguments");for(var K=new Array(B-1);--B;)K[B-1]=arguments[B];return P=K.pop(),[_,F(K),P]}).apply(this,arguments);return this._transaction.apply(this,w)},dr.prototype._transaction=function(w,_,j){var P=this,B=lt.trans;B&&B.db===this&&w.indexOf("!")===-1||(B=null);var K,ne,le=w.indexOf("?")!==-1;w=w.replace("!","").replace("?","");try{if(ne=_.map(function(we){if(we=we instanceof P.Table?we.name:we,typeof we!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return we}),w=="r"||w===Es)K=Es;else{if(w!="rw"&&w!=aa)throw new re.InvalidArgument("Invalid transaction mode: "+w);K=aa}if(B){if(B.mode===Es&&K===aa){if(!le)throw new re.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");B=null}B&&ne.forEach(function(we){if(B&&B.storeNames.indexOf(we)===-1){if(!le)throw new re.SubTransaction("Table "+we+" not included in parent transaction.");B=null}}),le&&B&&!B.active&&(B=null)}}catch(we){return B?B._promise(null,function(Ce,ce){ce(we)}):Tn(we)}var ge=(function we(Ce,ce,Te,ve,Se){return ct.resolve().then(function(){var Ae=lt.transless||lt,_e=Ce._createTransaction(ce,Te,Ce._dbSchema,ve);if(_e.explicit=!0,Ae={trans:_e,transless:Ae},ve)_e.idbtrans=ve.idbtrans;else try{_e.create(),_e.idbtrans._explicit=!0,Ce._state.PR1398_maxLoop=3}catch(De){return De.name===V.InvalidState&&Ce.isOpen()&&0<--Ce._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Ce.close({disableAutoOpen:!1}),Ce.open().then(function(){return we(Ce,ce,Te,null,Se)})):Tn(De)}var Ie,$e=Y(Se);return $e&&yi(),Ae=ct.follow(function(){var De;(Ie=Se.call(_e,_e))&&($e?(De=zr.bind(null,null),Ie.then(De,De)):typeof Ie.next=="function"&&typeof Ie.throw=="function"&&(Ie=tw(Ie)))},Ae),(Ie&&typeof Ie.then=="function"?ct.resolve(Ie).then(function(De){return _e.active?De:Tn(new re.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Ae.then(function(){return Ie})).then(function(De){return ve&&_e._resolve(),_e._completion.then(function(){return De})}).catch(function(De){return _e._reject(De),Tn(De)})})}).bind(null,this,K,ne,B,j);return B?B._promise(K,ge,"lock"):lt.trans?Uo(lt.transless,function(){return P._whenReady(ge)}):this._whenReady(ge)},dr.prototype.table=function(w){if(!f(this._allTables,w))throw new re.InvalidTable("Table ".concat(w," does not exist"));return this._allTables[w]},dr);function dr(w,_){var j=this;this._middlewares={},this.verno=0;var P=dr.dependencies;this._options=_=r({addons:dr.addons,autoOpen:!0,indexedDB:P.indexedDB,IDBKeyRange:P.IDBKeyRange,cache:"cloned"},_),this._deps={indexedDB:_.indexedDB,IDBKeyRange:_.IDBKeyRange},P=_.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var B,K,ne,le,ge,we={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:ze,dbReadyPromise:null,cancelOpen:ze,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:_.autoOpen};we.dbReadyPromise=new ct(function(ce){we.dbReadyResolve=ce}),we.openCanceller=new ct(function(ce,Te){we.cancelOpen=Te}),this._state=we,this.name=w,this.on=Ee(this,"populate","blocked","versionchange","close",{ready:[We,ze]}),this.on.ready.subscribe=x(this.on.ready.subscribe,function(ce){return function(Te,ve){dr.vip(function(){var Se,Ae=j._state;Ae.openComplete?(Ae.dbOpenError||ct.resolve().then(Te),ve&&ce(Te)):Ae.onReadyBeingFired?(Ae.onReadyBeingFired.push(Te),ve&&ce(Te)):(ce(Te),Se=j,ve||ce(function _e(){Se.on.ready.unsubscribe(Te),Se.on.ready.unsubscribe(_e)}))})}}),this.Collection=(B=this,me(rr.prototype,function(Ie,_e){this.db=B;var ve=vu,Se=null;if(_e)try{ve=_e()}catch($e){Se=$e}var Ae=Ie._ctx,_e=Ae.table,Ie=_e.hook.reading.fire;this._ctx={table:_e,index:Ae.index,isPrimKey:!Ae.index||_e.schema.primKey.keyPath&&Ae.index===_e.schema.primKey.name,range:ve,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:Se,or:Ae.or,valueMapper:Ie!==se?Ie:null}})),this.Table=(K=this,me(te.prototype,function(ce,Te,ve){this.db=K,this._tx=ve,this.name=ce,this.schema=Te,this.hook=K._allTables[ce]?K._allTables[ce].hook:Ee(null,{creating:[Ve,ze],reading:[fe,se],updating:[Je,ze],deleting:[qe,ze]})})),this.Transaction=(ne=this,me(AF.prototype,function(ce,Te,ve,Se,Ae){var _e=this;this.db=ne,this.mode=ce,this.storeNames=Te,this.schema=ve,this.chromeTransactionDurability=Se,this.idbtrans=null,this.on=Ee(this,"complete","error","abort"),this.parent=Ae||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ct(function(Ie,$e){_e._resolve=Ie,_e._reject=$e}),this._completion.then(function(){_e.active=!1,_e.on.complete.fire()},function(Ie){var $e=_e.active;return _e.active=!1,_e.on.error.fire(Ie),_e.parent?_e.parent._reject(Ie):$e&&_e.idbtrans&&_e.idbtrans.abort(),Tn(Ie)})})),this.Version=(le=this,me($F.prototype,function(ce){this.db=le,this._cfg={version:ce,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(ge=this,me(xf.prototype,function(ce,Te,ve){if(this.db=ge,this._ctx={table:ce,index:Te===":id"?null:Te,or:ve},this._cmp=this._ascending=Zt,this._descending=function(Se,Ae){return Zt(Ae,Se)},this._max=function(Se,Ae){return 0<Zt(Se,Ae)?Se:Ae},this._min=function(Se,Ae){return Zt(Se,Ae)<0?Se:Ae},this._IDBKeyRange=ge._deps.IDBKeyRange,!this._IDBKeyRange)throw new re.MissingAPI})),this.on("versionchange",function(ce){0<ce.newVersion?console.warn("Another connection wants to upgrade database '".concat(j.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(j.name,"'. Closing db now to resume the delete request.")),j.close({disableAutoOpen:!1})}),this.on("blocked",function(ce){!ce.newVersion||ce.newVersion<ce.oldVersion?console.warn("Dexie.delete('".concat(j.name,"') was blocked")):console.warn("Upgrade '".concat(j.name,"' blocked by other connection holding version ").concat(ce.oldVersion/10))}),this._maxKey=_f(_.IDBKeyRange),this._createTransaction=function(ce,Te,ve,Se){return new j.Transaction(ce,Te,ve,j._options.chromeTransactionDurability,Se)},this._fireOnBlocked=function(ce){j.on("blocked").fire(ce),xi.filter(function(Te){return Te.name===j.name&&Te!==j&&!Te._state.vcFired}).map(function(Te){return Te.on("versionchange").fire(ce)})},this.use(BF),this.use(UF),this.use(zF),this.use(FF),this.use(LF);var Ce=new Proxy(this,{get:function(ce,Te,ve){if(Te==="_vip")return!0;if(Te==="table")return function(Ae){return Pm(j.table(Ae),Ce)};var Se=Reflect.get(ce,Te,ve);return Se instanceof te?Pm(Se,Ce):Te==="tables"?Se.map(function(Ae){return Pm(Ae,Ce)}):Te==="_createTransaction"?function(){return Pm(Se.apply(this,arguments),Ce)}:Se}});this.vip=Ce,P.forEach(function(ce){return ce(j)})}var Om,So=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",VF=(ow.prototype.subscribe=function(w,_,j){return this._subscribe(w&&typeof w!="function"?w:{next:w,error:_,complete:j})},ow.prototype[So]=function(){return this},ow);function ow(w){this._subscribe=w}try{Om={indexedDB:o.indexedDB||o.mozIndexedDB||o.webkitIndexedDB||o.msIndexedDB,IDBKeyRange:o.IDBKeyRange||o.webkitIDBKeyRange}}catch(w){Om={indexedDB:null,IDBKeyRange:null}}function $C(w){var _,j=!1,P=new VF(function(B){var K=Y(w),ne,le=!1,ge={},we={},Ce={get closed(){return le},unsubscribe:function(){le||(le=!0,ne&&ne.abort(),ce&&tl.storagemutated.unsubscribe(ve))}};B.start&&B.start(Ce);var ce=!1,Te=function(){return Zl(Se)},ve=function(Ae){Tm(ge,Ae),Jx(we,ge)&&Te()},Se=function(){var Ae,_e,Ie;!le&&Om.indexedDB&&(ge={},Ae={},ne&&ne.abort(),ne=new AbortController,Ie=function($e){var De=oe();try{K&&yi();var Ue=vi(w,$e);return Ue=K?Ue.finally(zr):Ue}finally{De&&nt()}}(_e={subscr:Ae,signal:ne.signal,requery:Te,querier:w,trans:null}),Promise.resolve(Ie).then(function($e){j=!0,_=$e,le||_e.signal.aborted||(ge={},function(De){for(var Ue in De)if(f(De,Ue))return;return 1}(we=Ae)||ce||(tl(bf,ve),ce=!0),Zl(function(){return!le&&B.next&&B.next($e)}))},function($e){j=!1,["DatabaseClosedError","AbortError"].includes($e==null?void 0:$e.name)||le||Zl(function(){le||B.error&&B.error($e)})}))};return setTimeout(Te,0),Ce});return P.hasValue=function(){return j},P.getValue=function(){return _},P}var rc=la;function sw(w){var _=nl;try{nl=!0,tl.storagemutated.fire(w),ew(w,!0)}finally{nl=_}}h(rc,r(r({},Ye),{delete:function(w){return new rc(w,{addons:[]}).delete()},exists:function(w){return new rc(w,{addons:[]}).open().then(function(_){return _.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(w){try{return _=rc.dependencies,j=_.indexedDB,_=_.IDBKeyRange,(Yx(j)?Promise.resolve(j.databases()).then(function(P){return P.map(function(B){return B.name}).filter(function(B){return B!==el})}):Kx(j,_).toCollection().primaryKeys()).then(w)}catch(P){return Tn(new re.MissingAPI)}var _,j},defineClass:function(){return function(w){l(this,w)}},ignoreTransaction:function(w){return lt.trans?Uo(lt.transless,w):w()},vip:Gx,async:function(w){return function(){try{var _=tw(w.apply(this,arguments));return _&&typeof _.then=="function"?_:ct.resolve(_)}catch(j){return Tn(j)}}},spawn:function(w,_,j){try{var P=tw(w.apply(j,_||[]));return P&&typeof P.then=="function"?P:ct.resolve(P)}catch(B){return Tn(B)}},currentTransaction:{get:function(){return lt.trans||null}},waitFor:function(w,_){return _=ct.resolve(typeof w=="function"?rc.ignoreTransaction(w):w).timeout(_||6e4),lt.trans?lt.trans.waitFor(_):_},Promise:ct,debug:{get:function(){return Ge},set:function(w){Fe(w)}},derive:g,extend:l,props:h,override:x,Events:Ee,on:tl,liveQuery:$C,extendObservabilitySet:Tm,getByKeyPath:E,setByKeyPath:T,delByKeyPath:function(w,_){typeof _=="string"?T(w,_,void 0):"length"in _&&[].map.call(_,function(j){T(w,j,void 0)})},shallowClone:M,deepClone:z,getObjectDiff:nw,cmp:Zt,asap:S,minKey:-1/0,addons:[],connections:xi,errnames:V,dependencies:Om,cache:nc,semVer:"4.0.11",version:"4.0.11".split(".").map(function(w){return parseInt(w)}).reduce(function(w,_,j){return w+_/Math.pow(10,2*j)})})),rc.maxKey=_f(rc.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(tl(bf,function(w){nl||(w=new CustomEvent(Bx,{detail:w}),nl=!0,dispatchEvent(w),nl=!1)}),addEventListener(Bx,function(w){w=w.detail,nl||sw(w)}));var xu,nl=!1,DC=function(){};return typeof BroadcastChannel<"u"&&((DC=function(){(xu=new BroadcastChannel(Bx)).onmessage=function(w){return w.data&&sw(w.data)}})(),typeof xu.unref=="function"&&xu.unref(),tl(bf,function(w){nl||xu.postMessage(w)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(w){if(!la.disableBfCache&&w.persisted){Ge&&console.debug("Dexie: handling persisted pagehide"),xu!=null&&xu.close();for(var _=0,j=xi;_<j.length;_++)j[_].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(w){!la.disableBfCache&&w.persisted&&(Ge&&console.debug("Dexie: handling persisted pageshow"),DC(),sw({all:new Zr(-1/0,[[]])}))})),ct.rejectionMapper=function(w,_){return!w||w instanceof ae||w instanceof TypeError||w instanceof SyntaxError||!w.name||!Pe[w.name]?w:(_=new Pe[w.name](_||w.message,w),"stack"in w&&v(_,"stack",{get:function(){return this.inner.stack}}),_)},Fe(Ge),r(la,Object.freeze({__proto__:null,Dexie:la,liveQuery:$C,Entity:yu,cmp:Zt,PropModification:cn,replacePrefix:function(w,_){return new cn({replacePrefix:[w,_]})},add:function(w){return new cn({add:w})},remove:function(w){return new cn({remove:w})},default:la,RangeSet:Zr,mergeRanges:Ef,rangesOverlap:CC}),{default:la}),la})})(HP);var O9=HP.exports;const w_=qa(O9),oN=Symbol.for("Dexie"),Kv=globalThis[oN]||(globalThis[oN]=w_);if(w_.semVer!==Kv.semVer)throw new Error("Two different versions of Dexie loaded in the same app: ".concat(w_.semVer," and ").concat(Kv.semVer));const{liveQuery:M9,mergeRanges:T0e,rangesOverlap:R0e,RangeSet:I0e,cmp:P0e,Entity:O0e,PropModification:M0e,replacePrefix:$0e,add:D0e,remove:F0e}=Kv;var hn;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const o={};for(const s of i)o[s]=s;return o},e.getValidEnumValues=i=>{const o=e.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),s={};for(const a of o)s[a]=i[a];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const s in i)Object.prototype.hasOwnProperty.call(i,s)&&o.push(s);return o},e.find=(i,o)=>{for(const s of i)if(o(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,o=" | "){return i.map(s=>typeof s=="string"?"'".concat(s,"'"):s).join(o)}e.joinValues=r,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(hn||(hn={}));var b_;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(b_||(b_={}));const wt=hn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),xa=e=>{switch(typeof e){case"undefined":return wt.undefined;case"string":return wt.string;case"number":return isNaN(e)?wt.nan:wt.number;case"boolean":return wt.boolean;case"function":return wt.function;case"bigint":return wt.bigint;case"symbol":return wt.symbol;case"object":return Array.isArray(e)?wt.array:e===null?wt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?wt.promise:typeof Map<"u"&&e instanceof Map?wt.map:typeof Set<"u"&&e instanceof Set?wt.set:typeof Date<"u"&&e instanceof Date?wt.date:wt.object;default:return wt.unknown}},tt=hn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),$9=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class fo extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(o){return o.message},r={_errors:[]},i=o=>{for(const s of o.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)r._errors.push(n(s));else{let a=r,l=0;for(;l<s.path.length;){const c=s.path[l];l===s.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(n(s))):a[c]=a[c]||{_errors:[]},a=a[c],l++}}};return i(this),r}static assert(t){if(!(t instanceof fo))throw new Error("Not a ZodError: ".concat(t))}toString(){return this.message}get message(){return JSON.stringify(this.issues,hn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}fo.create=e=>new fo(e);const kd=(e,t)=>{let n;switch(e.code){case tt.invalid_type:e.received===wt.undefined?n="Required":n="Expected ".concat(e.expected,", received ").concat(e.received);break;case tt.invalid_literal:n="Invalid literal value, expected ".concat(JSON.stringify(e.expected,hn.jsonStringifyReplacer));break;case tt.unrecognized_keys:n="Unrecognized key(s) in object: ".concat(hn.joinValues(e.keys,", "));break;case tt.invalid_union:n="Invalid input";break;case tt.invalid_union_discriminator:n="Invalid discriminator value. Expected ".concat(hn.joinValues(e.options));break;case tt.invalid_enum_value:n="Invalid enum value. Expected ".concat(hn.joinValues(e.options),", received '").concat(e.received,"'");break;case tt.invalid_arguments:n="Invalid function arguments";break;case tt.invalid_return_type:n="Invalid function return type";break;case tt.invalid_date:n="Invalid date";break;case tt.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n='Invalid input: must include "'.concat(e.validation.includes,'"'),typeof e.validation.position=="number"&&(n="".concat(n," at one or more positions greater than or equal to ").concat(e.validation.position))):"startsWith"in e.validation?n='Invalid input: must start with "'.concat(e.validation.startsWith,'"'):"endsWith"in e.validation?n='Invalid input: must end with "'.concat(e.validation.endsWith,'"'):hn.assertNever(e.validation):e.validation!=="regex"?n="Invalid ".concat(e.validation):n="Invalid";break;case tt.too_small:e.type==="array"?n="Array must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"more than"," ").concat(e.minimum," element(s)"):e.type==="string"?n="String must contain ".concat(e.exact?"exactly":e.inclusive?"at least":"over"," ").concat(e.minimum," character(s)"):e.type==="number"?n="Number must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(e.minimum):e.type==="date"?n="Date must be ".concat(e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than ").concat(new Date(Number(e.minimum))):n="Invalid input";break;case tt.too_big:e.type==="array"?n="Array must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"less than"," ").concat(e.maximum," element(s)"):e.type==="string"?n="String must contain ".concat(e.exact?"exactly":e.inclusive?"at most":"under"," ").concat(e.maximum," character(s)"):e.type==="number"?n="Number must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):e.type==="bigint"?n="BigInt must be ".concat(e.exact?"exactly":e.inclusive?"less than or equal to":"less than"," ").concat(e.maximum):e.type==="date"?n="Date must be ".concat(e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"," ").concat(new Date(Number(e.maximum))):n="Invalid input";break;case tt.custom:n="Invalid input";break;case tt.invalid_intersection_types:n="Intersection results could not be merged";break;case tt.not_multiple_of:n="Number must be a multiple of ".concat(e.multipleOf);break;case tt.not_finite:n="Number must be finite";break;default:n=t.defaultError,hn.assertNever(e)}return{message:n}};let WP=kd;function D9(e){WP=e}function Yv(){return WP}const Gv=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,o=[...n,...i.path||[]],s={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let a="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)a=c(s,{data:t,defaultError:a}).message;return{...i,path:o,message:a}},F9=[];function gt(e,t){const n=Yv(),r=Gv({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===kd?void 0:kd].filter(i=>!!i)});e.common.issues.push(r)}class pi{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return Ft;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const o=await i.key,s=await i.value;r.push({key:o,value:s})}return pi.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:o,value:s}=i;if(o.status==="aborted"||s.status==="aborted")return Ft;o.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(r[o.value]=s.value)}return{status:t.value,value:r}}}const Ft=Object.freeze({status:"aborted"}),Ku=e=>({status:"dirty",value:e}),Ti=e=>({status:"valid",value:e}),__=e=>e.status==="aborted",k_=e=>e.status==="dirty",zc=e=>e.status==="valid",np=e=>typeof Promise<"u"&&e instanceof Promise;function Xv(e,t,n,r){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function UP(e,t,n,r,i){if(typeof t=="function"?e!==t||!0:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var Nt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Nt||(Nt={}));var nh,rh;class Ys{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const sN=(e,t)=>{if(zc(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new fo(e.common.issues);return this._error=n,this._error}}};function qt(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');return t?{errorMap:t,description:i}:{errorMap:(s,a)=>{var l,c;const{message:u}=e;return s.code==="invalid_enum_value"?{message:u!=null?u:a.defaultError}:typeof a.data>"u"?{message:(l=u!=null?u:r)!==null&&l!==void 0?l:a.defaultError}:s.code!=="invalid_type"?{message:a.defaultError}:{message:(c=u!=null?u:n)!==null&&c!==void 0?c:a.defaultError}},description:i}}class Qt{get description(){return this._def.description}_getType(t){return xa(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:xa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new pi,ctx:{common:t.parent.common,data:t.data,parsedType:xa(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(np(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:xa(t)},o=this._parseSync({data:t,path:i.path,parent:i});return sN(i,o)}"~validate"(t){var n,r;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:xa(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:i});return zc(o)?{value:o.value}:{issues:i.common.issues}}catch(o){!((r=(n=o==null?void 0:o.message)===null||n===void 0?void 0:n.toLowerCase())===null||r===void 0)&&r.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:i}).then(o=>zc(o)?{value:o.value}:{issues:i.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:xa(t)},i=this._parse({data:t,path:r.path,parent:r}),o=await(np(i)?i:Promise.resolve(i));return sN(r,o)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const s=t(i),a=()=>o.addIssue({code:tt.custom,...r(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(l=>l?!0:(a(),!1)):s?!0:(a(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new fs({schema:this,typeName:Dt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return Hs.create(this,this._def)}nullable(){return Ll.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ls.create(this)}promise(){return Ed.create(this,this._def)}or(t){return sp.create([this,t],this._def)}and(t){return ap.create(this,t,this._def)}transform(t){return new fs({...qt(this._def),schema:this,typeName:Dt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new fp({...qt(this._def),innerType:this,defaultValue:n,typeName:Dt.ZodDefault})}brand(){return new jS({typeName:Dt.ZodBranded,type:this,...qt(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new hp({...qt(this._def),innerType:this,catchValue:n,typeName:Dt.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return nm.create(this,t)}readonly(){return pp.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const L9=/^c[^\s-]{8,}$/i,B9=/^[0-9a-z]+$/,z9=/^[0-9A-HJKMNP-TV-Z]{26}$/i,H9=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,W9=/^[a-z0-9_-]{21}$/i,U9=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,V9=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,q9=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,K9="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Dw;const Y9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,G9=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,X9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,J9=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Q9=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Z9=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,VP="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",eH=new RegExp("^".concat(VP,"$"));function qP(e){let t="[0-5]\\d";e.precision?t="".concat(t,"\\.\\d{").concat(e.precision,"}"):e.precision==null&&(t="".concat(t,"(\\.\\d+)?"));const n=e.precision?"+":"?";return"([01]\\d|2[0-3]):[0-5]\\d(:".concat(t,")").concat(n)}function tH(e){return new RegExp("^".concat(qP(e),"$"))}function KP(e){let t="".concat(VP,"T").concat(qP(e));const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t="".concat(t,"(").concat(n.join("|"),")"),new RegExp("^".concat(t,"$"))}function nH(e,t){return!!((t==="v4"||!t)&&Y9.test(e)||(t==="v6"||!t)&&X9.test(e))}function rH(e,t){if(!U9.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||!i.typ||!i.alg||t&&i.alg!==t)}catch(n){return!1}}function iH(e,t){return!!((t==="v4"||!t)&&G9.test(e)||(t==="v6"||!t)&&J9.test(e))}class rs extends Qt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==wt.string){const o=this._getOrReturnCtx(t);return gt(o,{code:tt.invalid_type,expected:wt.string,received:o.parsedType}),Ft}const r=new pi;let i;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),gt(i,{code:tt.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),gt(i,{code:tt.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),r.dirty());else if(o.kind==="length"){const s=t.data.length>o.value,a=t.data.length<o.value;(s||a)&&(i=this._getOrReturnCtx(t,i),s?gt(i,{code:tt.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):a&&gt(i,{code:tt.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),r.dirty())}else if(o.kind==="email")q9.test(t.data)||(i=this._getOrReturnCtx(t,i),gt(i,{validation:"email",code:tt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="emoji")Dw||(Dw=new RegExp(K9,"u")),Dw.test(t.data)||(i=this._getOrReturnCtx(t,i),gt(i,{validation:"emoji",code:tt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="uuid")H9.test(t.data)||(i=this._getOrReturnCtx(t,i),gt(i,{validation:"uuid",code:tt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="nanoid")W9.test(t.data)||(i=this._getOrReturnCtx(t,i),gt(i,{validation:"nanoid",code:tt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid")L9.test(t.data)||(i=this._getOrReturnCtx(t,i),gt(i,{validation:"cuid",code:tt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="cuid2")B9.test(t.data)||(i=this._getOrReturnCtx(t,i),gt(i,{validation:"cuid2",code:tt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="ulid")z9.test(t.data)||(i=this._getOrReturnCtx(t,i),gt(i,{validation:"ulid",code:tt.invalid_string,message:o.message}),r.dirty());else if(o.kind==="url")try{new URL(t.data)}catch(s){i=this._getOrReturnCtx(t,i),gt(i,{validation:"url",code:tt.invalid_string,message:o.message}),r.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),gt(i,{validation:"regex",code:tt.invalid_string,message:o.message}),r.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),gt(i,{code:tt.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),r.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),gt(i,{code:tt.invalid_string,validation:{startsWith:o.value},message:o.message}),r.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),gt(i,{code:tt.invalid_string,validation:{endsWith:o.value},message:o.message}),r.dirty()):o.kind==="datetime"?KP(o).test(t.data)||(i=this._getOrReturnCtx(t,i),gt(i,{code:tt.invalid_string,validation:"datetime",message:o.message}),r.dirty()):o.kind==="date"?eH.test(t.data)||(i=this._getOrReturnCtx(t,i),gt(i,{code:tt.invalid_string,validation:"date",message:o.message}),r.dirty()):o.kind==="time"?tH(o).test(t.data)||(i=this._getOrReturnCtx(t,i),gt(i,{code:tt.invalid_string,validation:"time",message:o.message}),r.dirty()):o.kind==="duration"?V9.test(t.data)||(i=this._getOrReturnCtx(t,i),gt(i,{validation:"duration",code:tt.invalid_string,message:o.message}),r.dirty()):o.kind==="ip"?nH(t.data,o.version)||(i=this._getOrReturnCtx(t,i),gt(i,{validation:"ip",code:tt.invalid_string,message:o.message}),r.dirty()):o.kind==="jwt"?rH(t.data,o.alg)||(i=this._getOrReturnCtx(t,i),gt(i,{validation:"jwt",code:tt.invalid_string,message:o.message}),r.dirty()):o.kind==="cidr"?iH(t.data,o.version)||(i=this._getOrReturnCtx(t,i),gt(i,{validation:"cidr",code:tt.invalid_string,message:o.message}),r.dirty()):o.kind==="base64"?Q9.test(t.data)||(i=this._getOrReturnCtx(t,i),gt(i,{validation:"base64",code:tt.invalid_string,message:o.message}),r.dirty()):o.kind==="base64url"?Z9.test(t.data)||(i=this._getOrReturnCtx(t,i),gt(i,{validation:"base64url",code:tt.invalid_string,message:o.message}),r.dirty()):hn.assertNever(o);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:tt.invalid_string,...Nt.errToObj(r)})}_addCheck(t){return new rs({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Nt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Nt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Nt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Nt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Nt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Nt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Nt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Nt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Nt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Nt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Nt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Nt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Nt.errToObj(t)})}datetime(t){var n,r;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(r=t==null?void 0:t.local)!==null&&r!==void 0?r:!1,...Nt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Nt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Nt.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Nt.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Nt.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Nt.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Nt.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Nt.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Nt.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Nt.errToObj(n)})}nonempty(t){return this.min(1,Nt.errToObj(t))}trim(){return new rs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new rs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new rs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}rs.create=e=>{var t;return new rs({checks:[],typeName:Dt.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...qt(e)})};function oH(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,o=parseInt(e.toFixed(i).replace(".","")),s=parseInt(t.toFixed(i).replace(".",""));return o%s/Math.pow(10,i)}class $l extends Qt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==wt.number){const o=this._getOrReturnCtx(t);return gt(o,{code:tt.invalid_type,expected:wt.number,received:o.parsedType}),Ft}let r;const i=new pi;for(const o of this._def.checks)o.kind==="int"?hn.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),gt(r,{code:tt.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),gt(r,{code:tt.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),gt(r,{code:tt.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?oH(t.data,o.value)!==0&&(r=this._getOrReturnCtx(t,r),gt(r,{code:tt.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),gt(r,{code:tt.not_finite,message:o.message}),i.dirty()):hn.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Nt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Nt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Nt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Nt.toString(n))}setLimit(t,n,r,i){return new $l({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Nt.toString(i)}]})}_addCheck(t){return new $l({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Nt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Nt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Nt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Nt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Nt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Nt.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Nt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Nt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Nt.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&hn.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}$l.create=e=>new $l({checks:[],typeName:Dt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...qt(e)});class Dl extends Qt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch(o){return this._getInvalidInput(t)}if(this._getType(t)!==wt.bigint)return this._getInvalidInput(t);let r;const i=new pi;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(r=this._getOrReturnCtx(t,r),gt(r,{code:tt.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(r=this._getOrReturnCtx(t,r),gt(r,{code:tt.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),gt(r,{code:tt.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):hn.assertNever(o);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return gt(n,{code:tt.invalid_type,expected:wt.bigint,received:n.parsedType}),Ft}gte(t,n){return this.setLimit("min",t,!0,Nt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Nt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Nt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Nt.toString(n))}setLimit(t,n,r,i){return new Dl({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Nt.toString(i)}]})}_addCheck(t){return new Dl({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Nt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Nt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Nt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Nt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Nt.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Dl.create=e=>{var t;return new Dl({checks:[],typeName:Dt.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...qt(e)})};class rp extends Qt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==wt.boolean){const r=this._getOrReturnCtx(t);return gt(r,{code:tt.invalid_type,expected:wt.boolean,received:r.parsedType}),Ft}return Ti(t.data)}}rp.create=e=>new rp({typeName:Dt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...qt(e)});class Hc extends Qt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==wt.date){const o=this._getOrReturnCtx(t);return gt(o,{code:tt.invalid_type,expected:wt.date,received:o.parsedType}),Ft}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return gt(o,{code:tt.invalid_date}),Ft}const r=new pi;let i;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),gt(i,{code:tt.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),r.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),gt(i,{code:tt.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),r.dirty()):hn.assertNever(o);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Hc({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Nt.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Nt.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Hc.create=e=>new Hc({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Dt.ZodDate,...qt(e)});class Jv extends Qt{_parse(t){if(this._getType(t)!==wt.symbol){const r=this._getOrReturnCtx(t);return gt(r,{code:tt.invalid_type,expected:wt.symbol,received:r.parsedType}),Ft}return Ti(t.data)}}Jv.create=e=>new Jv({typeName:Dt.ZodSymbol,...qt(e)});class ip extends Qt{_parse(t){if(this._getType(t)!==wt.undefined){const r=this._getOrReturnCtx(t);return gt(r,{code:tt.invalid_type,expected:wt.undefined,received:r.parsedType}),Ft}return Ti(t.data)}}ip.create=e=>new ip({typeName:Dt.ZodUndefined,...qt(e)});class op extends Qt{_parse(t){if(this._getType(t)!==wt.null){const r=this._getOrReturnCtx(t);return gt(r,{code:tt.invalid_type,expected:wt.null,received:r.parsedType}),Ft}return Ti(t.data)}}op.create=e=>new op({typeName:Dt.ZodNull,...qt(e)});class Sd extends Qt{constructor(){super(...arguments),this._any=!0}_parse(t){return Ti(t.data)}}Sd.create=e=>new Sd({typeName:Dt.ZodAny,...qt(e)});class Rc extends Qt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Ti(t.data)}}Rc.create=e=>new Rc({typeName:Dt.ZodUnknown,...qt(e)});class Ba extends Qt{_parse(t){const n=this._getOrReturnCtx(t);return gt(n,{code:tt.invalid_type,expected:wt.never,received:n.parsedType}),Ft}}Ba.create=e=>new Ba({typeName:Dt.ZodNever,...qt(e)});class Qv extends Qt{_parse(t){if(this._getType(t)!==wt.undefined){const r=this._getOrReturnCtx(t);return gt(r,{code:tt.invalid_type,expected:wt.void,received:r.parsedType}),Ft}return Ti(t.data)}}Qv.create=e=>new Qv({typeName:Dt.ZodVoid,...qt(e)});class ls extends Qt{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==wt.array)return gt(n,{code:tt.invalid_type,expected:wt.array,received:n.parsedType}),Ft;if(i.exactLength!==null){const s=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(s||a)&&(gt(n,{code:s?tt.too_big:tt.too_small,minimum:a?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(gt(n,{code:tt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(gt(n,{code:tt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((s,a)=>i.type._parseAsync(new Ys(n,s,n.path,a)))).then(s=>pi.mergeArray(r,s));const o=[...n.data].map((s,a)=>i.type._parseSync(new Ys(n,s,n.path,a)));return pi.mergeArray(r,o)}get element(){return this._def.type}min(t,n){return new ls({...this._def,minLength:{value:t,message:Nt.toString(n)}})}max(t,n){return new ls({...this._def,maxLength:{value:t,message:Nt.toString(n)}})}length(t,n){return new ls({...this._def,exactLength:{value:t,message:Nt.toString(n)}})}nonempty(t){return this.min(1,t)}}ls.create=(e,t)=>new ls({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Dt.ZodArray,...qt(t)});function Ru(e){if(e instanceof Gn){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Hs.create(Ru(r))}return new Gn({...e._def,shape:()=>t})}else return e instanceof ls?new ls({...e._def,type:Ru(e.element)}):e instanceof Hs?Hs.create(Ru(e.unwrap())):e instanceof Ll?Ll.create(Ru(e.unwrap())):e instanceof Gs?Gs.create(e.items.map(t=>Ru(t))):e}class Gn extends Qt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=hn.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==wt.object){const c=this._getOrReturnCtx(t);return gt(c,{code:tt.invalid_type,expected:wt.object,received:c.parsedType}),Ft}const{status:r,ctx:i}=this._processInputParams(t),{shape:o,keys:s}=this._getCached(),a=[];if(!(this._def.catchall instanceof Ba&&this._def.unknownKeys==="strip"))for(const c in i.data)s.includes(c)||a.push(c);const l=[];for(const c of s){const u=o[c],f=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Ys(i,f,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Ba){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of a)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")a.length>0&&(gt(i,{code:tt.unrecognized_keys,keys:a}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of a){const f=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Ys(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const f=await u.key,h=await u.value;c.push({key:f,value:h,alwaysSet:u.alwaysSet})}return c}).then(c=>pi.mergeObjectSync(r,c)):pi.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(t){return Nt.errToObj,new Gn({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,o,s,a;const l=(s=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,r).message)!==null&&s!==void 0?s:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=Nt.errToObj(t).message)!==null&&a!==void 0?a:l}:{message:l}}}:{}})}strip(){return new Gn({...this._def,unknownKeys:"strip"})}passthrough(){return new Gn({...this._def,unknownKeys:"passthrough"})}extend(t){return new Gn({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Gn({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Dt.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Gn({...this._def,catchall:t})}pick(t){const n={};return hn.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new Gn({...this._def,shape:()=>n})}omit(t){const n={};return hn.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new Gn({...this._def,shape:()=>n})}deepPartial(){return Ru(this)}partial(t){const n={};return hn.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new Gn({...this._def,shape:()=>n})}required(t){const n={};return hn.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let o=this.shape[r];for(;o instanceof Hs;)o=o._def.innerType;n[r]=o}}),new Gn({...this._def,shape:()=>n})}keyof(){return YP(hn.objectKeys(this.shape))}}Gn.create=(e,t)=>new Gn({shape:()=>e,unknownKeys:"strip",catchall:Ba.create(),typeName:Dt.ZodObject,...qt(t)});Gn.strictCreate=(e,t)=>new Gn({shape:()=>e,unknownKeys:"strict",catchall:Ba.create(),typeName:Dt.ZodObject,...qt(t)});Gn.lazycreate=(e,t)=>new Gn({shape:e,unknownKeys:"strip",catchall:Ba.create(),typeName:Dt.ZodObject,...qt(t)});class sp extends Qt{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(o){for(const a of o)if(a.result.status==="valid")return a.result;for(const a of o)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const s=o.map(a=>new fo(a.ctx.common.issues));return gt(n,{code:tt.invalid_union,unionErrors:s}),Ft}if(n.common.async)return Promise.all(r.map(async o=>{const s={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:s}),ctx:s}})).then(i);{let o;const s=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!o&&(o={result:u,ctx:c}),c.common.issues.length&&s.push(c.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(l=>new fo(l));return gt(n,{code:tt.invalid_union,unionErrors:a}),Ft}}get options(){return this._def.options}}sp.create=(e,t)=>new sp({options:e,typeName:Dt.ZodUnion,...qt(t)});const fa=e=>e instanceof cp?fa(e.schema):e instanceof fs?fa(e.innerType()):e instanceof up?[e.value]:e instanceof Fl?e.options:e instanceof dp?hn.objectValues(e.enum):e instanceof fp?fa(e._def.innerType):e instanceof ip?[void 0]:e instanceof op?[null]:e instanceof Hs?[void 0,...fa(e.unwrap())]:e instanceof Ll?[null,...fa(e.unwrap())]:e instanceof jS||e instanceof pp?fa(e.unwrap()):e instanceof hp?fa(e._def.innerType):[];class T0 extends Qt{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==wt.object)return gt(n,{code:tt.invalid_type,expected:wt.object,received:n.parsedType}),Ft;const r=this.discriminator,i=n.data[r],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(gt(n,{code:tt.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ft)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const o of n){const s=fa(o.shape[t]);if(!s.length)throw new Error("A discriminator value for key `".concat(t,"` could not be extracted from all schema options"));for(const a of s){if(i.has(a))throw new Error("Discriminator property ".concat(String(t)," has duplicate value ").concat(String(a)));i.set(a,o)}}return new T0({typeName:Dt.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...qt(r)})}}function S_(e,t){const n=xa(e),r=xa(t);if(e===t)return{valid:!0,data:e};if(n===wt.object&&r===wt.object){const i=hn.objectKeys(t),o=hn.objectKeys(e).filter(a=>i.indexOf(a)!==-1),s={...e,...t};for(const a of o){const l=S_(e[a],t[a]);if(!l.valid)return{valid:!1};s[a]=l.data}return{valid:!0,data:s}}else if(n===wt.array&&r===wt.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let o=0;o<e.length;o++){const s=e[o],a=t[o],l=S_(s,a);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===wt.date&&r===wt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class ap extends Qt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(o,s)=>{if(__(o)||__(s))return Ft;const a=S_(o.value,s.value);return a.valid?((k_(o)||k_(s))&&n.dirty(),{status:n.value,value:a.data}):(gt(r,{code:tt.invalid_intersection_types}),Ft)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([o,s])=>i(o,s)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ap.create=(e,t,n)=>new ap({left:e,right:t,typeName:Dt.ZodIntersection,...qt(n)});class Gs extends Qt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==wt.array)return gt(r,{code:tt.invalid_type,expected:wt.array,received:r.parsedType}),Ft;if(r.data.length<this._def.items.length)return gt(r,{code:tt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ft;!this._def.rest&&r.data.length>this._def.items.length&&(gt(r,{code:tt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...r.data].map((s,a)=>{const l=this._def.items[a]||this._def.rest;return l?l._parse(new Ys(r,s,r.path,a)):null}).filter(s=>!!s);return r.common.async?Promise.all(o).then(s=>pi.mergeArray(n,s)):pi.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new Gs({...this._def,rest:t})}}Gs.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Gs({items:e,typeName:Dt.ZodTuple,rest:null,...qt(t)})};class lp extends Qt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==wt.object)return gt(r,{code:tt.invalid_type,expected:wt.object,received:r.parsedType}),Ft;const i=[],o=this._def.keyType,s=this._def.valueType;for(const a in r.data)i.push({key:o._parse(new Ys(r,a,r.path,a)),value:s._parse(new Ys(r,r.data[a],r.path,a)),alwaysSet:a in r.data});return r.common.async?pi.mergeObjectAsync(n,i):pi.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Qt?new lp({keyType:t,valueType:n,typeName:Dt.ZodRecord,...qt(r)}):new lp({keyType:rs.create(),valueType:t,typeName:Dt.ZodRecord,...qt(n)})}}class Zv extends Qt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==wt.map)return gt(r,{code:tt.invalid_type,expected:wt.map,received:r.parsedType}),Ft;const i=this._def.keyType,o=this._def.valueType,s=[...r.data.entries()].map(([a,l],c)=>({key:i._parse(new Ys(r,a,r.path,[c,"key"])),value:o._parse(new Ys(r,l,r.path,[c,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const l of s){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return Ft;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const l of s){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return Ft;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(c.value,u.value)}return{status:n.value,value:a}}}}Zv.create=(e,t,n)=>new Zv({valueType:t,keyType:e,typeName:Dt.ZodMap,...qt(n)});class Wc extends Qt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==wt.set)return gt(r,{code:tt.invalid_type,expected:wt.set,received:r.parsedType}),Ft;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(gt(r,{code:tt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(gt(r,{code:tt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function s(l){const c=new Set;for(const u of l){if(u.status==="aborted")return Ft;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const a=[...r.data.values()].map((l,c)=>o._parse(new Ys(r,l,r.path,c)));return r.common.async?Promise.all(a).then(l=>s(l)):s(a)}min(t,n){return new Wc({...this._def,minSize:{value:t,message:Nt.toString(n)}})}max(t,n){return new Wc({...this._def,maxSize:{value:t,message:Nt.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Wc.create=(e,t)=>new Wc({valueType:e,minSize:null,maxSize:null,typeName:Dt.ZodSet,...qt(t)});class od extends Qt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==wt.function)return gt(n,{code:tt.invalid_type,expected:wt.function,received:n.parsedType}),Ft;function r(a,l){return Gv({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Yv(),kd].filter(c=>!!c),issueData:{code:tt.invalid_arguments,argumentsError:l}})}function i(a,l){return Gv({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Yv(),kd].filter(c=>!!c),issueData:{code:tt.invalid_return_type,returnTypeError:l}})}const o={errorMap:n.common.contextualErrorMap},s=n.data;if(this._def.returns instanceof Ed){const a=this;return Ti(async function(...l){const c=new fo([]),u=await a._def.args.parseAsync(l,o).catch(p=>{throw c.addIssue(r(l,p)),c}),f=await Reflect.apply(s,this,u);return await a._def.returns._def.type.parseAsync(f,o).catch(p=>{throw c.addIssue(i(f,p)),c})})}else{const a=this;return Ti(function(...l){const c=a._def.args.safeParse(l,o);if(!c.success)throw new fo([r(l,c.error)]);const u=Reflect.apply(s,this,c.data),f=a._def.returns.safeParse(u,o);if(!f.success)throw new fo([i(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new od({...this._def,args:Gs.create(t).rest(Rc.create())})}returns(t){return new od({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new od({args:t||Gs.create([]).rest(Rc.create()),returns:n||Rc.create(),typeName:Dt.ZodFunction,...qt(r)})}}class cp extends Qt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}cp.create=(e,t)=>new cp({getter:e,typeName:Dt.ZodLazy,...qt(t)});class up extends Qt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return gt(n,{received:n.data,code:tt.invalid_literal,expected:this._def.value}),Ft}return{status:"valid",value:t.data}}get value(){return this._def.value}}up.create=(e,t)=>new up({value:e,typeName:Dt.ZodLiteral,...qt(t)});function YP(e,t){return new Fl({values:e,typeName:Dt.ZodEnum,...qt(t)})}class Fl extends Qt{constructor(){super(...arguments),nh.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return gt(n,{expected:hn.joinValues(r),received:n.parsedType,code:tt.invalid_type}),Ft}if(Xv(this,nh)||UP(this,nh,new Set(this._def.values)),!Xv(this,nh).has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return gt(n,{received:n.data,code:tt.invalid_enum_value,options:r}),Ft}return Ti(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Fl.create(t,{...this._def,...n})}exclude(t,n=this._def){return Fl.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}nh=new WeakMap;Fl.create=YP;class dp extends Qt{constructor(){super(...arguments),rh.set(this,void 0)}_parse(t){const n=hn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==wt.string&&r.parsedType!==wt.number){const i=hn.objectValues(n);return gt(r,{expected:hn.joinValues(i),received:r.parsedType,code:tt.invalid_type}),Ft}if(Xv(this,rh)||UP(this,rh,new Set(hn.getValidEnumValues(this._def.values))),!Xv(this,rh).has(t.data)){const i=hn.objectValues(n);return gt(r,{received:r.data,code:tt.invalid_enum_value,options:i}),Ft}return Ti(t.data)}get enum(){return this._def.values}}rh=new WeakMap;dp.create=(e,t)=>new dp({values:e,typeName:Dt.ZodNativeEnum,...qt(t)});class Ed extends Qt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==wt.promise&&n.common.async===!1)return gt(n,{code:tt.invalid_type,expected:wt.promise,received:n.parsedType}),Ft;const r=n.parsedType===wt.promise?n.data:Promise.resolve(n.data);return Ti(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Ed.create=(e,t)=>new Ed({type:e,typeName:Dt.ZodPromise,...qt(t)});class fs extends Qt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Dt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:s=>{gt(r,s),s.fatal?n.abort():n.dirty()},get path(){return r.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const s=i.transform(r.data,o);if(r.common.async)return Promise.resolve(s).then(async a=>{if(n.value==="aborted")return Ft;const l=await this._def.schema._parseAsync({data:a,path:r.path,parent:r});return l.status==="aborted"?Ft:l.status==="dirty"||n.value==="dirty"?Ku(l.value):l});{if(n.value==="aborted")return Ft;const a=this._def.schema._parseSync({data:s,path:r.path,parent:r});return a.status==="aborted"?Ft:a.status==="dirty"||n.value==="dirty"?Ku(a.value):a}}if(i.type==="refinement"){const s=a=>{const l=i.refinement(a,o);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ft:(a.status==="dirty"&&n.dirty(),s(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Ft:(a.status==="dirty"&&n.dirty(),s(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const s=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!zc(s))return s;const a=i.transform(s.value,o);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(s=>zc(s)?Promise.resolve(i.transform(s.value,o)).then(a=>({status:n.value,value:a})):s);hn.assertNever(i)}}fs.create=(e,t,n)=>new fs({schema:e,typeName:Dt.ZodEffects,effect:t,...qt(n)});fs.createWithPreprocess=(e,t,n)=>new fs({schema:t,effect:{type:"preprocess",transform:e},typeName:Dt.ZodEffects,...qt(n)});class Hs extends Qt{_parse(t){return this._getType(t)===wt.undefined?Ti(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Hs.create=(e,t)=>new Hs({innerType:e,typeName:Dt.ZodOptional,...qt(t)});class Ll extends Qt{_parse(t){return this._getType(t)===wt.null?Ti(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Ll.create=(e,t)=>new Ll({innerType:e,typeName:Dt.ZodNullable,...qt(t)});class fp extends Qt{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===wt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}fp.create=(e,t)=>new fp({innerType:e,typeName:Dt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...qt(t)});class hp extends Qt{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return np(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new fo(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new fo(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}hp.create=(e,t)=>new hp({innerType:e,typeName:Dt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...qt(t)});class ey extends Qt{_parse(t){if(this._getType(t)!==wt.nan){const r=this._getOrReturnCtx(t);return gt(r,{code:tt.invalid_type,expected:wt.nan,received:r.parsedType}),Ft}return{status:"valid",value:t.data}}}ey.create=e=>new ey({typeName:Dt.ZodNaN,...qt(e)});const sH=Symbol("zod_brand");class jS extends Qt{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class nm extends Qt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?Ft:o.status==="dirty"?(n.dirty(),Ku(o.value)):this._def.out._parseAsync({data:o.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ft:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new nm({in:t,out:n,typeName:Dt.ZodPipeline})}}class pp extends Qt{_parse(t){const n=this._def.innerType._parse(t),r=i=>(zc(i)&&(i.value=Object.freeze(i.value)),i);return np(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}pp.create=(e,t)=>new pp({innerType:e,typeName:Dt.ZodReadonly,...qt(t)});function aN(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function GP(e,t={},n){return e?Sd.create().superRefine((r,i)=>{var o,s;const a=e(r);if(a instanceof Promise)return a.then(l=>{var c,u;if(!l){const f=aN(t,r),h=(u=(c=f.fatal)!==null&&c!==void 0?c:n)!==null&&u!==void 0?u:!0;i.addIssue({code:"custom",...f,fatal:h})}});if(!a){const l=aN(t,r),c=(s=(o=l.fatal)!==null&&o!==void 0?o:n)!==null&&s!==void 0?s:!0;i.addIssue({code:"custom",...l,fatal:c})}}):Sd.create()}const aH={object:Gn.lazycreate};var Dt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Dt||(Dt={}));const lH=(e,t={message:"Input not instance of ".concat(e.name)})=>GP(n=>n instanceof e,t),XP=rs.create,JP=$l.create,cH=ey.create,uH=Dl.create,QP=rp.create,dH=Hc.create,fH=Jv.create,hH=ip.create,pH=op.create,mH=Sd.create,gH=Rc.create,vH=Ba.create,yH=Qv.create,xH=ls.create,wH=Gn.create,bH=Gn.strictCreate,_H=sp.create,kH=T0.create,SH=ap.create,EH=Gs.create,CH=lp.create,jH=Zv.create,NH=Wc.create,AH=od.create,TH=cp.create,RH=up.create,IH=Fl.create,PH=dp.create,OH=Ed.create,lN=fs.create,MH=Hs.create,$H=Ll.create,DH=fs.createWithPreprocess,FH=nm.create,LH=()=>XP().optional(),BH=()=>JP().optional(),zH=()=>QP().optional(),HH={string:e=>rs.create({...e,coerce:!0}),number:e=>$l.create({...e,coerce:!0}),boolean:e=>rp.create({...e,coerce:!0}),bigint:e=>Dl.create({...e,coerce:!0}),date:e=>Hc.create({...e,coerce:!0})},WH=Ft;var Xe=Object.freeze({__proto__:null,defaultErrorMap:kd,setErrorMap:D9,getErrorMap:Yv,makeIssue:Gv,EMPTY_PATH:F9,addIssueToContext:gt,ParseStatus:pi,INVALID:Ft,DIRTY:Ku,OK:Ti,isAborted:__,isDirty:k_,isValid:zc,isAsync:np,get util(){return hn},get objectUtil(){return b_},ZodParsedType:wt,getParsedType:xa,ZodType:Qt,datetimeRegex:KP,ZodString:rs,ZodNumber:$l,ZodBigInt:Dl,ZodBoolean:rp,ZodDate:Hc,ZodSymbol:Jv,ZodUndefined:ip,ZodNull:op,ZodAny:Sd,ZodUnknown:Rc,ZodNever:Ba,ZodVoid:Qv,ZodArray:ls,ZodObject:Gn,ZodUnion:sp,ZodDiscriminatedUnion:T0,ZodIntersection:ap,ZodTuple:Gs,ZodRecord:lp,ZodMap:Zv,ZodSet:Wc,ZodFunction:od,ZodLazy:cp,ZodLiteral:up,ZodEnum:Fl,ZodNativeEnum:dp,ZodPromise:Ed,ZodEffects:fs,ZodTransformer:fs,ZodOptional:Hs,ZodNullable:Ll,ZodDefault:fp,ZodCatch:hp,ZodNaN:ey,BRAND:sH,ZodBranded:jS,ZodPipeline:nm,ZodReadonly:pp,custom:GP,Schema:Qt,ZodSchema:Qt,late:aH,get ZodFirstPartyTypeKind(){return Dt},coerce:HH,any:mH,array:xH,bigint:uH,boolean:QP,date:dH,discriminatedUnion:kH,effect:lN,enum:IH,function:AH,instanceof:lH,intersection:SH,lazy:TH,literal:RH,map:jH,nan:cH,nativeEnum:PH,never:vH,null:pH,nullable:$H,number:JP,object:wH,oboolean:zH,onumber:BH,optional:MH,ostring:LH,pipeline:FH,preprocess:DH,promise:OH,record:CH,set:NH,strictObject:bH,string:XP,symbol:fH,transformer:lN,tuple:EH,undefined:hH,union:_H,unknown:gH,void:yH,NEVER:WH,ZodIssueCode:tt,quotelessJson:$9,ZodError:fo});const NS=Xe.object({id:Xe.string({invalid_type_error:"id must be a string"}).max(100,"id cannot be longer than 100 characters").optional(),local_id:Xe.string({invalid_type_error:"local_id must be a string"}).max(73,"local_id must be 73 characters or less"),user_id:Xe.string(),name:Xe.string(),forked_from:Xe.string().nullable().optional(),version:Xe.string().optional(),created_at:Xe.string().datetime({offset:!0}),updated_at:Xe.string().datetime({offset:!0})}),it=new Kv("bardsballad");it.version(1).stores({characters:"local_id, updatedAt, id",systems:"local_id, id",datapacks:"local_id, id",subscriptions:"local_id, user_id, resource_id, version_id",versions:"local_id, reference_id, id",typeHashes:"local_id"});async function ZP(e,t){const[n,r,i,o]=await Promise.all([it.characters.toArray(),it.systems.toArray(),it.subscriptions.toArray(),it.versions.toArray()]),s=new Map;let a=[];n.forEach(f=>{const[h,...p]=f.local_id.split("-");if(f.user_id!=="none"||h!=="none")return;const v="".concat(t,"-").concat(p.join("-"));s.set(f.local_id,v),a.push({...f,user_id:e,local_id:v})});let l=[];r.forEach(f=>{const[h,...p]=f.local_id.split("-"),v=f.user_id==="none",g=i.find(m=>m.resource_id===f.local_id);if(!v&&!g)return;const b="".concat(t,"-").concat(p.join("-"));s.set(f.local_id,b),l.push({...f,user_id:e,local_id:b})});let c=[];o.forEach(f=>{const[h,...p]=f.local_id.split("-"),v=f.user_id==="none",g=i.find(m=>m.version_id===f.local_id);if(!v&&!g)return;const b="".concat(t,"-").concat(p.join("-"));s.set(f.local_id,b),c.push({...f,user_id:e,local_id:b})});let u=[];i.forEach(f=>{const[h,...p]=f.local_id.split("-");if(!(f.user_id==="none"))return;const g="".concat(t,"-").concat(p.join("-"));s.set(f.local_id,g),u.push({...f,user_id:e,local_id:g})}),a=a.map(f=>({...f,system:{local_id:s.get(f.system.local_id),version_id:s.get(f.system.version_id)}})),u=u.map(f=>({...f,resource_id:s.get(f.resource_id),version_id:s.get(f.version_id)})),c=c.map(f=>({...f,reference_id:s.get(f.reference_id)})),await Promise.all([it.subscriptions.clear(),it.versions.clear(),it.systems.clear(),it.characters.clear()]),it.characters.bulkPut(a),it.systems.bulkPut(l),it.versions.bulkPut(c),it.subscriptions.bulkPut(u)}function eO(e,t){return function(){return e.apply(t,arguments)}}const{toString:UH}=Object.prototype,{getPrototypeOf:AS}=Object,{iterator:R0,toStringTag:tO}=Symbol,I0=(e=>t=>{const n=UH.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ys=e=>(e=e.toLowerCase(),t=>I0(t)===e),P0=e=>t=>typeof t===e,{isArray:Zd}=Array,mp=P0("undefined");function VH(e){return e!==null&&!mp(e)&&e.constructor!==null&&!mp(e.constructor)&&Yi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const nO=ys("ArrayBuffer");function qH(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&nO(e.buffer),t}const KH=P0("string"),Yi=P0("function"),rO=P0("number"),O0=e=>e!==null&&typeof e=="object",YH=e=>e===!0||e===!1,nv=e=>{if(I0(e)!=="object")return!1;const t=AS(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(tO in e)&&!(R0 in e)},GH=ys("Date"),XH=ys("File"),JH=ys("Blob"),QH=ys("FileList"),ZH=e=>O0(e)&&Yi(e.pipe),eW=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Yi(e.append)&&((t=I0(e))==="formdata"||t==="object"&&Yi(e.toString)&&e.toString()==="[object FormData]"))},tW=ys("URLSearchParams"),[nW,rW,iW,oW]=["ReadableStream","Request","Response","Headers"].map(ys),sW=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function rm(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),Zd(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const o=n?Object.getOwnPropertyNames(e):Object.keys(e),s=o.length;let a;for(r=0;r<s;r++)a=o[r],t.call(null,e[a],a,e)}}function iO(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const kc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,oO=e=>!mp(e)&&e!==kc;function E_(){const{caseless:e}=oO(this)&&this||{},t={},n=(r,i)=>{const o=e&&iO(t,i)||i;nv(t[o])&&nv(r)?t[o]=E_(t[o],r):nv(r)?t[o]=E_({},r):Zd(r)?t[o]=r.slice():t[o]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&rm(arguments[r],n);return t}const aW=(e,t,n,{allOwnKeys:r}={})=>(rm(t,(i,o)=>{n&&Yi(i)?e[o]=eO(i,n):e[o]=i},{allOwnKeys:r}),e),lW=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),cW=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},uW=(e,t,n,r)=>{let i,o,s;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],(!r||r(s,e,t))&&!a[s]&&(t[s]=e[s],a[s]=!0);e=n!==!1&&AS(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},dW=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},fW=e=>{if(!e)return null;if(Zd(e))return e;let t=e.length;if(!rO(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},hW=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&AS(Uint8Array)),pW=(e,t)=>{const r=(e&&e[R0]).call(e);let i;for(;(i=r.next())&&!i.done;){const o=i.value;t.call(e,o[0],o[1])}},mW=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},gW=ys("HTMLFormElement"),vW=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),cN=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),yW=ys("RegExp"),sO=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};rm(n,(i,o)=>{let s;(s=t(i,o,e))!==!1&&(r[o]=s||i)}),Object.defineProperties(e,r)},xW=e=>{sO(e,(t,n)=>{if(Yi(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Yi(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},wW=(e,t)=>{const n={},r=i=>{i.forEach(o=>{n[o]=!0})};return Zd(e)?r(e):r(String(e).split(t)),n},bW=()=>{},_W=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function kW(e){return!!(e&&Yi(e.append)&&e[tO]==="FormData"&&e[R0])}const SW=e=>{const t=new Array(10),n=(r,i)=>{if(O0(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const o=Zd(r)?[]:{};return rm(r,(s,a)=>{const l=n(s,i+1);!mp(l)&&(o[a]=l)}),t[i]=void 0,o}}return r};return n(e,0)},EW=ys("AsyncFunction"),CW=e=>e&&(O0(e)||Yi(e))&&Yi(e.then)&&Yi(e.catch),aO=((e,t)=>e?setImmediate:t?((n,r)=>(kc.addEventListener("message",({source:i,data:o})=>{i===kc&&o===n&&r.length&&r.shift()()},!1),i=>{r.push(i),kc.postMessage(n,"*")}))("axios@".concat(Math.random()),[]):n=>setTimeout(n))(typeof setImmediate=="function",Yi(kc.postMessage)),jW=typeof queueMicrotask<"u"?queueMicrotask.bind(kc):typeof process<"u"&&process.nextTick||aO,NW=e=>e!=null&&Yi(e[R0]),Le={isArray:Zd,isArrayBuffer:nO,isBuffer:VH,isFormData:eW,isArrayBufferView:qH,isString:KH,isNumber:rO,isBoolean:YH,isObject:O0,isPlainObject:nv,isReadableStream:nW,isRequest:rW,isResponse:iW,isHeaders:oW,isUndefined:mp,isDate:GH,isFile:XH,isBlob:JH,isRegExp:yW,isFunction:Yi,isStream:ZH,isURLSearchParams:tW,isTypedArray:hW,isFileList:QH,forEach:rm,merge:E_,extend:aW,trim:sW,stripBOM:lW,inherits:cW,toFlatObject:uW,kindOf:I0,kindOfTest:ys,endsWith:dW,toArray:fW,forEachEntry:pW,matchAll:mW,isHTMLForm:gW,hasOwnProperty:cN,hasOwnProp:cN,reduceDescriptors:sO,freezeMethods:xW,toObjectSet:wW,toCamelCase:vW,noop:bW,toFiniteNumber:_W,findKey:iO,global:kc,isContextDefined:oO,isSpecCompliantForm:kW,toJSONObject:SW,isAsyncFn:EW,isThenable:CW,setImmediate:aO,asap:jW,isIterable:NW};function Vt(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Le.inherits(Vt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Le.toJSONObject(this.config),code:this.code,status:this.status}}});const lO=Vt.prototype,cO={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{cO[e]={value:e}});Object.defineProperties(Vt,cO);Object.defineProperty(lO,"isAxiosError",{value:!0});Vt.from=(e,t,n,r,i,o)=>{const s=Object.create(lO);return Le.toFlatObject(e,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),Vt.call(s,e.message,t,n,r,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const AW=null;function C_(e){return Le.isPlainObject(e)||Le.isArray(e)}function uO(e){return Le.endsWith(e,"[]")?e.slice(0,-2):e}function uN(e,t,n){return e?e.concat(t).map(function(i,o){return i=uO(i),!n&&o?"["+i+"]":i}).join(n?".":""):t}function TW(e){return Le.isArray(e)&&!e.some(C_)}const RW=Le.toFlatObject(Le,{},null,function(t){return/^is[A-Z]/.test(t)});function M0(e,t,n){if(!Le.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Le.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,b){return!Le.isUndefined(b[g])});const r=n.metaTokens,i=n.visitor||u,o=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Le.isSpecCompliantForm(t);if(!Le.isFunction(i))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(Le.isDate(v))return v.toISOString();if(!l&&Le.isBlob(v))throw new Vt("Blob is not supported. Use a Buffer instead.");return Le.isArrayBuffer(v)||Le.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function u(v,g,b){let m=v;if(v&&!b&&typeof v=="object"){if(Le.endsWith(g,"{}"))g=r?g:g.slice(0,-2),v=JSON.stringify(v);else if(Le.isArray(v)&&TW(v)||(Le.isFileList(v)||Le.endsWith(g,"[]"))&&(m=Le.toArray(v)))return g=uO(g),m.forEach(function(x,k){!(Le.isUndefined(x)||x===null)&&t.append(s===!0?uN([g],k,o):s===null?g:g+"[]",c(x))}),!1}return C_(v)?!0:(t.append(uN(b,g,o),c(v)),!1)}const f=[],h=Object.assign(RW,{defaultVisitor:u,convertValue:c,isVisitable:C_});function p(v,g){if(!Le.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+g.join("."));f.push(v),Le.forEach(v,function(m,y){(!(Le.isUndefined(m)||m===null)&&i.call(t,m,Le.isString(y)?y.trim():y,g,h))===!0&&p(m,g?g.concat(y):[y])}),f.pop()}}if(!Le.isObject(e))throw new TypeError("data must be an object");return p(e),t}function dN(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function TS(e,t){this._pairs=[],e&&M0(e,this,t)}const dO=TS.prototype;dO.append=function(t,n){this._pairs.push([t,n])};dO.toString=function(t){const n=t?function(r){return t.call(this,r,dN)}:dN;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function IW(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function fO(e,t,n){if(!t)return e;const r=n&&n.encode||IW;Le.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let o;if(i?o=i(t,n):o=Le.isURLSearchParams(t)?t.toString():new TS(t,n).toString(r),o){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+o}return e}class fN{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Le.forEach(this.handlers,function(r){r!==null&&t(r)})}}const hO={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},PW=typeof URLSearchParams<"u"?URLSearchParams:TS,OW=typeof FormData<"u"?FormData:null,MW=typeof Blob<"u"?Blob:null,$W={isBrowser:!0,classes:{URLSearchParams:PW,FormData:OW,Blob:MW},protocols:["http","https","file","blob","url","data"]},RS=typeof window<"u"&&typeof document<"u",j_=typeof navigator=="object"&&navigator||void 0,DW=RS&&(!j_||["ReactNative","NativeScript","NS"].indexOf(j_.product)<0),FW=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",LW=RS&&window.location.href||"http://localhost",BW=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:RS,hasStandardBrowserEnv:DW,hasStandardBrowserWebWorkerEnv:FW,navigator:j_,origin:LW},Symbol.toStringTag,{value:"Module"})),ui={...BW,...$W};function zW(e,t){return M0(e,new ui.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,o){return ui.isNode&&Le.isBuffer(n)?(this.append(r,n.toString("base64")),!1):o.defaultVisitor.apply(this,arguments)}},t))}function HW(e){return Le.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function WW(e){const t={},n=Object.keys(e);let r;const i=n.length;let o;for(r=0;r<i;r++)o=n[r],t[o]=e[o];return t}function pO(e){function t(n,r,i,o){let s=n[o++];if(s==="__proto__")return!0;const a=Number.isFinite(+s),l=o>=n.length;return s=!s&&Le.isArray(i)?i.length:s,l?(Le.hasOwnProp(i,s)?i[s]=[i[s],r]:i[s]=r,!a):((!i[s]||!Le.isObject(i[s]))&&(i[s]=[]),t(n,r,i[s],o)&&Le.isArray(i[s])&&(i[s]=WW(i[s])),!a)}if(Le.isFormData(e)&&Le.isFunction(e.entries)){const n={};return Le.forEachEntry(e,(r,i)=>{t(HW(r),i,n,0)}),n}return null}function UW(e,t,n){if(Le.isString(e))try{return(t||JSON.parse)(e),Le.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const im={transitional:hO,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,o=Le.isObject(t);if(o&&Le.isHTMLForm(t)&&(t=new FormData(t)),Le.isFormData(t))return i?JSON.stringify(pO(t)):t;if(Le.isArrayBuffer(t)||Le.isBuffer(t)||Le.isStream(t)||Le.isFile(t)||Le.isBlob(t)||Le.isReadableStream(t))return t;if(Le.isArrayBufferView(t))return t.buffer;if(Le.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(o){if(r.indexOf("application/x-www-form-urlencoded")>-1)return zW(t,this.formSerializer).toString();if((a=Le.isFileList(t))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return M0(a?{"files[]":t}:t,l&&new l,this.formSerializer)}}return o||i?(n.setContentType("application/json",!1),UW(t)):t}],transformResponse:[function(t){const n=this.transitional||im.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Le.isResponse(t)||Le.isReadableStream(t))return t;if(t&&Le.isString(t)&&(r&&!this.responseType||i)){const s=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(s)throw a.name==="SyntaxError"?Vt.from(a,Vt.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:ui.classes.FormData,Blob:ui.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Le.forEach(["delete","get","head","post","put","patch"],e=>{im.headers[e]={}});const VW=Le.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qW=e=>{const t={};let n,r,i;return e&&e.split("\n").forEach(function(s){i=s.indexOf(":"),n=s.substring(0,i).trim().toLowerCase(),r=s.substring(i+1).trim(),!(!n||t[n]&&VW[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},hN=Symbol("internals");function Mf(e){return e&&String(e).trim().toLowerCase()}function rv(e){return e===!1||e==null?e:Le.isArray(e)?e.map(rv):String(e)}function KW(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const YW=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Fw(e,t,n,r,i){if(Le.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!Le.isString(t)){if(Le.isString(r))return t.indexOf(r)!==-1;if(Le.isRegExp(r))return r.test(t)}}function GW(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function XW(e,t){const n=Le.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,o,s){return this[r].call(this,t,i,o,s)},configurable:!0})})}let Gi=class{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function o(a,l,c){const u=Mf(l);if(!u)throw new Error("header name must be a non-empty string");const f=Le.findKey(i,u);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||l]=rv(a))}const s=(a,l)=>Le.forEach(a,(c,u)=>o(c,u,l));if(Le.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(Le.isString(t)&&(t=t.trim())&&!YW(t))s(qW(t),n);else if(Le.isObject(t)&&Le.isIterable(t)){let a={},l,c;for(const u of t){if(!Le.isArray(u))throw TypeError("Object iterator must return a key-value pair");a[c=u[0]]=(l=a[c])?Le.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}s(a,n)}else t!=null&&o(n,t,r);return this}get(t,n){if(t=Mf(t),t){const r=Le.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return KW(i);if(Le.isFunction(n))return n.call(this,i,r);if(Le.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Mf(t),t){const r=Le.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||Fw(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function o(s){if(s=Mf(s),s){const a=Le.findKey(r,s);a&&(!n||Fw(r,r[a],a,n))&&(delete r[a],i=!0)}}return Le.isArray(t)?t.forEach(o):o(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const o=n[r];(!t||Fw(this,this[o],o,t,!0))&&(delete this[o],i=!0)}return i}normalize(t){const n=this,r={};return Le.forEach(this,(i,o)=>{const s=Le.findKey(r,o);if(s){n[s]=rv(i),delete n[o];return}const a=t?GW(o):String(o).trim();a!==o&&delete n[o],n[a]=rv(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Le.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&Le.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[hN]=this[hN]={accessors:{}}).accessors,i=this.prototype;function o(s){const a=Mf(s);r[a]||(XW(i,s),r[a]=!0)}return Le.isArray(t)?t.forEach(o):o(t),this}};Gi.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Le.reduceDescriptors(Gi.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Le.freezeMethods(Gi);function Lw(e,t){const n=this||im,r=t||n,i=Gi.from(r.headers);let o=r.data;return Le.forEach(e,function(a){o=a.call(n,o,i.normalize(),t?t.status:void 0)}),i.normalize(),o}function mO(e){return!!(e&&e.__CANCEL__)}function ef(e,t,n){Vt.call(this,e==null?"canceled":e,Vt.ERR_CANCELED,t,n),this.name="CanceledError"}Le.inherits(ef,Vt,{__CANCEL__:!0});function gO(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new Vt("Request failed with status code "+n.status,[Vt.ERR_BAD_REQUEST,Vt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function JW(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function QW(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,o=0,s;return t=t!==void 0?t:1e3,function(l){const c=Date.now(),u=r[o];s||(s=c),n[i]=l,r[i]=c;let f=o,h=0;for(;f!==i;)h+=n[f++],f=f%e;if(i=(i+1)%e,i===o&&(o=(o+1)%e),c-s<t)return;const p=u&&c-u;return p?Math.round(h*1e3/p):void 0}}function ZW(e,t){let n=0,r=1e3/t,i,o;const s=(c,u=Date.now())=>{n=u,i=null,o&&(clearTimeout(o),o=null),e.apply(null,c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=r?s(c,u):(i=c,o||(o=setTimeout(()=>{o=null,s(i)},r-f)))},()=>i&&s(i)]}const ty=(e,t,n=3)=>{let r=0;const i=QW(50,250);return ZW(o=>{const s=o.loaded,a=o.lengthComputable?o.total:void 0,l=s-r,c=i(l),u=s<=a;r=s;const f={loaded:s,total:a,progress:a?s/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&u?(a-s)/c:void 0,event:o,lengthComputable:a!=null,[t?"download":"upload"]:!0};e(f)},n)},pN=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},mN=e=>(...t)=>Le.asap(()=>e(...t)),eU=ui.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,ui.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(ui.origin),ui.navigator&&/(msie|trident)/i.test(ui.navigator.userAgent)):()=>!0,tU=ui.hasStandardBrowserEnv?{write(e,t,n,r,i,o){const s=[e+"="+encodeURIComponent(t)];Le.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Le.isString(r)&&s.push("path="+r),Le.isString(i)&&s.push("domain="+i),o===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function nU(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function rU(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function vO(e,t,n){let r=!nU(t);return e&&(r||n==!1)?rU(e,t):t}const gN=e=>e instanceof Gi?{...e}:e;function Uc(e,t){t=t||{};const n={};function r(c,u,f,h){return Le.isPlainObject(c)&&Le.isPlainObject(u)?Le.merge.call({caseless:h},c,u):Le.isPlainObject(u)?Le.merge({},u):Le.isArray(u)?u.slice():u}function i(c,u,f,h){if(Le.isUndefined(u)){if(!Le.isUndefined(c))return r(void 0,c,f,h)}else return r(c,u,f,h)}function o(c,u){if(!Le.isUndefined(u))return r(void 0,u)}function s(c,u){if(Le.isUndefined(u)){if(!Le.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,f){if(f in t)return r(c,u);if(f in e)return r(void 0,c)}const l={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u,f)=>i(gN(c),gN(u),f,!0)};return Le.forEach(Object.keys(Object.assign({},e,t)),function(u){const f=l[u]||i,h=f(e[u],t[u],u);Le.isUndefined(h)&&f!==a||(n[u]=h)}),n}const yO=e=>{const t=Uc({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:o,headers:s,auth:a}=t;t.headers=s=Gi.from(s),t.url=fO(vO(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),a&&s.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let l;if(Le.isFormData(n)){if(ui.hasStandardBrowserEnv||ui.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((l=s.getContentType())!==!1){const[c,...u]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];s.setContentType([c||"multipart/form-data",...u].join("; "))}}if(ui.hasStandardBrowserEnv&&(r&&Le.isFunction(r)&&(r=r(t)),r||r!==!1&&eU(t.url))){const c=i&&o&&tU.read(o);c&&s.set(i,c)}return t},iU=typeof XMLHttpRequest<"u",oU=iU&&function(e){return new Promise(function(n,r){const i=yO(e);let o=i.data;const s=Gi.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,u,f,h,p,v;function g(){p&&p(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function m(){if(!b)return;const x=Gi.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),S={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:x,config:e,request:b};gO(function(T){n(T),g()},function(T){r(T),g()},S),b=null}"onloadend"in b?b.onloadend=m:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(m)},b.onabort=function(){b&&(r(new Vt("Request aborted",Vt.ECONNABORTED,e,b)),b=null)},b.onerror=function(){r(new Vt("Network Error",Vt.ERR_NETWORK,e,b)),b=null},b.ontimeout=function(){let k=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const S=i.transitional||hO;i.timeoutErrorMessage&&(k=i.timeoutErrorMessage),r(new Vt(k,S.clarifyTimeoutError?Vt.ETIMEDOUT:Vt.ECONNABORTED,e,b)),b=null},o===void 0&&s.setContentType(null),"setRequestHeader"in b&&Le.forEach(s.toJSON(),function(k,S){b.setRequestHeader(S,k)}),Le.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),a&&a!=="json"&&(b.responseType=i.responseType),c&&([h,v]=ty(c,!0),b.addEventListener("progress",h)),l&&b.upload&&([f,p]=ty(l),b.upload.addEventListener("progress",f),b.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=x=>{b&&(r(!x||x.type?new ef(null,e,b):x),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const y=JW(i.url);if(y&&ui.protocols.indexOf(y)===-1){r(new Vt("Unsupported protocol "+y+":",Vt.ERR_BAD_REQUEST,e));return}b.send(o||null)})},sU=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,i;const o=function(c){if(!i){i=!0,a();const u=c instanceof Error?c:this.reason;r.abort(u instanceof Vt?u:new ef(u instanceof Error?u.message:u))}};let s=t&&setTimeout(()=>{s=null,o(new Vt("timeout ".concat(t," of ms exceeded"),Vt.ETIMEDOUT))},t);const a=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(o):c.removeEventListener("abort",o)}),e=null)};e.forEach(c=>c.addEventListener("abort",o));const{signal:l}=r;return l.unsubscribe=()=>Le.asap(a),l}},aU=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},lU=async function*(e,t){for await(const n of cU(e))yield*aU(n,t)},cU=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},vN=(e,t,n,r)=>{const i=lU(e,t);let o=0,s,a=l=>{s||(s=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){a(),l.close();return}let f=u.byteLength;if(n){let h=o+=f;n(h)}l.enqueue(new Uint8Array(u))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},$0=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",xO=$0&&typeof ReadableStream=="function",uU=$0&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),wO=(e,...t)=>{try{return!!e(...t)}catch(n){return!1}},dU=xO&&wO(()=>{let e=!1;const t=new Request(ui.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),yN=64*1024,N_=xO&&wO(()=>Le.isReadableStream(new Response("").body)),ny={stream:N_&&(e=>e.body)};$0&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ny[t]&&(ny[t]=Le.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new Vt("Response type '".concat(t,"' is not supported"),Vt.ERR_NOT_SUPPORT,r)})})})(new Response);const fU=async e=>{if(e==null)return 0;if(Le.isBlob(e))return e.size;if(Le.isSpecCompliantForm(e))return(await new Request(ui.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Le.isArrayBufferView(e)||Le.isArrayBuffer(e))return e.byteLength;if(Le.isURLSearchParams(e)&&(e=e+""),Le.isString(e))return(await uU(e)).byteLength},hU=async(e,t)=>{const n=Le.toFiniteNumber(e.getContentLength());return n==null?fU(t):n},pU=$0&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:h}=yO(e);c=c?(c+"").toLowerCase():"text";let p=sU([i,o&&o.toAbortSignal()],s),v;const g=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let b;try{if(l&&dU&&n!=="get"&&n!=="head"&&(b=await hU(u,r))!==0){let S=new Request(t,{method:"POST",body:r,duplex:"half"}),E;if(Le.isFormData(r)&&(E=S.headers.get("content-type"))&&u.setContentType(E),S.body){const[T,M]=pN(b,ty(mN(l)));r=vN(S.body,yN,T,M)}}Le.isString(f)||(f=f?"include":"omit");const m="credentials"in Request.prototype;v=new Request(t,{...h,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:m?f:void 0});let y=await fetch(v);const x=N_&&(c==="stream"||c==="response");if(N_&&(a||x&&g)){const S={};["status","statusText","headers"].forEach(W=>{S[W]=y[W]});const E=Le.toFiniteNumber(y.headers.get("content-length")),[T,M]=a&&pN(E,ty(mN(a),!0))||[];y=new Response(vN(y.body,yN,T,()=>{M&&M(),g&&g()}),S)}c=c||"text";let k=await ny[Le.findKey(ny,c)||"text"](y,e);return!x&&g&&g(),await new Promise((S,E)=>{gO(S,E,{data:k,headers:Gi.from(y.headers),status:y.status,statusText:y.statusText,config:e,request:v})})}catch(m){throw g&&g(),m&&m.name==="TypeError"&&/Load failed|fetch/i.test(m.message)?Object.assign(new Vt("Network Error",Vt.ERR_NETWORK,e,v),{cause:m.cause||m}):Vt.from(m,m&&m.code,e,v)}}),A_={http:AW,xhr:oU,fetch:pU};Le.forEach(A_,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(n){}Object.defineProperty(e,"adapterName",{value:t})}});const xN=e=>"- ".concat(e),mU=e=>Le.isFunction(e)||e===null||e===!1,bO={getAdapter:e=>{e=Le.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let o=0;o<t;o++){n=e[o];let s;if(r=n,!mU(n)&&(r=A_[(s=String(n)).toLowerCase()],r===void 0))throw new Vt("Unknown adapter '".concat(s,"'"));if(r)break;i[s||"#"+o]=r}if(!r){const o=Object.entries(i).map(([a,l])=>"adapter ".concat(a," ")+(l===!1?"is not supported by the environment":"is not available in the build"));let s=t?o.length>1?"since :\n"+o.map(xN).join("\n"):" "+xN(o[0]):"as no adapter specified";throw new Vt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:A_};function Bw(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ef(null,e)}function wN(e){return Bw(e),e.headers=Gi.from(e.headers),e.data=Lw.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),bO.getAdapter(e.adapter||im.adapter)(e).then(function(r){return Bw(e),r.data=Lw.call(e,e.transformResponse,r),r.headers=Gi.from(r.headers),r},function(r){return mO(r)||(Bw(e),r&&r.response&&(r.response.data=Lw.call(e,e.transformResponse,r.response),r.response.headers=Gi.from(r.response.headers))),Promise.reject(r)})}const _O="1.9.0",D0={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{D0[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const bN={};D0.transitional=function(t,n,r){function i(o,s){return"[Axios v"+_O+"] Transitional option '"+o+"'"+s+(r?". "+r:"")}return(o,s,a)=>{if(t===!1)throw new Vt(i(s," has been removed"+(n?" in "+n:"")),Vt.ERR_DEPRECATED);return n&&!bN[s]&&(bN[s]=!0,console.warn(i(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(o,s,a):!0}};D0.spelling=function(t){return(n,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(t)),!0)};function gU(e,t,n){if(typeof e!="object")throw new Vt("options must be an object",Vt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const o=r[i],s=t[o];if(s){const a=e[o],l=a===void 0||s(a,o,e);if(l!==!0)throw new Vt("option "+o+" must be "+l,Vt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Vt("Unknown option "+o,Vt.ERR_BAD_OPTION)}}const iv={assertOptions:gU,validators:D0},Ps=iv.validators;let Ic=class{constructor(t){this.defaults=t||{},this.interceptors={request:new fN,response:new fN}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const o=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?o&&!String(r.stack).endsWith(o.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+o):r.stack=o}catch(s){}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Uc(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:o}=n;r!==void 0&&iv.assertOptions(r,{silentJSONParsing:Ps.transitional(Ps.boolean),forcedJSONParsing:Ps.transitional(Ps.boolean),clarifyTimeoutError:Ps.transitional(Ps.boolean)},!1),i!=null&&(Le.isFunction(i)?n.paramsSerializer={serialize:i}:iv.assertOptions(i,{encode:Ps.function,serialize:Ps.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),iv.assertOptions(n,{baseUrl:Ps.spelling("baseURL"),withXsrfToken:Ps.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=o&&Le.merge(o.common,o[n.method]);o&&Le.forEach(["delete","get","head","post","put","patch","common"],v=>{delete o[v]}),n.headers=Gi.concat(s,o);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,f=0,h;if(!l){const v=[wN.bind(this),void 0];for(v.unshift.apply(v,a),v.push.apply(v,c),h=v.length,u=Promise.resolve(n);f<h;)u=u.then(v[f++],v[f++]);return u}h=a.length;let p=n;for(f=0;f<h;){const v=a[f++],g=a[f++];try{p=v(p)}catch(b){g.call(this,b);break}}try{u=wN.call(this,p)}catch(v){return Promise.reject(v)}for(f=0,h=c.length;f<h;)u=u.then(c[f++],c[f++]);return u}getUri(t){t=Uc(this.defaults,t);const n=vO(t.baseURL,t.url,t.allowAbsoluteUrls);return fO(n,t.params,t.paramsSerializer)}};Le.forEach(["delete","get","head","options"],function(t){Ic.prototype[t]=function(n,r){return this.request(Uc(r||{},{method:t,url:n,data:(r||{}).data}))}});Le.forEach(["post","put","patch"],function(t){function n(r){return function(o,s,a){return this.request(Uc(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:o,data:s}))}}Ic.prototype[t]=n(),Ic.prototype[t+"Form"]=n(!0)});let vU=class kO{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(o){n=o});const r=this;this.promise.then(i=>{if(!r._listeners)return;let o=r._listeners.length;for(;o-- >0;)r._listeners[o](i);r._listeners=null}),this.promise.then=i=>{let o;const s=new Promise(a=>{r.subscribe(a),o=a}).then(i);return s.cancel=function(){r.unsubscribe(o)},s},t(function(o,s,a){r.reason||(r.reason=new ef(o,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new kO(function(i){t=i}),cancel:t}}};function yU(e){return function(n){return e.apply(null,n)}}function xU(e){return Le.isObject(e)&&e.isAxiosError===!0}const T_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(T_).forEach(([e,t])=>{T_[t]=e});function SO(e){const t=new Ic(e),n=eO(Ic.prototype.request,t);return Le.extend(n,Ic.prototype,t,{allOwnKeys:!0}),Le.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return SO(Uc(e,i))},n}const xr=SO(im);xr.Axios=Ic;xr.CanceledError=ef;xr.CancelToken=vU;xr.isCancel=mO;xr.VERSION=_O;xr.toFormData=M0;xr.AxiosError=Vt;xr.Cancel=xr.CanceledError;xr.all=function(t){return Promise.all(t)};xr.spread=yU;xr.isAxiosError=xU;xr.mergeConfig=Uc;xr.AxiosHeaders=Gi;xr.formToJSON=e=>pO(Le.isHTMLForm(e)?new FormData(e):e);xr.getAdapter=bO.getAdapter;xr.HttpStatusCode=T_;xr.default=xr;const{Axios:z0e,AxiosError:H0e,CanceledError:W0e,isCancel:U0e,CancelToken:V0e,VERSION:q0e,all:K0e,Cancel:Y0e,isAxiosError:G0e,spread:X0e,toFormData:J0e,AxiosHeaders:Q0e,HttpStatusCode:Z0e,formToJSON:exe,getAdapter:txe,mergeConfig:nxe}=xr;function wU(e){if(!e||!/^(\d{1,3}\.){3}\d{1,3}$/.test(e))throw new Error("Invalid IPv4 address format");const t=e.split(".").map(Number);if(t.some(n=>n<0||n>255))throw new Error("IP octets must be between 0 and 255");return t[0]<<24|t[1]<<16|t[2]<<8|t[3]}const bu={CLASS_A:{MIN:10<<24,MAX:10<<24|16777215},CLASS_B:{MIN:172<<24|16<<16,MAX:172<<24|31<<16|65535},CLASS_C:{MIN:192<<24|168<<16,MAX:192<<24|168<<16|65535}};function bU(){const e=window.location.hostname;if(e==="localhost"||e==="127.0.0.1")return!0;if(!/^(\d{1,3}\.){3}\d{1,3}$/.test(e))return!1;try{const t=wU(e);return t>=bu.CLASS_A.MIN&&t<=bu.CLASS_A.MAX||t>=bu.CLASS_B.MIN&&t<=bu.CLASS_B.MAX||t>=bu.CLASS_C.MIN&&t<=bu.CLASS_C.MAX}catch(t){return!1}}const Yn=xr.create({baseURL:bU()?"http://".concat(window.location.hostname,":3000/v1"):"https://api.bardsballad.com/v1"});Yn.interceptors.request.use(async e=>{const t=await di.get("token"),n=await di.get("apiKey");return t&&(e.headers.Authorization="Bearer ".concat(t),e.headers["x-api-key"]=n||""),e});Yn.interceptors.response.use(e=>{const t=e.headers.authorization,n=e.headers["x-api-key"];if(t){const r=t.replace("Bearer ","");A0(r)}if(n&&di.set("apiKey",n),e.data&&typeof e.data=="object"&&"data"in e.data){const{error:r,data:i}=e.data;r&&r.trim()!==""&&(Un(r,"error"),console.warn("API Error:",r)),e.data=i}return e},e=>{if(e.response&&e.response.data){const{error:t,data:n}=e.response.data;t&&t.trim()!==""&&Un(t,"error")}return Promise.reject(e)});const _U=async(e,t)=>{const n=await Yn.post("/auth/login",{username:e,password:t,deviceName:await zP(),deviceId:await di.get("deviceId")});if(n.status===400)return typeof n.data=="string"?{success:!1,error:"Required parameters are missing"}:n.data.existing?{success:!1,error:"Username and/or email already taken"}:{success:!1,error:"Input validation failed"};if(n.status===500)return{success:!1,error:"Failed to create user"};const{accessToken:r,apiKey:i,deviceId:o}=n.data;if(!(r&&i&&o))return Un("please report this code: #RRFV","error"),{success:!1,error:"please report this code: #RRFV"};const s=await A0(r);return di.set("apiKey",i),di.set("deviceId",o),ZP(s.id,o),{success:!0}},kU=async(e,t,n)=>{const r=await Yn.post("/auth/register",{username:e,email:t,password:n,deviceName:await zP()});if(r.status===400)return{success:!1,error:r.data};if(r.status===403)return{success:!1,error:"Invalid username/email or password"};const{accessToken:i,apiKey:o,deviceId:s}=r.data;if(!(i&&o&&s))return Un("please report this code: #RRFV","error"),{success:!1,error:"please report this code: #RRFV"};const a=await A0(i);return di.set("apiKey",o),di.set("deviceId",s),ZP(a.id,s),{success:!0}},SU=Xe.string().min(8,{message:"Password must be at least 8 characters long."}).max(256,{message:"Lamest DoS attack I've ever seen."}).regex(/.*[A-Z].*/,"Password must contain an uppercase letter.").regex(/.*[a-z].*/,"Password must contain a lowercase letter.").regex(/.*\d.*/,"Password must contain a number.").regex(/.*[~`!@#$%^&*()_+\-=[{\]}|\\;:'",<.>\/?].*/,"Password must contain a special character.");function EU(e){return SU.safeParse(e)}const EO=({id:e})=>{const[t,n]=N.useState(!1),[r,i]=N.useState(""),[o,s]=N.useState(""),[a,l]=N.useState(""),[c,u]=N.useState(""),f=N.useMemo(()=>t?"Sign Up":"Login",[t]),h=N.useCallback(()=>cr(e),[e]),p=async()=>await kU(r,o,a),v=async()=>await _U(r,a),{success:g,error:b}=N.useMemo(()=>EU(a),[a]),[m,y]=N.useState({isSaving:!1,saveSuccessful:!1,error:""});if(m.isSaving){const x=m.isSaving&&!m.saveSuccessful&&!m.error;return d.jsxs(Vn,{isOpen:!0,onClose:h,children:[d.jsx(Kn,{title:f,onClose:h}),d.jsx(qn,{children:x?d.jsx("h4",{children:"Authenticating..."}):m.error&&!m.saveSuccessful?d.jsxs(d.Fragment,{children:[d.jsx("h4",{children:"Error Authenticating."}),d.jsx("p",{children:m.error})]}):d.jsx("h4",{children:"Authentication Successfully!."})})]})}return d.jsxs(Vn,{isOpen:!0,onClose:h,className:"",children:[d.jsx(Kn,{title:f,onClose:h}),d.jsxs(qn,{children:[d.jsxs("form",{onSubmit:async()=>{const x=t?p:v;if(g)try{y({isSaving:!0,saveSuccessful:!1,error:""});const{success:k,error:S}=await x();y({isSaving:!0,saveSuccessful:k,error:S||""})}catch(k){y({isSaving:!0,saveSuccessful:!1,error:"Error occured during authentication, try again please."})}},children:[d.jsx(en,{id:"username",autoComplete:"username",label:t?"Username":"Username or Email",placeholder:"Username",value:r,onChange:i,isValid:!0,errorMessage:""}),t&&d.jsx(en,{id:"email",autoComplete:"email",label:"Email",placeholder:"support@bardsballad.com",value:o,onChange:s,isValid:!0,errorMessage:""}),d.jsx(en,{id:"password",label:"Password",type:"password",autoComplete:t?"new-password":"current-password",placeholder:"OogaBooga1234",value:a,onChange:l,isValid:g,errorMessage:(b==null?void 0:b.errors.map(x=>x.message).join("\n"))||""}),t&&d.jsx(en,{id:"confirmPassword",autoComplete:"new-password",label:"Confirm Password",type:"password",placeholder:"OogaBooga1234",value:c,onChange:u,isValid:c.length===0||c===a,errorMessage:"Passwords don't match"}),d.jsx(kt,{id:"signup",color:"primary",type:"submit",children:f}),d.jsx("div",{className:"flex flex-col mt-4 items-center justify-center text-sm",children:d.jsxs("h3",{children:[d.jsx("span",{className:"cursor-default dark:text-neutral-300",children:t?"Already have an account?":"Don't have an account?"}),d.jsx("span",{className:"group text-fantasy-accent transition-all duration-100 ease-in-out cursor-pointer",onClick:()=>n(!t),children:d.jsx("span",{className:"bg-left-bottom ml-1 bg-gradient-to-r from-fantasy-accent-light to-fantasy-accent-dark bg-[length:0%_2px] bg-no-repeat group-hover:bg-[length:100%_2px] transition-all duration-500 ease-out",children:t?"Login":"Sign Up"})})]})})]}),d.jsx("div",{className:"text-neutral-500 flex text-center flex-col mt-4 items-center text-sm",children:d.jsxs("p",{className:"cursor-default",children:["By ",t?"signing up":"logging in",", you agree to our"," ",d.jsx("a",{className:"group text-fantasy-accent transition-all duration-100 ease-in-out",href:"https://bardsballad.com/terms-of-service",target:"_blank",rel:"noopener noreferrer",children:d.jsxs("span",{className:"cursor-pointer bg-left-bottom bg-gradient-to-r from-fantasy-accent-light to-fantasy-accent-dark bg-[length:0%_2px] bg-no-repeat group-hover:bg-[length:100%_2px] transition-all duration-500 ease-out",children:["Terms of Service"," "]})}),"and"," ",d.jsx("a",{className:"group text-fantasy-accent transition-all duration-100 ease-in-out",href:"https://bardsballad.com/privacy-policy",target:"_blank",rel:"noopener noreferrer",children:d.jsx("span",{className:"cursor-pointer bg-left-bottom bg-gradient-to-r from-fantasy-accent-light to-fantasy-accent-dark bg-[length:0%_2px] bg-no-repeat group-hover:bg-[length:100%_2px] transition-all duration-500 ease-out",children:"Privacy Policy"})})]})})]})]})},CU=[{icon:"🏠",name:"Home",path:""},{icon:"🛒",name:"Marketplace",path:"marketplace"},{icon:"👥",name:"Characters",path:"characters"},{icon:"📚",name:"Library",path:"library"},{icon:"🗑️",name:"Garbage",path:"garbage"}],jU=[{icon:()=>d.jsx("svg",{className:"flex-shrink-0 w-5 h-5 text-neutral-500 transition duration-75 dark:text-neutral-400 group-hover:text-neutral-900 dark:group-hover:text-white","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 21 21",children:d.jsx("path",{d:"m5.4 2.736 3.429 3.429A5.046 5.046 0 0 1 10.134 6c.356.01.71.06 1.056.147l3.41-3.412c.136-.133.287-.248.45-.344A9.889 9.889 0 0 0 10.269 1c-1.87-.041-3.713.44-5.322 1.392a2.3 2.3 0 0 1 .454.344Zm11.45 1.54-.126-.127a.5.5 0 0 0-.706 0l-2.932 2.932c.029.023.049.054.078.077.236.194.454.41.65.645.034.038.078.067.11.107l2.927-2.927a.5.5 0 0 0 0-.707Zm-2.931 9.81c-.024.03-.057.052-.081.082a4.963 4.963 0 0 1-.633.639c-.041.036-.072.083-.115.117l2.927 2.927a.5.5 0 0 0 .707 0l.127-.127a.5.5 0 0 0 0-.707l-2.932-2.931Zm-1.442-4.763a3.036 3.036 0 0 0-1.383-1.1l-.012-.007a2.955 2.955 0 0 0-1-.213H10a2.964 2.964 0 0 0-2.122.893c-.285.29-.509.634-.657 1.013l-.01.016a2.96 2.96 0 0 0-.21 1 2.99 2.99 0 0 0 .489 1.716c.009.014.022.026.032.04a3.04 3.04 0 0 0 1.384 1.1l.012.007c.318.129.657.2 1 .213.392.015.784-.05 1.15-.192.012-.005.02-.013.033-.018a3.011 3.011 0 0 0 1.676-1.7v-.007a2.89 2.89 0 0 0 0-2.207 2.868 2.868 0 0 0-.27-.515c-.007-.012-.02-.025-.03-.039Zm6.137-3.373a2.53 2.53 0 0 1-.35.447L14.84 9.823c.112.428.166.869.16 1.311-.01.356-.06.709-.147 1.054l3.413 3.412c.132.134.249.283.347.444A9.88 9.88 0 0 0 20 11.269a9.912 9.912 0 0 0-1.386-5.319ZM14.6 19.264l-3.421-3.421c-.385.1-.781.152-1.18.157h-.134c-.356-.01-.71-.06-1.056-.147l-3.41 3.412a2.503 2.503 0 0 1-.443.347A9.884 9.884 0 0 0 9.732 21H10a9.9 9.9 0 0 0 5.044-1.388 2.519 2.519 0 0 1-.444-.348ZM1.735 15.6l3.426-3.426a4.608 4.608 0 0 1-.013-2.367L1.735 6.4a2.507 2.507 0 0 1-.35-.447 9.889 9.889 0 0 0 0 10.1c.1-.164.217-.316.35-.453Zm5.101-.758a4.957 4.957 0 0 1-.651-.645c-.033-.038-.077-.067-.11-.107L3.15 17.017a.5.5 0 0 0 0 .707l.127.127a.5.5 0 0 0 .706 0l2.932-2.933c-.03-.018-.05-.053-.078-.076ZM6.08 7.914c.03-.037.07-.063.1-.1.183-.22.384-.423.6-.609.047-.04.082-.092.129-.13L3.983 4.149a.5.5 0 0 0-.707 0l-.127.127a.5.5 0 0 0 0 .707L6.08 7.914Z"})}),name:"Settings",path:"settings"}],NU=()=>{const e=kS.useValue(),t=Er.useValue(),[n,r]=N.useState(!1),i=N.useRef(!1);return N.useEffect(()=>i.current?void 0:(i.current=!0,(async()=>{await Ch.get("onboarding-completed")||Rt("onboarding",({id:a})=>d.jsx(I9,{yes:()=>{cr(a),MP(),r(!0)},no:()=>{cr(a),Ch.set("onboarding-completed",!0)}}))})(),()=>{o9("onboarding")}),[]),d.jsxs("div",{className:"w-screen h-screen-dynamic transition-colors overflow-x-hidden fantasy-gradient fantasy-atmospheric text-fantasy-text",children:[d.jsx("div",{className:"fixed inset-0 pointer-events-none z-10",id:"particleContainer"}),d.jsx(R9,{}),n&&d.jsx(m9,{steps:g9,onFinish:()=>{Ch.set("onboarding-completed",!0),r(!1)}}),d.jsx("div",{onClick:eg,className:"".concat(e?"":"-translate-x-full"," bg-neutral-950 opacity-65 fixed top-0 left-0 z-40 w-screen sm:w-64 h-screen-dynamic sm:translate-x-0")}),d.jsx("aside",{onClick:eg,className:"".concat(e?"":"-translate-x-full"," bg-fantasy-glass backdrop-blur-lg border-r border-fantasy-border shadow-2xl fixed top-0 left-0 z-40 w-64 h-screen-dynamic transition-transform sm:translate-x-0"),"aria-label":"Sidebar",children:d.jsxs("div",{className:"h-full flex flex-col justify-between px-3 py-4 overflow-y-auto",onClick:o=>o.stopPropagation(),children:[d.jsxs("div",{children:[d.jsxs("div",{className:"flex items-center mb-10 text-fantasy-accent font-bold text-lg",children:[d.jsx("svg",{className:"h-11 sm:h-12 mr-2.5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 442 442",children:d.jsx("g",{children:d.jsxs("g",{children:[d.jsx("path",{className:"fill-fantasy-accent",d:"M221,442c-59.03,0-114.53-22.99-156.27-64.73S0,280.03,0,221,22.99,106.47,64.73,64.73C106.47,22.99,161.97,0,221,0s114.53,22.99,156.27,64.73c41.74,41.74,64.73,97.24,64.73,156.27s-22.99,114.53-64.73,156.27-97.24,64.73-156.27,64.73ZM221,12C105.76,12,12,105.76,12,221s93.76,209,209,209,209-93.76,209-209S336.24,12,221,12Z"}),d.jsx("path",{className:"fill-fantasy-accent",d:"M343,318c-10.28-3.95-23-4-30,1-8.96,6.4-14,18-27.89,17-13.33-.96-18.11-10-18.11-10,0,0,13-1,21-8,6.58-5.76,12-12,11-24-.91-10.96-8.94-16-18-16-14,0-22,11-22,11,0,0-3-11,10-30,14.43-21.09,37.58-34.03,45-50,13-28,8.03-51,8.03-51l5.18-5.04.76.92s-1.41,4-.41,7,4.86,2.66,7,2c2.91-.89,4-4,4-6s-3-5-3-5l-3.19-3.94,7.19-6.99,2.42,2.93s-1.41,4-.41,7,4.86,2.66,7,2c2.91-.89,4-4,4-6s-3-5-3-5l-4.83-5.96,7.26-7.07,3.43,4.15s-1.41,4-.41,7,4.86,2.66,7,2c2.91-.89,4-4,4-6s-3-5-3-5l-5.83-7.19.83-.81s3.33,2.68,6-1c2.93-4.04-2-7-2-7l-13-15s-1-4-5-3c-4.95,1.24-4,5-4,5l-.34.22-6.66-8.22s-2-2-5-2-6,2-7,5,0,6,3,6,5-2,5-2l4.32,5.24-8.36,5.3-5.4-6.66s-2-2-5-2-6,2-7,5,0,6,3,6,5-2,5-2l3.05,3.69-8.25,5.23-4.8-5.92s-2-2-5-2-6,2-7,5,0,6,3,6,5-2,5-2l2.44,2.96-91.7,58.17s-7.97,4.6-15.3,9c-5,3-9-4-9-4l-3-2-2.44,2s4.89,6.76,4.44,9c-1,5-5,1-5,1l-6-7-4-3-2,3,7.43,9s2.62,3,.57,5-6-3-6-3l-9.95-12-4.05-2-2,2,11,14s4,5,1,7-7-4-7-4l-14-18-5-2-1,3,14.89,23s4.11,4,.11,7c-3.39,2.55-6.85-1.6-6.85-1.6l-21.54-28-5.61-2.4-1,3,20,28s6.35,6.71,1,9c-7,3-11.75-4-11.75-4l-24.25-30-4-2-1,3,23.1,33s5.13,7,2.05,10c-3.08,3-8.92-2.5-8.92-2.5l-29.23-37.5-4-2-1,3,32.9,47s4.1,5,2.1,7c-3.23,3.23-6-1-6-1l-38-51-6-1-3,4s65.82,92,73,99,9.9,1,14,3,5.41,7.59,1,12c-6,6-11-1-11-1,0,0-68.15-92-78.4-106-10.26-14-15.22-27.04-16.6-38-2-16,2.57-39,20-43s33.07.64,42,13c13,18,18.46,26.33,29,34,11,8,33.57,10.15,49-4,12-11,9.91-29,9.91-29,0,0,20.47-10.15,26.09-27,7-21-8.5-37.38-3-59,3.12-12.27,14-22,28-22,18.03,0,23.78,11,23.78,11,0,0-5.65,0-10.78,5s-5.64,11.45-2,16c4,5,13,5,19,0,6.61-5.51,5.06-14,5.06-14,0,0,5.94-4,11.94,4,4.38,5.84,4.04,14.63,15,16,8,1,16-8,14-16-1.21-4.85-5.49-7.87-10-4-7,6,3.08,13.26-3,15-7,2-9-11-16-17-5.93-5.08-11-6-11-6,0,0-1-19-19-22-17.31-2.88-30.74,2.36-41,14-10.26,11.64-12.05,26-10,37s10.13,29,5,42-23.11,20-23.11,20c0,0-.89-11-5.89-17-6.46-7.75-13-13-27-12-10.02.72-23.05,11-21,25s17,15,17,15c0,0-9.27,9.07-27,4-14-4-14.89-13.18-30-22-20.23-11.82-37-6-42-3-4.62,2.77-18.99,11.98-19,40,0,24,13,40,13,40l-23,12s-6,2-8,7c-1.53,3.83,2,8,2,8l95,122s6.82,11,14,11c6,0,13-6,13-6,0,0,24.27-16,50.94-57s22.56-77.58,22.56-77.58l74.5-51.42s8-5,6-8c-1.76-2.64-9,3-9,3,0,0-116.44,74.29-119,76-3,2-4-2-4-2,0,0-2-6-6-10-2.7-2.7-6.08-3.16-7-5-1-2,1-4,3-5l108.67-73s8.99-8,25.33-5c8.31,1.53,15,8,15,8,0,0,7.97,8,9,18s-1.13,20-5.23,30-8.2,15-18.46,23c-10.26,8-25.2,13.19-37.31,20-16,9-22.84,24.61-27,35-2,5-4.18,20,3,31s24,15,24,15c0,0,3.85,5,10,9s14.02,5.61,22,5c13-1,16.25-8.83,24-14,6-4,16.18-4,24.38,1,8.2,5,15.62,16.58,15.62,28,0,12-1.8,19-10,27s-15.54,11-34,11-29-1-38-7c-11.91-7.94-12.92-15.81-24-28-10-11-21.69-15-34-15-8,0-15.49,1.49-24,10-7,7-7,18-7,18,0,0-4,2-10,9-5.14,5.99-10,13-17,14-10.58,1.51-17.59-2-17.59-2,0,0,1.62-3,.59-5s-3.9-3-8-3-6.74,4.26-2,9c3,3,6.52,5.77,17,7,17,2,22.94-7.94,28-13,7-7,11-8,11-8,0,0,2,5,7,8,3.15,1.89,10,3,15,1,5.95-2.38,7-10,4-15-2.78-4.63-12-5-12-5,0,0,3-8,16-6,8.95,1.38,13.96,5.04,28,18,13,12,30.32,14.88,50,16,35,2,47.44,0,59.74-10,12.31-10,15.54-33.28,13.26-44s-10.59-20-21-24ZM274,66c-7,4-12-2-11-7,.78-3.92,4-7,12-8,0,0,5.14,11.49-1,15ZM147,132c-1.05-6.32,3-16,13-17s12,6,12,12c0,10.44-7,16-7,16-9,0-17-5-18-11ZM164,252c0,10.49-8.51,19-19,19s-19-8.51-19-19,8.51-19,19-19,19,8.51,19,19ZM347,107s7.18,5.73,8,9c.49,1.94.03,3.42-.57,4.43l-12.11-14.93c3.12-.83,4.68,1.5,4.68,1.5ZM335.77,109.21l13.37,16.2-7.54,6.66-14.23-17.55c3.21-2.03,6.11-3.86,8.41-5.3ZM321.04,118.52l15.13,18.33-7.46,6.58-15.94-19.66c2.74-1.74,5.54-3.52,8.27-5.25ZM310,142c-8.3-6.64-18-5-18-5,0,0,6.33-4.04,14.44-9.21l16.85,20.42-4.29,3.79s-4-6-9-10ZM261,299s2-7,9-12,15-5,19-2c5.06,3.79,5.41,11.18,3,16-2,4-9.11,10.32-17,9-12-2-14-11-14-11ZM198,374c4.47,0,7,4,6,7-1.14,3.42-7,3-10,1-2.35-1.57-4-6-4-6,0,0,3-2,8-2Z"})]})})}),d.jsx("p",{children:"BardsBallad"})]}),d.jsx("ul",{className:"space-y-2",children:CU.map(o=>d.jsx("li",{children:d.jsx(x_,{id:"nav-".concat(o.name),to:o.path,onClick:eg,children:({isActive:s,isPending:a})=>d.jsxs("div",{className:"nav-item flex items-center px-4 py-3 rounded-lg cursor-pointer transition-all duration-300 ".concat(s?"bg-fantasy-accent/20 border-l-4 border-fantasy-accent":"hover:bg-fantasy-accent/10 hover:translate-x-1"),children:[d.jsx("span",{className:"mr-3 text-base",children:o.icon}),d.jsx("p",{children:o.name})]})})},o.name))})]}),d.jsxs("div",{children:[d.jsxs("div",{className:"bg-gradient-to-br from-fantasy-accent/20 to-fantasy-accent-dark/10 border border-fantasy-accent/30 rounded-xl p-4 mt-5 text-sm leading-relaxed",role:"alert",children:[d.jsx("span",{className:"bg-fantasy-accent text-fantasy-dark px-2 py-0.5 rounded text-sm font-bold mb-2 inline-block",children:"Beta"}),d.jsx("p",{children:"We're happy you're using the BardsBallad Beta! If you run into any problems please reach out to us through one of the platforms below!"})]}),d.jsxs("div",{className:"flex items-center my-2 gap-2 px-1",children:[d.jsx("a",{href:"https://discord.gg/a5qSfxv",target:"_blank",className:"hover:bg-fantasy-accent/10 p-1 rounded",children:d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-7 h-7 fill-fantasy-text-muted hover:fill-fantasy-text transition-colors",viewBox:"0 0 512 512",children:[d.jsx("path",{d:"M464 66.52A50 50 0 00414.12 17L97.64 16A49.65 49.65 0 0048 65.52V392c0 27.3 22.28 48 49.64 48H368l-13-44 109 100zM324.65 329.81s-8.72-10.39-16-19.32C340.39 301.55 352.5 282 352.5 282a139 139 0 01-27.85 14.25 173.31 173.31 0 01-35.11 10.39 170.05 170.05 0 01-62.72-.24 184.45 184.45 0 01-35.59-10.4 141.46 141.46 0 01-17.68-8.21c-.73-.48-1.45-.72-2.18-1.21-.49-.24-.73-.48-1-.48-4.36-2.42-6.78-4.11-6.78-4.11s11.62 19.09 42.38 28.26c-7.27 9.18-16.23 19.81-16.23 19.81-53.51-1.69-73.85-36.47-73.85-36.47 0-77.06 34.87-139.62 34.87-139.62 34.87-25.85 67.8-25.12 67.8-25.12l2.42 2.9c-43.59 12.32-63.44 31.4-63.44 31.4s5.32-2.9 14.28-6.77c25.91-11.35 46.5-14.25 55-15.21a24 24 0 014.12-.49 205.62 205.62 0 0148.91-.48 201.62 201.62 0 0172.89 22.95s-19.13-18.15-60.3-30.45l3.39-3.86s33.17-.73 67.81 25.16c0 0 34.87 62.56 34.87 139.62 0-.28-20.35 34.5-73.86 36.19z"}),d.jsx("path",{d:"M212.05 218c-13.8 0-24.7 11.84-24.7 26.57s11.14 26.57 24.7 26.57c13.8 0 24.7-11.83 24.7-26.57.25-14.76-10.9-26.57-24.7-26.57zM300.43 218c-13.8 0-24.7 11.84-24.7 26.57s11.14 26.57 24.7 26.57c13.81 0 24.7-11.83 24.7-26.57S314 218 300.43 218z"})]})}),d.jsx("a",{href:"https://github.com/KingCosmic/BardsBallad",target:"_blank",className:"hover:bg-fantasy-accent/10 p-1 rounded",children:d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-7 h-7 fill-fantasy-text-muted hover:fill-fantasy-text transition-colors",viewBox:"0 0 512 512",children:d.jsx("path",{d:"M256 32C132.3 32 32 134.9 32 261.7c0 101.5 64.2 187.5 153.2 217.9a17.56 17.56 0 003.8.4c8.3 0 11.5-6.1 11.5-11.4 0-5.5-.2-19.9-.3-39.1a102.4 102.4 0 01-22.6 2.7c-43.1 0-52.9-33.5-52.9-33.5-10.2-26.5-24.9-33.6-24.9-33.6-19.5-13.7-.1-14.1 1.4-14.1h.1c22.5 2 34.3 23.8 34.3 23.8 11.2 19.6 26.2 25.1 39.6 25.1a63 63 0 0025.6-6c2-14.8 7.8-24.9 14.2-30.7-49.7-5.8-102-25.5-102-113.5 0-25.1 8.7-45.6 23-61.6-2.3-5.8-10-29.2 2.2-60.8a18.64 18.64 0 015-.5c8.1 0 26.4 3.1 56.6 24.1a208.21 208.21 0 01112.2 0c30.2-21 48.5-24.1 56.6-24.1a18.64 18.64 0 015 .5c12.2 31.6 4.5 55 2.2 60.8 14.3 16.1 23 36.6 23 61.6 0 88.2-52.4 107.6-102.3 113.3 8 7.1 15.2 21.1 15.2 42.5 0 30.7-.3 55.5-.3 63 0 5.4 3.1 11.5 11.4 11.5a19.35 19.35 0 004-.4C415.9 449.2 480 363.1 480 261.7 480 134.9 379.7 32 256 32z"})})}),d.jsx("a",{href:"mailto:support@bardsballad.com",target:"_blank",className:"hover:bg-fantasy-accent/10 p-1 rounded",children:d.jsxs("svg",{viewBox:"0 0 24 24",className:"w-8 h-8 fill-fantasy-text-muted hover:fill-fantasy-text transition-colors",xmlns:"http://www.w3.org/2000/svg",children:[d.jsx("g",{id:"SVGRepo_bgCarrier",strokeWidth:"0"}),d.jsx("g",{id:"SVGRepo_tracerCarrier",strokeLinecap:"round",strokeLinejoin:"round"}),d.jsxs("g",{id:"SVGRepo_iconCarrier",children:[" ",d.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.75 5.25L3 6V18L3.75 18.75H20.25L21 18V6L20.25 5.25H3.75ZM4.5 7.6955V17.25H19.5V7.69525L11.9999 14.5136L4.5 7.6955ZM18.3099 6.75H5.68986L11.9999 12.4864L18.3099 6.75Z"})," "]})]})})]}),d.jsxs("ul",{className:"pt-4 mt-2 space-y-2 font-medium border-t border-neutral-200 dark:border-neutral-700",children:[!t.isLoggedIn&&d.jsx("li",{className:"w-full",children:d.jsx("button",{className:"w-full fantasy-accent-gradient text-fantasy-dark px-4 py-2 rounded-lg text-xs font-medium transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-fantasy-accent/40",onClick:()=>Rt("auth",({id:o})=>d.jsx(EO,{id:o})),children:"Login / Register"})}),jU.map(o=>d.jsx("li",{children:d.jsx(x_,{id:"nav-".concat(o.name),to:o.path,onClick:eg,children:({isActive:s,isPending:a})=>d.jsxs("div",{className:"nav-item flex items-center px-4 py-3 rounded-lg cursor-pointer transition-all duration-300 ".concat(s?"bg-fantasy-accent/20 border-l-4 border-fantasy-accent":"hover:bg-fantasy-accent/10 hover:translate-x-1"),children:[d.jsx("span",{className:"mr-3 text-base",children:o.icon()}),d.jsx("p",{children:o.name})]})})},o.name))]})]})]})}),d.jsx("div",{className:"sm:ml-64 h-screen-dynamic p-8 lg:p-10",children:d.jsx(bz,{})}),d.jsx(s9,{})]})},AU=()=>d.jsxs("button",{onClick:MP,type:"button",className:"sm:hidden bg-fantasy-glass border border-fantasy-border rounded-lg p-4 mr-4 backdrop-blur-lg text-fantasy-accent text-lg transition-all duration-300 hover:bg-fantasy-accent/20 hover:scale-105",children:[d.jsx("span",{className:"sr-only",children:"Open sidebar"}),d.jsx("svg",{className:"w-6 h-6","aria-hidden":"true",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:d.jsx("path",{clipRule:"evenodd",fillRule:"evenodd",d:"M2 4.75A.75.75 0 012.75 4h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 4.75zm0 10.5a.75.75 0 01.75-.75h7.5a.75.75 0 010 1.5h-7.5a.75.75 0 01-.75-.75zM2 10a.75.75 0 01.75-.75h14.5a.75.75 0 010 1.5H2.75A.75.75 0 012 10z"})})]}),Xs=({title:e,subtitle:t="",options:n,hasSidebar:r=!1})=>d.jsxs("div",{className:"flex flex-row justify-between mb-8 ".concat(r?"lg:w-[calc(100vw-36rem)]":""),children:[d.jsxs("div",{className:"flex flex-row items-start",children:[d.jsx(AU,{}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-3xl font-light text-fantasy-text mb-2 drop-shadow-lg",children:e}),d.jsx("p",{className:"text-sm text-fantasy-accent/80",children:t})]})]}),d.jsx("div",{className:"flex flex-row-reverse items-center",children:(n==null?void 0:n.length)&&d.jsx("ul",{className:"flex flex-row gap-2",children:n==null?void 0:n.map(({Content:i,onClick:o},s)=>d.jsx("li",{onClick:o,className:"flex justify-center items-center bg-fantasy-dark text-fantasy-text border border-fantasy-border p-4 rounded-lg text-xs font-medium transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-fantasy-dark/40 cursor-pointer",children:d.jsx(i,{})},s))})})]}),TU=[{title:"Added Eruda debugging support, and started work on theme system.",date:"Released on January 21st, 2025",description:"Check your settings for themes and to enable Eruda!"},{title:"Editor Released!",date:"Released on January 16th, 2025",description:"We've released the Editor portion of BarsBallad, this will allow you to make your own systems! It includes visual drag and drop creation of character of tabs, and a custom visual code editor."},{title:"Beta Release",date:"Released on August 14th, 2024",description:"We're releasing BardsBallad into open beta! Please share all feedback through discord and github and share us with your friends!"}],RU=({title:e,isLatest:t,date:n,description:r})=>d.jsxs("li",{className:"mb-10 ms-6",children:[d.jsx("span",{className:"absolute flex items-center justify-center w-6 h-6 rounded-full -start-3 ring-8 ring-fantasy-dark bg-fantasy-medium",children:d.jsx("svg",{className:"w-2.5 h-2.5 text-fantasy-accent","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{d:"M20 4a2 2 0 0 0-2-2h-2V1a1 1 0 0 0-2 0v1h-3V1a1 1 0 0 0-2 0v1H6V1a1 1 0 0 0-2 0v1H2a2 2 0 0 0-2 2v2h20V4ZM0 18a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V8H0v10Zm5-8h10a1 1 0 0 1 0 2H5a1 1 0 0 1 0-2Z"})})}),d.jsxs("h3",{className:"flex items-center mb-1 text-lg font-semibold text-fantasy-text",children:[e,t?d.jsxs(d.Fragment,{children:[" ",d.jsx("span",{className:"bg-fantasy-accent text-fantasy-dark text-sm font-medium me-2 px-2.5 py-0.5 rounded ms-3",children:"Latest"})]}):null]}),d.jsx("time",{className:"block mb-2 text-sm font-normal leading-none text-fantasy-text-muted",children:n}),d.jsx("p",{className:"mb-4 text-base font-normal text-fantasy-text-muted",children:r})]}),IU=()=>d.jsxs("div",{children:[d.jsx(Xs,{title:"Home"}),d.jsx("ol",{className:"relative m-10 border-s border-fantasy-border",children:TU.map((e,t)=>d.jsx(RU,{title:e.title,isLatest:t===0,date:e.date,description:e.description},e.title))})]}),ft=N.forwardRef(({id:e,label:t,value:n,onChange:r,children:i,style:o,containerClassName:s,labelClassName:a,className:l},c)=>d.jsxs("div",{className:s||"mb-6",style:o,ref:c,children:[d.jsx("label",{htmlFor:e,className:"block mb-2 text-sm font-medium text-neutral-900 dark:text-white ".concat(a),children:t}),d.jsx("select",{id:e,className:"".concat(l," block w-full p-3 bg-fantasy-dark text-fantasy-text border border-fantasy-border rounded-lg text-xs font-medium transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-fantasy-dark/40 cursor-pointer"),value:n,onChange:u=>r(u.target.value),children:i})]})),CO=N.createContext({});function tf(){return N.useContext(CO)}const jO=({localData:e,children:t})=>{const n=tf();return d.jsx(CO.Provider,{value:{...n,...e},children:t})};function NO(e){return e.nodes.find(t=>t.type==="entry")}function _N(e,t){return e.nodes.find(n=>n.id===t)}const PU={process:(e,t)=>{const n=e.input;for(let r in n){const i=n[r];e.setParam(t.id,r,i)}return e.getConnectingNodeForHandle(t,"start","output")}},OU={process:(e,t)=>{const{name:n}=t.data.param,r=e.getParam(t.id,n);e.setOutput(r)}};function MU(e,t){return t?t.split("/").reduce((r,i)=>{if(r)return Array.isArray(r)?(r=r.find(o=>o.name===i),r||void 0):r[i]},e):void 0}const $U={process:(e,t)=>{const n=e.getCharacter(),r=MU(n,"data/".concat(t.data.path));return e.setParam(t.id,"output",r),e.getConnectingNodeForHandle(t,"next","output")}};function IS(e,t,n){const r=t.split("/");if(!r.length)return e;const i=r.pop(),o=r.reduce((s,a)=>{if(s)return Array.isArray(s)?(s=s.find(l=>l.name===a),s||void 0):s[a]},e);if(!o)return e;if(Array.isArray(o)){const s=o.findIndex(a=>a.name===i);if(s===-1)return e;o[s]=n}else o[i]=n;return e}var AO=Symbol.for("immer-nothing"),kN=Symbol.for("immer-draftable"),mo=Symbol.for("immer-state");function Zo(e,...t){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var Cd=Object.getPrototypeOf;function jd(e){return!!e&&!!e[mo]}function Vc(e){var t;return e?TO(e)||Array.isArray(e)||!!e[kN]||!!((t=e.constructor)!=null&&t[kN])||L0(e)||B0(e):!1}var DU=Object.prototype.constructor.toString();function TO(e){if(!e||typeof e!="object")return!1;const t=Cd(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===DU}function ry(e,t){F0(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function F0(e){const t=e[mo];return t?t.type_:Array.isArray(e)?1:L0(e)?2:B0(e)?3:0}function R_(e,t){return F0(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function RO(e,t,n){const r=F0(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function FU(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function L0(e){return e instanceof Map}function B0(e){return e instanceof Set}function pc(e){return e.copy_||e.base_}function I_(e,t){if(L0(e))return new Map(e);if(B0(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=TO(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[mo];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[s]})}return Object.create(Cd(e),r)}else{const r=Cd(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function PS(e,t=!1){return z0(e)||jd(e)||!Vc(e)||(F0(e)>1&&(e.set=e.add=e.clear=e.delete=LU),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>PS(r,!0))),e}function LU(){Zo(2)}function z0(e){return Object.isFrozen(e)}var BU={};function qc(e){const t=BU[e];return t||Zo(0,e),t}var gp;function IO(){return gp}function zU(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function SN(e,t){t&&(qc("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function P_(e){O_(e),e.drafts_.forEach(HU),e.drafts_=null}function O_(e){e===gp&&(gp=e.parent_)}function EN(e){return gp=zU(gp,e)}function HU(e){const t=e[mo];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function CN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[mo].modified_&&(P_(t),Zo(4)),Vc(e)&&(e=iy(t,e),t.parent_||oy(t,e)),t.patches_&&qc("Patches").generateReplacementPatches_(n[mo].base_,e,t.patches_,t.inversePatches_)):e=iy(t,n,[]),P_(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==AO?e:void 0}function iy(e,t,n){if(z0(t))return t;const r=t[mo];if(!r)return ry(t,(i,o)=>jN(e,r,t,i,o,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return oy(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),ry(o,(a,l)=>jN(e,r,i,a,l,n,s)),oy(e,i,!1),n&&e.patches_&&qc("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function jN(e,t,n,r,i,o,s){if(jd(i)){const a=o&&t&&t.type_!==3&&!R_(t.assigned_,r)?o.concat(r):void 0,l=iy(e,i,a);if(RO(n,r,l),jd(l))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Vc(i)&&!z0(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;iy(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&oy(e,i)}}function oy(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&PS(t,n)}function WU(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:IO(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=OS;n&&(i=[r],o=vp);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var OS={get(e,t){if(t===mo)return e;const n=pc(e);if(!R_(n,t))return UU(e,n,t);const r=n[t];return e.finalized_||!Vc(r)?r:r===zw(e.base_,t)?(Hw(e),e.copy_[t]=$_(r,e)):r},has(e,t){return t in pc(e)},ownKeys(e){return Reflect.ownKeys(pc(e))},set(e,t,n){const r=PO(pc(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=zw(pc(e),t),o=i==null?void 0:i[mo];if(o&&o.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(FU(n,i)&&(n!==void 0||R_(e.base_,t)))return!0;Hw(e),M_(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return zw(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,Hw(e),M_(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=pc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Zo(11)},getPrototypeOf(e){return Cd(e.base_)},setPrototypeOf(){Zo(12)}},vp={};ry(OS,(e,t)=>{vp[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});vp.deleteProperty=function(e,t){return vp.set.call(this,e,t,void 0)};vp.set=function(e,t,n){return OS.set.call(this,e[0],t,n,e[0])};function zw(e,t){const n=e[mo];return(n?pc(n):e)[t]}function UU(e,t,n){var i;const r=PO(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function PO(e,t){if(!(t in e))return;let n=Cd(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Cd(n)}}function M_(e){e.modified_||(e.modified_=!0,e.parent_&&M_(e.parent_))}function Hw(e){e.copy_||(e.copy_=I_(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var VU=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const o=n;n=t;const s=this;return function(l=o,...c){return s.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&Zo(6),r!==void 0&&typeof r!="function"&&Zo(7);let i;if(Vc(t)){const o=EN(this),s=$_(t,void 0);let a=!0;try{i=n(s),a=!1}finally{a?P_(o):O_(o)}return SN(o,r),CN(i,o)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===AO&&(i=void 0),this.autoFreeze_&&PS(i,!0),r){const o=[],s=[];qc("Patches").generateReplacementPatches_(t,i,o,s),r(o,s)}return i}else Zo(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...a)=>this.produceWithPatches(s,l=>t(l,...a));let r,i;return[this.produce(t,n,(s,a)=>{r=s,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Vc(e)||Zo(8),jd(e)&&(e=qU(e));const t=EN(this),n=$_(e,void 0);return n[mo].isManual_=!0,O_(t),n}finishDraft(e,t){const n=e&&e[mo];(!n||!n.isManual_)&&Zo(9);const{scope_:r}=n;return SN(r,t),CN(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=qc("Patches").applyPatches_;return jd(e)?r(e,t):this.produce(e,i=>r(i,t))}};function $_(e,t){const n=L0(e)?qc("MapSet").proxyMap_(e,t):B0(e)?qc("MapSet").proxySet_(e,t):WU(e,t);return(t?t.scope_:IO()).drafts_.push(n),n}function qU(e){return jd(e)||Zo(10,e),OO(e)}function OO(e){if(!Vc(e)||z0(e))return e;const t=e[mo];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=I_(e,t.scope_.immer_.useStrictShallowCopy_)}else n=I_(e,!0);return ry(n,(r,i)=>{RO(n,r,OO(i))}),t&&(t.finalized_=!1),n}var go=new VU,En=go.produce;go.produceWithPatches.bind(go);go.setAutoFreeze.bind(go);go.setUseStrictShallowCopy.bind(go);go.applyPatches.bind(go);go.createDraft.bind(go);go.finishDraft.bind(go);const KU={process:(e,t)=>{const n=e.getCharacter(),r=e.getParam(t.id,"input"),i=En(n,o=>IS(o,"data/".concat(t.data.path),r));return e.setCharacter(i),e.getConnectingNodeForHandle(t,"next","output")}},YU={process:(e,t)=>{const n=e.getParam(t.id,"base"),r=e.getParam(t.id,"newItem"),o=n.findIndex(s=>s.name===r.name)===-1?n.concat([r]):n.concat([]);return e.setParam(t.id,"output",o),e.getConnectingNodeForHandle(t,"next","output")}},GU={process:(e,t)=>{const n=e.getParam(t.id,"base"),r=e.getParam(t.id,"name"),i=n.findIndex(s=>s.name===r);let o=n.concat();return i!==-1&&o.splice(i,1),e.setParam(t.id,"output",o),e.getConnectingNodeForHandle(t,"next","output")}},XU={process:(e,t)=>{const n=e.getParam(t.id,"base"),r=e.getParam(t.id,"newItem"),i=e.getParam(t.id,"name"),o=n.findIndex(a=>a.name===i);let s=n.concat();return o!==-1&&(s[o]=r),e.setParam(t.id,"output",s),e.getConnectingNodeForHandle(t,"next","output")}},JU={init:(e,t)=>{const n=e.nodeState.get(t.id);n.set("currentIndex",0),n.set("maxIndex",e.getParam(t.id,"input").length-1),n.set("newArray",[]),e.setParam(t.id,"filterd",[])},process:(e,t)=>{const n=e.nodeState.get(t.id),r=n.get("currentIndex"),i=e.getParam(t.id,"input");if(r!==0&&e.getParam(t.id,"filtered?")){const s=[...n.get("newArray"),i[r-1]];n.set("newArray",s),e.setParam(t.id,"filterd",s)}return r>n.get("maxIndex")?e.getConnectingNodeForHandle(t,"completed","output"):(e.setParam(t.id,"output",i[r]),n.set("currentIndex",r+1),e.getConnectingNodeForHandle(t,"loop","output"))}},QU={init:(e,t)=>{const n=e.nodeState.get(t.id);n.set("currentIndex",0),n.set("maxIndex",e.getParam(t.id,"input").length-1),n.set("newArray",[]),e.setParam(t.id,"filterd",[])},process:(e,t)=>{const n=e.nodeState.get(t.id),r=n.get("currentIndex"),i=e.getParam(t.id,"input");if(r!==0){const o=e.getParam(t.id,"newitem");if(o){const s=[...n.get("newArray"),o];n.set("newArray",s),e.setParam(t.id,"filterd",s)}}return r>n.get("maxIndex")?e.getConnectingNodeForHandle(t,"completed","output"):(e.setParam(t.id,"output",i[r]),n.set("currentIndex",r+1),e.getConnectingNodeForHandle(t,"loop","output"))}},ZU={process:(e,t)=>{const n=e.getParam(t.id,"base")||[],r=e.getParam(t.id,"name")||"",i=n.findIndex(o=>o.name===r);return e.setParam(t.id,"output",n[i]),e.getConnectingNodeForHandle(t,"next","output")}},eV={process:(e,t)=>{const n=e.getParam(t.id,"input");for(let r in n){const i=n[r];e.setParam(t.id,r,i)}return e.getConnectingNodeForHandle(t,"next","output")}},tV={process:(e,t)=>{const{value:n}=t.data;return e.setParam(t.id,"output",n),e.getConnectingNodeForHandle(t,"next","output")}},nV={process:(e,t)=>{const n=e.getParam(t.id,"string1"),r=e.getParam(t.id,"string2");return e.setParam(t.id,"output",n.includes(r)),e.getConnectingNodeForHandle(t,"next","output")}},rV={process:(e,t)=>{const n=e.getParam(t.id,"string1"),r=e.getParam(t.id,"string2");return e.setParam(t.id,"output",n===r),e.getConnectingNodeForHandle(t,"next","output")}},iV={process:(e,t)=>{const n=e.getParam(t.id,"string1"),r=e.getParam(t.id,"string2");return e.setParam(t.id,"output",n+r),e.getConnectingNodeForHandle(t,"next","output")}},oV={process:(e,t)=>{const n=e.getParam(t.id,"input");return e.setParam(t.id,"output",n.toString()),e.getConnectingNodeForHandle(t,"next","output")}};function Mr(e=[],t){const n=[];return n.push({id:"1",type:"entry",data:{params:e},position:{x:100,y:100}}),t&&n.push({id:"2",type:"output",data:{param:t},position:{x:250,y:100}}),n}function is(e=[],t=[],n){const r=e.findIndex(o=>o.type==="entry");if(r===-1||(e[r].data.params=t,!n))return e;const i=e.findIndex(o=>o.type==="output");return i===-1||(e[i].data.param=n),e}function sV(e){switch(e){case"get_system_data":return{path:"",type:"unknown"};case"get_page_data":return{path:"",type:"unknown"};case"get_character_data":return{path:"",type:"unknown"};case"set_system_data":return{path:"",type:"unknown"};case"set_page_data":return{path:"",type:"unknown"};case"set_character_data":return{path:"",type:"unknown"};case"open_modal":return{type:"edit_object",title:"edit object",inputType:""};case"create_data_from_type":return{spreadType:{name:"",properties:[]}};case"spread_object":return{inputType:"unknown"};case"add_to_array":return{inputType:"unknown"};case"array_remove":return{inputType:"unknown"};case"array_update":return{inputType:"unknown"};case"array_get":return{inputType:"unknown"};case"filter":return{inputType:"unknown"};case"map":return{inputType:"unknown"};case"string_new":return{value:""};case"string_includes":return{string1:"",string2:""};case"string_compare":return{string1:"",string2:""};case"string_concat":return{string1:"",string2:""};case"number_to_string":return{number:0};case"new_number":return{value:0};case"add":return{number1:0,number2:0};case"subtract":return{number1:0,number2:0};case"divide":return{number1:0,number2:0};case"multiply":return{number1:0,number2:0};case"floor":return{number:0};case"new_enum":return{value:""};case"enum_compare":return{input:""};case"boolean_new":return{value:!1};case"boolean_branch":return{boolean:!1};case"boolean_inverse":return{};case"blueprint_run":return{params:[],returnType:"none",inputs:{},outputs:{}};default:return null}}function Nd(e,t){if(typeof t=="string")return yp(e,{type:t,isArray:!1,options:[],isOutputAnArray:!1,inputs:[],outputType:"none"});let n={_type:{...t}};for(let r=0;r<t.properties.length;r++){const i=t.properties[r];let o=i.typeData;n[i.key]=yp(e,o)}return n}function yp(e,t){if(t.isArray)return[];switch(t.type){case"string":return"Lorem Ipsum";case"number":return 1;case"boolean":return!1;case"enum":return t.options?[t.options[0]]:["undefined options"];case"blueprint":return{nodes:Mr(t.inputs,t.outputType!=="none"?{name:"output",type:t.outputType||"none",isArray:t.isOutputAnArray||!1}:void 0),edges:[]};default:const n=e.find(r=>r.name===t.type);return n?Nd(e,n):"Type ".concat(t.type," not found.")}}const aV={process:(e,t)=>{const n=t.data.spreadType;let r={_type:n};for(let i=0;i<n.properties.length;i++){const o=n.properties[i];let s=e.getParam(t.id,o.key);s===void 0&&(s=yp(e.getSystem().types,o.typeData)),r[o.key]=s}return e.setParam(t.id,"output",r),e.getConnectingNodeForHandle(t,"next","output")}},lV={process:(e,t)=>{const{value:n}=t.data;return e.setParam(t.id,"output",n),e.getConnectingNodeForHandle(t,"next","output")}},cV={process:(e,t)=>{const n=e.getParam(t.id,"enum1"),r=e.getParam(t.id,"enum2");return e.setParam(t.id,"output",n===r),e.getConnectingNodeForHandle(t,"next","output")}},uV={process:(e,t)=>{const{value:n}=t.data;return e.setParam(t.id,"output",n),e.getConnectingNodeForHandle(t,"next","output")}},dV={process:(e,t)=>{const n=e.getParam(t.id,"number1"),r=e.getParam(t.id,"number2");return e.setParam(t.id,"output",n/r),e.getConnectingNodeForHandle(t,"next","output")}},fV={process:(e,t)=>{const n=e.getParam(t.id,"number1"),r=e.getParam(t.id,"number2");return e.setParam(t.id,"output",n-r),e.getConnectingNodeForHandle(t,"next","output")}},hV={process:(e,t)=>{const n=e.getParam(t.id,"input");return e.setParam(t.id,"output",Math.floor(n)),e.getConnectingNodeForHandle(t,"next","output")}},pV={process:(e,t)=>{const n=e.getParam(t.id,"number1"),r=e.getParam(t.id,"number2");return e.setParam(t.id,"output",n+r),e.getConnectingNodeForHandle(t,"next","output")}},mV={process:(e,t)=>{const n=e.getParam(t.id,"number1"),r=e.getParam(t.id,"number2");return e.setParam(t.id,"output",n*r),e.getConnectingNodeForHandle(t,"next","output")}},gV={process:(e,t)=>{const{value:n}=t.data;return e.setParam(t.id,"output",n),e.getConnectingNodeForHandle(t,"next","output")}},vV={process:(e,t)=>e.getParam(t.id,"input")?e.getConnectingNodeForHandle(t,"true","output"):e.getConnectingNodeForHandle(t,"false","output")},yV={process:(e,t)=>{const n=e.getParam(t.id,"input");return e.setParam(t.id,"output",!n),e.getConnectingNodeForHandle(t,"next","output")}},nf=()=>d.jsx("div",{className:"h-px w-full bg-neutral-200 dark:bg-neutral-700"}),MS=({id:e,label:t,value:n,onChange:r})=>d.jsxs("div",{children:[d.jsx("label",{htmlFor:e,className:"block mb-2 text-sm font-medium text-fantasy-text",children:t}),d.jsx("textarea",{id:e,rows:4,value:n,onChange:i=>r(i.target.value),className:"block p-2.5 w-full text-sm placeholder-fantasy-text-muted text-fantasy-text bg-fantasy-dark rounded-lg border border-fantasy-border focus:ring-fantasy-accent focus:border-fantasy-accent"})]}),vr=({id:e,label:t,checked:n,onChange:r})=>d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{id:e,type:"checkbox",checked:n,onChange:()=>r(!n),className:"w-4 h-4 rounded focus:ring-2 focus:ring-fantasy-accent ring-offset-fantasy-text-muted border-fantasy-border"}),d.jsx("label",{htmlFor:e,className:"ms-2 text-sm font-medium text-fantasy-text",children:t})]});function Cr(e){if(typeof e=="string"||typeof e=="number")return""+e;let t="";if(Array.isArray(e))for(let n=0,r;n<e.length;n++)(r=Cr(e[n]))!==""&&(t+=(t&&" ")+r);else for(let n in e)e[n]&&(t+=(t&&" ")+n);return t}var xV={value:()=>{}};function H0(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ov(n)}function ov(e){this._=e}function wV(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ov.prototype=H0.prototype={constructor:ov,on:function(e,t){var n=this._,r=wV(e+"",n),i,o=-1,s=r.length;if(arguments.length<2){for(;++o<s;)if((i=(e=r[o]).type)&&(i=bV(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<s;)if(i=(e=r[o]).type)n[i]=NN(n[i],e.name,t);else if(t==null)for(i in n)n[i]=NN(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ov(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function bV(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function NN(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=xV,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var D_="http://www.w3.org/1999/xhtml";const AN={svg:"http://www.w3.org/2000/svg",xhtml:D_,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function W0(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),AN.hasOwnProperty(t)?{space:AN[t],local:e}:e}function _V(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===D_&&t.documentElement.namespaceURI===D_?t.createElement(e):t.createElementNS(n,e)}}function kV(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function MO(e){var t=W0(e);return(t.local?kV:_V)(t)}function SV(){}function $S(e){return e==null?SV:function(){return this.querySelector(e)}}function EV(e){typeof e!="function"&&(e=$S(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=new Array(s),l,c,u=0;u<s;++u)(l=o[u])&&(c=e.call(l,l.__data__,u,o))&&("__data__"in l&&(c.__data__=l.__data__),a[u]=c);return new vo(r,this._parents)}function CV(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function jV(){return[]}function $O(e){return e==null?jV:function(){return this.querySelectorAll(e)}}function NV(e){return function(){return CV(e.apply(this,arguments))}}function AV(e){typeof e=="function"?e=NV(e):e=$O(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var s=t[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&(r.push(e.call(l,l.__data__,c,s)),i.push(l));return new vo(r,i)}function DO(e){return function(){return this.matches(e)}}function FO(e){return function(t){return t.matches(e)}}var TV=Array.prototype.find;function RV(e){return function(){return TV.call(this.children,e)}}function IV(){return this.firstElementChild}function PV(e){return this.select(e==null?IV:RV(typeof e=="function"?e:FO(e)))}var OV=Array.prototype.filter;function MV(){return Array.from(this.children)}function $V(e){return function(){return OV.call(this.children,e)}}function DV(e){return this.selectAll(e==null?MV:$V(typeof e=="function"?e:FO(e)))}function FV(e){typeof e!="function"&&(e=DO(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new vo(r,this._parents)}function LO(e){return new Array(e.length)}function LV(){return new vo(this._enter||this._groups.map(LO),this._parents)}function sy(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}sy.prototype={constructor:sy,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function BV(e){return function(){return e}}function zV(e,t,n,r,i,o){for(var s=0,a,l=t.length,c=o.length;s<c;++s)(a=t[s])?(a.__data__=o[s],r[s]=a):n[s]=new sy(e,o[s]);for(;s<l;++s)(a=t[s])&&(i[s]=a)}function HV(e,t,n,r,i,o,s){var a,l,c=new Map,u=t.length,f=o.length,h=new Array(u),p;for(a=0;a<u;++a)(l=t[a])&&(h[a]=p=s.call(l,l.__data__,a,t)+"",c.has(p)?i[a]=l:c.set(p,l));for(a=0;a<f;++a)p=s.call(e,o[a],a,o)+"",(l=c.get(p))?(r[a]=l,l.__data__=o[a],c.delete(p)):n[a]=new sy(e,o[a]);for(a=0;a<u;++a)(l=t[a])&&c.get(h[a])===l&&(i[a]=l)}function WV(e){return e.__data__}function UV(e,t){if(!arguments.length)return Array.from(this,WV);var n=t?HV:zV,r=this._parents,i=this._groups;typeof e!="function"&&(e=BV(e));for(var o=i.length,s=new Array(o),a=new Array(o),l=new Array(o),c=0;c<o;++c){var u=r[c],f=i[c],h=f.length,p=VV(e.call(u,u&&u.__data__,c,r)),v=p.length,g=a[c]=new Array(v),b=s[c]=new Array(v),m=l[c]=new Array(h);n(u,f,g,b,m,p,t);for(var y=0,x=0,k,S;y<v;++y)if(k=g[y]){for(y>=x&&(x=y+1);!(S=b[x])&&++x<v;);k._next=S||null}}return s=new vo(s,r),s._enter=a,s._exit=l,s}function VV(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function qV(){return new vo(this._exit||this._groups.map(LO),this._parents)}function KV(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function YV(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,s=Math.min(i,o),a=new Array(i),l=0;l<s;++l)for(var c=n[l],u=r[l],f=c.length,h=a[l]=new Array(f),p,v=0;v<f;++v)(p=c[v]||u[v])&&(h[v]=p);for(;l<i;++l)a[l]=n[l];return new vo(a,this._parents)}function GV(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],s;--i>=0;)(s=r[i])&&(o&&s.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(s,o),o=s);return this}function XV(e){e||(e=JV);function t(f,h){return f&&h?e(f.__data__,h.__data__):!f-!h}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var s=n[o],a=s.length,l=i[o]=new Array(a),c,u=0;u<a;++u)(c=s[u])&&(l[u]=c);l.sort(t)}return new vo(i,this._parents).order()}function JV(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function QV(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ZV(){return Array.from(this)}function eq(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var s=r[i];if(s)return s}return null}function tq(){let e=0;for(const t of this)++e;return e}function nq(){return!this.node()}function rq(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,s=i.length,a;o<s;++o)(a=i[o])&&e.call(a,a.__data__,o,i);return this}function iq(e){return function(){this.removeAttribute(e)}}function oq(e){return function(){this.removeAttributeNS(e.space,e.local)}}function sq(e,t){return function(){this.setAttribute(e,t)}}function aq(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function lq(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function cq(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function uq(e,t){var n=W0(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?oq:iq:typeof t=="function"?n.local?cq:lq:n.local?aq:sq)(n,t))}function BO(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function dq(e){return function(){this.style.removeProperty(e)}}function fq(e,t,n){return function(){this.style.setProperty(e,t,n)}}function hq(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function pq(e,t,n){return arguments.length>1?this.each((t==null?dq:typeof t=="function"?hq:fq)(e,t,n==null?"":n)):Ad(this.node(),e)}function Ad(e,t){return e.style.getPropertyValue(t)||BO(e).getComputedStyle(e,null).getPropertyValue(t)}function mq(e){return function(){delete this[e]}}function gq(e,t){return function(){this[e]=t}}function vq(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function yq(e,t){return arguments.length>1?this.each((t==null?mq:typeof t=="function"?vq:gq)(e,t)):this.node()[e]}function zO(e){return e.trim().split(/^|\s+/)}function DS(e){return e.classList||new HO(e)}function HO(e){this._node=e,this._names=zO(e.getAttribute("class")||"")}HO.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function WO(e,t){for(var n=DS(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function UO(e,t){for(var n=DS(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function xq(e){return function(){WO(this,e)}}function wq(e){return function(){UO(this,e)}}function bq(e,t){return function(){(t.apply(this,arguments)?WO:UO)(this,e)}}function _q(e,t){var n=zO(e+"");if(arguments.length<2){for(var r=DS(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?bq:t?xq:wq)(n,t))}function kq(){this.textContent=""}function Sq(e){return function(){this.textContent=e}}function Eq(e){return function(){var t=e.apply(this,arguments);this.textContent=t==null?"":t}}function Cq(e){return arguments.length?this.each(e==null?kq:(typeof e=="function"?Eq:Sq)(e)):this.node().textContent}function jq(){this.innerHTML=""}function Nq(e){return function(){this.innerHTML=e}}function Aq(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t==null?"":t}}function Tq(e){return arguments.length?this.each(e==null?jq:(typeof e=="function"?Aq:Nq)(e)):this.node().innerHTML}function Rq(){this.nextSibling&&this.parentNode.appendChild(this)}function Iq(){return this.each(Rq)}function Pq(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Oq(){return this.each(Pq)}function Mq(e){var t=typeof e=="function"?e:MO(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function $q(){return null}function Dq(e,t){var n=typeof e=="function"?e:MO(e),r=t==null?$q:typeof t=="function"?t:$S(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Fq(){var e=this.parentNode;e&&e.removeChild(this)}function Lq(){return this.each(Fq)}function Bq(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function zq(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Hq(e){return this.select(e?zq:Bq)}function Wq(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Uq(e){return function(t){e.call(this,t,this.__data__)}}function Vq(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function qq(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function Kq(e,t,n){return function(){var r=this.__on,i,o=Uq(t);if(r){for(var s=0,a=r.length;s<a;++s)if((i=r[s]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function Yq(e,t,n){var r=Vq(e+""),i,o=r.length,s;if(arguments.length<2){var a=this.node().__on;if(a){for(var l=0,c=a.length,u;l<c;++l)for(i=0,u=a[l];i<o;++i)if((s=r[i]).type===u.type&&s.name===u.name)return u.value}return}for(a=t?Kq:qq,i=0;i<o;++i)this.each(a(r[i],t,n));return this}function VO(e,t,n){var r=BO(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Gq(e,t){return function(){return VO(this,e,t)}}function Xq(e,t){return function(){return VO(this,e,t.apply(this,arguments))}}function Jq(e,t){return this.each((typeof t=="function"?Xq:Gq)(e,t))}function*Qq(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,s;i<o;++i)(s=r[i])&&(yield s)}var qO=[null];function vo(e,t){this._groups=e,this._parents=t}function om(){return new vo([[document.documentElement]],qO)}function Zq(){return this}vo.prototype=om.prototype={constructor:vo,select:EV,selectAll:AV,selectChild:PV,selectChildren:DV,filter:FV,data:UV,enter:LV,exit:qV,join:KV,merge:YV,selection:Zq,order:GV,sort:XV,call:QV,nodes:ZV,node:eq,size:tq,empty:nq,each:rq,attr:uq,style:pq,property:yq,classed:_q,text:Cq,html:Tq,raise:Iq,lower:Oq,append:Mq,insert:Dq,remove:Lq,clone:Hq,datum:Wq,on:Yq,dispatch:Jq,[Symbol.iterator]:Qq};function io(e){return typeof e=="string"?new vo([[document.querySelector(e)]],[document.documentElement]):new vo([[e]],qO)}function eK(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Jo(e,t){if(e=eK(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const tK={passive:!1},xp={capture:!0,passive:!1};function Ww(e){e.stopImmediatePropagation()}function sd(e){e.preventDefault(),e.stopImmediatePropagation()}function KO(e){var t=e.document.documentElement,n=io(e).on("dragstart.drag",sd,xp);"onselectstart"in t?n.on("selectstart.drag",sd,xp):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function YO(e,t){var n=e.document.documentElement,r=io(e).on("dragstart.drag",null);t&&(r.on("click.drag",sd,xp),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const ng=e=>()=>e;function F_(e,{sourceEvent:t,subject:n,target:r,identifier:i,active:o,x:s,y:a,dx:l,dy:c,dispatch:u}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:l,enumerable:!0,configurable:!0},dy:{value:c,enumerable:!0,configurable:!0},_:{value:u}})}F_.prototype.on=function(){var e=this._.on.apply(this._,arguments);return e===this._?this:e};function nK(e){return!e.ctrlKey&&!e.button}function rK(){return this.parentNode}function iK(e,t){return t==null?{x:e.x,y:e.y}:t}function oK(){return navigator.maxTouchPoints||"ontouchstart"in this}function GO(){var e=nK,t=rK,n=iK,r=oK,i={},o=H0("start","drag","end"),s=0,a,l,c,u,f=0;function h(k){k.on("mousedown.drag",p).filter(r).on("touchstart.drag",b).on("touchmove.drag",m,tK).on("touchend.drag touchcancel.drag",y).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(k,S){if(!(u||!e.call(this,k,S))){var E=x(this,t.call(this,k,S),k,S,"mouse");E&&(io(k.view).on("mousemove.drag",v,xp).on("mouseup.drag",g,xp),KO(k.view),Ww(k),c=!1,a=k.clientX,l=k.clientY,E("start",k))}}function v(k){if(sd(k),!c){var S=k.clientX-a,E=k.clientY-l;c=S*S+E*E>f}i.mouse("drag",k)}function g(k){io(k.view).on("mousemove.drag mouseup.drag",null),YO(k.view,c),sd(k),i.mouse("end",k)}function b(k,S){if(e.call(this,k,S)){var E=k.changedTouches,T=t.call(this,k,S),M=E.length,W,F;for(W=0;W<M;++W)(F=x(this,T,k,S,E[W].identifier,E[W]))&&(Ww(k),F("start",k,E[W]))}}function m(k){var S=k.changedTouches,E=S.length,T,M;for(T=0;T<E;++T)(M=i[S[T].identifier])&&(sd(k),M("drag",k,S[T]))}function y(k){var S=k.changedTouches,E=S.length,T,M;for(u&&clearTimeout(u),u=setTimeout(function(){u=null},500),T=0;T<E;++T)(M=i[S[T].identifier])&&(Ww(k),M("end",k,S[T]))}function x(k,S,E,T,M,W){var F=o.copy(),L=Jo(W||E,S),G,z,H;if((H=n.call(k,new F_("beforestart",{sourceEvent:E,target:h,identifier:M,active:s,x:L[0],y:L[1],dx:0,dy:0,dispatch:F}),T))!=null)return G=H.x-L[0]||0,z=H.y-L[1]||0,function J(I,U,O){var D=L,$;switch(I){case"start":i[M]=J,$=s++;break;case"end":delete i[M],--s;case"drag":L=Jo(O||U,S),$=s;break}F.call(I,k,new F_(I,{sourceEvent:U,subject:H,target:h,identifier:M,active:$,x:L[0]+G,y:L[1]+z,dx:L[0]-D[0],dy:L[1]-D[1],dispatch:F}),T)}}return h.filter=function(k){return arguments.length?(e=typeof k=="function"?k:ng(!!k),h):e},h.container=function(k){return arguments.length?(t=typeof k=="function"?k:ng(k),h):t},h.subject=function(k){return arguments.length?(n=typeof k=="function"?k:ng(k),h):n},h.touchable=function(k){return arguments.length?(r=typeof k=="function"?k:ng(!!k),h):r},h.on=function(){var k=o.on.apply(o,arguments);return k===o?h:k},h.clickDistance=function(k){return arguments.length?(f=(k=+k)*k,h):Math.sqrt(f)},h}function FS(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function XO(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function sm(){}var wp=.7,ay=1/wp,ad="\\s*([+-]?\\d+)\\s*",bp="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ws="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",sK=/^#([0-9a-f]{3,8})$/,aK=new RegExp("^rgb\\(".concat(ad,",").concat(ad,",").concat(ad,"\\)$")),lK=new RegExp("^rgb\\(".concat(Ws,",").concat(Ws,",").concat(Ws,"\\)$")),cK=new RegExp("^rgba\\(".concat(ad,",").concat(ad,",").concat(ad,",").concat(bp,"\\)$")),uK=new RegExp("^rgba\\(".concat(Ws,",").concat(Ws,",").concat(Ws,",").concat(bp,"\\)$")),dK=new RegExp("^hsl\\(".concat(bp,",").concat(Ws,",").concat(Ws,"\\)$")),fK=new RegExp("^hsla\\(".concat(bp,",").concat(Ws,",").concat(Ws,",").concat(bp,"\\)$")),TN={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};FS(sm,_p,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:RN,formatHex:RN,formatHex8:hK,formatHsl:pK,formatRgb:IN,toString:IN});function RN(){return this.rgb().formatHex()}function hK(){return this.rgb().formatHex8()}function pK(){return JO(this).formatHsl()}function IN(){return this.rgb().formatRgb()}function _p(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=sK.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?PN(t):n===3?new Hi(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?rg(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?rg(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=aK.exec(e))?new Hi(t[1],t[2],t[3],1):(t=lK.exec(e))?new Hi(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=cK.exec(e))?rg(t[1],t[2],t[3],t[4]):(t=uK.exec(e))?rg(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=dK.exec(e))?$N(t[1],t[2]/100,t[3]/100,1):(t=fK.exec(e))?$N(t[1],t[2]/100,t[3]/100,t[4]):TN.hasOwnProperty(e)?PN(TN[e]):e==="transparent"?new Hi(NaN,NaN,NaN,0):null}function PN(e){return new Hi(e>>16&255,e>>8&255,e&255,1)}function rg(e,t,n,r){return r<=0&&(e=t=n=NaN),new Hi(e,t,n,r)}function mK(e){return e instanceof sm||(e=_p(e)),e?(e=e.rgb(),new Hi(e.r,e.g,e.b,e.opacity)):new Hi}function L_(e,t,n,r){return arguments.length===1?mK(e):new Hi(e,t,n,r==null?1:r)}function Hi(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}FS(Hi,L_,XO(sm,{brighter(e){return e=e==null?ay:Math.pow(ay,e),new Hi(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wp:Math.pow(wp,e),new Hi(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Hi(Pc(this.r),Pc(this.g),Pc(this.b),ly(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ON,formatHex:ON,formatHex8:gK,formatRgb:MN,toString:MN}));function ON(){return"#".concat(Sc(this.r)).concat(Sc(this.g)).concat(Sc(this.b))}function gK(){return"#".concat(Sc(this.r)).concat(Sc(this.g)).concat(Sc(this.b)).concat(Sc((isNaN(this.opacity)?1:this.opacity)*255))}function MN(){const e=ly(this.opacity);return"".concat(e===1?"rgb(":"rgba(").concat(Pc(this.r),", ").concat(Pc(this.g),", ").concat(Pc(this.b)).concat(e===1?")":", ".concat(e,")"))}function ly(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pc(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Sc(e){return e=Pc(e),(e<16?"0":"")+e.toString(16)}function $N(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new es(e,t,n,r)}function JO(e){if(e instanceof es)return new es(e.h,e.s,e.l,e.opacity);if(e instanceof sm||(e=_p(e)),!e)return new es;if(e instanceof es)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(t===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-t)/a+2:s=(t-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new es(s,a,l,e.opacity)}function vK(e,t,n,r){return arguments.length===1?JO(e):new es(e,t,n,r==null?1:r)}function es(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}FS(es,vK,XO(sm,{brighter(e){return e=e==null?ay:Math.pow(ay,e),new es(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wp:Math.pow(wp,e),new es(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Hi(Uw(e>=240?e-240:e+120,i,r),Uw(e,i,r),Uw(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new es(DN(this.h),ig(this.s),ig(this.l),ly(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ly(this.opacity);return"".concat(e===1?"hsl(":"hsla(").concat(DN(this.h),", ").concat(ig(this.s)*100,"%, ").concat(ig(this.l)*100,"%").concat(e===1?")":", ".concat(e,")"))}}));function DN(e){return e=(e||0)%360,e<0?e+360:e}function ig(e){return Math.max(0,Math.min(1,e||0))}function Uw(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const QO=e=>()=>e;function yK(e,t){return function(n){return e+n*t}}function xK(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function wK(e){return(e=+e)==1?ZO:function(t,n){return n-t?xK(t,n,e):QO(isNaN(t)?n:t)}}function ZO(e,t){var n=t-e;return n?yK(e,n):QO(isNaN(e)?t:e)}const FN=function e(t){var n=wK(t);function r(i,o){var s=n((i=L_(i)).r,(o=L_(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),c=ZO(i.opacity,o.opacity);return function(u){return i.r=s(u),i.g=a(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=e,r}(1);function fl(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}var B_=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Vw=new RegExp(B_.source,"g");function bK(e){return function(){return e}}function _K(e){return function(t){return e(t)+""}}function kK(e,t){var n=B_.lastIndex=Vw.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(e=e+"",t=t+"";(r=B_.exec(e))&&(i=Vw.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:fl(r,i)})),n=Vw.lastIndex;return n<t.length&&(o=t.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?_K(l[0].x):bK(t):(t=l.length,function(c){for(var u=0,f;u<t;++u)a[(f=l[u]).i]=f.x(c);return a.join("")})}var LN=180/Math.PI,z_={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function eM(e,t,n,r,i,o){var s,a,l;return(s=Math.sqrt(e*e+t*t))&&(e/=s,t/=s),(l=e*n+t*r)&&(n-=e*l,r-=t*l),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,l/=a),e*r<t*n&&(e=-e,t=-t,l=-l,s=-s),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*LN,skewX:Math.atan(l)*LN,scaleX:s,scaleY:a}}var og;function SK(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?z_:eM(t.a,t.b,t.c,t.d,t.e,t.f)}function EK(e){return e==null||(og||(og=document.createElementNS("http://www.w3.org/2000/svg","g")),og.setAttribute("transform",e),!(e=og.transform.baseVal.consolidate()))?z_:(e=e.matrix,eM(e.a,e.b,e.c,e.d,e.e,e.f))}function tM(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,u,f,h,p,v){if(c!==f||u!==h){var g=p.push("translate(",null,t,null,n);v.push({i:g-4,x:fl(c,f)},{i:g-2,x:fl(u,h)})}else(f||h)&&p.push("translate("+f+t+h+n)}function s(c,u,f,h){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),h.push({i:f.push(i(f)+"rotate(",null,r)-2,x:fl(c,u)})):u&&f.push(i(f)+"rotate("+u+r)}function a(c,u,f,h){c!==u?h.push({i:f.push(i(f)+"skewX(",null,r)-2,x:fl(c,u)}):u&&f.push(i(f)+"skewX("+u+r)}function l(c,u,f,h,p,v){if(c!==f||u!==h){var g=p.push(i(p)+"scale(",null,",",null,")");v.push({i:g-4,x:fl(c,f)},{i:g-2,x:fl(u,h)})}else(f!==1||h!==1)&&p.push(i(p)+"scale("+f+","+h+")")}return function(c,u){var f=[],h=[];return c=e(c),u=e(u),o(c.translateX,c.translateY,u.translateX,u.translateY,f,h),s(c.rotate,u.rotate,f,h),a(c.skewX,u.skewX,f,h),l(c.scaleX,c.scaleY,u.scaleX,u.scaleY,f,h),c=u=null,function(p){for(var v=-1,g=h.length,b;++v<g;)f[(b=h[v]).i]=b.x(p);return f.join("")}}}var CK=tM(SK,"px, ","px)","deg)"),jK=tM(EK,", ",")",")"),NK=1e-12;function BN(e){return((e=Math.exp(e))+1/e)/2}function AK(e){return((e=Math.exp(e))-1/e)/2}function TK(e){return((e=Math.exp(2*e))-1)/(e+1)}const RK=function e(t,n,r){function i(o,s){var a=o[0],l=o[1],c=o[2],u=s[0],f=s[1],h=s[2],p=u-a,v=f-l,g=p*p+v*v,b,m;if(g<NK)m=Math.log(h/c)/t,b=function(T){return[a+T*p,l+T*v,c*Math.exp(t*T*m)]};else{var y=Math.sqrt(g),x=(h*h-c*c+r*g)/(2*c*n*y),k=(h*h-c*c-r*g)/(2*h*n*y),S=Math.log(Math.sqrt(x*x+1)-x),E=Math.log(Math.sqrt(k*k+1)-k);m=(E-S)/t,b=function(T){var M=T*m,W=BN(S),F=c/(n*y)*(W*TK(t*M+S)-AK(S));return[a+F*p,l+F*v,c*W/BN(t*M+S)]}}return b.duration=m*1e3*t/Math.SQRT2,b}return i.rho=function(o){var s=Math.max(.001,+o),a=s*s,l=a*a;return e(s,a,l)},i}(Math.SQRT2,2,4);var Td=0,ih=0,$f=0,nM=1e3,cy,oh,uy=0,Kc=0,U0=0,kp=typeof performance=="object"&&performance.now?performance:Date,rM=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function LS(){return Kc||(rM(IK),Kc=kp.now()+U0)}function IK(){Kc=0}function dy(){this._call=this._time=this._next=null}dy.prototype=iM.prototype={constructor:dy,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?LS():+n)+(t==null?0:+t),!this._next&&oh!==this&&(oh?oh._next=this:cy=this,oh=this),this._call=e,this._time=n,H_()},stop:function(){this._call&&(this._call=null,this._time=1/0,H_())}};function iM(e,t,n){var r=new dy;return r.restart(e,t,n),r}function PK(){LS(),++Td;for(var e=cy,t;e;)(t=Kc-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Td}function zN(){Kc=(uy=kp.now())+U0,Td=ih=0;try{PK()}finally{Td=0,MK(),Kc=0}}function OK(){var e=kp.now(),t=e-uy;t>nM&&(U0-=t,uy=e)}function MK(){for(var e,t=cy,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:cy=n);oh=e,H_(r)}function H_(e){if(!Td){ih&&(ih=clearTimeout(ih));var t=e-Kc;t>24?(e<1/0&&(ih=setTimeout(zN,e-kp.now()-U0)),$f&&($f=clearInterval($f))):($f||(uy=kp.now(),$f=setInterval(OK,nM)),Td=1,rM(zN))}}function HN(e,t,n){var r=new dy;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var $K=H0("start","end","cancel","interrupt"),DK=[],oM=0,WN=1,W_=2,sv=3,UN=4,U_=5,av=6;function V0(e,t,n,r,i,o){var s=e.__transition;if(!s)e.__transition={};else if(n in s)return;FK(e,n,{name:t,index:r,group:i,on:$K,tween:DK,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:oM})}function BS(e,t){var n=xs(e,t);if(n.state>oM)throw new Error("too late; already scheduled");return n}function ta(e,t){var n=xs(e,t);if(n.state>sv)throw new Error("too late; already running");return n}function xs(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function FK(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=iM(o,0,n.time);function o(c){n.state=WN,n.timer.restart(s,n.delay,n.time),n.delay<=c&&s(c-n.delay)}function s(c){var u,f,h,p;if(n.state!==WN)return l();for(u in r)if(p=r[u],p.name===n.name){if(p.state===sv)return HN(s);p.state===UN?(p.state=av,p.timer.stop(),p.on.call("interrupt",e,e.__data__,p.index,p.group),delete r[u]):+u<t&&(p.state=av,p.timer.stop(),p.on.call("cancel",e,e.__data__,p.index,p.group),delete r[u])}if(HN(function(){n.state===sv&&(n.state=UN,n.timer.restart(a,n.delay,n.time),a(c))}),n.state=W_,n.on.call("start",e,e.__data__,n.index,n.group),n.state===W_){for(n.state=sv,i=new Array(h=n.tween.length),u=0,f=-1;u<h;++u)(p=n.tween[u].value.call(e,e.__data__,n.index,n.group))&&(i[++f]=p);i.length=f+1}}function a(c){for(var u=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(l),n.state=U_,1),f=-1,h=i.length;++f<h;)i[f].call(e,u);n.state===U_&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=av,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function lv(e,t){var n=e.__transition,r,i,o=!0,s;if(n){t=t==null?null:t+"";for(s in n){if((r=n[s]).name!==t){o=!1;continue}i=r.state>W_&&r.state<U_,r.state=av,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[s]}o&&delete e.__transition}}function LK(e){return this.each(function(){lv(this,e)})}function BK(e,t){var n,r;return function(){var i=ta(this,e),o=i.tween;if(o!==n){r=n=o;for(var s=0,a=r.length;s<a;++s)if(r[s].name===t){r=r.slice(),r.splice(s,1);break}}i.tween=r}}function zK(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=ta(this,e),s=o.tween;if(s!==r){i=(r=s).slice();for(var a={name:t,value:n},l=0,c=i.length;l<c;++l)if(i[l].name===t){i[l]=a;break}l===c&&i.push(a)}o.tween=i}}function HK(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=xs(this.node(),n).tween,i=0,o=r.length,s;i<o;++i)if((s=r[i]).name===e)return s.value;return null}return this.each((t==null?BK:zK)(n,e,t))}function zS(e,t,n){var r=e._id;return e.each(function(){var i=ta(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return xs(i,r).value[t]}}function sM(e,t){var n;return(typeof t=="number"?fl:t instanceof _p?FN:(n=_p(t))?(t=n,FN):kK)(e,t)}function WK(e){return function(){this.removeAttribute(e)}}function UK(e){return function(){this.removeAttributeNS(e.space,e.local)}}function VK(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttribute(e);return s===i?null:s===r?o:o=t(r=s,n)}}function qK(e,t,n){var r,i=n+"",o;return function(){var s=this.getAttributeNS(e.space,e.local);return s===i?null:s===r?o:o=t(r=s,n)}}function KK(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttribute(e):(s=this.getAttribute(e),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function YK(e,t,n){var r,i,o;return function(){var s,a=n(this),l;return a==null?void this.removeAttributeNS(e.space,e.local):(s=this.getAttributeNS(e.space,e.local),l=a+"",s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a)))}}function GK(e,t){var n=W0(e),r=n==="transform"?jK:sM;return this.attrTween(e,typeof t=="function"?(n.local?YK:KK)(n,r,zS(this,"attr."+e,t)):t==null?(n.local?UK:WK)(n):(n.local?qK:VK)(n,r,t))}function XK(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function JK(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function QK(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&JK(e,o)),n}return i._value=t,i}function ZK(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&XK(e,o)),n}return i._value=t,i}function eY(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=W0(e);return this.tween(n,(r.local?QK:ZK)(r,t))}function tY(e,t){return function(){BS(this,e).delay=+t.apply(this,arguments)}}function nY(e,t){return t=+t,function(){BS(this,e).delay=t}}function rY(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?tY:nY)(t,e)):xs(this.node(),t).delay}function iY(e,t){return function(){ta(this,e).duration=+t.apply(this,arguments)}}function oY(e,t){return t=+t,function(){ta(this,e).duration=t}}function sY(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?iY:oY)(t,e)):xs(this.node(),t).duration}function aY(e,t){if(typeof t!="function")throw new Error;return function(){ta(this,e).ease=t}}function lY(e){var t=this._id;return arguments.length?this.each(aY(t,e)):xs(this.node(),t).ease}function cY(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;ta(this,e).ease=n}}function uY(e){if(typeof e!="function")throw new Error;return this.each(cY(this._id,e))}function dY(e){typeof e!="function"&&(e=DO(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],s=o.length,a=r[i]=[],l,c=0;c<s;++c)(l=o[c])&&e.call(l,l.__data__,c,o)&&a.push(l);return new za(r,this._parents,this._name,this._id)}function fY(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),s=new Array(r),a=0;a<o;++a)for(var l=t[a],c=n[a],u=l.length,f=s[a]=new Array(u),h,p=0;p<u;++p)(h=l[p]||c[p])&&(f[p]=h);for(;a<r;++a)s[a]=t[a];return new za(s,this._parents,this._name,this._id)}function hY(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function pY(e,t,n){var r,i,o=hY(t)?BS:ta;return function(){var s=o(this,e),a=s.on;a!==r&&(i=(r=a).copy()).on(t,n),s.on=i}}function mY(e,t){var n=this._id;return arguments.length<2?xs(this.node(),n).on.on(e):this.each(pY(n,e,t))}function gY(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function vY(){return this.on("end.remove",gY(this._id))}function yY(e){var t=this._name,n=this._id;typeof e!="function"&&(e=$S(e));for(var r=this._groups,i=r.length,o=new Array(i),s=0;s<i;++s)for(var a=r[s],l=a.length,c=o[s]=new Array(l),u,f,h=0;h<l;++h)(u=a[h])&&(f=e.call(u,u.__data__,h,a))&&("__data__"in u&&(f.__data__=u.__data__),c[h]=f,V0(c[h],t,n,h,c,xs(u,n)));return new za(o,this._parents,t,n)}function xY(e){var t=this._name,n=this._id;typeof e!="function"&&(e=$O(e));for(var r=this._groups,i=r.length,o=[],s=[],a=0;a<i;++a)for(var l=r[a],c=l.length,u,f=0;f<c;++f)if(u=l[f]){for(var h=e.call(u,u.__data__,f,l),p,v=xs(u,n),g=0,b=h.length;g<b;++g)(p=h[g])&&V0(p,t,n,g,h,v);o.push(h),s.push(u)}return new za(o,s,t,n)}var wY=om.prototype.constructor;function bY(){return new wY(this._groups,this._parents)}function _Y(e,t){var n,r,i;return function(){var o=Ad(this,e),s=(this.style.removeProperty(e),Ad(this,e));return o===s?null:o===n&&s===r?i:i=t(n=o,r=s)}}function aM(e){return function(){this.style.removeProperty(e)}}function kY(e,t,n){var r,i=n+"",o;return function(){var s=Ad(this,e);return s===i?null:s===r?o:o=t(r=s,n)}}function SY(e,t,n){var r,i,o;return function(){var s=Ad(this,e),a=n(this),l=a+"";return a==null&&(l=a=(this.style.removeProperty(e),Ad(this,e))),s===l?null:s===r&&l===i?o:(i=l,o=t(r=s,a))}}function EY(e,t){var n,r,i,o="style."+t,s="end."+o,a;return function(){var l=ta(this,e),c=l.on,u=l.value[o]==null?a||(a=aM(t)):void 0;(c!==n||i!==u)&&(r=(n=c).copy()).on(s,i=u),l.on=r}}function CY(e,t,n){var r=(e+="")=="transform"?CK:sM;return t==null?this.styleTween(e,_Y(e,r)).on("end.style."+e,aM(e)):typeof t=="function"?this.styleTween(e,SY(e,r,zS(this,"style."+e,t))).each(EY(this._id,e)):this.styleTween(e,kY(e,r,t),n).on("end.style."+e,null)}function jY(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function NY(e,t,n){var r,i;function o(){var s=t.apply(this,arguments);return s!==i&&(r=(i=s)&&jY(e,s,n)),r}return o._value=t,o}function AY(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,NY(e,t,n==null?"":n))}function TY(e){return function(){this.textContent=e}}function RY(e){return function(){var t=e(this);this.textContent=t==null?"":t}}function IY(e){return this.tween("text",typeof e=="function"?RY(zS(this,"text",e)):TY(e==null?"":e+""))}function PY(e){return function(t){this.textContent=e.call(this,t)}}function OY(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&PY(i)),t}return r._value=e,r}function MY(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,OY(e))}function $Y(){for(var e=this._name,t=this._id,n=lM(),r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)if(l=s[c]){var u=xs(l,t);V0(l,e,n,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new za(r,this._parents,e,n)}function DY(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,s){var a={value:s},l={value:function(){--i===0&&o()}};n.each(function(){var c=ta(this,r),u=c.on;u!==e&&(t=(e=u).copy(),t._.cancel.push(a),t._.interrupt.push(a),t._.end.push(l)),c.on=t}),i===0&&o()})}var FY=0;function za(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function lM(){return++FY}var ca=om.prototype;za.prototype={constructor:za,select:yY,selectAll:xY,selectChild:ca.selectChild,selectChildren:ca.selectChildren,filter:dY,merge:fY,selection:bY,transition:$Y,call:ca.call,nodes:ca.nodes,node:ca.node,size:ca.size,empty:ca.empty,each:ca.each,on:mY,attr:GK,attrTween:eY,style:CY,styleTween:AY,text:IY,textTween:MY,remove:vY,tween:HK,delay:rY,duration:sY,ease:lY,easeVarying:uY,end:DY,[Symbol.iterator]:ca[Symbol.iterator]};function LY(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var BY={time:null,delay:0,duration:250,ease:LY};function zY(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error("transition ".concat(t," not found"));return n}function HY(e){var t,n;e instanceof za?(t=e._id,e=e._name):(t=lM(),(n=BY).time=LS(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var s=r[o],a=s.length,l,c=0;c<a;++c)(l=s[c])&&V0(l,e,t,c,s,n||zY(l,t));return new za(r,this._parents,e,t)}om.prototype.interrupt=LK;om.prototype.transition=HY;const sg=e=>()=>e;function WY(e,{sourceEvent:t,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Ea(e,t,n){this.k=e,this.x=t,this.y=n}Ea.prototype={constructor:Ea,scale:function(e){return e===1?this:new Ea(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Ea(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var q0=new Ea(1,0,0);cM.prototype=Ea.prototype;function cM(e){for(;!e.__zoom;)if(!(e=e.parentNode))return q0;return e.__zoom}function qw(e){e.stopImmediatePropagation()}function Df(e){e.preventDefault(),e.stopImmediatePropagation()}function UY(e){return(!e.ctrlKey||e.type==="wheel")&&!e.button}function VY(){var e=this;return e instanceof SVGElement?(e=e.ownerSVGElement||e,e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]):[[0,0],[e.clientWidth,e.clientHeight]]}function VN(){return this.__zoom||q0}function qY(e){return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*(e.ctrlKey?10:1)}function KY(){return navigator.maxTouchPoints||"ontouchstart"in this}function YY(e,t,n){var r=e.invertX(t[0][0])-n[0][0],i=e.invertX(t[1][0])-n[1][0],o=e.invertY(t[0][1])-n[0][1],s=e.invertY(t[1][1])-n[1][1];return e.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),s>o?(o+s)/2:Math.min(0,o)||Math.max(0,s))}function uM(){var e=UY,t=VY,n=YY,r=qY,i=KY,o=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],a=250,l=RK,c=H0("start","zoom","end"),u,f,h,p=500,v=150,g=0,b=10;function m(H){H.property("__zoom",VN).on("wheel.zoom",M,{passive:!1}).on("mousedown.zoom",W).on("dblclick.zoom",F).filter(i).on("touchstart.zoom",L).on("touchmove.zoom",G).on("touchend.zoom touchcancel.zoom",z).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}m.transform=function(H,J,I,U){var O=H.selection?H.selection():H;O.property("__zoom",VN),H!==O?S(H,J,I,U):O.interrupt().each(function(){E(this,arguments).event(U).start().zoom(null,typeof J=="function"?J.apply(this,arguments):J).end()})},m.scaleBy=function(H,J,I,U){m.scaleTo(H,function(){var O=this.__zoom.k,D=typeof J=="function"?J.apply(this,arguments):J;return O*D},I,U)},m.scaleTo=function(H,J,I,U){m.transform(H,function(){var O=t.apply(this,arguments),D=this.__zoom,$=I==null?k(O):typeof I=="function"?I.apply(this,arguments):I,Y=D.invert($),ie=typeof J=="function"?J.apply(this,arguments):J;return n(x(y(D,ie),$,Y),O,s)},I,U)},m.translateBy=function(H,J,I,U){m.transform(H,function(){return n(this.__zoom.translate(typeof J=="function"?J.apply(this,arguments):J,typeof I=="function"?I.apply(this,arguments):I),t.apply(this,arguments),s)},null,U)},m.translateTo=function(H,J,I,U,O){m.transform(H,function(){var D=t.apply(this,arguments),$=this.__zoom,Y=U==null?k(D):typeof U=="function"?U.apply(this,arguments):U;return n(q0.translate(Y[0],Y[1]).scale($.k).translate(typeof J=="function"?-J.apply(this,arguments):-J,typeof I=="function"?-I.apply(this,arguments):-I),D,s)},U,O)};function y(H,J){return J=Math.max(o[0],Math.min(o[1],J)),J===H.k?H:new Ea(J,H.x,H.y)}function x(H,J,I){var U=J[0]-I[0]*H.k,O=J[1]-I[1]*H.k;return U===H.x&&O===H.y?H:new Ea(H.k,U,O)}function k(H){return[(+H[0][0]+ +H[1][0])/2,(+H[0][1]+ +H[1][1])/2]}function S(H,J,I,U){H.on("start.zoom",function(){E(this,arguments).event(U).start()}).on("interrupt.zoom end.zoom",function(){E(this,arguments).event(U).end()}).tween("zoom",function(){var O=this,D=arguments,$=E(O,D).event(U),Y=t.apply(O,D),ie=I==null?k(Y):typeof I=="function"?I.apply(O,D):I,ae=Math.max(Y[1][0]-Y[0][0],Y[1][1]-Y[0][1]),xe=O.__zoom,ke=typeof J=="function"?J.apply(O,D):J,Ne=l(xe.invert(ie).concat(ae/xe.k),ke.invert(ie).concat(ae/ke.k));return function(V){if(V===1)V=ke;else{var Q=Ne(V),re=ae/Q[2];V=new Ea(re,ie[0]-Q[0]*re,ie[1]-Q[1]*re)}$.zoom(null,V)}})}function E(H,J,I){return!I&&H.__zooming||new T(H,J)}function T(H,J){this.that=H,this.args=J,this.active=0,this.sourceEvent=null,this.extent=t.apply(H,J),this.taps=0}T.prototype={event:function(H){return H&&(this.sourceEvent=H),this},start:function(){return++this.active===1&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(H,J){return this.mouse&&H!=="mouse"&&(this.mouse[1]=J.invert(this.mouse[0])),this.touch0&&H!=="touch"&&(this.touch0[1]=J.invert(this.touch0[0])),this.touch1&&H!=="touch"&&(this.touch1[1]=J.invert(this.touch1[0])),this.that.__zoom=J,this.emit("zoom"),this},end:function(){return--this.active===0&&(delete this.that.__zooming,this.emit("end")),this},emit:function(H){var J=io(this.that).datum();c.call(H,this.that,new WY(H,{sourceEvent:this.sourceEvent,target:m,transform:this.that.__zoom,dispatch:c}),J)}};function M(H,...J){if(!e.apply(this,arguments))return;var I=E(this,J).event(H),U=this.__zoom,O=Math.max(o[0],Math.min(o[1],U.k*Math.pow(2,r.apply(this,arguments)))),D=Jo(H);if(I.wheel)(I.mouse[0][0]!==D[0]||I.mouse[0][1]!==D[1])&&(I.mouse[1]=U.invert(I.mouse[0]=D)),clearTimeout(I.wheel);else{if(U.k===O)return;I.mouse=[D,U.invert(D)],lv(this),I.start()}Df(H),I.wheel=setTimeout($,v),I.zoom("mouse",n(x(y(U,O),I.mouse[0],I.mouse[1]),I.extent,s));function $(){I.wheel=null,I.end()}}function W(H,...J){if(h||!e.apply(this,arguments))return;var I=H.currentTarget,U=E(this,J,!0).event(H),O=io(H.view).on("mousemove.zoom",ie,!0).on("mouseup.zoom",ae,!0),D=Jo(H,I),$=H.clientX,Y=H.clientY;KO(H.view),qw(H),U.mouse=[D,this.__zoom.invert(D)],lv(this),U.start();function ie(xe){if(Df(xe),!U.moved){var ke=xe.clientX-$,Ne=xe.clientY-Y;U.moved=ke*ke+Ne*Ne>g}U.event(xe).zoom("mouse",n(x(U.that.__zoom,U.mouse[0]=Jo(xe,I),U.mouse[1]),U.extent,s))}function ae(xe){O.on("mousemove.zoom mouseup.zoom",null),YO(xe.view,U.moved),Df(xe),U.event(xe).end()}}function F(H,...J){if(e.apply(this,arguments)){var I=this.__zoom,U=Jo(H.changedTouches?H.changedTouches[0]:H,this),O=I.invert(U),D=I.k*(H.shiftKey?.5:2),$=n(x(y(I,D),U,O),t.apply(this,J),s);Df(H),a>0?io(this).transition().duration(a).call(S,$,U,H):io(this).call(m.transform,$,U,H)}}function L(H,...J){if(e.apply(this,arguments)){var I=H.touches,U=I.length,O=E(this,J,H.changedTouches.length===U).event(H),D,$,Y,ie;for(qw(H),$=0;$<U;++$)Y=I[$],ie=Jo(Y,this),ie=[ie,this.__zoom.invert(ie),Y.identifier],O.touch0?!O.touch1&&O.touch0[2]!==ie[2]&&(O.touch1=ie,O.taps=0):(O.touch0=ie,D=!0,O.taps=1+!!u);u&&(u=clearTimeout(u)),D&&(O.taps<2&&(f=ie[0],u=setTimeout(function(){u=null},p)),lv(this),O.start())}}function G(H,...J){if(this.__zooming){var I=E(this,J).event(H),U=H.changedTouches,O=U.length,D,$,Y,ie;for(Df(H),D=0;D<O;++D)$=U[D],Y=Jo($,this),I.touch0&&I.touch0[2]===$.identifier?I.touch0[0]=Y:I.touch1&&I.touch1[2]===$.identifier&&(I.touch1[0]=Y);if($=I.that.__zoom,I.touch1){var ae=I.touch0[0],xe=I.touch0[1],ke=I.touch1[0],Ne=I.touch1[1],V=(V=ke[0]-ae[0])*V+(V=ke[1]-ae[1])*V,Q=(Q=Ne[0]-xe[0])*Q+(Q=Ne[1]-xe[1])*Q;$=y($,Math.sqrt(V/Q)),Y=[(ae[0]+ke[0])/2,(ae[1]+ke[1])/2],ie=[(xe[0]+Ne[0])/2,(xe[1]+Ne[1])/2]}else if(I.touch0)Y=I.touch0[0],ie=I.touch0[1];else return;I.zoom("touch",n(x($,Y,ie),I.extent,s))}}function z(H,...J){if(this.__zooming){var I=E(this,J).event(H),U=H.changedTouches,O=U.length,D,$;for(qw(H),h&&clearTimeout(h),h=setTimeout(function(){h=null},p),D=0;D<O;++D)$=U[D],I.touch0&&I.touch0[2]===$.identifier?delete I.touch0:I.touch1&&I.touch1[2]===$.identifier&&delete I.touch1;if(I.touch1&&!I.touch0&&(I.touch0=I.touch1,delete I.touch1),I.touch0)I.touch0[1]=this.__zoom.invert(I.touch0[0]);else if(I.end(),I.taps===2&&($=Jo($,this),Math.hypot(f[0]-$[0],f[1]-$[1])<b)){var Y=io(this).on("dblclick.zoom");Y&&Y.apply(this,arguments)}}}return m.wheelDelta=function(H){return arguments.length?(r=typeof H=="function"?H:sg(+H),m):r},m.filter=function(H){return arguments.length?(e=typeof H=="function"?H:sg(!!H),m):e},m.touchable=function(H){return arguments.length?(i=typeof H=="function"?H:sg(!!H),m):i},m.extent=function(H){return arguments.length?(t=typeof H=="function"?H:sg([[+H[0][0],+H[0][1]],[+H[1][0],+H[1][1]]]),m):t},m.scaleExtent=function(H){return arguments.length?(o[0]=+H[0],o[1]=+H[1],m):[o[0],o[1]]},m.translateExtent=function(H){return arguments.length?(s[0][0]=+H[0][0],s[1][0]=+H[1][0],s[0][1]=+H[0][1],s[1][1]=+H[1][1],m):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},m.constrain=function(H){return arguments.length?(n=H,m):n},m.duration=function(H){return arguments.length?(a=+H,m):a},m.interpolate=function(H){return arguments.length?(l=H,m):l},m.on=function(){var H=c.on.apply(c,arguments);return H===c?m:H},m.clickDistance=function(H){return arguments.length?(g=(H=+H)*H,m):Math.sqrt(g)},m.tapDistance=function(H){return arguments.length?(b=+H,m):b},m}const hs={error001:()=>"[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001",error002:()=>"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.",error003:e=>'Node type "'.concat(e,'" not found. Using fallback type "default".'),error004:()=>"The React Flow parent container needs a width and a height to render the graph.",error005:()=>"Only child nodes can use a parent extent.",error006:()=>"Can't create edge. An edge needs a source and a target.",error007:e=>"The old edge with id=".concat(e," does not exist."),error009:e=>'Marker type "'.concat(e,"\" doesn't exist."),error008:(e,{id:t,sourceHandle:n,targetHandle:r})=>"Couldn't create edge for ".concat(e,' handle id: "').concat(e==="source"?n:r,'", edge id: ').concat(t,"."),error010:()=>"Handle: No node id found. Make sure to only use a Handle inside a custom Node.",error011:e=>'Edge type "'.concat(e,'" not found. Using fallback type "default".'),error012:e=>'Node with id "'.concat(e,'" does not exist, it may have been removed. This can happen when a node is deleted before the "onNodeClick" handler is called.'),error013:(e="react")=>"It seems that you haven't loaded the styles. Please import '@xyflow/".concat(e,"/dist/style.css' or base.css to make sure everything is working properly."),error014:()=>"useNodeConnections: No node ID found. Call useNodeConnections inside a custom Node or provide a node ID.",error015:()=>"It seems that you are trying to drag a node that is not initialized. Please use onNodesChange as explained in the docs."},Sp=[[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY],[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY]],dM=["Enter"," ","Escape"];var Rd;(function(e){e.Strict="strict",e.Loose="loose"})(Rd||(Rd={}));var Oc;(function(e){e.Free="free",e.Vertical="vertical",e.Horizontal="horizontal"})(Oc||(Oc={}));var Ep;(function(e){e.Partial="partial",e.Full="full"})(Ep||(Ep={}));const fM={inProgress:!1,isValid:null,from:null,fromHandle:null,fromPosition:null,fromNode:null,to:null,toHandle:null,toPosition:null,toNode:null};var gl;(function(e){e.Bezier="default",e.Straight="straight",e.Step="step",e.SmoothStep="smoothstep",e.SimpleBezier="simplebezier"})(gl||(gl={}));var fy;(function(e){e.Arrow="arrow",e.ArrowClosed="arrowclosed"})(fy||(fy={}));var ye;(function(e){e.Left="left",e.Top="top",e.Right="right",e.Bottom="bottom"})(ye||(ye={}));const qN={[ye.Left]:ye.Right,[ye.Right]:ye.Left,[ye.Top]:ye.Bottom,[ye.Bottom]:ye.Top};function GY(e,t){if(!e&&!t)return!0;if(!e||!t||e.size!==t.size)return!1;if(!e.size&&!t.size)return!0;for(const n of e.keys())if(!t.has(n))return!1;return!0}function KN(e,t,n){if(!n)return;const r=[];e.forEach((i,o)=>{t!=null&&t.has(o)||r.push(i)}),r.length&&n(r)}function hM(e){return e===null?null:e?"valid":"invalid"}const pM=e=>"id"in e&&"source"in e&&"target"in e,XY=e=>"id"in e&&"position"in e&&!("source"in e)&&!("target"in e),HS=e=>"id"in e&&"internals"in e&&!("source"in e)&&!("target"in e),am=(e,t=[0,0])=>{var a;const{width:n,height:r}=Ga(e),i=(a=e.origin)!=null?a:t,o=n*i[0],s=r*i[1];return{x:e.position.x-o,y:e.position.y-s}},JY=(e,t={nodeOrigin:[0,0]})=>{if(e.length===0)return{x:0,y:0,width:0,height:0};const n=e.reduce((r,i)=>{const o=typeof i=="string";let s=!t.nodeLookup&&!o?i:void 0;t.nodeLookup&&(s=o?t.nodeLookup.get(i):HS(i)?i:t.nodeLookup.get(i.id));const a=s?hy(s,t.nodeOrigin):{x:0,y:0,x2:0,y2:0};return K0(r,a)},{x:1/0,y:1/0,x2:-1/0,y2:-1/0});return Y0(n)},lm=(e,t={})=>{if(e.size===0)return{x:0,y:0,width:0,height:0};let n={x:1/0,y:1/0,x2:-1/0,y2:-1/0};return e.forEach(r=>{if(t.filter===void 0||t.filter(r)){const i=hy(r);n=K0(n,i)}}),Y0(n)},mM=(e,t,[n,r,i]=[0,0,1],o=!1,s=!1)=>{var c,u,f,h,p,v;const a={...cm(t,[n,r,i]),width:t.width/i,height:t.height/i},l=[];for(const g of e.values()){const{measured:b,selectable:m=!0,hidden:y=!1}=g;if(s&&!m||y)continue;const x=(f=(u=(c=b.width)!=null?c:g.width)!=null?u:g.initialWidth)!=null?f:null,k=(v=(p=(h=b.height)!=null?h:g.height)!=null?p:g.initialHeight)!=null?v:null,S=Cp(a,Pd(g)),E=(x!=null?x:0)*(k!=null?k:0),T=o&&S>0;(!g.internals.handleBounds||T||S>=E||g.dragging)&&l.push(g)}return l},QY=(e,t)=>{const n=new Set;return e.forEach(r=>{n.add(r.id)}),t.filter(r=>n.has(r.source)||n.has(r.target))};function ZY(e,t){const n=new Map,r=t!=null&&t.nodes?new Set(t.nodes.map(i=>i.id)):null;return e.forEach(i=>{i.measured.width&&i.measured.height&&((t==null?void 0:t.includeHiddenNodes)||!i.hidden)&&(!r||r.has(i.id))&&n.set(i.id,i)}),n}async function eG({nodes:e,width:t,height:n,panZoom:r,minZoom:i,maxZoom:o},s){var u,f,h;if(e.size===0)return Promise.resolve(!0);const a=ZY(e,s),l=lm(a),c=WS(l,t,n,(u=s==null?void 0:s.minZoom)!=null?u:i,(f=s==null?void 0:s.maxZoom)!=null?f:o,(h=s==null?void 0:s.padding)!=null?h:.1);return await r.setViewport(c,{duration:s==null?void 0:s.duration}),Promise.resolve(!0)}function gM({nodeId:e,nextPosition:t,nodeLookup:n,nodeOrigin:r=[0,0],nodeExtent:i,onError:o}){var p,v,g;const s=n.get(e),a=s.parentId?n.get(s.parentId):void 0,{x:l,y:c}=a?a.internals.positionAbsolute:{x:0,y:0},u=(p=s.origin)!=null?p:r;let f=i;if(s.extent==="parent"&&!s.expandParent)if(!a)o==null||o("005",hs.error005());else{const b=a.measured.width,m=a.measured.height;b&&m&&(f=[[l,c],[l+b,c+m]])}else a&&Od(s.extent)&&(f=[[s.extent[0][0]+l,s.extent[0][1]+c],[s.extent[1][0]+l,s.extent[1][1]+c]]);const h=Od(f)?Yc(t,f,s.measured):t;return(s.measured.width===void 0||s.measured.height===void 0)&&(o==null||o("015",hs.error015())),{position:{x:h.x-l+((v=s.measured.width)!=null?v:0)*u[0],y:h.y-c+((g=s.measured.height)!=null?g:0)*u[1]},positionAbsolute:h}}async function tG({nodesToRemove:e=[],edgesToRemove:t=[],nodes:n,edges:r,onBeforeDelete:i}){const o=new Set(e.map(h=>h.id)),s=[];for(const h of n){if(h.deletable===!1)continue;const p=o.has(h.id),v=!p&&h.parentId&&s.find(g=>g.id===h.parentId);(p||v)&&s.push(h)}const a=new Set(t.map(h=>h.id)),l=r.filter(h=>h.deletable!==!1),u=QY(s,l);for(const h of l)a.has(h.id)&&!u.find(v=>v.id===h.id)&&u.push(h);if(!i)return{edges:u,nodes:s};const f=await i({nodes:s,edges:u});return typeof f=="boolean"?f?{edges:u,nodes:s}:{edges:[],nodes:[]}:f}const Id=(e,t=0,n=1)=>Math.min(Math.max(e,t),n),Yc=(e={x:0,y:0},t,n)=>{var r,i;return{x:Id(e.x,t[0][0],t[1][0]-((r=n==null?void 0:n.width)!=null?r:0)),y:Id(e.y,t[0][1],t[1][1]-((i=n==null?void 0:n.height)!=null?i:0))}};function vM(e,t,n){const{width:r,height:i}=Ga(n),{x:o,y:s}=n.internals.positionAbsolute;return Yc(e,[[o,s],[o+r,s+i]],t)}const YN=(e,t,n)=>e<t?Id(Math.abs(e-t),1,t)/t:e>n?-Id(Math.abs(e-n),1,t)/t:0,yM=(e,t,n=15,r=40)=>{const i=YN(e.x,r,t.width-r)*n,o=YN(e.y,r,t.height-r)*n;return[i,o]},K0=(e,t)=>({x:Math.min(e.x,t.x),y:Math.min(e.y,t.y),x2:Math.max(e.x2,t.x2),y2:Math.max(e.y2,t.y2)}),V_=({x:e,y:t,width:n,height:r})=>({x:e,y:t,x2:e+n,y2:t+r}),Y0=({x:e,y:t,x2:n,y2:r})=>({x:e,y:t,width:n-e,height:r-t}),Pd=(e,t=[0,0])=>{var i,o,s,a,l,c,u,f;const{x:n,y:r}=HS(e)?e.internals.positionAbsolute:am(e,t);return{x:n,y:r,width:(a=(s=(o=(i=e.measured)==null?void 0:i.width)!=null?o:e.width)!=null?s:e.initialWidth)!=null?a:0,height:(f=(u=(c=(l=e.measured)==null?void 0:l.height)!=null?c:e.height)!=null?u:e.initialHeight)!=null?f:0}},hy=(e,t=[0,0])=>{var i,o,s,a,l,c,u,f;const{x:n,y:r}=HS(e)?e.internals.positionAbsolute:am(e,t);return{x:n,y:r,x2:n+((a=(s=(o=(i=e.measured)==null?void 0:i.width)!=null?o:e.width)!=null?s:e.initialWidth)!=null?a:0),y2:r+((f=(u=(c=(l=e.measured)==null?void 0:l.height)!=null?c:e.height)!=null?u:e.initialHeight)!=null?f:0)}},xM=(e,t)=>Y0(K0(V_(e),V_(t))),Cp=(e,t)=>{const n=Math.max(0,Math.min(e.x+e.width,t.x+t.width)-Math.max(e.x,t.x)),r=Math.max(0,Math.min(e.y+e.height,t.y+t.height)-Math.max(e.y,t.y));return Math.ceil(n*r)},GN=e=>os(e.width)&&os(e.height)&&os(e.x)&&os(e.y),os=e=>!isNaN(e)&&isFinite(e),nG=(e,t)=>{},G0=(e,t=[1,1])=>({x:t[0]*Math.round(e.x/t[0]),y:t[1]*Math.round(e.y/t[1])}),cm=({x:e,y:t},[n,r,i],o=!1,s=[1,1])=>{const a={x:(e-n)/i,y:(t-r)/i};return o?G0(a,s):a},py=({x:e,y:t},[n,r,i])=>({x:e*i+n,y:t*i+r});function _u(e,t){if(typeof e=="number")return Math.floor((t-t/(1+e))*.5);if(typeof e=="string"&&e.endsWith("px")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(n)}if(typeof e=="string"&&e.endsWith("%")){const n=parseFloat(e);if(!Number.isNaN(n))return Math.floor(t*n*.01)}return console.error('[React Flow] The padding value "'.concat(e,'" is invalid. Please provide a number or a string with a valid unit (px or %).')),0}function rG(e,t,n){var r,i,o,s,a,l,c,u;if(typeof e=="string"||typeof e=="number"){const f=_u(e,n),h=_u(e,t);return{top:f,right:h,bottom:f,left:h,x:h*2,y:f*2}}if(typeof e=="object"){const f=_u((i=(r=e.top)!=null?r:e.y)!=null?i:0,n),h=_u((s=(o=e.bottom)!=null?o:e.y)!=null?s:0,n),p=_u((l=(a=e.left)!=null?a:e.x)!=null?l:0,t),v=_u((u=(c=e.right)!=null?c:e.x)!=null?u:0,t);return{top:f,right:v,bottom:h,left:p,x:p+v,y:f+h}}return{top:0,right:0,bottom:0,left:0,x:0,y:0}}function iG(e,t,n,r,i,o){const{x:s,y:a}=py(e,[t,n,r]),{x:l,y:c}=py({x:e.x+e.width,y:e.y+e.height},[t,n,r]),u=i-l,f=o-c;return{left:Math.floor(s),top:Math.floor(a),right:Math.floor(u),bottom:Math.floor(f)}}const WS=(e,t,n,r,i,o)=>{const s=rG(o,t,n),a=(t-s.x)/e.width,l=(n-s.y)/e.height,c=Math.min(a,l),u=Id(c,r,i),f=e.x+e.width/2,h=e.y+e.height/2,p=t/2-f*u,v=n/2-h*u,g=iG(e,p,v,u,t,n),b={left:Math.min(g.left-s.left,0),top:Math.min(g.top-s.top,0),right:Math.min(g.right-s.right,0),bottom:Math.min(g.bottom-s.bottom,0)};return{x:p-b.left+b.right,y:v-b.top+b.bottom,zoom:u}},my=()=>{var e;return typeof navigator<"u"&&((e=navigator==null?void 0:navigator.userAgent)==null?void 0:e.indexOf("Mac"))>=0};function Od(e){return e!==void 0&&e!=="parent"}function Ga(e){var t,n,r,i,o,s,a,l;return{width:(i=(r=(n=(t=e.measured)==null?void 0:t.width)!=null?n:e.width)!=null?r:e.initialWidth)!=null?i:0,height:(l=(a=(s=(o=e.measured)==null?void 0:o.height)!=null?s:e.height)!=null?a:e.initialHeight)!=null?l:0}}function wM(e){var t,n,r,i,o,s;return((r=(n=(t=e.measured)==null?void 0:t.width)!=null?n:e.width)!=null?r:e.initialWidth)!==void 0&&((s=(o=(i=e.measured)==null?void 0:i.height)!=null?o:e.height)!=null?s:e.initialHeight)!==void 0}function bM(e,t={width:0,height:0},n,r,i){var a,l;const o={...e},s=r.get(n);if(s){const c=s.origin||i;o.x+=s.internals.positionAbsolute.x-((a=t.width)!=null?a:0)*c[0],o.y+=s.internals.positionAbsolute.y-((l=t.height)!=null?l:0)*c[1]}return o}function XN(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}function oG(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}function jh(e,{snapGrid:t=[0,0],snapToGrid:n=!1,transform:r,containerBounds:i}){var u,f;const{x:o,y:s}=Ra(e),a=cm({x:o-((u=i==null?void 0:i.left)!=null?u:0),y:s-((f=i==null?void 0:i.top)!=null?f:0)},r),{x:l,y:c}=n?G0(a,t):a;return{xSnapped:l,ySnapped:c,...a}}const US=e=>({width:e.offsetWidth,height:e.offsetHeight}),_M=e=>{var t;return((t=e==null?void 0:e.getRootNode)==null?void 0:t.call(e))||(window==null?void 0:window.document)},sG=["INPUT","SELECT","TEXTAREA"];function kM(e){var r,i;const t=((i=(r=e.composedPath)==null?void 0:r.call(e))==null?void 0:i[0])||e.target;return(t==null?void 0:t.nodeType)!==1?!1:sG.includes(t.nodeName)||t.hasAttribute("contenteditable")||!!t.closest(".nokey")}const SM=e=>"clientX"in e,Ra=(e,t)=>{var o,s,a,l;const n=SM(e),r=n?e.clientX:(o=e.touches)==null?void 0:o[0].clientX,i=n?e.clientY:(s=e.touches)==null?void 0:s[0].clientY;return{x:r-((a=t==null?void 0:t.left)!=null?a:0),y:i-((l=t==null?void 0:t.top)!=null?l:0)}},JN=(e,t,n,r,i)=>{const o=t.querySelectorAll(".".concat(e));return!o||!o.length?null:Array.from(o).map(s=>{const a=s.getBoundingClientRect();return{id:s.getAttribute("data-handleid"),type:e,nodeId:i,position:s.getAttribute("data-handlepos"),x:(a.left-n.left)/r,y:(a.top-n.top)/r,...US(s)}})};function EM({sourceX:e,sourceY:t,targetX:n,targetY:r,sourceControlX:i,sourceControlY:o,targetControlX:s,targetControlY:a}){const l=e*.125+i*.375+s*.375+n*.125,c=t*.125+o*.375+a*.375+r*.125,u=Math.abs(l-e),f=Math.abs(c-t);return[l,c,u,f]}function ag(e,t){return e>=0?.5*e:t*25*Math.sqrt(-e)}function QN({pos:e,x1:t,y1:n,x2:r,y2:i,c:o}){switch(e){case ye.Left:return[t-ag(t-r,o),n];case ye.Right:return[t+ag(r-t,o),n];case ye.Top:return[t,n-ag(n-i,o)];case ye.Bottom:return[t,n+ag(i-n,o)]}}function CM({sourceX:e,sourceY:t,sourcePosition:n=ye.Bottom,targetX:r,targetY:i,targetPosition:o=ye.Top,curvature:s=.25}){const[a,l]=QN({pos:n,x1:e,y1:t,x2:r,y2:i,c:s}),[c,u]=QN({pos:o,x1:r,y1:i,x2:e,y2:t,c:s}),[f,h,p,v]=EM({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:a,sourceControlY:l,targetControlX:c,targetControlY:u});return["M".concat(e,",").concat(t," C").concat(a,",").concat(l," ").concat(c,",").concat(u," ").concat(r,",").concat(i),f,h,p,v]}function jM({sourceX:e,sourceY:t,targetX:n,targetY:r}){const i=Math.abs(n-e)/2,o=n<e?n+i:n-i,s=Math.abs(r-t)/2,a=r<t?r+s:r-s;return[o,a,i,s]}function aG({sourceNode:e,targetNode:t,selected:n=!1,zIndex:r=0,elevateOnSelect:i=!1}){if(!i)return r;const o=n||t.selected||e.selected,s=Math.max(e.internals.z||0,t.internals.z||0,1e3);return r+(o?s:0)}function lG({sourceNode:e,targetNode:t,width:n,height:r,transform:i}){const o=K0(hy(e),hy(t));o.x===o.x2&&(o.x2+=1),o.y===o.y2&&(o.y2+=1);const s={x:-i[0]/i[2],y:-i[1]/i[2],width:n/i[2],height:r/i[2]};return Cp(s,Y0(o))>0}const cG=({source:e,sourceHandle:t,target:n,targetHandle:r})=>"xy-edge__".concat(e).concat(t||"","-").concat(n).concat(r||""),uG=(e,t)=>t.some(n=>n.source===e.source&&n.target===e.target&&(n.sourceHandle===e.sourceHandle||!n.sourceHandle&&!e.sourceHandle)&&(n.targetHandle===e.targetHandle||!n.targetHandle&&!e.targetHandle)),NM=(e,t)=>{if(!e.source||!e.target)return t;let n;return pM(e)?n={...e}:n={...e,id:cG(e)},uG(n,t)?t:(n.sourceHandle===null&&delete n.sourceHandle,n.targetHandle===null&&delete n.targetHandle,t.concat(n))};function AM({sourceX:e,sourceY:t,targetX:n,targetY:r}){const[i,o,s,a]=jM({sourceX:e,sourceY:t,targetX:n,targetY:r});return["M ".concat(e,",").concat(t,"L ").concat(n,",").concat(r),i,o,s,a]}const ZN={[ye.Left]:{x:-1,y:0},[ye.Right]:{x:1,y:0},[ye.Top]:{x:0,y:-1},[ye.Bottom]:{x:0,y:1}},dG=({source:e,sourcePosition:t=ye.Bottom,target:n})=>t===ye.Left||t===ye.Right?e.x<n.x?{x:1,y:0}:{x:-1,y:0}:e.y<n.y?{x:0,y:1}:{x:0,y:-1},eA=(e,t)=>Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2));function fG({source:e,sourcePosition:t=ye.Bottom,target:n,targetPosition:r=ye.Top,center:i,offset:o}){var T,M;const s=ZN[t],a=ZN[r],l={x:e.x+s.x*o,y:e.y+s.y*o},c={x:n.x+a.x*o,y:n.y+a.y*o},u=dG({source:l,sourcePosition:t,target:c}),f=u.x!==0?"x":"y",h=u[f];let p=[],v,g;const b={x:0,y:0},m={x:0,y:0},[y,x,k,S]=jM({sourceX:e.x,sourceY:e.y,targetX:n.x,targetY:n.y});if(s[f]*a[f]===-1){v=(T=i.x)!=null?T:y,g=(M=i.y)!=null?M:x;const W=[{x:v,y:l.y},{x:v,y:c.y}],F=[{x:l.x,y:g},{x:c.x,y:g}];s[f]===h?p=f==="x"?W:F:p=f==="x"?F:W}else{const W=[{x:l.x,y:c.y}],F=[{x:c.x,y:l.y}];if(f==="x"?p=s.x===h?F:W:p=s.y===h?W:F,t===r){const J=Math.abs(e[f]-n[f]);if(J<=o){const I=Math.min(o-1,o-J);s[f]===h?b[f]=(l[f]>e[f]?-1:1)*I:m[f]=(c[f]>n[f]?-1:1)*I}}if(t!==r){const J=f==="x"?"y":"x",I=s[f]===a[J],U=l[J]>c[J],O=l[J]<c[J];(s[f]===1&&(!I&&U||I&&O)||s[f]!==1&&(!I&&O||I&&U))&&(p=f==="x"?W:F)}const L={x:l.x+b.x,y:l.y+b.y},G={x:c.x+m.x,y:c.y+m.y},z=Math.max(Math.abs(L.x-p[0].x),Math.abs(G.x-p[0].x)),H=Math.max(Math.abs(L.y-p[0].y),Math.abs(G.y-p[0].y));z>=H?(v=(L.x+G.x)/2,g=p[0].y):(v=p[0].x,g=(L.y+G.y)/2)}return[[e,{x:l.x+b.x,y:l.y+b.y},...p,{x:c.x+m.x,y:c.y+m.y},n],v,g,k,S]}function hG(e,t,n,r){const i=Math.min(eA(e,t)/2,eA(t,n)/2,r),{x:o,y:s}=t;if(e.x===o&&o===n.x||e.y===s&&s===n.y)return"L".concat(o," ").concat(s);if(e.y===s){const c=e.x<n.x?-1:1,u=e.y<n.y?1:-1;return"L ".concat(o+i*c,",").concat(s,"Q ").concat(o,",").concat(s," ").concat(o,",").concat(s+i*u)}const a=e.x<n.x?1:-1,l=e.y<n.y?-1:1;return"L ".concat(o,",").concat(s+i*l,"Q ").concat(o,",").concat(s," ").concat(o+i*a,",").concat(s)}function q_({sourceX:e,sourceY:t,sourcePosition:n=ye.Bottom,targetX:r,targetY:i,targetPosition:o=ye.Top,borderRadius:s=5,centerX:a,centerY:l,offset:c=20}){const[u,f,h,p,v]=fG({source:{x:e,y:t},sourcePosition:n,target:{x:r,y:i},targetPosition:o,center:{x:a,y:l},offset:c});return[u.reduce((b,m,y)=>{let x="";return y>0&&y<u.length-1?x=hG(u[y-1],m,u[y+1],s):x="".concat(y===0?"M":"L").concat(m.x," ").concat(m.y),b+=x,b},""),f,h,p,v]}function tA(e){var t;return e&&!!(e.internals.handleBounds||(t=e.handles)!=null&&t.length)&&!!(e.measured.width||e.width||e.initialWidth)}function pG(e){var f,h,p,v,g;const{sourceNode:t,targetNode:n}=e;if(!tA(t)||!tA(n))return null;const r=t.internals.handleBounds||nA(t.handles),i=n.internals.handleBounds||nA(n.handles),o=rA((f=r==null?void 0:r.source)!=null?f:[],e.sourceHandle),s=rA(e.connectionMode===Rd.Strict?(h=i==null?void 0:i.target)!=null?h:[]:((p=i==null?void 0:i.target)!=null?p:[]).concat((v=i==null?void 0:i.source)!=null?v:[]),e.targetHandle);if(!o||!s)return(g=e.onError)==null||g.call(e,"008",hs.error008(o?"target":"source",{id:e.id,sourceHandle:e.sourceHandle,targetHandle:e.targetHandle})),null;const a=(o==null?void 0:o.position)||ye.Bottom,l=(s==null?void 0:s.position)||ye.Top,c=jp(t,o,a),u=jp(n,s,l);return{sourceX:c.x,sourceY:c.y,targetX:u.x,targetY:u.y,sourcePosition:a,targetPosition:l}}function nA(e){var r,i;if(!e)return null;const t=[],n=[];for(const o of e)o.width=(r=o.width)!=null?r:1,o.height=(i=o.height)!=null?i:1,o.type==="source"?t.push(o):o.type==="target"&&n.push(o);return{source:t,target:n}}function jp(e,t,n=ye.Left,r=!1){var c,u,f;const i=((c=t==null?void 0:t.x)!=null?c:0)+e.internals.positionAbsolute.x,o=((u=t==null?void 0:t.y)!=null?u:0)+e.internals.positionAbsolute.y,{width:s,height:a}=t!=null?t:Ga(e);if(r)return{x:i+s/2,y:o+a/2};switch((f=t==null?void 0:t.position)!=null?f:n){case ye.Top:return{x:i+s/2,y:o};case ye.Right:return{x:i+s,y:o+a/2};case ye.Bottom:return{x:i+s/2,y:o+a};case ye.Left:return{x:i,y:o+a/2}}}function rA(e,t){return e&&(t?e.find(n=>n.id===t):e[0])||null}function K_(e,t){if(!e)return"";if(typeof e=="string")return e;const n=t?"".concat(t,"__"):"";return"".concat(n).concat(Object.keys(e).sort().map(r=>"".concat(r,"=").concat(e[r])).join("&"))}function mG(e,{id:t,defaultColor:n,defaultMarkerStart:r,defaultMarkerEnd:i}){const o=new Set;return e.reduce((s,a)=>([a.markerStart||r,a.markerEnd||i].forEach(l=>{if(l&&typeof l=="object"){const c=K_(l,t);o.has(c)||(s.push({id:c,color:l.color||n,...l}),o.add(c))}}),s),[]).sort((s,a)=>s.id.localeCompare(a.id))}const VS={nodeOrigin:[0,0],nodeExtent:Sp,elevateNodesOnSelect:!0,defaults:{}},gG={...VS,checkEquality:!0};function qS(e,t){const n={...e};for(const r in t)t[r]!==void 0&&(n[r]=t[r]);return n}function vG(e,t,n){const r=qS(VS,n);for(const i of e.values())if(i.parentId)KS(i,e,t,r);else{const o=am(i,r.nodeOrigin),s=Od(i.extent)?i.extent:r.nodeExtent,a=Yc(o,s,Ga(i));i.internals.positionAbsolute=a}}function Y_(e,t,n,r){var l,c;const i=qS(gG,r);let o=e.length>0;const s=new Map(t),a=i!=null&&i.elevateNodesOnSelect?1e3:0;t.clear(),n.clear();for(const u of e){let f=s.get(u.id);if(i.checkEquality&&u===(f==null?void 0:f.internals.userNode))t.set(u.id,f);else{const h=am(u,i.nodeOrigin),p=Od(u.extent)?u.extent:i.nodeExtent,v=Yc(h,p,Ga(u));f={...i.defaults,...u,measured:{width:(l=u.measured)==null?void 0:l.width,height:(c=u.measured)==null?void 0:c.height},internals:{positionAbsolute:v,handleBounds:u.measured?f==null?void 0:f.internals.handleBounds:void 0,z:TM(u,a),userNode:u}},t.set(u.id,f)}(f.measured===void 0||f.measured.width===void 0||f.measured.height===void 0)&&!f.hidden&&(o=!1),u.parentId&&KS(f,t,n,r)}return o}function yG(e,t){if(!e.parentId)return;const n=t.get(e.parentId);n?n.set(e.id,e):t.set(e.parentId,new Map([[e.id,e]]))}function KS(e,t,n,r){const{elevateNodesOnSelect:i,nodeOrigin:o,nodeExtent:s}=qS(VS,r),a=e.parentId,l=t.get(a);if(!l){console.warn("Parent node ".concat(a," not found. Please make sure that parent nodes are in front of their child nodes in the nodes array."));return}yG(e,n);const c=i?1e3:0,{x:u,y:f,z:h}=xG(e,l,o,s,c),{positionAbsolute:p}=e.internals,v=u!==p.x||f!==p.y;(v||h!==e.internals.z)&&t.set(e.id,{...e,internals:{...e.internals,positionAbsolute:v?{x:u,y:f}:p,z:h}})}function TM(e,t){return(os(e.zIndex)?e.zIndex:0)+(e.selected?t:0)}function xG(e,t,n,r,i){var p;const{x:o,y:s}=t.internals.positionAbsolute,a=Ga(e),l=am(e,n),c=Od(e.extent)?Yc(l,e.extent,a):l;let u=Yc({x:o+c.x,y:s+c.y},r,a);e.extent==="parent"&&(u=vM(u,a,t));const f=TM(e,i),h=(p=t.internals.z)!=null?p:0;return{x:u.x,y:u.y,z:h>f?h:f}}function YS(e,t,n,r=[0,0]){var s,a;const i=[],o=new Map;for(const l of e){const c=t.get(l.parentId);if(!c)continue;const u=(a=(s=o.get(l.parentId))==null?void 0:s.expandedRect)!=null?a:Pd(c),f=xM(u,l.rect);o.set(l.parentId,{expandedRect:f,parent:c})}return o.size>0&&o.forEach(({expandedRect:l,parent:c},u)=>{var k,S;const f=c.internals.positionAbsolute,h=Ga(c),p=(k=c.origin)!=null?k:r,v=l.x<f.x?Math.round(Math.abs(f.x-l.x)):0,g=l.y<f.y?Math.round(Math.abs(f.y-l.y)):0,b=Math.max(h.width,Math.round(l.width)),m=Math.max(h.height,Math.round(l.height)),y=(b-h.width)*p[0],x=(m-h.height)*p[1];(v>0||g>0||y||x)&&(i.push({id:u,type:"position",position:{x:c.position.x-v+y,y:c.position.y-g+x}}),(S=n.get(u))==null||S.forEach(E=>{e.some(T=>T.id===E.id)||i.push({id:E.id,type:"position",position:{x:E.position.x+v,y:E.position.y+g}})})),(h.width<l.width||h.height<l.height||v||g)&&i.push({id:u,type:"dimensions",setAttributes:!0,dimensions:{width:b+(v?p[0]*v-y:0),height:m+(g?p[1]*g-x:0)}})}),i}function wG(e,t,n,r,i,o){const s=r==null?void 0:r.querySelector(".xyflow__viewport");let a=!1;if(!s)return{changes:[],updatedInternals:a};const l=[],c=window.getComputedStyle(s),{m22:u}=new window.DOMMatrixReadOnly(c.transform),f=[];for(const h of e.values()){const p=t.get(h.id);if(!p)continue;if(p.hidden){t.set(p.id,{...p,internals:{...p.internals,handleBounds:void 0}}),a=!0;continue}const v=US(h.nodeElement),g=p.measured.width!==v.width||p.measured.height!==v.height;if(!!(v.width&&v.height&&(g||!p.internals.handleBounds||h.force))){const m=h.nodeElement.getBoundingClientRect(),y=Od(p.extent)?p.extent:o;let{positionAbsolute:x}=p.internals;p.parentId&&p.extent==="parent"?x=vM(x,v,t.get(p.parentId)):y&&(x=Yc(x,y,v));const k={...p,measured:v,internals:{...p.internals,positionAbsolute:x,handleBounds:{source:JN("source",h.nodeElement,m,u,p.id),target:JN("target",h.nodeElement,m,u,p.id)}}};t.set(p.id,k),p.parentId&&KS(k,t,n,{nodeOrigin:i}),a=!0,g&&(l.push({id:p.id,type:"dimensions",dimensions:v}),p.expandParent&&p.parentId&&f.push({id:p.id,parentId:p.parentId,rect:Pd(k,i)}))}}if(f.length>0){const h=YS(f,t,n,i);l.push(...h)}return{changes:l,updatedInternals:a}}async function bG({delta:e,panZoom:t,transform:n,translateExtent:r,width:i,height:o}){if(!t||!e.x&&!e.y)return Promise.resolve(!1);const s=await t.setViewportConstrained({x:n[0]+e.x,y:n[1]+e.y,zoom:n[2]},[[0,0],[i,o]],r),a=!!s&&(s.x!==n[0]||s.y!==n[1]||s.k!==n[2]);return Promise.resolve(a)}function iA(e,t,n,r,i,o){let s=i;const a=r.get(s)||new Map;r.set(s,a.set(n,t)),s="".concat(i,"-").concat(e);const l=r.get(s)||new Map;if(r.set(s,l.set(n,t)),o){s="".concat(i,"-").concat(e,"-").concat(o);const c=r.get(s)||new Map;r.set(s,c.set(n,t))}}function RM(e,t,n){e.clear(),t.clear();for(const r of n){const{source:i,target:o,sourceHandle:s=null,targetHandle:a=null}=r,l={edgeId:r.id,source:i,target:o,sourceHandle:s,targetHandle:a},c="".concat(i,"-").concat(s,"--").concat(o,"-").concat(a),u="".concat(o,"-").concat(a,"--").concat(i,"-").concat(s);iA("source",l,u,e,i,s),iA("target",l,c,e,o,a),t.set(r.id,r)}}function _G(e,t){if(e===null||t===null)return!1;const n=Array.isArray(e)?e:[e],r=Array.isArray(t)?t:[t];if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].id!==r[i].id||n[i].type!==r[i].type||!Object.is(n[i].data,r[i].data))return!1;return!0}function IM(e,t){if(!e.parentId)return!1;const n=t.get(e.parentId);return n?n.selected?!0:IM(n,t):!1}function oA(e,t,n){var i;let r=e;do{if((i=r==null?void 0:r.matches)!=null&&i.call(r,t))return!0;if(r===n)return!1;r=r==null?void 0:r.parentElement}while(r);return!1}function kG(e,t,n,r){var o,s;const i=new Map;for(const[a,l]of e)if((l.selected||l.id===r)&&(!l.parentId||!IM(l,e))&&(l.draggable||t&&typeof l.draggable>"u")){const c=e.get(a);c&&i.set(a,{id:a,position:c.position||{x:0,y:0},distance:{x:n.x-c.internals.positionAbsolute.x,y:n.y-c.internals.positionAbsolute.y},extent:c.extent,parentId:c.parentId,origin:c.origin,expandParent:c.expandParent,internals:{positionAbsolute:c.internals.positionAbsolute||{x:0,y:0}},measured:{width:(o=c.measured.width)!=null?o:0,height:(s=c.measured.height)!=null?s:0}})}return i}function Kw({nodeId:e,dragItems:t,nodeLookup:n,dragging:r=!0}){var s,a,l;const i=[];for(const[c,u]of t){const f=(s=n.get(c))==null?void 0:s.internals.userNode;f&&i.push({...f,position:u.position,dragging:r})}if(!e)return[i[0],i];const o=(a=n.get(e))==null?void 0:a.internals.userNode;return[o?{...o,position:((l=t.get(e))==null?void 0:l.position)||o.position,dragging:r}:i[0],i]}function SG({onNodeMouseDown:e,getStoreItems:t,onDragStart:n,onDrag:r,onDragStop:i}){let o={x:null,y:null},s=0,a=new Map,l=!1,c={x:0,y:0},u=null,f=!1,h=null,p=!1;function v({noDragClassName:b,handleSelector:m,domNode:y,isSelectable:x,nodeId:k,nodeClickDistance:S=0}){h=io(y);function E({x:F,y:L},G){const{nodeLookup:z,nodeExtent:H,snapGrid:J,snapToGrid:I,nodeOrigin:U,onNodeDrag:O,onSelectionDrag:D,onError:$,updateNodePositions:Y}=t();o={x:F,y:L};let ie=!1,ae={x:0,y:0,x2:0,y2:0};if(a.size>1&&H){const xe=lm(a);ae=V_(xe)}for(const[xe,ke]of a){if(!z.has(xe))continue;let Ne={x:F-ke.distance.x,y:L-ke.distance.y};I&&(Ne=G0(Ne,J));let V=[[H[0][0],H[0][1]],[H[1][0],H[1][1]]];if(a.size>1&&H&&!ke.extent){const{positionAbsolute:Pe}=ke.internals,Ye=Pe.x-ae.x+H[0][0],ze=Pe.x+ke.measured.width-ae.x2+H[1][0],se=Pe.y-ae.y+H[0][1],fe=Pe.y+ke.measured.height-ae.y2+H[1][1];V=[[Ye,se],[ze,fe]]}const{position:Q,positionAbsolute:re}=gM({nodeId:xe,nextPosition:Ne,nodeLookup:z,nodeExtent:V,nodeOrigin:U,onError:$});ie=ie||ke.position.x!==Q.x||ke.position.y!==Q.y,ke.position=Q,ke.internals.positionAbsolute=re}if(ie&&(Y(a,!0),G&&(r||O||!k&&D))){const[xe,ke]=Kw({nodeId:k,dragItems:a,nodeLookup:z});r==null||r(G,a,xe,ke),O==null||O(G,xe,ke),k||D==null||D(G,ke)}}async function T(){var I,U;if(!u)return;const{transform:F,panBy:L,autoPanSpeed:G,autoPanOnNodeDrag:z}=t();if(!z){l=!1,cancelAnimationFrame(s);return}const[H,J]=yM(c,u,G);(H!==0||J!==0)&&(o.x=((I=o.x)!=null?I:0)-H/F[2],o.y=((U=o.y)!=null?U:0)-J/F[2],await L({x:H,y:J})&&E(o,null)),s=requestAnimationFrame(T)}function M(F){var ie;const{nodeLookup:L,multiSelectionActive:G,nodesDraggable:z,transform:H,snapGrid:J,snapToGrid:I,selectNodesOnDrag:U,onNodeDragStart:O,onSelectionDragStart:D,unselectNodesAndEdges:$}=t();f=!0,(!U||!x)&&!G&&k&&((ie=L.get(k))!=null&&ie.selected||$()),x&&U&&k&&(e==null||e(k));const Y=jh(F.sourceEvent,{transform:H,snapGrid:J,snapToGrid:I,containerBounds:u});if(o=Y,a=kG(L,z,Y,k),a.size>0&&(n||O||!k&&D)){const[ae,xe]=Kw({nodeId:k,dragItems:a,nodeLookup:L});n==null||n(F.sourceEvent,a,ae,xe),O==null||O(F.sourceEvent,ae,xe),k||D==null||D(F.sourceEvent,xe)}}const W=GO().clickDistance(S).on("start",F=>{const{domNode:L,nodeDragThreshold:G,transform:z,snapGrid:H,snapToGrid:J}=t();u=(L==null?void 0:L.getBoundingClientRect())||null,p=!1,G===0&&M(F),o=jh(F.sourceEvent,{transform:z,snapGrid:H,snapToGrid:J,containerBounds:u}),c=Ra(F.sourceEvent,u)}).on("drag",F=>{var O,D;const{autoPanOnNodeDrag:L,transform:G,snapGrid:z,snapToGrid:H,nodeDragThreshold:J,nodeLookup:I}=t(),U=jh(F.sourceEvent,{transform:G,snapGrid:z,snapToGrid:H,containerBounds:u});if((F.sourceEvent.type==="touchmove"&&F.sourceEvent.touches.length>1||k&&!I.has(k))&&(p=!0),!p){if(!l&&L&&f&&(l=!0,T()),!f){const $=U.xSnapped-((O=o.x)!=null?O:0),Y=U.ySnapped-((D=o.y)!=null?D:0);Math.sqrt($*$+Y*Y)>J&&M(F)}(o.x!==U.xSnapped||o.y!==U.ySnapped)&&a&&f&&(c=Ra(F.sourceEvent,u),E(U,F.sourceEvent))}}).on("end",F=>{if(!(!f||p)&&(l=!1,f=!1,cancelAnimationFrame(s),a.size>0)){const{nodeLookup:L,updateNodePositions:G,onNodeDragStop:z,onSelectionDragStop:H}=t();if(G(a,!1),i||z||!k&&H){const[J,I]=Kw({nodeId:k,dragItems:a,nodeLookup:L,dragging:!1});i==null||i(F.sourceEvent,a,J,I),z==null||z(F.sourceEvent,J,I),k||H==null||H(F.sourceEvent,I)}}}).filter(F=>{const L=F.target;return!F.button&&(!b||!oA(L,".".concat(b),y))&&(!m||oA(L,m,y))});h.call(W)}function g(){h==null||h.on(".drag",null)}return{update:v,destroy:g}}function EG(e,t,n){const r=[],i={x:e.x-n,y:e.y-n,width:n*2,height:n*2};for(const o of t.values())Cp(i,Pd(o))>0&&r.push(o);return r}const CG=250;function jG(e,t,n,r){var a,l,c,u,f;let i=[],o=1/0;const s=EG(e,n,t+CG);for(const h of s){const p=[...(l=(a=h.internals.handleBounds)==null?void 0:a.source)!=null?l:[],...(u=(c=h.internals.handleBounds)==null?void 0:c.target)!=null?u:[]];for(const v of p){if(r.nodeId===v.nodeId&&r.type===v.type&&r.id===v.id)continue;const{x:g,y:b}=jp(h,v,v.position,!0),m=Math.sqrt(Math.pow(g-e.x,2)+Math.pow(b-e.y,2));m>t||(m<o?(i=[{...v,x:g,y:b}],o=m):m===o&&i.push({...v,x:g,y:b}))}}if(!i.length)return null;if(i.length>1){const h=r.type==="source"?"target":"source";return(f=i.find(p=>p.type===h))!=null?f:i[0]}return i[0]}function PM(e,t,n,r,i,o=!1){var c,u,f,h,p,v;const s=r.get(e);if(!s)return null;const a=i==="strict"?(c=s.internals.handleBounds)==null?void 0:c[t]:[...(f=(u=s.internals.handleBounds)==null?void 0:u.source)!=null?f:[],...(p=(h=s.internals.handleBounds)==null?void 0:h.target)!=null?p:[]],l=(v=n?a==null?void 0:a.find(g=>g.id===n):a==null?void 0:a[0])!=null?v:null;return l&&o?{...l,...jp(s,l,l.position,!0)}:l}function OM(e,t){return e||(t!=null&&t.classList.contains("target")?"target":t!=null&&t.classList.contains("source")?"source":null)}function NG(e,t){let n=null;return t?n=!0:e&&!t&&(n=!1),n}const MM=()=>!0;function AG(e,{connectionMode:t,connectionRadius:n,handleId:r,nodeId:i,edgeUpdaterType:o,isTarget:s,domNode:a,nodeLookup:l,lib:c,autoPanOnConnect:u,flowId:f,panBy:h,cancelConnection:p,onConnectStart:v,onConnect:g,onConnectEnd:b,isValidConnection:m=MM,onReconnectEnd:y,updateConnection:x,getTransform:k,getFromHandle:S,autoPanSpeed:E}){const T=_M(e.target);let M=0,W;const{x:F,y:L}=Ra(e),G=T==null?void 0:T.elementFromPoint(F,L),z=OM(o,G),H=a==null?void 0:a.getBoundingClientRect();if(!H||!z)return;const J=PM(i,z,r,l,t);if(!J)return;let I=Ra(e,H),U=!1,O=null,D=!1,$=null;function Y(){if(!u||!H)return;const[re,Pe]=yM(I,H,E);h({x:re,y:Pe}),M=requestAnimationFrame(Y)}const ie={...J,nodeId:i,type:z,position:J.position},ae=l.get(i),ke={inProgress:!0,isValid:null,from:jp(ae,ie,ye.Left,!0),fromHandle:ie,fromPosition:ie.position,fromNode:ae,to:I,toHandle:null,toPosition:qN[ie.position],toNode:null};x(ke);let Ne=ke;v==null||v(e,{nodeId:i,handleId:r,handleType:z});function V(re){if(!S()||!ie){Q(re);return}const Pe=k();I=Ra(re,H),W=jG(cm(I,Pe,!1,[1,1]),n,l,ie),U||(Y(),U=!0);const Ye=$M(re,{handle:W,connectionMode:t,fromNodeId:i,fromHandleId:r,fromType:s?"target":"source",isValidConnection:m,doc:T,lib:c,flowId:f,nodeLookup:l});$=Ye.handleDomNode,O=Ye.connection,D=NG(!!W,Ye.isValid);const ze={...Ne,isValid:D,to:W&&D?py({x:W.x,y:W.y},Pe):I,toHandle:Ye.toHandle,toPosition:D&&Ye.toHandle?Ye.toHandle.position:qN[ie.position],toNode:Ye.toHandle?l.get(Ye.toHandle.nodeId):null};D&&W&&Ne.toHandle&&ze.toHandle&&Ne.toHandle.type===ze.toHandle.type&&Ne.toHandle.nodeId===ze.toHandle.nodeId&&Ne.toHandle.id===ze.toHandle.id&&Ne.to.x===ze.to.x&&Ne.to.y===ze.to.y||(x(ze),Ne=ze)}function Q(re){(W||$)&&O&&D&&(g==null||g(O));const{inProgress:Pe,...Ye}=Ne,ze={...Ye,toPosition:Ne.toHandle?Ne.toPosition:null};b==null||b(re,ze),o&&(y==null||y(re,ze)),p(),cancelAnimationFrame(M),U=!1,D=!1,O=null,$=null,T.removeEventListener("mousemove",V),T.removeEventListener("mouseup",Q),T.removeEventListener("touchmove",V),T.removeEventListener("touchend",Q)}T.addEventListener("mousemove",V),T.addEventListener("mouseup",Q),T.addEventListener("touchmove",V),T.addEventListener("touchend",Q)}function $M(e,{handle:t,connectionMode:n,fromNodeId:r,fromHandleId:i,fromType:o,doc:s,lib:a,flowId:l,isValidConnection:c=MM,nodeLookup:u}){const f=o==="target",h=t?s.querySelector(".".concat(a,'-flow__handle[data-id="').concat(l,"-").concat(t==null?void 0:t.nodeId,"-").concat(t==null?void 0:t.id,"-").concat(t==null?void 0:t.type,'"]')):null,{x:p,y:v}=Ra(e),g=s.elementFromPoint(p,v),b=g!=null&&g.classList.contains("".concat(a,"-flow__handle"))?g:h,m={handleDomNode:b,isValid:!1,connection:null,toHandle:null};if(b){const y=OM(void 0,b),x=b.getAttribute("data-nodeid"),k=b.getAttribute("data-handleid"),S=b.classList.contains("connectable"),E=b.classList.contains("connectableend");if(!x||!y)return m;const T={source:f?x:r,sourceHandle:f?k:i,target:f?r:x,targetHandle:f?i:k};m.connection=T;const W=S&&E&&(n===Rd.Strict?f&&y==="source"||!f&&y==="target":x!==r||k!==i);m.isValid=W&&c(T),m.toHandle=PM(x,y,k,u,n,!1)}return m}const G_={onPointerDown:AG,isValid:$M};function TG({domNode:e,panZoom:t,getTransform:n,getViewScale:r}){const i=io(e);function o({translateExtent:a,width:l,height:c,zoomStep:u=10,pannable:f=!0,zoomable:h=!0,inversePan:p=!1}){const v=x=>{const k=n();if(x.sourceEvent.type!=="wheel"||!t)return;const S=-x.sourceEvent.deltaY*(x.sourceEvent.deltaMode===1?.05:x.sourceEvent.deltaMode?1:.002)*u,E=k[2]*Math.pow(2,S);t.scaleTo(E)};let g=[0,0];const b=x=>{var k,S;(x.sourceEvent.type==="mousedown"||x.sourceEvent.type==="touchstart")&&(g=[(k=x.sourceEvent.clientX)!=null?k:x.sourceEvent.touches[0].clientX,(S=x.sourceEvent.clientY)!=null?S:x.sourceEvent.touches[0].clientY])},m=x=>{var F,L;const k=n();if(x.sourceEvent.type!=="mousemove"&&x.sourceEvent.type!=="touchmove"||!t)return;const S=[(F=x.sourceEvent.clientX)!=null?F:x.sourceEvent.touches[0].clientX,(L=x.sourceEvent.clientY)!=null?L:x.sourceEvent.touches[0].clientY],E=[S[0]-g[0],S[1]-g[1]];g=S;const T=r()*Math.max(k[2],Math.log(k[2]))*(p?-1:1),M={x:k[0]-E[0]*T,y:k[1]-E[1]*T},W=[[0,0],[l,c]];t.setViewportConstrained({x:M.x,y:M.y,zoom:k[2]},W,a)},y=uM().on("start",b).on("zoom",f?m:null).on("zoom.wheel",h?v:null);i.call(y,{})}function s(){i.on("zoom",null)}return{update:o,destroy:s,pointer:Jo}}const RG=(e,t)=>e.x!==t.x||e.y!==t.y||e.zoom!==t.k,X0=e=>({x:e.x,y:e.y,zoom:e.k}),Yw=({x:e,y:t,zoom:n})=>q0.translate(e,t).scale(n),Yu=(e,t)=>e.target.closest(".".concat(t)),DM=(e,t)=>t===2&&Array.isArray(e)&&e.includes(2),Gw=(e,t=0,n=()=>{})=>{const r=typeof t=="number"&&t>0;return r||n(),r?e.transition().duration(t).on("end",n):e},FM=e=>{const t=e.ctrlKey&&my()?10:1;return-e.deltaY*(e.deltaMode===1?.05:e.deltaMode?1:.002)*t};function IG({zoomPanValues:e,noWheelClassName:t,d3Selection:n,d3Zoom:r,panOnScrollMode:i,panOnScrollSpeed:o,zoomOnPinch:s,onPanZoomStart:a,onPanZoom:l,onPanZoomEnd:c}){return u=>{if(Yu(u,t))return!1;u.preventDefault(),u.stopImmediatePropagation();const f=n.property("__zoom").k||1;if(u.ctrlKey&&s){const b=Jo(u),m=FM(u),y=f*Math.pow(2,m);r.scaleTo(n,y,b,u);return}const h=u.deltaMode===1?20:1;let p=i===Oc.Vertical?0:u.deltaX*h,v=i===Oc.Horizontal?0:u.deltaY*h;!my()&&u.shiftKey&&i!==Oc.Vertical&&(p=u.deltaY*h,v=0),r.translateBy(n,-(p/f)*o,-(v/f)*o,{internal:!0});const g=X0(n.property("__zoom"));clearTimeout(e.panScrollTimeout),e.isPanScrolling||(e.isPanScrolling=!0,a==null||a(u,g)),e.isPanScrolling&&(l==null||l(u,g),e.panScrollTimeout=setTimeout(()=>{c==null||c(u,g),e.isPanScrolling=!1},150))}}function PG({noWheelClassName:e,preventScrolling:t,d3ZoomHandler:n}){return function(r,i){const o=r.type==="wheel",s=!t&&o&&!r.ctrlKey,a=Yu(r,e);if(r.ctrlKey&&o&&a&&r.preventDefault(),s||a)return null;r.preventDefault(),n.call(this,r,i)}}function OG({zoomPanValues:e,onDraggingChange:t,onPanZoomStart:n}){return r=>{var o,s,a;if((o=r.sourceEvent)!=null&&o.internal)return;const i=X0(r.transform);e.mouseButton=((s=r.sourceEvent)==null?void 0:s.button)||0,e.isZoomingOrPanning=!0,e.prevViewport=i,((a=r.sourceEvent)==null?void 0:a.type)==="mousedown"&&t(!0),n&&(n==null||n(r.sourceEvent,i))}}function MG({zoomPanValues:e,panOnDrag:t,onPaneContextMenu:n,onTransformChange:r,onPanZoom:i}){return o=>{var s,a,l;e.usedRightMouseButton=!!(n&&DM(t,(s=e.mouseButton)!=null?s:0)),(a=o.sourceEvent)!=null&&a.sync||r([o.transform.x,o.transform.y,o.transform.k]),i&&!((l=o.sourceEvent)!=null&&l.internal)&&(i==null||i(o.sourceEvent,X0(o.transform)))}}function $G({zoomPanValues:e,panOnDrag:t,panOnScroll:n,onDraggingChange:r,onPanZoomEnd:i,onPaneContextMenu:o}){return s=>{var a,l;if(!((a=s.sourceEvent)!=null&&a.internal)&&(e.isZoomingOrPanning=!1,o&&DM(t,(l=e.mouseButton)!=null?l:0)&&!e.usedRightMouseButton&&s.sourceEvent&&o(s.sourceEvent),e.usedRightMouseButton=!1,r(!1),i&&RG(e.prevViewport,s.transform))){const c=X0(s.transform);e.prevViewport=c,clearTimeout(e.timerId),e.timerId=setTimeout(()=>{i==null||i(s.sourceEvent,c)},n?150:0)}}}function DG({zoomActivationKeyPressed:e,zoomOnScroll:t,zoomOnPinch:n,panOnDrag:r,panOnScroll:i,zoomOnDoubleClick:o,userSelectionActive:s,noWheelClassName:a,noPanClassName:l,lib:c}){return u=>{var v;const f=e||t,h=n&&u.ctrlKey;if(u.button===1&&u.type==="mousedown"&&(Yu(u,"".concat(c,"-flow__node"))||Yu(u,"".concat(c,"-flow__edge"))))return!0;if(!r&&!f&&!i&&!o&&!n||s||Yu(u,a)&&u.type==="wheel"||Yu(u,l)&&(u.type!=="wheel"||i&&u.type==="wheel"&&!e)||!n&&u.ctrlKey&&u.type==="wheel")return!1;if(!n&&u.type==="touchstart"&&((v=u.touches)==null?void 0:v.length)>1)return u.preventDefault(),!1;if(!f&&!i&&!h&&u.type==="wheel"||!r&&(u.type==="mousedown"||u.type==="touchstart")||Array.isArray(r)&&!r.includes(u.button)&&u.type==="mousedown")return!1;const p=Array.isArray(r)&&r.includes(u.button)||!u.button||u.button<=1;return(!u.ctrlKey||u.type==="wheel")&&p}}function FG({domNode:e,minZoom:t,maxZoom:n,paneClickDistance:r,translateExtent:i,viewport:o,onPanZoom:s,onPanZoomStart:a,onPanZoomEnd:l,onDraggingChange:c}){const u={isZoomingOrPanning:!1,usedRightMouseButton:!1,prevViewport:{x:0,y:0,zoom:0},mouseButton:0,timerId:void 0,panScrollTimeout:void 0,isPanScrolling:!1},f=e.getBoundingClientRect(),h=uM().clickDistance(!os(r)||r<0?0:r).scaleExtent([t,n]).translateExtent(i),p=io(e).call(h);x({x:o.x,y:o.y,zoom:Id(o.zoom,t,n)},[[0,0],[f.width,f.height]],i);const v=p.on("wheel.zoom"),g=p.on("dblclick.zoom");h.wheelDelta(FM);function b(G,z){return p?new Promise(H=>{h==null||h.transform(Gw(p,z==null?void 0:z.duration,()=>H(!0)),G)}):Promise.resolve(!1)}function m({noWheelClassName:G,noPanClassName:z,onPaneContextMenu:H,userSelectionActive:J,panOnScroll:I,panOnDrag:U,panOnScrollMode:O,panOnScrollSpeed:D,preventScrolling:$,zoomOnPinch:Y,zoomOnScroll:ie,zoomOnDoubleClick:ae,zoomActivationKeyPressed:xe,lib:ke,onTransformChange:Ne}){J&&!u.isZoomingOrPanning&&y();const Q=I&&!xe&&!J?IG({zoomPanValues:u,noWheelClassName:G,d3Selection:p,d3Zoom:h,panOnScrollMode:O,panOnScrollSpeed:D,zoomOnPinch:Y,onPanZoomStart:a,onPanZoom:s,onPanZoomEnd:l}):PG({noWheelClassName:G,preventScrolling:$,d3ZoomHandler:v});if(p.on("wheel.zoom",Q,{passive:!1}),!J){const Pe=OG({zoomPanValues:u,onDraggingChange:c,onPanZoomStart:a});h.on("start",Pe);const Ye=MG({zoomPanValues:u,panOnDrag:U,onPaneContextMenu:!!H,onPanZoom:s,onTransformChange:Ne});h.on("zoom",Ye);const ze=$G({zoomPanValues:u,panOnDrag:U,panOnScroll:I,onPaneContextMenu:H,onPanZoomEnd:l,onDraggingChange:c});h.on("end",ze)}const re=DG({zoomActivationKeyPressed:xe,panOnDrag:U,zoomOnScroll:ie,panOnScroll:I,zoomOnDoubleClick:ae,zoomOnPinch:Y,userSelectionActive:J,noPanClassName:z,noWheelClassName:G,lib:ke});h.filter(re),ae?p.on("dblclick.zoom",g):p.on("dblclick.zoom",null)}function y(){h.on("zoom",null)}async function x(G,z,H){const J=Yw(G),I=h==null?void 0:h.constrain()(J,z,H);return I&&await b(I),new Promise(U=>U(I))}async function k(G,z){const H=Yw(G);return await b(H,z),new Promise(J=>J(H))}function S(G){if(p){const z=Yw(G),H=p.property("__zoom");(H.k!==G.zoom||H.x!==G.x||H.y!==G.y)&&(h==null||h.transform(p,z,null,{sync:!0}))}}function E(){const G=p?cM(p.node()):{x:0,y:0,k:1};return{x:G.x,y:G.y,zoom:G.k}}function T(G,z){return p?new Promise(H=>{h==null||h.scaleTo(Gw(p,z==null?void 0:z.duration,()=>H(!0)),G)}):Promise.resolve(!1)}function M(G,z){return p?new Promise(H=>{h==null||h.scaleBy(Gw(p,z==null?void 0:z.duration,()=>H(!0)),G)}):Promise.resolve(!1)}function W(G){h==null||h.scaleExtent(G)}function F(G){h==null||h.translateExtent(G)}function L(G){const z=!os(G)||G<0?0:G;h==null||h.clickDistance(z)}return{update:m,destroy:y,setViewport:k,setViewportConstrained:x,getViewport:E,scaleTo:T,scaleBy:M,setScaleExtent:W,setTranslateExtent:F,syncViewport:S,setClickDistance:L}}var Nh;(function(e){e.Line="line",e.Handle="handle"})(Nh||(Nh={}));function LG({width:e,prevWidth:t,height:n,prevHeight:r,affectsX:i,affectsY:o}){const s=e-t,a=n-r,l=[s>0?1:s<0?-1:0,a>0?1:a<0?-1:0];return s&&i&&(l[0]=l[0]*-1),a&&o&&(l[1]=l[1]*-1),l}function BG(e){const t=e.includes("right")||e.includes("left"),n=e.includes("bottom")||e.includes("top"),r=e.includes("left"),i=e.includes("top");return{isHorizontal:t,isVertical:n,affectsX:r,affectsY:i}}function il(e,t){return Math.max(0,t-e)}function ol(e,t){return Math.max(0,e-t)}function lg(e,t,n){return Math.max(0,t-e,e-n)}function sA(e,t){return e?!t:t}function zG(e,t,n,r,i,o,s,a){let{affectsX:l,affectsY:c}=t;const{isHorizontal:u,isVertical:f}=t,h=u&&f,{xSnapped:p,ySnapped:v}=n,{minWidth:g,maxWidth:b,minHeight:m,maxHeight:y}=r,{x,y:k,width:S,height:E,aspectRatio:T}=e;let M=Math.floor(u?p-e.pointerX:0),W=Math.floor(f?v-e.pointerY:0);const F=S+(l?-M:M),L=E+(c?-W:W),G=-o[0]*S,z=-o[1]*E;let H=lg(F,g,b),J=lg(L,m,y);if(s){let O=0,D=0;l&&M<0?O=il(x+M+G,s[0][0]):!l&&M>0&&(O=ol(x+F+G,s[1][0])),c&&W<0?D=il(k+W+z,s[0][1]):!c&&W>0&&(D=ol(k+L+z,s[1][1])),H=Math.max(H,O),J=Math.max(J,D)}if(a){let O=0,D=0;l&&M>0?O=ol(x+M,a[0][0]):!l&&M<0&&(O=il(x+F,a[1][0])),c&&W>0?D=ol(k+W,a[0][1]):!c&&W<0&&(D=il(k+L,a[1][1])),H=Math.max(H,O),J=Math.max(J,D)}if(i){if(u){const O=lg(F/T,m,y)*T;if(H=Math.max(H,O),s){let D=0;!l&&!c||l&&!c&&h?D=ol(k+z+F/T,s[1][1])*T:D=il(k+z+(l?M:-M)/T,s[0][1])*T,H=Math.max(H,D)}if(a){let D=0;!l&&!c||l&&!c&&h?D=il(k+F/T,a[1][1])*T:D=ol(k+(l?M:-M)/T,a[0][1])*T,H=Math.max(H,D)}}if(f){const O=lg(L*T,g,b)/T;if(J=Math.max(J,O),s){let D=0;!l&&!c||c&&!l&&h?D=ol(x+L*T+G,s[1][0])/T:D=il(x+(c?W:-W)*T+G,s[0][0])/T,J=Math.max(J,D)}if(a){let D=0;!l&&!c||c&&!l&&h?D=il(x+L*T,a[1][0])/T:D=ol(x+(c?W:-W)*T,a[0][0])/T,J=Math.max(J,D)}}}W=W+(W<0?J:-J),M=M+(M<0?H:-H),i&&(h?F>L*T?W=(sA(l,c)?-M:M)/T:M=(sA(l,c)?-W:W)*T:u?(W=M/T,c=l):(M=W*T,l=c));const I=l?x+M:x,U=c?k+W:k;return{width:S+(l?-M:M),height:E+(c?-W:W),x:o[0]*M*(l?-1:1)+I,y:o[1]*W*(c?-1:1)+U}}const LM={width:0,height:0,x:0,y:0},HG={...LM,pointerX:0,pointerY:0,aspectRatio:1};function WG(e){return[[0,0],[e.measured.width,e.measured.height]]}function UG(e,t,n){var c,u;const r=t.position.x+e.position.x,i=t.position.y+e.position.y,o=(c=e.measured.width)!=null?c:0,s=(u=e.measured.height)!=null?u:0,a=n[0]*o,l=n[1]*s;return[[r-a,i-l],[r+o-a,i+s-l]]}function VG({domNode:e,nodeId:t,getStoreItems:n,onChange:r,onEnd:i}){const o=io(e);function s({controlPosition:l,boundaries:c,keepAspectRatio:u,resizeDirection:f,onResizeStart:h,onResize:p,onResizeEnd:v,shouldResize:g}){let b={...LM},m={...HG};const y=BG(l);let x,k=null,S=[],E,T,M;const W=GO().on("start",F=>{var D,$,Y,ie,ae,xe;const{nodeLookup:L,transform:G,snapGrid:z,snapToGrid:H,nodeOrigin:J,paneDomNode:I}=n();if(x=L.get(t),!x)return;k=(D=I==null?void 0:I.getBoundingClientRect())!=null?D:null;const{xSnapped:U,ySnapped:O}=jh(F.sourceEvent,{transform:G,snapGrid:z,snapToGrid:H,containerBounds:k});b={width:($=x.measured.width)!=null?$:0,height:(Y=x.measured.height)!=null?Y:0,x:(ie=x.position.x)!=null?ie:0,y:(ae=x.position.y)!=null?ae:0},m={...b,pointerX:U,pointerY:O,aspectRatio:b.width/b.height},E=void 0,x.parentId&&(x.extent==="parent"||x.expandParent)&&(E=L.get(x.parentId),T=E&&x.extent==="parent"?WG(E):void 0),S=[],M=void 0;for(const[ke,Ne]of L)if(Ne.parentId===t&&(S.push({id:ke,position:{...Ne.position},extent:Ne.extent}),Ne.extent==="parent"||Ne.expandParent)){const V=UG(Ne,x,(xe=Ne.origin)!=null?xe:J);M?M=[[Math.min(V[0][0],M[0][0]),Math.min(V[0][1],M[0][1])],[Math.max(V[1][0],M[1][0]),Math.max(V[1][1],M[1][1])]]:M=V}h==null||h(F,{...b})}).on("drag",F=>{var fe,je,Ve;const{transform:L,snapGrid:G,snapToGrid:z,nodeOrigin:H}=n(),J=jh(F.sourceEvent,{transform:L,snapGrid:G,snapToGrid:z,containerBounds:k}),I=[];if(!x)return;const{x:U,y:O,width:D,height:$}=b,Y={},ie=(fe=x.origin)!=null?fe:H,{width:ae,height:xe,x:ke,y:Ne}=zG(m,y,J,c,u,ie,T,M),V=ae!==D,Q=xe!==$,re=ke!==U&&V,Pe=Ne!==O&&Q;if(!re&&!Pe&&!V&&!Q)return;if((re||Pe||ie[0]===1||ie[1]===1)&&(Y.x=re?ke:b.x,Y.y=Pe?Ne:b.y,b.x=Y.x,b.y=Y.y,S.length>0)){const qe=ke-U,Je=Ne-O;for(const pe of S)pe.position={x:pe.position.x-qe+ie[0]*(ae-D),y:pe.position.y-Je+ie[1]*(xe-$)},I.push(pe)}if((V||Q)&&(Y.width=V&&(!f||f==="horizontal")?ae:b.width,Y.height=Q&&(!f||f==="vertical")?xe:b.height,b.width=Y.width,b.height=Y.height),E&&x.expandParent){const qe=ie[0]*((je=Y.width)!=null?je:0);Y.x&&Y.x<qe&&(b.x=qe,m.x=m.x-(Y.x-qe));const Je=ie[1]*((Ve=Y.height)!=null?Ve:0);Y.y&&Y.y<Je&&(b.y=Je,m.y=m.y-(Y.y-Je))}const Ye=LG({width:b.width,prevWidth:D,height:b.height,prevHeight:$,affectsX:y.affectsX,affectsY:y.affectsY}),ze={...b,direction:Ye};(g==null?void 0:g(F,ze))!==!1&&(p==null||p(F,ze),r(Y,I))}).on("end",F=>{v==null||v(F,{...b}),i==null||i({...b})});o.call(W)}function a(){o.on(".drag",null)}return{update:s,destroy:a}}var BM={exports:{}},zM={},HM={exports:{}},WM={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Md=N;function qG(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var KG=typeof Object.is=="function"?Object.is:qG,YG=Md.useState,GG=Md.useEffect,XG=Md.useLayoutEffect,JG=Md.useDebugValue;function QG(e,t){var n=t(),r=YG({inst:{value:n,getSnapshot:t}}),i=r[0].inst,o=r[1];return XG(function(){i.value=n,i.getSnapshot=t,Xw(i)&&o({inst:i})},[e,n,t]),GG(function(){return Xw(i)&&o({inst:i}),e(function(){Xw(i)&&o({inst:i})})},[e]),JG(n),n}function Xw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!KG(e,n)}catch(r){return!0}}function ZG(e,t){return t()}var eX=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ZG:QG;WM.useSyncExternalStore=Md.useSyncExternalStore!==void 0?Md.useSyncExternalStore:eX;HM.exports=WM;var tX=HM.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J0=N,nX=tX;function rX(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var iX=typeof Object.is=="function"?Object.is:rX,oX=nX.useSyncExternalStore,sX=J0.useRef,aX=J0.useEffect,lX=J0.useMemo,cX=J0.useDebugValue;zM.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var o=sX(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=lX(function(){function l(p){if(!c){if(c=!0,u=p,p=r(p),i!==void 0&&s.hasValue){var v=s.value;if(i(v,p))return f=v}return f=p}if(v=f,iX(u,p))return v;var g=r(p);return i!==void 0&&i(v,g)?(u=p,v):(u=p,f=g)}var c=!1,u,f,h=n===void 0?null:n;return[function(){return l(t())},h===null?void 0:function(){return l(h())}]},[t,n,r,i]);var a=oX(e,o[0],o[1]);return aX(function(){s.hasValue=!0,s.value=a},[a]),cX(a),a};BM.exports=zM;var uX=BM.exports;const dX=qa(uX),fX={LEGACY:!1},aA=e=>{let t;const n=new Set,r=(u,f)=>{const h=typeof u=="function"?u(t):u;if(!Object.is(h,t)){const p=t;t=(f!=null?f:typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(v=>v(t,p))}},i=()=>t,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(fX?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=t=e(r,i,l);return l},hX=e=>e?aA(e):aA,{useDebugValue:pX}=$t,{useSyncExternalStoreWithSelector:mX}=dX,gX=e=>e;function UM(e,t=gX,n){const r=mX(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return pX(r),r}const lA=(e,t)=>{const n=hX(e),r=(i,o=t)=>UM(n,i,o);return Object.assign(r,n),r},vX=(e,t)=>e?lA(e,t):lA;function ur(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,i]of e)if(!Object.is(i,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(t,r)||!Object.is(e[r],t[r]))return!1;return!0}const Q0=N.createContext(null),yX=Q0.Provider,VM=hs.error001();function dn(e,t){const n=N.useContext(Q0);if(n===null)throw new Error(VM);return UM(n,e,t)}function zn(){const e=N.useContext(Q0);if(e===null)throw new Error(VM);return N.useMemo(()=>({getState:e.getState,setState:e.setState,subscribe:e.subscribe}),[e])}const cA={display:"none"},xX={position:"absolute",width:1,height:1,margin:-1,border:0,padding:0,overflow:"hidden",clip:"rect(0px, 0px, 0px, 0px)",clipPath:"inset(100%)"},qM="react-flow__node-desc",KM="react-flow__edge-desc",wX="react-flow__aria-live",bX=e=>e.ariaLiveMessage;function _X({rfId:e}){const t=dn(bX);return d.jsx("div",{id:"".concat(wX,"-").concat(e),"aria-live":"assertive","aria-atomic":"true",style:xX,children:t})}function kX({rfId:e,disableKeyboardA11y:t}){return d.jsxs(d.Fragment,{children:[d.jsxs("div",{id:"".concat(qM,"-").concat(e),style:cA,children:["Press enter or space to select a node.",!t&&"You can then use the arrow keys to move the node around."," Press delete to remove it and escape to cancel."," "]}),d.jsx("div",{id:"".concat(KM,"-").concat(e),style:cA,children:"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel."}),!t&&d.jsx(_X,{rfId:e})]})}const SX=e=>e.userSelectionActive?"none":"all",um=N.forwardRef(({position:e="top-left",children:t,className:n,style:r,...i},o)=>{const s=dn(SX),a="".concat(e).split("-");return d.jsx("div",{className:Cr(["react-flow__panel",n,...a]),style:{...r,pointerEvents:s},ref:o,...i,children:t})});um.displayName="Panel";function EX({proOptions:e,position:t="bottom-right"}){return e!=null&&e.hideAttribution?null:d.jsx(um,{position:t,className:"react-flow__attribution","data-message":"Please only hide this attribution when you are subscribed to React Flow Pro: https://pro.reactflow.dev",children:d.jsx("a",{href:"https://reactflow.dev",target:"_blank",rel:"noopener noreferrer","aria-label":"React Flow attribution",children:"React Flow"})})}const CX=e=>{const t=[],n=[];for(const[,r]of e.nodeLookup)r.selected&&t.push(r.internals.userNode);for(const[,r]of e.edgeLookup)r.selected&&n.push(r);return{selectedNodes:t,selectedEdges:n}},cg=e=>e.id;function jX(e,t){return ur(e.selectedNodes.map(cg),t.selectedNodes.map(cg))&&ur(e.selectedEdges.map(cg),t.selectedEdges.map(cg))}function NX({onSelectionChange:e}){const t=zn(),{selectedNodes:n,selectedEdges:r}=dn(CX,jX);return N.useEffect(()=>{const i={nodes:n,edges:r};e==null||e(i),t.getState().onSelectionChangeHandlers.forEach(o=>o(i))},[n,r,e]),null}const AX=e=>!!e.onSelectionChangeHandlers;function TX({onSelectionChange:e}){const t=dn(AX);return e||t?d.jsx(NX,{onSelectionChange:e}):null}const YM=[0,0],RX={x:0,y:0,zoom:1},IX=["nodes","edges","defaultNodes","defaultEdges","onConnect","onConnectStart","onConnectEnd","onClickConnectStart","onClickConnectEnd","nodesDraggable","nodesConnectable","nodesFocusable","edgesFocusable","edgesReconnectable","elevateNodesOnSelect","elevateEdgesOnSelect","minZoom","maxZoom","nodeExtent","onNodesChange","onEdgesChange","elementsSelectable","connectionMode","snapGrid","snapToGrid","translateExtent","connectOnClick","defaultEdgeOptions","fitView","fitViewOptions","onNodesDelete","onEdgesDelete","onDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","onMoveStart","onMove","onMoveEnd","noPanClassName","nodeOrigin","autoPanOnConnect","autoPanOnNodeDrag","onError","connectionRadius","isValidConnection","selectNodesOnDrag","nodeDragThreshold","onBeforeDelete","debug","autoPanSpeed","paneClickDistance"],uA=[...IX,"rfId"],PX=e=>({setNodes:e.setNodes,setEdges:e.setEdges,setMinZoom:e.setMinZoom,setMaxZoom:e.setMaxZoom,setTranslateExtent:e.setTranslateExtent,setNodeExtent:e.setNodeExtent,reset:e.reset,setDefaultNodesAndEdges:e.setDefaultNodesAndEdges,setPaneClickDistance:e.setPaneClickDistance}),dA={translateExtent:Sp,nodeOrigin:YM,minZoom:.5,maxZoom:2,elementsSelectable:!0,noPanClassName:"nopan",rfId:"1",paneClickDistance:0};function OX(e){const{setNodes:t,setEdges:n,setMinZoom:r,setMaxZoom:i,setTranslateExtent:o,setNodeExtent:s,reset:a,setDefaultNodesAndEdges:l,setPaneClickDistance:c}=dn(PX,ur),u=zn();N.useEffect(()=>(l(e.defaultNodes,e.defaultEdges),()=>{f.current=dA,a()}),[]);const f=N.useRef(dA);return N.useEffect(()=>{for(const h of uA){const p=e[h],v=f.current[h];p!==v&&(typeof e[h]>"u"||(h==="nodes"?t(p):h==="edges"?n(p):h==="minZoom"?r(p):h==="maxZoom"?i(p):h==="translateExtent"?o(p):h==="nodeExtent"?s(p):h==="paneClickDistance"?c(p):h==="fitView"?u.setState({fitViewQueued:p}):h==="fitViewOptions"?u.setState({fitViewOptions:p}):u.setState({[h]:p})))}f.current=e},uA.map(h=>e[h])),null}function fA(){return typeof window>"u"||!window.matchMedia?null:window.matchMedia("(prefers-color-scheme: dark)")}function MX(e){var r;const[t,n]=N.useState(e==="system"?null:e);return N.useEffect(()=>{if(e!=="system"){n(e);return}const i=fA(),o=()=>n(i!=null&&i.matches?"dark":"light");return o(),i==null||i.addEventListener("change",o),()=>{i==null||i.removeEventListener("change",o)}},[e]),t!==null?t:(r=fA())!=null&&r.matches?"dark":"light"}const hA=typeof document<"u"?document:null;function Np(e=null,t={target:hA,actInsideInputWithModifier:!0}){const[n,r]=N.useState(!1),i=N.useRef(!1),o=N.useRef(new Set([])),[s,a]=N.useMemo(()=>{if(e!==null){const c=(Array.isArray(e)?e:[e]).filter(f=>typeof f=="string").map(f=>f.replace("+","\n").replace("\n\n","\n+").split("\n")),u=c.reduce((f,h)=>f.concat(...h),[]);return[c,u]}return[[],[]]},[e]);return N.useEffect(()=>{const l=(t==null?void 0:t.target)||hA;if(e!==null){const c=h=>{var g,b;if(i.current=h.ctrlKey||h.metaKey||h.shiftKey||h.altKey,(!i.current||i.current&&!t.actInsideInputWithModifier)&&kM(h))return!1;const v=mA(h.code,a);if(o.current.add(h[v]),pA(s,o.current,!1)){const m=((b=(g=h.composedPath)==null?void 0:g.call(h))==null?void 0:b[0])||h.target,y=(m==null?void 0:m.nodeName)==="BUTTON"||(m==null?void 0:m.nodeName)==="A";t.preventDefault!==!1&&(i.current||!y)&&h.preventDefault(),r(!0)}},u=h=>{const p=mA(h.code,a);pA(s,o.current,!0)?(r(!1),o.current.clear()):o.current.delete(h[p]),h.key==="Meta"&&o.current.clear(),i.current=!1},f=()=>{o.current.clear(),r(!1)};return l==null||l.addEventListener("keydown",c),l==null||l.addEventListener("keyup",u),window.addEventListener("blur",f),window.addEventListener("contextmenu",f),()=>{l==null||l.removeEventListener("keydown",c),l==null||l.removeEventListener("keyup",u),window.removeEventListener("blur",f),window.removeEventListener("contextmenu",f)}}},[e,r]),n}function pA(e,t,n){return e.filter(r=>n||r.length===t.size).some(r=>r.every(i=>t.has(i)))}function mA(e,t){return t.includes(e)?"code":"key"}const $X=()=>{const e=zn();return N.useMemo(()=>({zoomIn:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomOut:t=>{const{panZoom:n}=e.getState();return n?n.scaleBy(1/1.2,{duration:t==null?void 0:t.duration}):Promise.resolve(!1)},zoomTo:(t,n)=>{const{panZoom:r}=e.getState();return r?r.scaleTo(t,{duration:n==null?void 0:n.duration}):Promise.resolve(!1)},getZoom:()=>e.getState().transform[2],setViewport:async(t,n)=>{var a,l,c;const{transform:[r,i,o],panZoom:s}=e.getState();return s?(await s.setViewport({x:(a=t.x)!=null?a:r,y:(l=t.y)!=null?l:i,zoom:(c=t.zoom)!=null?c:o},{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},getViewport:()=>{const[t,n,r]=e.getState().transform;return{x:t,y:n,zoom:r}},setCenter:async(t,n,r)=>{const{width:i,height:o,maxZoom:s,panZoom:a}=e.getState(),l=typeof(r==null?void 0:r.zoom)<"u"?r.zoom:s,c=i/2-t*l,u=o/2-n*l;return a?(await a.setViewport({x:c,y:u,zoom:l},{duration:r==null?void 0:r.duration}),Promise.resolve(!0)):Promise.resolve(!1)},fitBounds:async(t,n)=>{var c;const{width:r,height:i,minZoom:o,maxZoom:s,panZoom:a}=e.getState(),l=WS(t,r,i,o,s,(c=n==null?void 0:n.padding)!=null?c:.1);return a?(await a.setViewport(l,{duration:n==null?void 0:n.duration}),Promise.resolve(!0)):Promise.resolve(!1)},screenToFlowPosition:(t,n={})=>{var h,p;const{transform:r,snapGrid:i,snapToGrid:o,domNode:s}=e.getState();if(!s)return t;const{x:a,y:l}=s.getBoundingClientRect(),c={x:t.x-a,y:t.y-l},u=(h=n.snapGrid)!=null?h:i,f=(p=n.snapToGrid)!=null?p:o;return cm(c,r,f,u)},flowToScreenPosition:t=>{const{transform:n,domNode:r}=e.getState();if(!r)return t;const{x:i,y:o}=r.getBoundingClientRect(),s=py(t,n);return{x:s.x+i,y:s.y+o}}}),[])};function GM(e,t){const n=[],r=new Map,i=[];for(const o of e)if(o.type==="add"){i.push(o);continue}else if(o.type==="remove"||o.type==="replace")r.set(o.id,[o]);else{const s=r.get(o.id);s?s.push(o):r.set(o.id,[o])}for(const o of t){const s=r.get(o.id);if(!s){n.push(o);continue}if(s[0].type==="remove")continue;if(s[0].type==="replace"){n.push({...s[0].item});continue}const a={...o};for(const l of s)DX(l,a);n.push(a)}return i.length&&i.forEach(o=>{o.index!==void 0?n.splice(o.index,0,{...o.item}):n.push({...o.item})}),n}function DX(e,t){var n;switch(e.type){case"select":{t.selected=e.selected;break}case"position":{typeof e.position<"u"&&(t.position=e.position),typeof e.dragging<"u"&&(t.dragging=e.dragging);break}case"dimensions":{typeof e.dimensions<"u"&&((n=t.measured)!=null||(t.measured={}),t.measured.width=e.dimensions.width,t.measured.height=e.dimensions.height,e.setAttributes&&((e.setAttributes===!0||e.setAttributes==="width")&&(t.width=e.dimensions.width),(e.setAttributes===!0||e.setAttributes==="height")&&(t.height=e.dimensions.height))),typeof e.resizing=="boolean"&&(t.resizing=e.resizing);break}}}function XM(e,t){return GM(e,t)}function JM(e,t){return GM(e,t)}function mc(e,t){return{id:e,type:"select",selected:t}}function Gu(e,t=new Set,n=!1){const r=[];for(const[i,o]of e){const s=t.has(i);!(o.selected===void 0&&!s)&&o.selected!==s&&(n&&(o.selected=s),r.push(mc(o.id,s)))}return r}function gA({items:e=[],lookup:t}){var i,o;const n=[],r=new Map(e.map(s=>[s.id,s]));for(const[s,a]of e.entries()){const l=t.get(a.id),c=(o=(i=l==null?void 0:l.internals)==null?void 0:i.userNode)!=null?o:l;c!==void 0&&c!==a&&n.push({id:a.id,item:a,type:"replace"}),c===void 0&&n.push({item:a,type:"add",index:s})}for(const[s]of t)r.get(s)===void 0&&n.push({id:s,type:"remove"});return n}function vA(e){return{id:e.id,type:"remove"}}const yA=e=>XY(e),FX=e=>pM(e);function QM(e){return N.forwardRef(e)}const LX=typeof window<"u"?N.useLayoutEffect:N.useEffect;function xA(e){const[t,n]=N.useState(BigInt(0)),[r]=N.useState(()=>BX(()=>n(i=>i+BigInt(1))));return LX(()=>{const i=r.get();i.length&&(e(i),r.reset())},[t]),r}function BX(e){let t=[];return{get:()=>t,reset:()=>{t=[]},push:n=>{t.push(n),e()}}}const ZM=N.createContext(null);function zX({children:e}){const t=zn(),n=N.useCallback(a=>{const{nodes:l=[],setNodes:c,hasDefaultNodes:u,onNodesChange:f,nodeLookup:h,fitViewQueued:p}=t.getState();let v=l;for(const g of a)v=typeof g=="function"?g(v):g;if(u)c(v);else{const g=gA({items:v,lookup:h});g.length>0?f==null||f(g):p&&window.requestAnimationFrame(()=>{const{fitViewQueued:b,nodes:m,setNodes:y}=t.getState();b&&y(m)})}},[]),r=xA(n),i=N.useCallback(a=>{const{edges:l=[],setEdges:c,hasDefaultEdges:u,onEdgesChange:f,edgeLookup:h}=t.getState();let p=l;for(const v of a)p=typeof v=="function"?v(p):v;u?c(p):f&&f(gA({items:p,lookup:h}))},[]),o=xA(i),s=N.useMemo(()=>({nodeQueue:r,edgeQueue:o}),[]);return d.jsx(ZM.Provider,{value:s,children:e})}function HX(){const e=N.useContext(ZM);if(!e)throw new Error("useBatchContext must be used within a BatchProvider");return e}const WX=e=>!!e.panZoom;function Cn(){const e=$X(),t=zn(),n=HX(),r=dn(WX),i=N.useMemo(()=>{const o=f=>t.getState().nodeLookup.get(f),s=f=>{n.nodeQueue.push(f)},a=f=>{n.edgeQueue.push(f)},l=f=>{var m,y,x,k;const{nodeLookup:h,nodeOrigin:p}=t.getState(),v=yA(f)?f:h.get(f.id),g=v.parentId?bM(v.position,v.measured,v.parentId,h,p):v.position,b={...v,position:g,width:(y=(m=v.measured)==null?void 0:m.width)!=null?y:v.width,height:(k=(x=v.measured)==null?void 0:x.height)!=null?k:v.height};return Pd(b)},c=(f,h,p={replace:!1})=>{s(v=>v.map(g=>{if(g.id===f){const b=typeof h=="function"?h(g):h;return p.replace&&yA(b)?b:{...g,...b}}return g}))},u=(f,h,p={replace:!1})=>{a(v=>v.map(g=>{if(g.id===f){const b=typeof h=="function"?h(g):h;return p.replace&&FX(b)?b:{...g,...b}}return g}))};return{getNodes:()=>t.getState().nodes.map(f=>({...f})),getNode:f=>{var h;return(h=o(f))==null?void 0:h.internals.userNode},getInternalNode:o,getEdges:()=>{const{edges:f=[]}=t.getState();return f.map(h=>({...h}))},getEdge:f=>t.getState().edgeLookup.get(f),setNodes:s,setEdges:a,addNodes:f=>{const h=Array.isArray(f)?f:[f];n.nodeQueue.push(p=>[...p,...h])},addEdges:f=>{const h=Array.isArray(f)?f:[f];n.edgeQueue.push(p=>[...p,...h])},toObject:()=>{const{nodes:f=[],edges:h=[],transform:p}=t.getState(),[v,g,b]=p;return{nodes:f.map(m=>({...m})),edges:h.map(m=>({...m})),viewport:{x:v,y:g,zoom:b}}},deleteElements:async({nodes:f=[],edges:h=[]})=>{const{nodes:p,edges:v,onNodesDelete:g,onEdgesDelete:b,triggerNodeChanges:m,triggerEdgeChanges:y,onDelete:x,onBeforeDelete:k}=t.getState(),{nodes:S,edges:E}=await tG({nodesToRemove:f,edgesToRemove:h,nodes:p,edges:v,onBeforeDelete:k}),T=E.length>0,M=S.length>0;if(T){const W=E.map(vA);b==null||b(E),y(W)}if(M){const W=S.map(vA);g==null||g(S),m(W)}return(M||T)&&(x==null||x({nodes:S,edges:E})),{deletedNodes:S,deletedEdges:E}},getIntersectingNodes:(f,h=!0,p)=>{const v=GN(f),g=v?f:l(f),b=p!==void 0;return g?(p||t.getState().nodes).filter(m=>{const y=t.getState().nodeLookup.get(m.id);if(y&&!v&&(m.id===f.id||!y.internals.positionAbsolute))return!1;const x=Pd(b?m:y),k=Cp(x,g);return h&&k>0||k>=g.width*g.height}):[]},isNodeIntersecting:(f,h,p=!0)=>{const g=GN(f)?f:l(f);if(!g)return!1;const b=Cp(g,h);return p&&b>0||b>=g.width*g.height},updateNode:c,updateNodeData:(f,h,p={replace:!1})=>{c(f,v=>{const g=typeof h=="function"?h(v):h;return p.replace?{...v,data:g}:{...v,data:{...v.data,...g}}},p)},updateEdge:u,updateEdgeData:(f,h,p={replace:!1})=>{u(f,v=>{const g=typeof h=="function"?h(v):h;return p.replace?{...v,data:g}:{...v,data:{...v.data,...g}}},p)},getNodesBounds:f=>{const{nodeLookup:h,nodeOrigin:p}=t.getState();return JY(f,{nodeLookup:h,nodeOrigin:p})},getHandleConnections:({type:f,id:h,nodeId:p})=>{var v,g;return Array.from((g=(v=t.getState().connectionLookup.get("".concat(p,"-").concat(f).concat(h?"-".concat(h):"")))==null?void 0:v.values())!=null?g:[])},getNodeConnections:({type:f,handleId:h,nodeId:p})=>{var v,g;return Array.from((g=(v=t.getState().connectionLookup.get("".concat(p).concat(f?h?"-".concat(f,"-").concat(h):"-".concat(f):"")))==null?void 0:v.values())!=null?g:[])},fitView:async f=>{var p;const h=(p=t.getState().fitViewResolver)!=null?p:oG();return t.setState({fitViewQueued:!0,fitViewOptions:f,fitViewResolver:h}),n.nodeQueue.push(v=>[...v]),h.promise}}},[]);return N.useMemo(()=>({...i,...e,viewportInitialized:r}),[r])}const wA=e=>e.selected,UX={actInsideInputWithModifier:!1},VX=typeof window<"u"?window:void 0;function qX({deleteKeyCode:e,multiSelectionKeyCode:t}){const n=zn(),{deleteElements:r}=Cn(),i=Np(e,UX),o=Np(t,{target:VX});N.useEffect(()=>{if(i){const{edges:s,nodes:a}=n.getState();r({nodes:a.filter(wA),edges:s.filter(wA)}),n.setState({nodesSelectionActive:!1})}},[i]),N.useEffect(()=>{n.setState({multiSelectionActive:o})},[o])}function KX(e){const t=zn();N.useEffect(()=>{const n=()=>{var i,o;if(!e.current)return!1;const r=US(e.current);(r.height===0||r.width===0)&&((o=(i=t.getState()).onError)==null||o.call(i,"004",hs.error004())),t.setState({width:r.width||500,height:r.height||500})};if(e.current){n(),window.addEventListener("resize",n);const r=new ResizeObserver(()=>n());return r.observe(e.current),()=>{window.removeEventListener("resize",n),r&&e.current&&r.unobserve(e.current)}}},[])}const Z0={position:"absolute",width:"100%",height:"100%",top:0,left:0},YX=e=>({userSelectionActive:e.userSelectionActive,lib:e.lib});function GX({onPaneContextMenu:e,zoomOnScroll:t=!0,zoomOnPinch:n=!0,panOnScroll:r=!1,panOnScrollSpeed:i=.5,panOnScrollMode:o=Oc.Free,zoomOnDoubleClick:s=!0,panOnDrag:a=!0,defaultViewport:l,translateExtent:c,minZoom:u,maxZoom:f,zoomActivationKeyCode:h,preventScrolling:p=!0,children:v,noWheelClassName:g,noPanClassName:b,onViewportChange:m,isControlledViewport:y,paneClickDistance:x}){const k=zn(),S=N.useRef(null),{userSelectionActive:E,lib:T}=dn(YX,ur),M=Np(h),W=N.useRef();KX(S);const F=N.useCallback(L=>{m==null||m({x:L[0],y:L[1],zoom:L[2]}),y||k.setState({transform:L})},[m,y]);return N.useEffect(()=>{if(S.current){W.current=FG({domNode:S.current,minZoom:u,maxZoom:f,translateExtent:c,viewport:l,paneClickDistance:x,onDraggingChange:H=>k.setState({paneDragging:H}),onPanZoomStart:(H,J)=>{const{onViewportChangeStart:I,onMoveStart:U}=k.getState();U==null||U(H,J),I==null||I(J)},onPanZoom:(H,J)=>{const{onViewportChange:I,onMove:U}=k.getState();U==null||U(H,J),I==null||I(J)},onPanZoomEnd:(H,J)=>{const{onViewportChangeEnd:I,onMoveEnd:U}=k.getState();U==null||U(H,J),I==null||I(J)}});const{x:L,y:G,zoom:z}=W.current.getViewport();return k.setState({panZoom:W.current,transform:[L,G,z],domNode:S.current.closest(".react-flow")}),()=>{var H;(H=W.current)==null||H.destroy()}}},[]),N.useEffect(()=>{var L;(L=W.current)==null||L.update({onPaneContextMenu:e,zoomOnScroll:t,zoomOnPinch:n,panOnScroll:r,panOnScrollSpeed:i,panOnScrollMode:o,zoomOnDoubleClick:s,panOnDrag:a,zoomActivationKeyPressed:M,preventScrolling:p,noPanClassName:b,userSelectionActive:E,noWheelClassName:g,lib:T,onTransformChange:F})},[e,t,n,r,i,o,s,a,M,p,b,E,g,T,F]),d.jsx("div",{className:"react-flow__renderer",ref:S,style:Z0,children:v})}const XX=e=>({userSelectionActive:e.userSelectionActive,userSelectionRect:e.userSelectionRect});function JX(){const{userSelectionActive:e,userSelectionRect:t}=dn(XX,ur);return e&&t?d.jsx("div",{className:"react-flow__selection react-flow__container",style:{width:t.width,height:t.height,transform:"translate(".concat(t.x,"px, ").concat(t.y,"px)")}}):null}const Jw=(e,t)=>n=>{n.target===t.current&&(e==null||e(n))},QX=e=>({userSelectionActive:e.userSelectionActive,elementsSelectable:e.elementsSelectable,connectionInProgress:e.connection.inProgress,dragging:e.paneDragging});function ZX({isSelecting:e,selectionKeyPressed:t,selectionMode:n=Ep.Full,panOnDrag:r,selectionOnDrag:i,onSelectionStart:o,onSelectionEnd:s,onPaneClick:a,onPaneContextMenu:l,onPaneScroll:c,onPaneMouseEnter:u,onPaneMouseMove:f,onPaneMouseLeave:h,children:p}){const v=zn(),{userSelectionActive:g,elementsSelectable:b,dragging:m,connectionInProgress:y}=dn(QX,ur),x=b&&(e||g),k=N.useRef(null),S=N.useRef(),E=N.useRef(new Set),T=N.useRef(new Set),M=N.useRef(!1),W=N.useRef(!1),F=U=>{if(M.current||y){M.current=!1;return}a==null||a(U),v.getState().resetSelectedElements(),v.setState({nodesSelectionActive:!1})},L=U=>{if(Array.isArray(r)&&(r!=null&&r.includes(2))){U.preventDefault();return}l==null||l(U)},G=c?U=>c(U):void 0,z=U=>{var ie,ae;const{resetSelectedElements:O,domNode:D}=v.getState();if(S.current=D==null?void 0:D.getBoundingClientRect(),!b||!e||U.button!==0||U.target!==k.current||!S.current)return;(ae=(ie=U.target)==null?void 0:ie.setPointerCapture)==null||ae.call(ie,U.pointerId),W.current=!0,M.current=!1;const{x:$,y:Y}=Ra(U.nativeEvent,S.current);O(),v.setState({userSelectionRect:{width:0,height:0,startX:$,startY:Y,x:$,y:Y}}),o==null||o(U)},H=U=>{var fe,je;const{userSelectionRect:O,transform:D,nodeLookup:$,edgeLookup:Y,connectionLookup:ie,triggerNodeChanges:ae,triggerEdgeChanges:xe,defaultEdgeOptions:ke}=v.getState();if(!S.current||!O)return;M.current=!0;const{x:Ne,y:V}=Ra(U.nativeEvent,S.current),{startX:Q,startY:re}=O,Pe={startX:Q,startY:re,x:Ne<Q?Ne:Q,y:V<re?V:re,width:Math.abs(Ne-Q),height:Math.abs(V-re)},Ye=E.current,ze=T.current;E.current=new Set(mM($,Pe,D,n===Ep.Partial,!0).map(Ve=>Ve.id)),T.current=new Set;const se=(fe=ke==null?void 0:ke.selectable)!=null?fe:!0;for(const Ve of E.current){const qe=ie.get(Ve);if(qe)for(const{edgeId:Je}of qe.values()){const pe=Y.get(Je);pe&&((je=pe.selectable)!=null?je:se)&&T.current.add(Je)}}if(!XN(Ye,E.current)){const Ve=Gu($,E.current,!0);ae(Ve)}if(!XN(ze,T.current)){const Ve=Gu(Y,T.current);xe(Ve)}v.setState({userSelectionRect:Pe,userSelectionActive:!0,nodesSelectionActive:!1})},J=U=>{var D,$;if(U.button!==0||!W.current)return;($=(D=U.target)==null?void 0:D.releasePointerCapture)==null||$.call(D,U.pointerId);const{userSelectionRect:O}=v.getState();!g&&O&&U.target===k.current&&(F==null||F(U)),v.setState({userSelectionActive:!1,userSelectionRect:null,nodesSelectionActive:E.current.size>0}),s==null||s(U),(t||i)&&(M.current=!1),W.current=!1},I=r===!0||Array.isArray(r)&&r.includes(0);return d.jsxs("div",{className:Cr(["react-flow__pane",{draggable:I,dragging:m,selection:e}]),onClick:x?void 0:Jw(F,k),onContextMenu:Jw(L,k),onWheel:Jw(G,k),onPointerEnter:x?void 0:u,onPointerDown:x?z:f,onPointerMove:x?H:f,onPointerUp:x?J:void 0,onPointerLeave:h,ref:k,style:Z0,children:[p,d.jsx(JX,{})]})}function X_({id:e,store:t,unselect:n=!1,nodeRef:r}){const{addSelectedNodes:i,unselectNodesAndEdges:o,multiSelectionActive:s,nodeLookup:a,onError:l}=t.getState(),c=a.get(e);if(!c){l==null||l("012",hs.error012(e));return}t.setState({nodesSelectionActive:!1}),c.selected?(n||c.selected&&s)&&(o({nodes:[c],edges:[]}),requestAnimationFrame(()=>{var u;return(u=r==null?void 0:r.current)==null?void 0:u.blur()})):i([e])}function e$({nodeRef:e,disabled:t=!1,noDragClassName:n,handleSelector:r,nodeId:i,isSelectable:o,nodeClickDistance:s}){const a=zn(),[l,c]=N.useState(!1),u=N.useRef();return N.useEffect(()=>{u.current=SG({getStoreItems:()=>a.getState(),onNodeMouseDown:f=>{X_({id:f,store:a,nodeRef:e})},onDragStart:()=>{c(!0)},onDragStop:()=>{c(!1)}})},[]),N.useEffect(()=>{var f,h;if(t)(f=u.current)==null||f.destroy();else if(e.current)return(h=u.current)==null||h.update({noDragClassName:n,handleSelector:r,domNode:e.current,isSelectable:o,nodeId:i,nodeClickDistance:s}),()=>{var p;(p=u.current)==null||p.destroy()}},[n,r,t,o,e,i]),l}const eJ=e=>t=>t.selected&&(t.draggable||e&&typeof t.draggable>"u");function t$(){const e=zn();return N.useCallback(n=>{const{nodeExtent:r,snapToGrid:i,snapGrid:o,nodesDraggable:s,onError:a,updateNodePositions:l,nodeLookup:c,nodeOrigin:u}=e.getState(),f=new Map,h=eJ(s),p=i?o[0]:5,v=i?o[1]:5,g=n.direction.x*p*n.factor,b=n.direction.y*v*n.factor;for(const[,m]of c){if(!h(m))continue;let y={x:m.internals.positionAbsolute.x+g,y:m.internals.positionAbsolute.y+b};i&&(y=G0(y,o));const{position:x,positionAbsolute:k}=gM({nodeId:m.id,nextPosition:y,nodeLookup:c,nodeExtent:r,nodeOrigin:u,onError:a});m.position=x,m.internals.positionAbsolute=k,f.set(m.id,m)}l(f)},[])}const GS=N.createContext(null),tJ=GS.Provider;GS.Consumer;const XS=()=>N.useContext(GS),nJ=e=>({connectOnClick:e.connectOnClick,noPanClassName:e.noPanClassName,rfId:e.rfId}),rJ=(e,t,n)=>r=>{const{connectionClickStartHandle:i,connectionMode:o,connection:s}=r,{fromHandle:a,toHandle:l,isValid:c}=s,u=(l==null?void 0:l.nodeId)===e&&(l==null?void 0:l.id)===t&&(l==null?void 0:l.type)===n;return{connectingFrom:(a==null?void 0:a.nodeId)===e&&(a==null?void 0:a.id)===t&&(a==null?void 0:a.type)===n,connectingTo:u,clickConnecting:(i==null?void 0:i.nodeId)===e&&(i==null?void 0:i.id)===t&&(i==null?void 0:i.type)===n,isPossibleEndHandle:o===Rd.Strict?(a==null?void 0:a.type)!==n:e!==(a==null?void 0:a.nodeId)||t!==(a==null?void 0:a.id),connectionInProcess:!!a,clickConnectionInProcess:!!i,valid:u&&c}};function iJ({type:e="source",position:t=ye.Top,isValidConnection:n,isConnectable:r=!0,isConnectableStart:i=!0,isConnectableEnd:o=!0,id:s,onConnect:a,children:l,className:c,onMouseDown:u,onTouchStart:f,...h},p){var J,I;const v=s||null,g=e==="target",b=zn(),m=XS(),{connectOnClick:y,noPanClassName:x,rfId:k}=dn(nJ,ur),{connectingFrom:S,connectingTo:E,clickConnecting:T,isPossibleEndHandle:M,connectionInProcess:W,clickConnectionInProcess:F,valid:L}=dn(rJ(m,v,e),ur);m||(I=(J=b.getState()).onError)==null||I.call(J,"010",hs.error010());const G=U=>{const{defaultEdgeOptions:O,onConnect:D,hasDefaultEdges:$}=b.getState(),Y={...O,...U};if($){const{edges:ie,setEdges:ae}=b.getState();ae(NM(Y,ie))}D==null||D(Y),a==null||a(Y)},z=U=>{if(!m)return;const O=SM(U.nativeEvent);if(i&&(O&&U.button===0||!O)){const D=b.getState();G_.onPointerDown(U.nativeEvent,{autoPanOnConnect:D.autoPanOnConnect,connectionMode:D.connectionMode,connectionRadius:D.connectionRadius,domNode:D.domNode,nodeLookup:D.nodeLookup,lib:D.lib,isTarget:g,handleId:v,nodeId:m,flowId:D.rfId,panBy:D.panBy,cancelConnection:D.cancelConnection,onConnectStart:D.onConnectStart,onConnectEnd:D.onConnectEnd,updateConnection:D.updateConnection,onConnect:G,isValidConnection:n||D.isValidConnection,getTransform:()=>b.getState().transform,getFromHandle:()=>b.getState().connection.fromHandle,autoPanSpeed:D.autoPanSpeed})}O?u==null||u(U):f==null||f(U)},H=U=>{const{onClickConnectStart:O,onClickConnectEnd:D,connectionClickStartHandle:$,connectionMode:Y,isValidConnection:ie,lib:ae,rfId:xe,nodeLookup:ke,connection:Ne}=b.getState();if(!m||!$&&!i)return;if(!$){O==null||O(U.nativeEvent,{nodeId:m,handleId:v,handleType:e}),b.setState({connectionClickStartHandle:{nodeId:m,type:e,id:v}});return}const V=_M(U.target),Q=n||ie,{connection:re,isValid:Pe}=G_.isValid(U.nativeEvent,{handle:{nodeId:m,id:v,type:e},connectionMode:Y,fromNodeId:$.nodeId,fromHandleId:$.id||null,fromType:$.type,isValidConnection:Q,flowId:xe,doc:V,lib:ae,nodeLookup:ke});Pe&&re&&G(re);const Ye=structuredClone(Ne);delete Ye.inProgress,Ye.toPosition=Ye.toHandle?Ye.toHandle.position:null,D==null||D(U,Ye),b.setState({connectionClickStartHandle:null})};return d.jsx("div",{"data-handleid":v,"data-nodeid":m,"data-handlepos":t,"data-id":"".concat(k,"-").concat(m,"-").concat(v,"-").concat(e),className:Cr(["react-flow__handle","react-flow__handle-".concat(t),"nodrag",x,c,{source:!g,target:g,connectable:r,connectablestart:i,connectableend:o,clickconnecting:T,connectingfrom:S,connectingto:E,valid:L,connectionindicator:r&&(!W||M)&&(W||F?o:i)}]),onMouseDown:z,onTouchStart:z,onClick:y?H:void 0,ref:p,...h,children:l})}const Oe=N.memo(QM(iJ));function oJ({data:e,isConnectable:t,sourcePosition:n=ye.Bottom}){return d.jsxs(d.Fragment,{children:[e==null?void 0:e.label,d.jsx(Oe,{type:"source",position:n,isConnectable:t})]})}function sJ({data:e,isConnectable:t,targetPosition:n=ye.Top,sourcePosition:r=ye.Bottom}){return d.jsxs(d.Fragment,{children:[d.jsx(Oe,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label,d.jsx(Oe,{type:"source",position:r,isConnectable:t})]})}function aJ(){return null}function lJ({data:e,isConnectable:t,targetPosition:n=ye.Top}){return d.jsxs(d.Fragment,{children:[d.jsx(Oe,{type:"target",position:n,isConnectable:t}),e==null?void 0:e.label]})}const gy={ArrowUp:{x:0,y:-1},ArrowDown:{x:0,y:1},ArrowLeft:{x:-1,y:0},ArrowRight:{x:1,y:0}},bA={input:oJ,default:sJ,output:lJ,group:aJ};function cJ(e){var t,n,r,i,o,s,a,l,c,u;return e.internals.handleBounds===void 0?{width:(r=(t=e.width)!=null?t:e.initialWidth)!=null?r:(n=e.style)==null?void 0:n.width,height:(s=(i=e.height)!=null?i:e.initialHeight)!=null?s:(o=e.style)==null?void 0:o.height}:{width:(l=e.width)!=null?l:(a=e.style)==null?void 0:a.width,height:(u=e.height)!=null?u:(c=e.style)==null?void 0:c.height}}const uJ=e=>{const{width:t,height:n,x:r,y:i}=lm(e.nodeLookup,{filter:o=>!!o.selected});return{width:os(t)?t:null,height:os(n)?n:null,userSelectionActive:e.userSelectionActive,transformString:"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],") translate(").concat(r,"px,").concat(i,"px)")}};function dJ({onSelectionContextMenu:e,noPanClassName:t,disableKeyboardA11y:n}){const r=zn(),{width:i,height:o,transformString:s,userSelectionActive:a}=dn(uJ,ur),l=t$(),c=N.useRef(null);if(N.useEffect(()=>{var h;n||(h=c.current)==null||h.focus({preventScroll:!0})},[n]),e$({nodeRef:c}),a||!i||!o)return null;const u=e?h=>{const p=r.getState().nodes.filter(v=>v.selected);e(h,p)}:void 0,f=h=>{Object.prototype.hasOwnProperty.call(gy,h.key)&&(h.preventDefault(),l({direction:gy[h.key],factor:h.shiftKey?4:1}))};return d.jsx("div",{className:Cr(["react-flow__nodesselection","react-flow__container",t]),style:{transform:s},children:d.jsx("div",{ref:c,className:"react-flow__nodesselection-rect",onContextMenu:u,tabIndex:n?void 0:-1,onKeyDown:n?void 0:f,style:{width:i,height:o}})})}const _A=typeof window<"u"?window:void 0,fJ=e=>({nodesSelectionActive:e.nodesSelectionActive,userSelectionActive:e.userSelectionActive});function n$({children:e,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,paneClickDistance:a,deleteKeyCode:l,selectionKeyCode:c,selectionOnDrag:u,selectionMode:f,onSelectionStart:h,onSelectionEnd:p,multiSelectionKeyCode:v,panActivationKeyCode:g,zoomActivationKeyCode:b,elementsSelectable:m,zoomOnScroll:y,zoomOnPinch:x,panOnScroll:k,panOnScrollSpeed:S,panOnScrollMode:E,zoomOnDoubleClick:T,panOnDrag:M,defaultViewport:W,translateExtent:F,minZoom:L,maxZoom:G,preventScrolling:z,onSelectionContextMenu:H,noWheelClassName:J,noPanClassName:I,disableKeyboardA11y:U,onViewportChange:O,isControlledViewport:D}){const{nodesSelectionActive:$,userSelectionActive:Y}=dn(fJ),ie=Np(c,{target:_A}),ae=Np(g,{target:_A}),xe=ae||M,ke=ae||k,Ne=u&&xe!==!0,V=ie||Y||Ne;return qX({deleteKeyCode:l,multiSelectionKeyCode:v}),d.jsx(GX,{onPaneContextMenu:o,elementsSelectable:m,zoomOnScroll:y,zoomOnPinch:x,panOnScroll:ke,panOnScrollSpeed:S,panOnScrollMode:E,zoomOnDoubleClick:T,panOnDrag:!ie&&xe,defaultViewport:W,translateExtent:F,minZoom:L,maxZoom:G,zoomActivationKeyCode:b,preventScrolling:z,noWheelClassName:J,noPanClassName:I,onViewportChange:O,isControlledViewport:D,paneClickDistance:a,children:d.jsxs(ZX,{onSelectionStart:h,onSelectionEnd:p,onPaneClick:t,onPaneMouseEnter:n,onPaneMouseMove:r,onPaneMouseLeave:i,onPaneContextMenu:o,onPaneScroll:s,panOnDrag:xe,isSelecting:!!V,selectionMode:f,selectionKeyPressed:ie,selectionOnDrag:Ne,children:[e,$&&d.jsx(dJ,{onSelectionContextMenu:H,noPanClassName:I,disableKeyboardA11y:U})]})})}n$.displayName="FlowRenderer";const hJ=N.memo(n$),pJ=e=>t=>e?mM(t.nodeLookup,{x:0,y:0,width:t.width,height:t.height},t.transform,!0).map(n=>n.id):Array.from(t.nodeLookup.keys());function mJ(e){return dn(N.useCallback(pJ(e),[e]),ur)}const gJ=e=>e.updateNodeInternals;function vJ(){const e=dn(gJ),[t]=N.useState(()=>typeof ResizeObserver>"u"?null:new ResizeObserver(n=>{const r=new Map;n.forEach(i=>{const o=i.target.getAttribute("data-id");r.set(o,{id:o,nodeElement:i.target,force:!0})}),e(r)}));return N.useEffect(()=>()=>{t==null||t.disconnect()},[t]),t}function yJ({node:e,nodeType:t,hasDimensions:n,resizeObserver:r}){const i=zn(),o=N.useRef(null),s=N.useRef(null),a=N.useRef(e.sourcePosition),l=N.useRef(e.targetPosition),c=N.useRef(t),u=n&&!!e.internals.handleBounds;return N.useEffect(()=>{o.current&&!e.hidden&&(!u||s.current!==o.current)&&(s.current&&(r==null||r.unobserve(s.current)),r==null||r.observe(o.current),s.current=o.current)},[u,e.hidden]),N.useEffect(()=>()=>{s.current&&(r==null||r.unobserve(s.current),s.current=null)},[]),N.useEffect(()=>{if(o.current){const f=c.current!==t,h=a.current!==e.sourcePosition,p=l.current!==e.targetPosition;(f||h||p)&&(c.current=t,a.current=e.sourcePosition,l.current=e.targetPosition,i.getState().updateNodeInternals(new Map([[e.id,{id:e.id,nodeElement:o.current,force:!0}]])))}},[e.id,t,e.sourcePosition,e.targetPosition]),o}function xJ({id:e,onClick:t,onMouseEnter:n,onMouseMove:r,onMouseLeave:i,onContextMenu:o,onDoubleClick:s,nodesDraggable:a,elementsSelectable:l,nodesConnectable:c,nodesFocusable:u,resizeObserver:f,noDragClassName:h,noPanClassName:p,disableKeyboardA11y:v,rfId:g,nodeTypes:b,nodeClickDistance:m,onError:y}){var V,Q;const{node:x,internals:k,isParent:S}=dn(re=>{const Pe=re.nodeLookup.get(e),Ye=re.parentLookup.has(e);return{node:Pe,internals:Pe.internals,isParent:Ye}},ur);let E=x.type||"default",T=(b==null?void 0:b[E])||bA[E];T===void 0&&(y==null||y("003",hs.error003(E)),E="default",T=bA.default);const M=!!(x.draggable||a&&typeof x.draggable>"u"),W=!!(x.selectable||l&&typeof x.selectable>"u"),F=!!(x.connectable||c&&typeof x.connectable>"u"),L=!!(x.focusable||u&&typeof x.focusable>"u"),G=zn(),z=wM(x),H=yJ({node:x,nodeType:E,hasDimensions:z,resizeObserver:f}),J=e$({nodeRef:H,disabled:x.hidden||!M,noDragClassName:h,handleSelector:x.dragHandle,nodeId:e,isSelectable:W,nodeClickDistance:m}),I=t$();if(x.hidden)return null;const U=Ga(x),O=cJ(x),D=W||M||t||n||r||i,$=n?re=>n(re,{...k.userNode}):void 0,Y=r?re=>r(re,{...k.userNode}):void 0,ie=i?re=>i(re,{...k.userNode}):void 0,ae=o?re=>o(re,{...k.userNode}):void 0,xe=s?re=>s(re,{...k.userNode}):void 0,ke=re=>{const{selectNodesOnDrag:Pe,nodeDragThreshold:Ye}=G.getState();W&&(!Pe||!M||Ye>0)&&X_({id:e,store:G,nodeRef:H}),t&&t(re,{...k.userNode})},Ne=re=>{if(!(kM(re.nativeEvent)||v))if(dM.includes(re.key)&&W){const Pe=re.key==="Escape";X_({id:e,store:G,unselect:Pe,nodeRef:H})}else M&&x.selected&&Object.prototype.hasOwnProperty.call(gy,re.key)&&(re.preventDefault(),G.setState({ariaLiveMessage:"Moved selected node ".concat(re.key.replace("Arrow","").toLowerCase(),". New position, x: ").concat(~~k.positionAbsolute.x,", y: ").concat(~~k.positionAbsolute.y)}),I({direction:gy[re.key],factor:re.shiftKey?4:1}))};return d.jsx("div",{className:Cr(["react-flow__node","react-flow__node-".concat(E),{[p]:M},x.className,{selected:x.selected,selectable:W,parent:S,draggable:M,dragging:J}]),ref:H,style:{zIndex:k.z,transform:"translate(".concat(k.positionAbsolute.x,"px,").concat(k.positionAbsolute.y,"px)"),pointerEvents:D?"all":"none",visibility:z?"visible":"hidden",...x.style,...O},"data-id":e,"data-testid":"rf__node-".concat(e),onMouseEnter:$,onMouseMove:Y,onMouseLeave:ie,onContextMenu:ae,onClick:ke,onDoubleClick:xe,onKeyDown:L?Ne:void 0,tabIndex:L?0:void 0,role:L?"button":void 0,"aria-describedby":v?void 0:"".concat(qM,"-").concat(g),"aria-label":x.ariaLabel,children:d.jsx(tJ,{value:e,children:d.jsx(T,{id:e,data:x.data,type:E,positionAbsoluteX:k.positionAbsolute.x,positionAbsoluteY:k.positionAbsolute.y,selected:(V=x.selected)!=null?V:!1,selectable:W,draggable:M,deletable:(Q=x.deletable)!=null?Q:!0,isConnectable:F,sourcePosition:x.sourcePosition,targetPosition:x.targetPosition,dragging:J,dragHandle:x.dragHandle,zIndex:k.z,parentId:x.parentId,...U})})})}const wJ=e=>({nodesDraggable:e.nodesDraggable,nodesConnectable:e.nodesConnectable,nodesFocusable:e.nodesFocusable,elementsSelectable:e.elementsSelectable,onError:e.onError});function r$(e){const{nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,onError:o}=dn(wJ,ur),s=mJ(e.onlyRenderVisibleElements),a=vJ();return d.jsx("div",{className:"react-flow__nodes",style:Z0,children:s.map(l=>d.jsx(xJ,{id:l,nodeTypes:e.nodeTypes,nodeExtent:e.nodeExtent,onClick:e.onNodeClick,onMouseEnter:e.onNodeMouseEnter,onMouseMove:e.onNodeMouseMove,onMouseLeave:e.onNodeMouseLeave,onContextMenu:e.onNodeContextMenu,onDoubleClick:e.onNodeDoubleClick,noDragClassName:e.noDragClassName,noPanClassName:e.noPanClassName,rfId:e.rfId,disableKeyboardA11y:e.disableKeyboardA11y,resizeObserver:a,nodesDraggable:t,nodesConnectable:n,nodesFocusable:r,elementsSelectable:i,nodeClickDistance:e.nodeClickDistance,onError:o},l))})}r$.displayName="NodeRenderer";const bJ=N.memo(r$);function _J(e){return dn(N.useCallback(n=>{if(!e)return n.edges.map(i=>i.id);const r=[];if(n.width&&n.height)for(const i of n.edges){const o=n.nodeLookup.get(i.source),s=n.nodeLookup.get(i.target);o&&s&&lG({sourceNode:o,targetNode:s,width:n.width,height:n.height,transform:n.transform})&&r.push(i.id)}return r},[e]),ur)}const kJ=({color:e="none",strokeWidth:t=1})=>d.jsx("polyline",{style:{stroke:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",fill:"none",points:"-5,-4 0,0 -5,4"}),SJ=({color:e="none",strokeWidth:t=1})=>d.jsx("polyline",{style:{stroke:e,fill:e,strokeWidth:t},strokeLinecap:"round",strokeLinejoin:"round",points:"-5,-4 0,0 -5,4 -5,-4"}),kA={[fy.Arrow]:kJ,[fy.ArrowClosed]:SJ};function EJ(e){const t=zn();return N.useMemo(()=>{var i,o;return Object.prototype.hasOwnProperty.call(kA,e)?kA[e]:((o=(i=t.getState()).onError)==null||o.call(i,"009",hs.error009(e)),null)},[e])}const CJ=({id:e,type:t,color:n,width:r=12.5,height:i=12.5,markerUnits:o="strokeWidth",strokeWidth:s,orient:a="auto-start-reverse"})=>{const l=EJ(t);return l?d.jsx("marker",{className:"react-flow__arrowhead",id:e,markerWidth:"".concat(r),markerHeight:"".concat(i),viewBox:"-10 -10 20 20",markerUnits:o,orient:a,refX:"0",refY:"0",children:d.jsx(l,{color:n,strokeWidth:s})}):null},i$=({defaultColor:e,rfId:t})=>{const n=dn(o=>o.edges),r=dn(o=>o.defaultEdgeOptions),i=N.useMemo(()=>mG(n,{id:t,defaultColor:e,defaultMarkerStart:r==null?void 0:r.markerStart,defaultMarkerEnd:r==null?void 0:r.markerEnd}),[n,r,t,e]);return i.length?d.jsx("svg",{className:"react-flow__marker","aria-hidden":"true",children:d.jsx("defs",{children:i.map(o=>d.jsx(CJ,{id:o.id,type:o.type,color:o.color,width:o.width,height:o.height,markerUnits:o.markerUnits,strokeWidth:o.strokeWidth,orient:o.orient},o.id))})}):null};i$.displayName="MarkerDefinitions";var jJ=N.memo(i$);function o$({x:e,y:t,label:n,labelStyle:r,labelShowBg:i=!0,labelBgStyle:o,labelBgPadding:s=[2,4],labelBgBorderRadius:a=2,children:l,className:c,...u}){const[f,h]=N.useState({x:1,y:0,width:0,height:0}),p=Cr(["react-flow__edge-textwrapper",c]),v=N.useRef(null);return N.useEffect(()=>{if(v.current){const g=v.current.getBBox();h({x:g.x,y:g.y,width:g.width,height:g.height})}},[n]),n?d.jsxs("g",{transform:"translate(".concat(e-f.width/2," ").concat(t-f.height/2,")"),className:p,visibility:f.width?"visible":"hidden",...u,children:[i&&d.jsx("rect",{width:f.width+2*s[0],x:-s[0],y:-s[1],height:f.height+2*s[1],className:"react-flow__edge-textbg",style:o,rx:a,ry:a}),d.jsx("text",{className:"react-flow__edge-text",y:f.height/2,dy:"0.3em",ref:v,style:r,children:n}),l]}):null}o$.displayName="EdgeText";const NJ=N.memo(o$);function ex({path:e,labelX:t,labelY:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l,interactionWidth:c=20,...u}){return d.jsxs(d.Fragment,{children:[d.jsx("path",{...u,d:e,fill:"none",className:Cr(["react-flow__edge-path",u.className])}),c&&d.jsx("path",{d:e,fill:"none",strokeOpacity:0,strokeWidth:c,className:"react-flow__edge-interaction"}),r&&os(t)&&os(n)?d.jsx(NJ,{x:t,y:n,label:r,labelStyle:i,labelShowBg:o,labelBgStyle:s,labelBgPadding:a,labelBgBorderRadius:l}):null]})}function SA({pos:e,x1:t,y1:n,x2:r,y2:i}){return e===ye.Left||e===ye.Right?[.5*(t+r),n]:[t,.5*(n+i)]}function s$({sourceX:e,sourceY:t,sourcePosition:n=ye.Bottom,targetX:r,targetY:i,targetPosition:o=ye.Top}){const[s,a]=SA({pos:n,x1:e,y1:t,x2:r,y2:i}),[l,c]=SA({pos:o,x1:r,y1:i,x2:e,y2:t}),[u,f,h,p]=EM({sourceX:e,sourceY:t,targetX:r,targetY:i,sourceControlX:s,sourceControlY:a,targetControlX:l,targetControlY:c});return["M".concat(e,",").concat(t," C").concat(s,",").concat(a," ").concat(l,",").concat(c," ").concat(r,",").concat(i),u,f,h,p]}function a$(e){return N.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s,targetPosition:a,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:v,markerEnd:g,markerStart:b,interactionWidth:m})=>{const[y,x,k]=s$({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a}),S=e.isInternal?void 0:t;return d.jsx(ex,{id:S,path:y,labelX:x,labelY:k,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:v,markerEnd:g,markerStart:b,interactionWidth:m})})}const AJ=a$({isInternal:!1}),l$=a$({isInternal:!0});AJ.displayName="SimpleBezierEdge";l$.displayName="SimpleBezierEdgeInternal";function c$(e){return N.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:h,sourcePosition:p=ye.Bottom,targetPosition:v=ye.Top,markerEnd:g,markerStart:b,pathOptions:m,interactionWidth:y})=>{const[x,k,S]=q_({sourceX:n,sourceY:r,sourcePosition:p,targetX:i,targetY:o,targetPosition:v,borderRadius:m==null?void 0:m.borderRadius,offset:m==null?void 0:m.offset}),E=e.isInternal?void 0:t;return d.jsx(ex,{id:E,path:x,labelX:k,labelY:S,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:h,markerEnd:g,markerStart:b,interactionWidth:y})})}const u$=c$({isInternal:!1}),d$=c$({isInternal:!0});u$.displayName="SmoothStepEdge";d$.displayName="SmoothStepEdgeInternal";function f$(e){return N.memo(({id:t,...n})=>{var i;const r=e.isInternal?void 0:t;return d.jsx(u$,{...n,id:r,pathOptions:N.useMemo(()=>{var o;return{borderRadius:0,offset:(o=n.pathOptions)==null?void 0:o.offset}},[(i=n.pathOptions)==null?void 0:i.offset])})})}const TJ=f$({isInternal:!1}),h$=f$({isInternal:!0});TJ.displayName="StepEdge";h$.displayName="StepEdgeInternal";function p$(e){return N.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:v,interactionWidth:g})=>{const[b,m,y]=AM({sourceX:n,sourceY:r,targetX:i,targetY:o}),x=e.isInternal?void 0:t;return d.jsx(ex,{id:x,path:b,labelX:m,labelY:y,label:s,labelStyle:a,labelShowBg:l,labelBgStyle:c,labelBgPadding:u,labelBgBorderRadius:f,style:h,markerEnd:p,markerStart:v,interactionWidth:g})})}const RJ=p$({isInternal:!1}),m$=p$({isInternal:!0});RJ.displayName="StraightEdge";m$.displayName="StraightEdgeInternal";function g$(e){return N.memo(({id:t,sourceX:n,sourceY:r,targetX:i,targetY:o,sourcePosition:s=ye.Bottom,targetPosition:a=ye.Top,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:v,markerEnd:g,markerStart:b,pathOptions:m,interactionWidth:y})=>{const[x,k,S]=CM({sourceX:n,sourceY:r,sourcePosition:s,targetX:i,targetY:o,targetPosition:a,curvature:m==null?void 0:m.curvature}),E=e.isInternal?void 0:t;return d.jsx(ex,{id:E,path:x,labelX:k,labelY:S,label:l,labelStyle:c,labelShowBg:u,labelBgStyle:f,labelBgPadding:h,labelBgBorderRadius:p,style:v,markerEnd:g,markerStart:b,interactionWidth:y})})}const IJ=g$({isInternal:!1}),v$=g$({isInternal:!0});IJ.displayName="BezierEdge";v$.displayName="BezierEdgeInternal";const EA={default:v$,straight:m$,step:h$,smoothstep:d$,simplebezier:l$},CA={sourceX:null,sourceY:null,targetX:null,targetY:null,sourcePosition:null,targetPosition:null},PJ=(e,t,n)=>n===ye.Left?e-t:n===ye.Right?e+t:e,OJ=(e,t,n)=>n===ye.Top?e-t:n===ye.Bottom?e+t:e,jA="react-flow__edgeupdater";function NA({position:e,centerX:t,centerY:n,radius:r=10,onMouseDown:i,onMouseEnter:o,onMouseOut:s,type:a}){return d.jsx("circle",{onMouseDown:i,onMouseEnter:o,onMouseOut:s,className:Cr([jA,"".concat(jA,"-").concat(a)]),cx:PJ(t,r,e),cy:OJ(n,r,e),r,stroke:"transparent",fill:"transparent"})}function MJ({isReconnectable:e,reconnectRadius:t,edge:n,sourceX:r,sourceY:i,targetX:o,targetY:s,sourcePosition:a,targetPosition:l,onReconnect:c,onReconnectStart:u,onReconnectEnd:f,setReconnecting:h,setUpdateHover:p}){const v=zn(),g=(k,S)=>{if(k.button!==0)return;const{autoPanOnConnect:E,domNode:T,isValidConnection:M,connectionMode:W,connectionRadius:F,lib:L,onConnectStart:G,onConnectEnd:z,cancelConnection:H,nodeLookup:J,rfId:I,panBy:U,updateConnection:O}=v.getState(),D=S.type==="target";h(!0),u==null||u(k,n,S.type);const $=(ie,ae)=>{h(!1),f==null||f(ie,n,S.type,ae)},Y=ie=>c==null?void 0:c(n,ie);G_.onPointerDown(k.nativeEvent,{autoPanOnConnect:E,connectionMode:W,connectionRadius:F,domNode:T,handleId:S.id,nodeId:S.nodeId,nodeLookup:J,isTarget:D,edgeUpdaterType:S.type,lib:L,flowId:I,cancelConnection:H,panBy:U,isValidConnection:M,onConnect:Y,onConnectStart:G,onConnectEnd:z,onReconnectEnd:$,updateConnection:O,getTransform:()=>v.getState().transform,getFromHandle:()=>v.getState().connection.fromHandle})},b=k=>{var S;return g(k,{nodeId:n.target,id:(S=n.targetHandle)!=null?S:null,type:"target"})},m=k=>{var S;return g(k,{nodeId:n.source,id:(S=n.sourceHandle)!=null?S:null,type:"source"})},y=()=>p(!0),x=()=>p(!1);return d.jsxs(d.Fragment,{children:[(e===!0||e==="source")&&d.jsx(NA,{position:a,centerX:r,centerY:i,radius:t,onMouseDown:b,onMouseEnter:y,onMouseOut:x,type:"source"}),(e===!0||e==="target")&&d.jsx(NA,{position:l,centerX:o,centerY:s,radius:t,onMouseDown:m,onMouseEnter:y,onMouseOut:x,type:"target"})]})}function $J({id:e,edgesFocusable:t,edgesReconnectable:n,elementsSelectable:r,onClick:i,onDoubleClick:o,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,reconnectRadius:u,onReconnect:f,onReconnectStart:h,onReconnectEnd:p,rfId:v,edgeTypes:g,noPanClassName:b,onError:m,disableKeyboardA11y:y}){var ze;let x=dn(se=>se.edgeLookup.get(e));const k=dn(se=>se.defaultEdgeOptions);x=k?{...k,...x}:x;let S=x.type||"default",E=(g==null?void 0:g[S])||EA[S];E===void 0&&(m==null||m("011",hs.error011(S)),S="default",E=EA.default);const T=!!(x.focusable||t&&typeof x.focusable>"u"),M=typeof f<"u"&&(x.reconnectable||n&&typeof x.reconnectable>"u"),W=!!(x.selectable||r&&typeof x.selectable>"u"),F=N.useRef(null),[L,G]=N.useState(!1),[z,H]=N.useState(!1),J=zn(),{zIndex:I,sourceX:U,sourceY:O,targetX:D,targetY:$,sourcePosition:Y,targetPosition:ie}=dn(N.useCallback(se=>{const fe=se.nodeLookup.get(x.source),je=se.nodeLookup.get(x.target);if(!fe||!je)return{zIndex:x.zIndex,...CA};const Ve=pG({id:e,sourceNode:fe,targetNode:je,sourceHandle:x.sourceHandle||null,targetHandle:x.targetHandle||null,connectionMode:se.connectionMode,onError:m});return{zIndex:aG({selected:x.selected,zIndex:x.zIndex,sourceNode:fe,targetNode:je,elevateOnSelect:se.elevateEdgesOnSelect}),...Ve||CA}},[x.source,x.target,x.sourceHandle,x.targetHandle,x.selected,x.zIndex]),ur),ae=N.useMemo(()=>x.markerStart?"url('#".concat(K_(x.markerStart,v),"')"):void 0,[x.markerStart,v]),xe=N.useMemo(()=>x.markerEnd?"url('#".concat(K_(x.markerEnd,v),"')"):void 0,[x.markerEnd,v]);if(x.hidden||U===null||O===null||D===null||$===null)return null;const ke=se=>{var qe;const{addSelectedEdges:fe,unselectNodesAndEdges:je,multiSelectionActive:Ve}=J.getState();W&&(J.setState({nodesSelectionActive:!1}),x.selected&&Ve?(je({nodes:[],edges:[x]}),(qe=F.current)==null||qe.blur()):fe([e])),i&&i(se,x)},Ne=o?se=>{o(se,{...x})}:void 0,V=s?se=>{s(se,{...x})}:void 0,Q=a?se=>{a(se,{...x})}:void 0,re=l?se=>{l(se,{...x})}:void 0,Pe=c?se=>{c(se,{...x})}:void 0,Ye=se=>{var fe;if(!y&&dM.includes(se.key)&&W){const{unselectNodesAndEdges:je,addSelectedEdges:Ve}=J.getState();se.key==="Escape"?((fe=F.current)==null||fe.blur(),je({edges:[x]})):Ve([e])}};return d.jsx("svg",{style:{zIndex:I},children:d.jsxs("g",{className:Cr(["react-flow__edge","react-flow__edge-".concat(S),x.className,b,{selected:x.selected,animated:x.animated,inactive:!W&&!i,updating:L,selectable:W}]),onClick:ke,onDoubleClick:Ne,onContextMenu:V,onMouseEnter:Q,onMouseMove:re,onMouseLeave:Pe,onKeyDown:T?Ye:void 0,tabIndex:T?0:void 0,role:T?"button":"img","data-id":e,"data-testid":"rf__edge-".concat(e),"aria-label":x.ariaLabel===null?void 0:x.ariaLabel||"Edge from ".concat(x.source," to ").concat(x.target),"aria-describedby":T?"".concat(KM,"-").concat(v):void 0,ref:F,children:[!z&&d.jsx(E,{id:e,source:x.source,target:x.target,type:x.type,selected:x.selected,animated:x.animated,selectable:W,deletable:(ze=x.deletable)!=null?ze:!0,label:x.label,labelStyle:x.labelStyle,labelShowBg:x.labelShowBg,labelBgStyle:x.labelBgStyle,labelBgPadding:x.labelBgPadding,labelBgBorderRadius:x.labelBgBorderRadius,sourceX:U,sourceY:O,targetX:D,targetY:$,sourcePosition:Y,targetPosition:ie,data:x.data,style:x.style,sourceHandleId:x.sourceHandle,targetHandleId:x.targetHandle,markerStart:ae,markerEnd:xe,pathOptions:"pathOptions"in x?x.pathOptions:void 0,interactionWidth:x.interactionWidth}),M&&d.jsx(MJ,{edge:x,isReconnectable:M,reconnectRadius:u,onReconnect:f,onReconnectStart:h,onReconnectEnd:p,sourceX:U,sourceY:O,targetX:D,targetY:$,sourcePosition:Y,targetPosition:ie,setUpdateHover:G,setReconnecting:H})]})})}const DJ=e=>({edgesFocusable:e.edgesFocusable,edgesReconnectable:e.edgesReconnectable,elementsSelectable:e.elementsSelectable,connectionMode:e.connectionMode,onError:e.onError});function y$({defaultMarkerColor:e,onlyRenderVisibleElements:t,rfId:n,edgeTypes:r,noPanClassName:i,onReconnect:o,onEdgeContextMenu:s,onEdgeMouseEnter:a,onEdgeMouseMove:l,onEdgeMouseLeave:c,onEdgeClick:u,reconnectRadius:f,onEdgeDoubleClick:h,onReconnectStart:p,onReconnectEnd:v,disableKeyboardA11y:g}){const{edgesFocusable:b,edgesReconnectable:m,elementsSelectable:y,onError:x}=dn(DJ,ur),k=_J(t);return d.jsxs("div",{className:"react-flow__edges",children:[d.jsx(jJ,{defaultColor:e,rfId:n}),k.map(S=>d.jsx($J,{id:S,edgesFocusable:b,edgesReconnectable:m,elementsSelectable:y,noPanClassName:i,onReconnect:o,onContextMenu:s,onMouseEnter:a,onMouseMove:l,onMouseLeave:c,onClick:u,reconnectRadius:f,onDoubleClick:h,onReconnectStart:p,onReconnectEnd:v,rfId:n,onError:x,edgeTypes:r,disableKeyboardA11y:g},S))]})}y$.displayName="EdgeRenderer";const FJ=N.memo(y$),LJ=e=>"translate(".concat(e.transform[0],"px,").concat(e.transform[1],"px) scale(").concat(e.transform[2],")");function BJ({children:e}){const t=dn(LJ);return d.jsx("div",{className:"react-flow__viewport xyflow__viewport react-flow__container",style:{transform:t},children:e})}function zJ(e){const t=Cn(),n=N.useRef(!1);N.useEffect(()=>{!n.current&&t.viewportInitialized&&e&&(setTimeout(()=>e(t),1),n.current=!0)},[e,t.viewportInitialized])}const HJ=e=>{var t;return(t=e.panZoom)==null?void 0:t.syncViewport};function WJ(e){const t=dn(HJ),n=zn();return N.useEffect(()=>{e&&(t==null||t(e),n.setState({transform:[e.x,e.y,e.zoom]}))},[e,t]),null}function UJ(e){return e.connection.inProgress?{...e.connection,to:cm(e.connection.to,e.transform)}:{...e.connection}}function VJ(e){return UJ}function qJ(e){const t=VJ();return dn(t,ur)}const KJ=e=>({nodesConnectable:e.nodesConnectable,isValid:e.connection.isValid,inProgress:e.connection.inProgress,width:e.width,height:e.height});function YJ({containerStyle:e,style:t,type:n,component:r}){const{nodesConnectable:i,width:o,height:s,isValid:a,inProgress:l}=dn(KJ,ur);return!(o&&i&&l)?null:d.jsx("svg",{style:e,width:o,height:s,className:"react-flow__connectionline react-flow__container",children:d.jsx("g",{className:Cr(["react-flow__connection",hM(a)]),children:d.jsx(x$,{style:t,type:n,CustomComponent:r,isValid:a})})})}const x$=({style:e,type:t=gl.Bezier,CustomComponent:n,isValid:r})=>{const{inProgress:i,from:o,fromNode:s,fromHandle:a,fromPosition:l,to:c,toNode:u,toHandle:f,toPosition:h}=qJ();if(!i)return;if(n)return d.jsx(n,{connectionLineType:t,connectionLineStyle:e,fromNode:s,fromHandle:a,fromX:o.x,fromY:o.y,toX:c.x,toY:c.y,fromPosition:l,toPosition:h,connectionStatus:hM(r),toNode:u,toHandle:f});let p="";const v={sourceX:o.x,sourceY:o.y,sourcePosition:l,targetX:c.x,targetY:c.y,targetPosition:h};switch(t){case gl.Bezier:[p]=CM(v);break;case gl.SimpleBezier:[p]=s$(v);break;case gl.Step:[p]=q_({...v,borderRadius:0});break;case gl.SmoothStep:[p]=q_(v);break;default:[p]=AM(v)}return d.jsx("path",{d:p,fill:"none",className:"react-flow__connection-path",style:e})};x$.displayName="ConnectionLine";const GJ={};function AA(e=GJ){N.useRef(e),zn(),N.useEffect(()=>{},[e])}function XJ(){zn(),N.useRef(!1),N.useEffect(()=>{},[])}function w$({nodeTypes:e,edgeTypes:t,onInit:n,onNodeClick:r,onEdgeClick:i,onNodeDoubleClick:o,onEdgeDoubleClick:s,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:u,onSelectionContextMenu:f,onSelectionStart:h,onSelectionEnd:p,connectionLineType:v,connectionLineStyle:g,connectionLineComponent:b,connectionLineContainerStyle:m,selectionKeyCode:y,selectionOnDrag:x,selectionMode:k,multiSelectionKeyCode:S,panActivationKeyCode:E,zoomActivationKeyCode:T,deleteKeyCode:M,onlyRenderVisibleElements:W,elementsSelectable:F,defaultViewport:L,translateExtent:G,minZoom:z,maxZoom:H,preventScrolling:J,defaultMarkerColor:I,zoomOnScroll:U,zoomOnPinch:O,panOnScroll:D,panOnScrollSpeed:$,panOnScrollMode:Y,zoomOnDoubleClick:ie,panOnDrag:ae,onPaneClick:xe,onPaneMouseEnter:ke,onPaneMouseMove:Ne,onPaneMouseLeave:V,onPaneScroll:Q,onPaneContextMenu:re,paneClickDistance:Pe,nodeClickDistance:Ye,onEdgeContextMenu:ze,onEdgeMouseEnter:se,onEdgeMouseMove:fe,onEdgeMouseLeave:je,reconnectRadius:Ve,onReconnect:qe,onReconnectStart:Je,onReconnectEnd:pe,noDragClassName:We,noWheelClassName:Ge,noPanClassName:Fe,disableKeyboardA11y:Ot,nodeExtent:An,rfId:It,viewport:mn,onViewportChange:q}){return AA(e),AA(t),XJ(),zJ(n),WJ(mn),d.jsx(hJ,{onPaneClick:xe,onPaneMouseEnter:ke,onPaneMouseMove:Ne,onPaneMouseLeave:V,onPaneContextMenu:re,onPaneScroll:Q,paneClickDistance:Pe,deleteKeyCode:M,selectionKeyCode:y,selectionOnDrag:x,selectionMode:k,onSelectionStart:h,onSelectionEnd:p,multiSelectionKeyCode:S,panActivationKeyCode:E,zoomActivationKeyCode:T,elementsSelectable:F,zoomOnScroll:U,zoomOnPinch:O,zoomOnDoubleClick:ie,panOnScroll:D,panOnScrollSpeed:$,panOnScrollMode:Y,panOnDrag:ae,defaultViewport:L,translateExtent:G,minZoom:z,maxZoom:H,onSelectionContextMenu:f,preventScrolling:J,noDragClassName:We,noWheelClassName:Ge,noPanClassName:Fe,disableKeyboardA11y:Ot,onViewportChange:q,isControlledViewport:!!mn,children:d.jsxs(BJ,{children:[d.jsx(FJ,{edgeTypes:t,onEdgeClick:i,onEdgeDoubleClick:s,onReconnect:qe,onReconnectStart:Je,onReconnectEnd:pe,onlyRenderVisibleElements:W,onEdgeContextMenu:ze,onEdgeMouseEnter:se,onEdgeMouseMove:fe,onEdgeMouseLeave:je,reconnectRadius:Ve,defaultMarkerColor:I,noPanClassName:Fe,disableKeyboardA11y:Ot,rfId:It}),d.jsx(YJ,{style:g,type:v,component:b,containerStyle:m}),d.jsx("div",{className:"react-flow__edgelabel-renderer"}),d.jsx(bJ,{nodeTypes:e,onNodeClick:r,onNodeDoubleClick:o,onNodeMouseEnter:a,onNodeMouseMove:l,onNodeMouseLeave:c,onNodeContextMenu:u,nodeClickDistance:Ye,onlyRenderVisibleElements:W,noPanClassName:Fe,noDragClassName:We,disableKeyboardA11y:Ot,nodeExtent:An,rfId:It}),d.jsx("div",{className:"react-flow__viewport-portal"})]})})}w$.displayName="GraphView";const JJ=N.memo(w$),TA=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l=.5,maxZoom:c=2,nodeOrigin:u,nodeExtent:f}={})=>{var E,T,M;const h=new Map,p=new Map,v=new Map,g=new Map,b=(E=r!=null?r:t)!=null?E:[],m=(T=n!=null?n:e)!=null?T:[],y=u!=null?u:[0,0],x=f!=null?f:Sp;RM(v,g,b);const k=Y_(m,h,p,{nodeOrigin:y,nodeExtent:x,elevateNodesOnSelect:!1});let S=[0,0,1];if(s&&i&&o){const W=lm(h,{filter:z=>!!((z.width||z.initialWidth)&&(z.height||z.initialHeight))}),{x:F,y:L,zoom:G}=WS(W,i,o,l,c,(M=a==null?void 0:a.padding)!=null?M:.1);S=[F,L,G]}return{rfId:"1",width:0,height:0,transform:S,nodes:m,nodesInitialized:k,nodeLookup:h,parentLookup:p,edges:b,edgeLookup:g,connectionLookup:v,onNodesChange:null,onEdgesChange:null,hasDefaultNodes:n!==void 0,hasDefaultEdges:r!==void 0,panZoom:null,minZoom:l,maxZoom:c,translateExtent:Sp,nodeExtent:x,nodesSelectionActive:!1,userSelectionActive:!1,userSelectionRect:null,connectionMode:Rd.Strict,domNode:null,paneDragging:!1,noPanClassName:"nopan",nodeOrigin:y,nodeDragThreshold:1,snapGrid:[15,15],snapToGrid:!1,nodesDraggable:!0,nodesConnectable:!0,nodesFocusable:!0,edgesFocusable:!0,edgesReconnectable:!0,elementsSelectable:!0,elevateNodesOnSelect:!0,elevateEdgesOnSelect:!1,selectNodesOnDrag:!0,multiSelectionActive:!1,fitViewQueued:s!=null?s:!1,fitViewOptions:a,fitViewResolver:null,connection:{...fM},connectionClickStartHandle:null,connectOnClick:!0,ariaLiveMessage:"",autoPanOnConnect:!0,autoPanOnNodeDrag:!0,autoPanSpeed:15,connectionRadius:20,onError:nG,isValidConnection:void 0,onSelectionChangeHandlers:[],lib:"react",debug:!1}},QJ=({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:u,nodeExtent:f})=>vX((h,p)=>{async function v(){const{nodeLookup:g,panZoom:b,fitViewOptions:m,fitViewResolver:y,width:x,height:k,minZoom:S,maxZoom:E}=p();b&&(await eG({nodes:g,width:x,height:k,panZoom:b,minZoom:S,maxZoom:E},m),y==null||y.resolve(!0),h({fitViewResolver:null}))}return{...TA({nodes:e,edges:t,width:i,height:o,fitView:s,fitViewOptions:a,minZoom:l,maxZoom:c,nodeOrigin:u,nodeExtent:f,defaultNodes:n,defaultEdges:r}),setNodes:g=>{const{nodeLookup:b,parentLookup:m,nodeOrigin:y,elevateNodesOnSelect:x,fitViewQueued:k}=p(),S=Y_(g,b,m,{nodeOrigin:y,nodeExtent:f,elevateNodesOnSelect:x,checkEquality:!0});k&&S?(v(),h({nodes:g,nodesInitialized:S,fitViewQueued:!1,fitViewOptions:void 0})):h({nodes:g,nodesInitialized:S})},setEdges:g=>{const{connectionLookup:b,edgeLookup:m}=p();RM(b,m,g),h({edges:g})},setDefaultNodesAndEdges:(g,b)=>{if(g){const{setNodes:m}=p();m(g),h({hasDefaultNodes:!0})}if(b){const{setEdges:m}=p();m(b),h({hasDefaultEdges:!0})}},updateNodeInternals:g=>{const{triggerNodeChanges:b,nodeLookup:m,parentLookup:y,domNode:x,nodeOrigin:k,nodeExtent:S,debug:E,fitViewQueued:T}=p(),{changes:M,updatedInternals:W}=wG(g,m,y,x,k,S);W&&(vG(m,y,{nodeOrigin:k,nodeExtent:S}),T?(v(),h({fitViewQueued:!1,fitViewOptions:void 0})):h({}),(M==null?void 0:M.length)>0&&(E&&console.log("React Flow: trigger node changes",M),b==null||b(M)))},updateNodePositions:(g,b=!1)=>{var S,E;const m=[],y=[],{nodeLookup:x,triggerNodeChanges:k}=p();for(const[T,M]of g){const W=x.get(T),F=!!(W!=null&&W.expandParent&&(W!=null&&W.parentId)&&(M!=null&&M.position)),L={id:T,type:"position",position:F?{x:Math.max(0,M.position.x),y:Math.max(0,M.position.y)}:M.position,dragging:b};F&&W.parentId&&m.push({id:T,parentId:W.parentId,rect:{...M.internals.positionAbsolute,width:(S=M.measured.width)!=null?S:0,height:(E=M.measured.height)!=null?E:0}}),y.push(L)}if(m.length>0){const{parentLookup:T,nodeOrigin:M}=p(),W=YS(m,x,T,M);y.push(...W)}k(y)},triggerNodeChanges:g=>{const{onNodesChange:b,setNodes:m,nodes:y,hasDefaultNodes:x,debug:k}=p();if(g!=null&&g.length){if(x){const S=XM(g,y);m(S)}k&&console.log("React Flow: trigger node changes",g),b==null||b(g)}},triggerEdgeChanges:g=>{const{onEdgesChange:b,setEdges:m,edges:y,hasDefaultEdges:x,debug:k}=p();if(g!=null&&g.length){if(x){const S=JM(g,y);m(S)}k&&console.log("React Flow: trigger edge changes",g),b==null||b(g)}},addSelectedNodes:g=>{const{multiSelectionActive:b,edgeLookup:m,nodeLookup:y,triggerNodeChanges:x,triggerEdgeChanges:k}=p();if(b){const S=g.map(E=>mc(E,!0));x(S);return}x(Gu(y,new Set([...g]),!0)),k(Gu(m))},addSelectedEdges:g=>{const{multiSelectionActive:b,edgeLookup:m,nodeLookup:y,triggerNodeChanges:x,triggerEdgeChanges:k}=p();if(b){const S=g.map(E=>mc(E,!0));k(S);return}k(Gu(m,new Set([...g]))),x(Gu(y,new Set,!0))},unselectNodesAndEdges:({nodes:g,edges:b}={})=>{const{edges:m,nodes:y,nodeLookup:x,triggerNodeChanges:k,triggerEdgeChanges:S}=p(),E=g||y,T=b||m,M=E.map(F=>{const L=x.get(F.id);return L&&(L.selected=!1),mc(F.id,!1)}),W=T.map(F=>mc(F.id,!1));k(M),S(W)},setMinZoom:g=>{const{panZoom:b,maxZoom:m}=p();b==null||b.setScaleExtent([g,m]),h({minZoom:g})},setMaxZoom:g=>{const{panZoom:b,minZoom:m}=p();b==null||b.setScaleExtent([m,g]),h({maxZoom:g})},setTranslateExtent:g=>{var b;(b=p().panZoom)==null||b.setTranslateExtent(g),h({translateExtent:g})},setPaneClickDistance:g=>{var b;(b=p().panZoom)==null||b.setClickDistance(g)},resetSelectedElements:()=>{const{edges:g,nodes:b,triggerNodeChanges:m,triggerEdgeChanges:y,elementsSelectable:x}=p();if(!x)return;const k=b.reduce((E,T)=>T.selected?[...E,mc(T.id,!1)]:E,[]),S=g.reduce((E,T)=>T.selected?[...E,mc(T.id,!1)]:E,[]);m(k),y(S)},setNodeExtent:g=>{const{nodes:b,nodeLookup:m,parentLookup:y,nodeOrigin:x,elevateNodesOnSelect:k,nodeExtent:S}=p();g[0][0]===S[0][0]&&g[0][1]===S[0][1]&&g[1][0]===S[1][0]&&g[1][1]===S[1][1]||(Y_(b,m,y,{nodeOrigin:x,nodeExtent:g,elevateNodesOnSelect:k,checkEquality:!1}),h({nodeExtent:g}))},panBy:g=>{const{transform:b,width:m,height:y,panZoom:x,translateExtent:k}=p();return bG({delta:g,panZoom:x,transform:b,translateExtent:k,width:m,height:y})},cancelConnection:()=>{h({connection:{...fM}})},updateConnection:g=>{h({connection:g})},reset:()=>h({...TA()})}},Object.is);function ZJ({initialNodes:e,initialEdges:t,defaultNodes:n,defaultEdges:r,initialWidth:i,initialHeight:o,initialMinZoom:s,initialMaxZoom:a,initialFitViewOptions:l,fitView:c,nodeOrigin:u,nodeExtent:f,children:h}){const[p]=N.useState(()=>QJ({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,width:i,height:o,fitView:c,minZoom:s,maxZoom:a,fitViewOptions:l,nodeOrigin:u,nodeExtent:f}));return d.jsx(yX,{value:p,children:d.jsx(zX,{children:h})})}function eQ({children:e,nodes:t,edges:n,defaultNodes:r,defaultEdges:i,width:o,height:s,fitView:a,fitViewOptions:l,minZoom:c,maxZoom:u,nodeOrigin:f,nodeExtent:h}){return N.useContext(Q0)?d.jsx(d.Fragment,{children:e}):d.jsx(ZJ,{initialNodes:t,initialEdges:n,defaultNodes:r,defaultEdges:i,initialWidth:o,initialHeight:s,fitView:a,initialFitViewOptions:l,initialMinZoom:c,initialMaxZoom:u,nodeOrigin:f,nodeExtent:h,children:e})}const tQ={width:"100%",height:"100%",overflow:"hidden",position:"relative",zIndex:0};function nQ({nodes:e,edges:t,defaultNodes:n,defaultEdges:r,className:i,nodeTypes:o,edgeTypes:s,onNodeClick:a,onEdgeClick:l,onInit:c,onMove:u,onMoveStart:f,onMoveEnd:h,onConnect:p,onConnectStart:v,onConnectEnd:g,onClickConnectStart:b,onClickConnectEnd:m,onNodeMouseEnter:y,onNodeMouseMove:x,onNodeMouseLeave:k,onNodeContextMenu:S,onNodeDoubleClick:E,onNodeDragStart:T,onNodeDrag:M,onNodeDragStop:W,onNodesDelete:F,onEdgesDelete:L,onDelete:G,onSelectionChange:z,onSelectionDragStart:H,onSelectionDrag:J,onSelectionDragStop:I,onSelectionContextMenu:U,onSelectionStart:O,onSelectionEnd:D,onBeforeDelete:$,connectionMode:Y,connectionLineType:ie=gl.Bezier,connectionLineStyle:ae,connectionLineComponent:xe,connectionLineContainerStyle:ke,deleteKeyCode:Ne="Backspace",selectionKeyCode:V="Shift",selectionOnDrag:Q=!1,selectionMode:re=Ep.Full,panActivationKeyCode:Pe="Space",multiSelectionKeyCode:Ye=my()?"Meta":"Control",zoomActivationKeyCode:ze=my()?"Meta":"Control",snapToGrid:se,snapGrid:fe,onlyRenderVisibleElements:je=!1,selectNodesOnDrag:Ve,nodesDraggable:qe,nodesConnectable:Je,nodesFocusable:pe,nodeOrigin:We=YM,edgesFocusable:Ge,edgesReconnectable:Fe,elementsSelectable:Ot=!0,defaultViewport:An=RX,minZoom:It=.5,maxZoom:mn=2,translateExtent:q=Sp,preventScrolling:A=!0,nodeExtent:R,defaultMarkerColor:ee="#b1b1b7",zoomOnScroll:he=!0,zoomOnPinch:Re=!0,panOnScroll:He=!1,panOnScrollSpeed:Mt=.5,panOnScrollMode:on=Oc.Free,zoomOnDoubleClick:lt=!0,panOnDrag:ln=!0,onPaneClick:zt,onPaneMouseEnter:Bo,onPaneMouseMove:ct,onPaneMouseLeave:bs,onPaneScroll:_s,onPaneContextMenu:ks,paneClickDistance:oa=0,nodeClickDistance:zo=0,children:Qa,onReconnect:Z,onReconnectStart:oe,onReconnectEnd:nt,onEdgeContextMenu:at,onEdgeDoubleClick:yt,onEdgeMouseEnter:Lt,onEdgeMouseMove:un,onEdgeMouseLeave:sa,reconnectRadius:Xr=10,onNodesChange:Ho,onEdgesChange:Ss,noDragClassName:Za="nodrag",noWheelClassName:vi="nowheel",noPanClassName:yi="nopan",fitView:zr,fitViewOptions:Qi,connectOnClick:Wo,attributionPosition:wr,proOptions:Jr,defaultEdgeOptions:Uo,elevateNodesOnSelect:gu,elevateEdgesOnSelect:Zl,disableKeyboardA11y:Tn=!1,autoPanOnConnect:_o,autoPanOnNodeDrag:Hr,autoPanSpeed:ec,connectionRadius:xi,isValidConnection:el,onError:Es,style:aa,id:ko,nodeDragThreshold:vu,viewport:Cs,onViewportChange:yu,width:Zt,height:X,colorMode:ue="light",debug:te,onScroll:de,...Ee},me){const Be=ko||"1",Qe=MX(ue),et=N.useCallback(Ze=>{Ze.currentTarget.scrollTo({top:0,left:0,behavior:"instant"}),de==null||de(Ze)},[de]);return d.jsx("div",{"data-testid":"rf__wrapper",...Ee,onScroll:et,style:{...aa,...tQ},ref:me,className:Cr(["react-flow",i,Qe]),id:ko,children:d.jsxs(eQ,{nodes:e,edges:t,width:Zt,height:X,fitView:zr,fitViewOptions:Qi,minZoom:It,maxZoom:mn,nodeOrigin:We,nodeExtent:R,children:[d.jsx(JJ,{onInit:c,onNodeClick:a,onEdgeClick:l,onNodeMouseEnter:y,onNodeMouseMove:x,onNodeMouseLeave:k,onNodeContextMenu:S,onNodeDoubleClick:E,nodeTypes:o,edgeTypes:s,connectionLineType:ie,connectionLineStyle:ae,connectionLineComponent:xe,connectionLineContainerStyle:ke,selectionKeyCode:V,selectionOnDrag:Q,selectionMode:re,deleteKeyCode:Ne,multiSelectionKeyCode:Ye,panActivationKeyCode:Pe,zoomActivationKeyCode:ze,onlyRenderVisibleElements:je,defaultViewport:An,translateExtent:q,minZoom:It,maxZoom:mn,preventScrolling:A,zoomOnScroll:he,zoomOnPinch:Re,zoomOnDoubleClick:lt,panOnScroll:He,panOnScrollSpeed:Mt,panOnScrollMode:on,panOnDrag:ln,onPaneClick:zt,onPaneMouseEnter:Bo,onPaneMouseMove:ct,onPaneMouseLeave:bs,onPaneScroll:_s,onPaneContextMenu:ks,paneClickDistance:oa,nodeClickDistance:zo,onSelectionContextMenu:U,onSelectionStart:O,onSelectionEnd:D,onReconnect:Z,onReconnectStart:oe,onReconnectEnd:nt,onEdgeContextMenu:at,onEdgeDoubleClick:yt,onEdgeMouseEnter:Lt,onEdgeMouseMove:un,onEdgeMouseLeave:sa,reconnectRadius:Xr,defaultMarkerColor:ee,noDragClassName:Za,noWheelClassName:vi,noPanClassName:yi,rfId:Be,disableKeyboardA11y:Tn,nodeExtent:R,viewport:Cs,onViewportChange:yu}),d.jsx(OX,{nodes:e,edges:t,defaultNodes:n,defaultEdges:r,onConnect:p,onConnectStart:v,onConnectEnd:g,onClickConnectStart:b,onClickConnectEnd:m,nodesDraggable:qe,nodesConnectable:Je,nodesFocusable:pe,edgesFocusable:Ge,edgesReconnectable:Fe,elementsSelectable:Ot,elevateNodesOnSelect:gu,elevateEdgesOnSelect:Zl,minZoom:It,maxZoom:mn,nodeExtent:R,onNodesChange:Ho,onEdgesChange:Ss,snapToGrid:se,snapGrid:fe,connectionMode:Y,translateExtent:q,connectOnClick:Wo,defaultEdgeOptions:Uo,fitView:zr,fitViewOptions:Qi,onNodesDelete:F,onEdgesDelete:L,onDelete:G,onNodeDragStart:T,onNodeDrag:M,onNodeDragStop:W,onSelectionDrag:J,onSelectionDragStart:H,onSelectionDragStop:I,onMove:u,onMoveStart:f,onMoveEnd:h,noPanClassName:yi,nodeOrigin:We,rfId:Be,autoPanOnConnect:_o,autoPanOnNodeDrag:Hr,autoPanSpeed:ec,onError:Es,connectionRadius:xi,isValidConnection:el,selectNodesOnDrag:Ve,nodeDragThreshold:vu,onBeforeDelete:$,paneClickDistance:oa,debug:te}),d.jsx(TX,{onSelectionChange:z}),Qa,d.jsx(EX,{proOptions:Jr,position:wr}),d.jsx(kX,{rfId:Be,disableKeyboardA11y:Tn})]})})}var rQ=QM(nQ);function mi(){const e=zn();return N.useCallback(t=>{const{domNode:n,updateNodeInternals:r}=e.getState(),i=Array.isArray(t)?t:[t],o=new Map;i.forEach(s=>{const a=n==null?void 0:n.querySelector('.react-flow__node[data-id="'.concat(s,'"]'));a&&o.set(s,{id:s,nodeElement:a,force:!0})}),requestAnimationFrame(()=>r(o,{triggerFitView:!1}))},[])}const iQ=hs.error014();function ws({id:e,handleType:t,handleId:n,onConnect:r,onDisconnect:i}={}){const o=XS(),s=e!=null?e:o;if(!s)throw new Error(iQ);const a=N.useRef(null),l=dn(c=>c.connectionLookup.get("".concat(s).concat(t?n?"-".concat(t,"-").concat(n):"-".concat(t):"")),GY);return N.useEffect(()=>{if(a.current&&a.current!==l){const c=l!=null?l:new Map;KN(a.current,c,i),KN(c,a.current,r)}a.current=l!=null?l:new Map},[l,r,i]),N.useMemo(()=>{var c;return Array.from((c=l==null?void 0:l.values())!=null?c:[])},[l])}function tx(e){return dn(N.useCallback(n=>{var s;const r=[],i=Array.isArray(e),o=i?e:[e];for(const a of o){const l=n.nodeLookup.get(a);l&&r.push({id:l.id,type:l.type,data:l.data})}return i?r:(s=r[0])!=null?s:null},[e]),_G)}function oQ({dimensions:e,lineWidth:t,variant:n,className:r}){return d.jsx("path",{strokeWidth:t,d:"M".concat(e[0]/2," 0 V").concat(e[1]," M0 ").concat(e[1]/2," H").concat(e[0]),className:Cr(["react-flow__background-pattern",n,r])})}function sQ({radius:e,className:t}){return d.jsx("circle",{cx:e,cy:e,r:e,className:Cr(["react-flow__background-pattern","dots",t])})}var Al;(function(e){e.Lines="lines",e.Dots="dots",e.Cross="cross"})(Al||(Al={}));const aQ={[Al.Dots]:1,[Al.Lines]:1,[Al.Cross]:6},lQ=e=>({transform:e.transform,patternId:"pattern-".concat(e.rfId)});function b$({id:e,variant:t=Al.Dots,gap:n=20,size:r,lineWidth:i=1,offset:o=0,color:s,bgColor:a,style:l,className:c,patternClassName:u}){const f=N.useRef(null),{transform:h,patternId:p}=dn(lQ,ur),v=r||aQ[t],g=t===Al.Dots,b=t===Al.Cross,m=Array.isArray(n)?n:[n,n],y=[m[0]*h[2]||1,m[1]*h[2]||1],x=v*h[2],k=Array.isArray(o)?o:[o,o],S=b?[x,x]:y,E=[k[0]*h[2]||1+S[0]/2,k[1]*h[2]||1+S[1]/2],T="".concat(p).concat(e||"");return d.jsxs("svg",{className:Cr(["react-flow__background",c]),style:{...l,...Z0,"--xy-background-color-props":a,"--xy-background-pattern-color-props":s},ref:f,"data-testid":"rf__background",children:[d.jsx("pattern",{id:T,x:h[0]%y[0],y:h[1]%y[1],width:y[0],height:y[1],patternUnits:"userSpaceOnUse",patternTransform:"translate(-".concat(E[0],",-").concat(E[1],")"),children:g?d.jsx(sQ,{radius:x/2,className:u}):d.jsx(oQ,{dimensions:S,lineWidth:i,variant:t,className:u})}),d.jsx("rect",{x:"0",y:"0",width:"100%",height:"100%",fill:"url(#".concat(T,")")})]})}b$.displayName="Background";const cQ=N.memo(b$);function uQ(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",children:d.jsx("path",{d:"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z"})})}function dQ(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 5",children:d.jsx("path",{d:"M0 0h32v4.2H0z"})})}function fQ(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 30",children:d.jsx("path",{d:"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z"})})}function hQ(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:d.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z"})})}function pQ(){return d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 32",children:d.jsx("path",{d:"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z"})})}function ug({children:e,className:t,...n}){return d.jsx("button",{type:"button",className:Cr(["react-flow__controls-button",t]),...n,children:e})}const mQ=e=>({isInteractive:e.nodesDraggable||e.nodesConnectable||e.elementsSelectable,minZoomReached:e.transform[2]<=e.minZoom,maxZoomReached:e.transform[2]>=e.maxZoom});function _$({style:e,showZoom:t=!0,showFitView:n=!0,showInteractive:r=!0,fitViewOptions:i,onZoomIn:o,onZoomOut:s,onFitView:a,onInteractiveChange:l,className:c,children:u,position:f="bottom-left",orientation:h="vertical","aria-label":p="React Flow controls"}){const v=zn(),{isInteractive:g,minZoomReached:b,maxZoomReached:m}=dn(mQ,ur),{zoomIn:y,zoomOut:x,fitView:k}=Cn(),S=()=>{y(),o==null||o()},E=()=>{x(),s==null||s()},T=()=>{k(i),a==null||a()},M=()=>{v.setState({nodesDraggable:!g,nodesConnectable:!g,elementsSelectable:!g}),l==null||l(!g)},W=h==="horizontal"?"horizontal":"vertical";return d.jsxs(um,{className:Cr(["react-flow__controls",W,c]),position:f,style:e,"data-testid":"rf__controls","aria-label":p,children:[t&&d.jsxs(d.Fragment,{children:[d.jsx(ug,{onClick:S,className:"react-flow__controls-zoomin",title:"zoom in","aria-label":"zoom in",disabled:m,children:d.jsx(uQ,{})}),d.jsx(ug,{onClick:E,className:"react-flow__controls-zoomout",title:"zoom out","aria-label":"zoom out",disabled:b,children:d.jsx(dQ,{})})]}),n&&d.jsx(ug,{className:"react-flow__controls-fitview",onClick:T,title:"fit view","aria-label":"fit view",children:d.jsx(fQ,{})}),r&&d.jsx(ug,{className:"react-flow__controls-interactive",onClick:M,title:"toggle interactivity","aria-label":"toggle interactivity",children:g?d.jsx(pQ,{}):d.jsx(hQ,{})}),u]})}_$.displayName="Controls";const gQ=N.memo(_$);function vQ({id:e,x:t,y:n,width:r,height:i,style:o,color:s,strokeColor:a,strokeWidth:l,className:c,borderRadius:u,shapeRendering:f,selected:h,onClick:p}){const{background:v,backgroundColor:g}=o||{},b=s||v||g;return d.jsx("rect",{className:Cr(["react-flow__minimap-node",{selected:h},c]),x:t,y:n,rx:u,ry:u,width:r,height:i,style:{fill:b,stroke:a,strokeWidth:l},shapeRendering:f,onClick:p?m=>p(m,e):void 0})}const yQ=N.memo(vQ),xQ=e=>e.nodes.map(t=>t.id),Qw=e=>e instanceof Function?e:()=>e;function wQ({nodeStrokeColor:e,nodeColor:t,nodeClassName:n="",nodeBorderRadius:r=5,nodeStrokeWidth:i,nodeComponent:o=yQ,onClick:s}){const a=dn(xQ,ur),l=Qw(t),c=Qw(e),u=Qw(n),f=typeof window>"u"||window.chrome?"crispEdges":"geometricPrecision";return d.jsx(d.Fragment,{children:a.map(h=>d.jsx(_Q,{id:h,nodeColorFunc:l,nodeStrokeColorFunc:c,nodeClassNameFunc:u,nodeBorderRadius:r,nodeStrokeWidth:i,NodeComponent:o,onClick:s,shapeRendering:f},h))})}function bQ({id:e,nodeColorFunc:t,nodeStrokeColorFunc:n,nodeClassNameFunc:r,nodeBorderRadius:i,nodeStrokeWidth:o,shapeRendering:s,NodeComponent:a,onClick:l}){const{node:c,x:u,y:f,width:h,height:p}=dn(v=>{const{internals:g}=v.nodeLookup.get(e),b=g.userNode,{x:m,y}=g.positionAbsolute,{width:x,height:k}=Ga(b);return{node:b,x:m,y,width:x,height:k}},ur);return!c||c.hidden||!wM(c)?null:d.jsx(a,{x:u,y:f,width:h,height:p,style:c.style,selected:!!c.selected,className:r(c),color:t(c),borderRadius:i,strokeColor:n(c),strokeWidth:o,shapeRendering:s,onClick:l,id:c.id})}const _Q=N.memo(bQ);var kQ=N.memo(wQ);const SQ=200,EQ=150,CQ=e=>!e.hidden,jQ=e=>{const t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:e.nodeLookup.size>0?xM(lm(e.nodeLookup,{filter:CQ}),t):t,rfId:e.rfId,panZoom:e.panZoom,translateExtent:e.translateExtent,flowWidth:e.width,flowHeight:e.height}},NQ="react-flow__minimap-desc";function k$({style:e,className:t,nodeStrokeColor:n,nodeColor:r,nodeClassName:i="",nodeBorderRadius:o=5,nodeStrokeWidth:s,nodeComponent:a,bgColor:l,maskColor:c,maskStrokeColor:u,maskStrokeWidth:f,position:h="bottom-right",onClick:p,onNodeClick:v,pannable:g=!1,zoomable:b=!1,ariaLabel:m="React Flow mini map",inversePan:y,zoomStep:x=10,offsetScale:k=5}){var Ye,ze;const S=zn(),E=N.useRef(null),{boundingRect:T,viewBB:M,rfId:W,panZoom:F,translateExtent:L,flowWidth:G,flowHeight:z}=dn(jQ,ur),H=(Ye=e==null?void 0:e.width)!=null?Ye:SQ,J=(ze=e==null?void 0:e.height)!=null?ze:EQ,I=T.width/H,U=T.height/J,O=Math.max(I,U),D=O*H,$=O*J,Y=k*O,ie=T.x-(D-T.width)/2-Y,ae=T.y-($-T.height)/2-Y,xe=D+Y*2,ke=$+Y*2,Ne="".concat(NQ,"-").concat(W),V=N.useRef(0),Q=N.useRef();V.current=O,N.useEffect(()=>{if(E.current&&F)return Q.current=TG({domNode:E.current,panZoom:F,getTransform:()=>S.getState().transform,getViewScale:()=>V.current}),()=>{var se;(se=Q.current)==null||se.destroy()}},[F]),N.useEffect(()=>{var se;(se=Q.current)==null||se.update({translateExtent:L,width:G,height:z,inversePan:y,pannable:g,zoomStep:x,zoomable:b})},[g,b,y,x,L,G,z]);const re=p?se=>{var Ve;const[fe,je]=((Ve=Q.current)==null?void 0:Ve.pointer(se))||[0,0];p(se,{x:fe,y:je})}:void 0,Pe=v?N.useCallback((se,fe)=>{const je=S.getState().nodeLookup.get(fe).internals.userNode;v(se,je)},[]):void 0;return d.jsx(um,{position:h,style:{...e,"--xy-minimap-background-color-props":typeof l=="string"?l:void 0,"--xy-minimap-mask-background-color-props":typeof c=="string"?c:void 0,"--xy-minimap-mask-stroke-color-props":typeof u=="string"?u:void 0,"--xy-minimap-mask-stroke-width-props":typeof f=="number"?f*O:void 0,"--xy-minimap-node-background-color-props":typeof r=="string"?r:void 0,"--xy-minimap-node-stroke-color-props":typeof n=="string"?n:void 0,"--xy-minimap-node-stroke-width-props":typeof s=="number"?s:void 0},className:Cr(["react-flow__minimap",t]),"data-testid":"rf__minimap",children:d.jsxs("svg",{width:H,height:J,viewBox:"".concat(ie," ").concat(ae," ").concat(xe," ").concat(ke),className:"react-flow__minimap-svg",role:"img","aria-labelledby":Ne,ref:E,onClick:re,children:[m&&d.jsx("title",{id:Ne,children:m}),d.jsx(kQ,{onClick:Pe,nodeColor:r,nodeStrokeColor:n,nodeBorderRadius:o,nodeClassName:i,nodeStrokeWidth:s,nodeComponent:a}),d.jsx("path",{className:"react-flow__minimap-mask",d:"M".concat(ie-Y,",").concat(ae-Y,"h").concat(xe+Y*2,"v").concat(ke+Y*2,"h").concat(-xe-Y*2,"z\n        M").concat(M.x,",").concat(M.y,"h").concat(M.width,"v").concat(M.height,"h").concat(-M.width,"z"),fillRule:"evenodd",pointerEvents:"none"})]})})}k$.displayName="MiniMap";const AQ=N.memo(k$);function TQ({nodeId:e,position:t,variant:n=Nh.Handle,className:r,style:i={},children:o,color:s,minWidth:a=10,minHeight:l=10,maxWidth:c=Number.MAX_VALUE,maxHeight:u=Number.MAX_VALUE,keepAspectRatio:f=!1,resizeDirection:h,shouldResize:p,onResizeStart:v,onResize:g,onResizeEnd:b}){const m=XS(),y=typeof e=="string"?e:m,x=zn(),k=N.useRef(null),S=n===Nh.Line?"right":"bottom-right",E=t!=null?t:S,T=N.useRef(null);N.useEffect(()=>{if(!(!k.current||!y))return T.current||(T.current=VG({domNode:k.current,nodeId:y,getStoreItems:()=>{const{nodeLookup:L,transform:G,snapGrid:z,snapToGrid:H,nodeOrigin:J,domNode:I}=x.getState();return{nodeLookup:L,transform:G,snapGrid:z,snapToGrid:H,nodeOrigin:J,paneDomNode:I}},onChange:(L,G)=>{var $,Y,ie,ae,xe,ke,Ne;const{triggerNodeChanges:z,nodeLookup:H,parentLookup:J,nodeOrigin:I}=x.getState(),U=[],O={x:L.x,y:L.y},D=H.get(y);if(D&&D.expandParent&&D.parentId){const V=($=D.origin)!=null?$:I,Q=(ie=(Y=L.width)!=null?Y:D.measured.width)!=null?ie:0,re=(xe=(ae=L.height)!=null?ae:D.measured.height)!=null?xe:0,Pe={id:D.id,parentId:D.parentId,rect:{width:Q,height:re,...bM({x:(ke=L.x)!=null?ke:D.position.x,y:(Ne=L.y)!=null?Ne:D.position.y},{width:Q,height:re},D.parentId,H,V)}},Ye=YS([Pe],H,J,I);U.push(...Ye),O.x=L.x?Math.max(V[0]*Q,L.x):void 0,O.y=L.y?Math.max(V[1]*re,L.y):void 0}if(O.x!==void 0&&O.y!==void 0){const V={id:y,type:"position",position:{...O}};U.push(V)}if(L.width!==void 0&&L.height!==void 0){const Q={id:y,type:"dimensions",resizing:!0,setAttributes:h?h==="horizontal"?"width":"height":!0,dimensions:{width:L.width,height:L.height}};U.push(Q)}for(const V of G){const Q={...V,type:"position"};U.push(Q)}z(U)},onEnd:({width:L,height:G})=>{const z={id:y,type:"dimensions",resizing:!1,dimensions:{width:L,height:G}};x.getState().triggerNodeChanges([z])}})),T.current.update({controlPosition:E,boundaries:{minWidth:a,minHeight:l,maxWidth:c,maxHeight:u},keepAspectRatio:f,resizeDirection:h,onResizeStart:v,onResize:g,onResizeEnd:b,shouldResize:p}),()=>{var L;(L=T.current)==null||L.destroy()}},[E,a,l,c,u,f,v,g,b,p]);const M=E.split("-"),W=n===Nh.Line?"borderColor":"backgroundColor",F=s?{...i,[W]:s}:i;return d.jsx("div",{className:Cr(["react-flow__resize-control","nodrag",...M,n,r]),ref:k,style:F,children:o})}N.memo(TQ);function RQ({id:e,top:t,left:n,right:r,bottom:i,...o}){const{getNode:s,setNodes:a,addNodes:l,setEdges:c}=Cn(),u=N.useCallback(()=>{const p=s(e);if(!p)return;const v={x:p.position.x+50,y:p.position.y+50};l({...p,selected:!1,dragging:!1,id:"".concat(p.id,"-copy"),position:v})},[e,s,l]),f=N.useMemo(()=>{var p;return((p=s(e))==null?void 0:p.type)||""},[e,s]),h=N.useCallback(()=>{a(p=>p.filter(v=>v.id!==e)),c(p=>p.filter(v=>v.source!==e))},[e,a,c]);return d.jsx("div",{style:{position:"absolute",top:t,left:n,right:r,bottom:i,zIndex:9999},className:"context-menu",...o,children:d.jsxs("div",{children:[d.jsxs("p",{children:["node: ",e]}),["entry","output"].includes(f)?d.jsx(d.Fragment,{}):d.jsxs(d.Fragment,{children:[d.jsx("p",{color:"medium",onClick:u,children:"duplicate"}),d.jsx("p",{color:"danger",onClick:h,children:"delete"})]})]})})}function RA(e,t){return Math.floor(Math.random()*(t-e+1))+e}function IQ({top:e,left:t,right:n,bottom:r,rawX:i,rawY:o,...s}){const{addNodes:a,getNodes:l,screenToFlowPosition:c}=Cn(),u=N.useCallback(p=>{const v=l(),{x:g,y:b}=c({x:i,y:o});let m=""+RA(1,2e3);for(;v.find(x=>x.id===m);)m=""+RA(1,2e3);const y=sV(p);y&&a({id:m,type:p,data:y,position:{x:g,y:b},selected:!1,dragging:!1})},[a,l,c]),[f,h]=N.useState(-1);return d.jsx("div",{className:"absolute bg-black shadow-lg rounded-md p-2 text-sm context-menu",style:{top:e-50,left:t,right:n,bottom:r,zIndex:9999},...s,children:d.jsxs("ul",{children:[d.jsxs("li",{className:"hover:bg-gray-700 p-2 cursor-pointer relative",onMouseEnter:()=>h(1),onMouseLeave:()=>h(-1),children:["Character",f===1&&d.jsxs("ul",{className:"absolute left-full top-0 bg-black shadow-lg rounded-md p-2",children:[d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("get_character_data"),children:"Get Character Data"}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("set_character_data"),children:"Set Character Data"})]})]}),d.jsxs("li",{className:"hover:bg-gray-700 p-2 cursor-pointer relative",onMouseEnter:()=>h(2),onMouseLeave:()=>h(-1),children:["Page",f===2&&d.jsxs("ul",{className:"absolute left-full top-0 bg-black shadow-lg rounded-md p-2",children:[d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("get_page_data"),children:"Get Page Data"}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("set_page_data"),children:"Set Page Data"})]})]}),d.jsxs("li",{className:"hover:bg-gray-700 p-2 cursor-pointer relative",onMouseEnter:()=>h(3),onMouseLeave:()=>h(-1),children:["System",f===3&&d.jsxs("ul",{className:"absolute left-full top-0 bg-black shadow-lg rounded-md p-2",children:[d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("get_system_data"),children:"Get System Data"}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("set_system_data"),children:"Set System Data"})]})]}),d.jsxs("li",{className:"hover:bg-gray-700 p-2 cursor-pointer relative",onMouseEnter:()=>h(4),onMouseLeave:()=>h(-1),children:["Array",f===4&&d.jsxs("ul",{className:"absolute left-full top-0 bg-black shadow-lg rounded-md p-2",children:[d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("array_get"),children:"Get Item"}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("add_to_array"),children:"Add Item"}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("array_remove"),children:"Remove Item"}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("array_update"),children:"Update Item"}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("filter"),children:"Filter"}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("map"),children:"Map"})]})]}),d.jsxs("li",{className:"hover:bg-gray-700 p-2 cursor-pointer relative",onMouseEnter:()=>h(5),onMouseLeave:()=>h(-1),children:["Object",f===5&&d.jsxs("ul",{className:"absolute left-full top-0 bg-black shadow-lg rounded-md p-2",children:[d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("spread_object"),children:"Spread Object"}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("create_data_from_type"),children:"Create Object From Type"})]})]}),d.jsxs("li",{className:"hover:bg-gray-700 p-2 cursor-pointer relative",onMouseEnter:()=>h(6),onMouseLeave:()=>h(-1),children:["String",f===6&&d.jsxs("ul",{className:"absolute left-full top-0 bg-black shadow-lg rounded-md p-2",children:[d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("string_new"),children:"New String"}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("string_includes"),children:"Includes"}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("string_compare"),children:"Compare"}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("string_concat"),children:"Concat"})]})]}),d.jsxs("li",{className:"hover:bg-gray-700 p-2 cursor-pointer relative",onMouseEnter:()=>h(7),onMouseLeave:()=>h(-1),children:["Numbers",f===7&&d.jsxs("ul",{className:"absolute left-full top-0 bg-black shadow-lg rounded-md p-2",children:[d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("new_number"),children:"New Number"}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("divide"),children:"Divide"}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("add"),children:"Add"}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("subtract"),children:"Subtract"}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("multiply"),children:"Multiply"}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("floor"),children:"Floor"}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("number_to_string"),children:"Number To String"})]})]}),d.jsxs("li",{className:"hover:bg-gray-700 p-2 cursor-pointer relative",onMouseEnter:()=>h(8),onMouseLeave:()=>h(-1),children:["Enums",f===8&&d.jsxs("ul",{className:"absolute left-full top-0 bg-black shadow-lg rounded-md p-2",children:[d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("new_enum"),children:"New Enum"}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("enum_compare"),children:"Compare Enum"})]})]}),d.jsxs("li",{className:"hover:bg-gray-700 p-2 cursor-pointer relative",onMouseEnter:()=>h(9),onMouseLeave:()=>h(-1),children:["Booleans",f===9&&d.jsxs("ul",{className:"absolute left-full top-0 bg-black shadow-lg rounded-md p-2",children:[d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("boolean_new"),children:"New Boolean"}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("boolean_branch"),children:"Branch"}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer",onClick:()=>u("boolean_inverse"),children:"Inverse"})]})]}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer relative",onClick:()=>u("open_modal"),children:"Open Modal"}),d.jsx("li",{className:"hover:bg-gray-700 p-2 cursor-pointer relative",onClick:()=>u("blueprint_run"),children:"Run Blueprint"})]})})}const PQ={characterPage:"Info",modalsPage:"Start",creatorPage:"Start",tab:"character",versionId:""},vn=Ya(PQ);function IA(e){vn.set(t=>({...t,creatorPage:e}))}function PA(e){vn.set(t=>({...t,characterPage:e}))}function OA(e){vn.set(t=>({...t,modalsPage:e}))}function OQ(e){vn.set(t=>({...t,tab:e}))}const pn=({children:e,title:t})=>d.jsxs("a",{className:"block max-w-sm p-6 bg-white border border-neutral-200 rounded-lg shadow hover:bg-neutral-100 dark:bg-neutral-800 dark:border-neutral-700 dark:hover:bg-neutral-700",children:[d.jsx("h5",{className:"mb-2 text-2xl font-bold tracking-tight text-neutral-900 dark:text-white",children:t}),d.jsx("div",{className:"font-normal text-neutral-700 dark:text-neutral-400",children:e})]}),_n=async()=>{const e=await di.get("deviceId")||"none";return"".concat(e,"-").concat(ES())},Ni=async e=>{const t=await Promise.all(it.tables.map(n=>n.get(e)));for(let n=0;n<t.length;n++)if(t[n])return!1;return!0},J_=async(e,t,n=!1)=>{try{const{user:r}=Er.get(),i=r?r.id:"none";let o=t!=null?t:await _n();if(!n)for(;!await Ni(o);)o=await _n();const s={...e,user_id:i,local_id:o,id:n?e.id:void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};return await it.versions.put(s),s}catch(r){console.log("Error creating versioned resource:",r)}};function MQ(e,t,n){var r,i;typeof e=="function"?(r=t||[],i=n):(r=[],i=t);var o=$t.useRef({hasResult:!1,result:i,error:null}),s=$t.useReducer(function(c){return c+1},0);s[0];var a=s[1],l=$t.useMemo(function(){var c=typeof e=="function"?e():e;if(!c||typeof c.subscribe!="function")throw e===c?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!o.current.hasResult&&typeof window<"u"&&(typeof c.hasValue!="function"||c.hasValue()))if(typeof c.getValue=="function")o.current.result=c.getValue(),o.current.hasResult=!0;else{var u=c.subscribe(function(f){o.current.result=f,o.current.hasResult=!0});typeof u=="function"?u():u.unsubscribe()}return c},r);if($t.useDebugValue(o.current.result),$t.useEffect(function(){var c=l.subscribe(function(u){var f=o.current;(f.error!==null||f.result!==u)&&(f.error=null,f.result=u,f.hasResult=!0,a())},function(u){var f=o.current;f.error!==u&&(f.error=u,a())});return typeof c=="function"?c:c.unsubscribe.bind(c)},r),o.current.error)throw o.current.error;return o.current.result}function na(e,t,n){return MQ(function(){return M9(e)},t||[],n)}function nr(e){const[t]=N.useMemo(()=>(e==null?void 0:e.split("|"))||[""],[e]),n=na(async()=>({hasLooked:!0,edits:await it.versions.get(e!=null?e:"")}),[e]);return N.useEffect(()=>{(async()=>{if(!e||!n||n.hasLooked&&n.edits)return;const o=await it.versions.get(t);o&&await J_(o,e)})()},[n,e]),N.useMemo(()=>!n||!n.edits?void 0:{...n.edits,data:n.edits.data},[n])}function $Q({id:e,data:{spreadType:t}}){const{updateNodeData:n}=Cn(),r=vn.useValue(),i=nr(r.versionId);return d.jsxs(pn,{title:"Create Object From Type",children:[d.jsx(Oe,{type:"target",id:"from-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsx(ft,{id:"type-".concat(e),label:"Type",value:t.name,onChange:o=>n(e,{spreadType:i==null?void 0:i.data.types.find(s=>s.name===o)}),children:i==null?void 0:i.data.types.map(o=>d.jsx("option",{value:o.name,children:o.name},o.name))}),t.properties.map(o=>d.jsxs("p",{style:{marginTop:5},children:["(",o.typeData.type,o.typeData.isArray?"[]":"",") ",o.key]},o.key)),d.jsxs("p",{style:{textAlign:"right"},children:["(",t.name,") output"]}),t.properties.map((o,s)=>d.jsx(Oe,{type:"target",id:"".concat(o.key,"-").concat(o.typeData.type).concat(o.typeData.isArray?"(Array)":""),position:ye.Left,style:{top:129+26*s,bottom:"auto"}},o.key)),d.jsx(Oe,{type:"source",id:"output-".concat(t.name),position:ye.Right,style:{top:129+24*t.properties.length,bottom:"auto"}})]})}const DQ=N.memo($Q),FQ=({id:e,data:{params:t}})=>{const{updateNodeData:n}=Cn(),r=mi(),i=vn.useValue(),o=nr(i.versionId);return N.useEffect(()=>{let s={};for(let a=0;a<t.length;a++){const l=t[a];s["".concat(l.name,"-").concat(l.type)]=o==null?void 0:o.data.types.find(c=>c.name===l.type)}n(e,{outputs:s}),r(e)},[t,o]),d.jsxs(pn,{title:"Entry",children:[d.jsx(Oe,{type:"source",id:"start-node",position:ye.Right,style:{top:30,bottom:"auto"}}),t.map(s=>d.jsxs("p",{style:{textAlign:"right",marginTop:5},children:["(",s.type,s.isArray?"[]":"",") ",s.name]},s.name)),t.map((s,a)=>d.jsx(Oe,{type:"source",id:"".concat(s.name,"-").concat(s.type),position:ye.Right,style:{top:85+25*a,bottom:"auto"}},s.name))]})},LQ=N.memo(FQ);function S$(e,t){var s;if(!e||!t)return"unknown";const n=t.split("/"),r=n.pop();if(!r)return"unknown";const i=n.reduce((a,l)=>{if(a)return Array.isArray(a)?(a=a.find(c=>c.name===l),a||void 0):a[l]},e);if(!i)return;const o=(s=i._type)==null?void 0:s.properties.find(a=>a.key===r);return i._type&&o&&o.typeData.type?o.typeData.isArray?"".concat(o.typeData.type,"(Array)"):o.typeData.type:"unknown"}function BQ({id:e,data:{path:t,type:n,outputs:r}}){const{updateNodeData:i}=Cn(),o=mi(),s=vn.useValue(),a=nr(s.versionId),l=N.useCallback(c=>{const u=S$((a==null?void 0:a.data.defaultCharacterData)||{},c),f=u.split("(")[0];i(e,{path:c,type:u,outputs:{["output-".concat(u)]:a==null?void 0:a.data.types.find(h=>h.name===f)}}),o(e)},[e,i,o,a]);return d.jsxs(pn,{title:"Get Character Data",children:[d.jsx(Oe,{type:"target",id:"from-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsx(en,{id:"get-character-".concat(e),label:"Path",value:t,onChange:l,isValid:!0,errorMessage:""}),d.jsxs("p",{children:["Calculated type ",n]}),n!=="unknown"?d.jsx(Oe,{type:"source",id:"output-".concat(n),position:ye.Right,style:{bottom:20,top:"auto"}}):null]})}const zQ=N.memo(BQ);function HQ({id:e,data:{chosenState:t}}){const{updateNodeData:n}=Cn(),r=mi(),i=vn.useValue(),o=nr(i.versionId),s=ws(),a=N.useMemo(()=>s.filter(u=>u.source!==e).map(u=>u.source),[s]),l=tx(a),c=N.useMemo(()=>{if(i.tab==="editor")return o==null?void 0:o.data.pages.find(u=>u.name===i.characterPage);if(i.tab==="creator")return o==null?void 0:o.data.creator.find(u=>u.name===i.creatorPage)},[o,i]);return N.useEffect(()=>{let u={};t||(t=(c==null?void 0:c.state[0])||null),t&&(u["".concat(t.name,"-").concat(t.type.type).concat(t.type.isArray?"(Array)":"")]=(o==null?void 0:o.data.types.find(f=>f.name===t.type.type))||null),n(e,{chosenState:t,outputs:u}),r(e)},[s,l,o,c]),d.jsxs(pn,{title:"Get Page State",children:[d.jsx(ft,{id:"set-state-".concat(e),label:"State to grab",value:(t==null?void 0:t.name)||"",onChange:u=>{const f=c==null?void 0:c.state.find(h=>h.name===u);n(e,{chosenState:f,outputs:{["".concat(f.name,"-").concat(f.type.type).concat(f.type.isArray?"(Array)":"")]:o==null?void 0:o.data.types.find(h=>h.name===f.type.type)}}),r(e)},children:c==null?void 0:c.state.map(u=>d.jsx("option",{value:u.name,children:u.name},u.name))}),t?d.jsxs("p",{className:"text-right",children:[t.type.type,t.type.isArray?"[]":""]}):d.jsx("p",{className:"text-right",children:"select a page state to get."}),d.jsx(Oe,{type:"target",id:"from-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),t&&d.jsx(Oe,{type:"source",id:"".concat(t.name,"-").concat(t.type.type).concat(t.type.isArray?"(Array)":""),position:ye.Right,style:{top:122,bottom:"auto"}})]})}const WQ=N.memo(HQ);function UQ({id:e,data:{path:t,type:n}}){const{updateNodeData:r}=Cn(),i=mi(),o=vn.useValue(),s=nr(o.versionId),a=N.useCallback(l=>{var f;const c=(f=s==null?void 0:s.data.data.find(h=>h.name===l))==null?void 0:f.typeData,u=c?"".concat(c.type).concat(c.isArray?"(Array)":""):"unknown";r(e,{path:l,type:u}),i(e)},[e,r,i,s]);return N.useEffect(()=>{var f,h;if(t)return;const l=(f=s==null?void 0:s.data.data[0])==null?void 0:f.name,c=(h=s==null?void 0:s.data.data[0])==null?void 0:h.typeData,u=c?"".concat(c.type).concat(c.isArray?"(Array)":""):"unknown";r(e,{path:l,type:u}),i(e)},[]),d.jsxs(pn,{title:"Get System Data",children:[d.jsx(Oe,{type:"target",id:"from-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsx(ft,{id:"get-system-".concat(e),label:"Data",value:t,onChange:a,children:s==null?void 0:s.data.data.map(l=>d.jsx("option",{value:l.name,children:l.name}))}),d.jsxs("p",{children:["Calculated type ",n]}),n!=="unknown"?d.jsx(Oe,{type:"source",id:"output-".concat(n),position:ye.Right,style:{bottom:20,top:"auto"}}):null]})}const VQ=N.memo(UQ),qQ=({id:e,data:{type:t,title:n,inputType:r}})=>{const{updateNodeData:i}=Cn(),o=mi(),s=vn.useValue(),a=nr(s.versionId);return ws({handleType:"target",handleId:"data-any",onConnect:l=>{const c=l[0];if(!c||!c.sourceHandle)return;const u=c.sourceHandle.split("-")[1];u&&(i(e,{inputType:u}),o(e))},onDisconnect:()=>{i(e,{inputType:"unknown"}),o(e)}}),d.jsxs(pn,{title:"Open Modal",children:[d.jsx(Oe,{type:"target",id:"from-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsxs(ft,{id:"modal-type",label:"Modal Type",value:t,onChange:l=>i(e,{type:l}),children:[d.jsx("option",{value:"edit_object",children:"Edit Object"}),d.jsx("option",{value:"edit_number",children:"Edit Number"}),d.jsx("option",{value:"edit_string",children:"Edit String"}),a==null?void 0:a.data.modals.map(l=>d.jsx("option",{value:l.name,children:l.name}))]}),d.jsx(en,{id:"modal-title",label:"Modal Title",value:n,onChange:l=>i(e,{title:l}),isValid:!0,errorMessage:""}),d.jsxs("p",{style:{marginTop:10},children:["input data (",r,")"]}),d.jsx(Oe,{type:"target",id:"data-any",position:ye.Left,style:{top:145,bottom:"auto"}}),d.jsx("p",{style:{textAlign:"right"},children:"on save"}),d.jsx(Oe,{type:"source",id:"save-node",position:ye.Right,style:{top:168,bottom:"auto"}}),d.jsxs("p",{style:{textAlign:"right"},children:["data (",r,")"]}),d.jsx(Oe,{type:"source",id:"newdata-".concat(r),position:ye.Right,style:{top:192,bottom:"auto"}}),d.jsx("p",{style:{marginTop:10,textAlign:"right"},children:"on delete"}),d.jsx(Oe,{type:"source",id:"delete-node",position:ye.Right,style:{top:222,bottom:"auto"}})]})},KQ=N.memo(qQ);function YQ({id:e,data:{param:t,inputType:n}}){const{updateNodeData:r}=Cn(),i=mi(),o="".concat(t.name,"-").concat(t.isArray?"array":t.type);return ws({handleType:"target",handleId:o,onConnect:s=>{const a=s[0];if(!a||!a.sourceHandle)return;const l=a.sourceHandle.split("-")[1];if(!l)return;const c=l.split("(")[0];c&&(r(e,{inputType:c}),i(e))},onDisconnect:()=>{r(e,{inputType:"any"}),i(e)}}),d.jsxs(pn,{title:"Output",children:[d.jsx(Oe,{type:"target",id:"end-node",position:ye.Left,style:{top:28,bottom:"auto"}}),d.jsx("p",{style:{textAlign:"left",marginTop:5},children:t.isArray?"".concat(n).concat(t.isArray?"(Array)":""):t.type}),d.jsx(Oe,{type:"target",id:o,position:ye.Left,style:{top:85,bottom:"auto"}})]})}const GQ=N.memo(YQ);function XQ({id:e,data:{path:t,type:n}}){const{updateNodeData:r}=Cn(),i=mi(),o=vn.useValue(),s=nr(o.versionId),a=N.useCallback(l=>{const c=S$((s==null?void 0:s.data.defaultCharacterData)||{},l);r(e,{path:l,type:c}),i(e)},[e,r,i,s]);return d.jsxs(pn,{title:"Set Character Data",children:[d.jsx(Oe,{type:"target",id:"from-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsx(en,{id:"set-character-".concat(e),label:"Path",value:t,onChange:a,isValid:!0,errorMessage:""}),d.jsxs("p",{children:["Calculated type ",n]}),n!=="unknown"?d.jsx(Oe,{type:"target",id:"input-".concat(n),position:ye.Left,style:{bottom:20,top:"auto"}}):null]})}const JQ=N.memo(XQ);function QQ({id:e,data:{chosenState:t}}){const{updateNodeData:n}=Cn(),r=mi(),i=vn.useValue(),o=nr(i.versionId),s=N.useMemo(()=>{if(i.tab==="editor")return o==null?void 0:o.data.pages.find(a=>a.name===i.characterPage);if(i.tab==="creator")return o==null?void 0:o.data.creator.find(a=>a.name===i.creatorPage)},[o,i]);return N.useEffect(()=>{t||(t=(s==null?void 0:s.state[0])||null),n(e,{chosenState:t})},[s,t]),d.jsxs(pn,{title:"Set Page State",children:[d.jsx(ft,{id:"set-state-".concat(e),label:"State to change",value:(t==null?void 0:t.name)||"",onChange:a=>{n(e,{chosenState:s==null?void 0:s.state.find(l=>l.name===a)}),r(e)},children:s==null?void 0:s.state.map(a=>d.jsx("option",{value:a.name,children:a.name},a.name))}),t?d.jsxs("p",{children:[t.type.type,t.type.isArray?"[]":""]}):d.jsx("p",{children:"select a page state to set."}),d.jsx(Oe,{type:"target",id:"from-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),t&&d.jsx(Oe,{type:"target",id:"".concat(t.name,"-").concat(t.type.type).concat(t.type.isArray?"(Array)":""),position:ye.Left,style:{top:122,bottom:"auto"}})]})}const ZQ=N.memo(QQ);function eZ({id:e,data:t}){const{updateNodeData:n}=Cn();return d.jsxs(pn,{title:"Set System Data",children:[d.jsx(en,{id:"path",label:"Path",placeholder:"path/to/data",value:t.path,onChange:i=>n(e,{path:i}),isValid:!0,errorMessage:""}),d.jsxs("p",{children:["Calculated type ","unknown"]}),d.jsx(Oe,{type:"target",position:ye.Left}),d.jsx(Oe,{type:"source",position:ye.Right})]})}const tZ=N.memo(eZ);function nZ({id:e,data:{inputType:t}}){var l,c;const{updateNodeData:n}=Cn(),r=mi(),i=vn.useValue();nr(i.versionId);const o=ws(),s=N.useMemo(()=>o.filter(u=>u.source!==e).map(u=>u.source),[o]),a=tx(s);return N.useEffect(()=>{var p,v,g,b,m;let u={};for(let y=0;y<o.length;y++){const x=o[y];if((x.source===e?"output":"input")==="output")continue;const S=a.find(T=>T.id===x.source);if(!(S!=null&&S.data)||!(S!=null&&S.data.outputs))continue;const E=((p=S==null?void 0:S.data)==null?void 0:p.outputs)[(v=x.sourceHandle)!=null?v:""];u[(g=x.targetHandle)!=null?g:""]=E}const f=(b=u["input-object"])!=null?b:{name:"unknown",properties:[]};let h={};for(let y=0;y<((m=t==null?void 0:t.properties)==null?void 0:m.length);y++){const x=t.properties[y];h["".concat(x.key,"-").concat(x.typeData.type).concat(x.typeData.isArray?"(Array)":"")]={name:x.typeData.type}}n(e,{inputs:u,inputType:f,outputs:h}),r(e)},[o,a]),d.jsxs(pn,{title:"Spread Object",children:[d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"target",id:"from-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsxs("p",{style:{textAlign:"left"},children:["Input Type ",t==null?void 0:t.name]}),d.jsx("p",{style:{textAlign:"right"},children:"Spread"}),(l=t==null?void 0:t.properties)==null?void 0:l.map(u=>d.jsxs("p",{style:{textAlign:"right",marginTop:5},children:["(",u.typeData.type,u.typeData.isArray?"[]":"",") ",u.key]},u.key)),d.jsx(Oe,{type:"target",id:"input-object",position:ye.Left,style:{top:80,bottom:"auto"}}),(c=t==null?void 0:t.properties)==null?void 0:c.map((u,f)=>d.jsx(Oe,{type:"source",id:"".concat(u.key,"-").concat(u.typeData.type).concat(u.typeData.isArray?"(Array)":""),position:ye.Right,style:{top:130+26*f,bottom:"auto"}},u.key))]})}const rZ=N.memo(nZ);function iZ({id:e,data:{string1:t,string2:n}}){const{updateNodeData:r}=Cn();return d.jsxs(pn,{title:"String Includes",children:[d.jsx(Oe,{type:"target",id:"prev-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsx("p",{style:{marginTop:5},children:"String 1"}),d.jsx("p",{style:{marginTop:5},children:"String 2"}),d.jsx("p",{style:{textAlign:"right",marginTop:5},children:"(boolean) Included?"}),d.jsx(Oe,{type:"target",id:"string1-string",position:ye.Left,style:{top:85,bottom:"auto"}}),d.jsx(Oe,{type:"target",id:"string2-string",position:ye.Left,style:{top:110,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"output-boolean",position:ye.Right,style:{top:136,bottom:"auto"}})]})}const oZ=N.memo(iZ);function sZ(e){return d.jsxs(pn,{title:"String Compare",children:[d.jsx(Oe,{type:"target",id:"prev-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsx("p",{style:{marginTop:5},children:"String 1"}),d.jsx("p",{style:{marginTop:5},children:"String 2"}),d.jsx("p",{style:{textAlign:"right",marginTop:5},children:"(boolean) is the same?"}),d.jsx(Oe,{type:"target",id:"string1-string",position:ye.Left,style:{top:85,bottom:"auto"}}),d.jsx(Oe,{type:"target",id:"string2-string",position:ye.Left,style:{top:110,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"output-boolean",position:ye.Right,style:{top:136,bottom:"auto"}})]})}const aZ=N.memo(sZ);function lZ({id:e,data:{string1:t,string2:n}}){const{updateNodeData:r}=Cn();return d.jsxs(pn,{title:"Concat String",children:[d.jsx(Oe,{type:"target",id:"prev-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsx("p",{style:{marginTop:5},children:"String 1"}),d.jsx("p",{style:{marginTop:5},children:"String 2"}),d.jsx("p",{style:{textAlign:"right",marginTop:5},children:"(string) concated string"}),d.jsx(Oe,{type:"target",id:"string1-string",position:ye.Left,style:{top:85,bottom:"auto"}}),d.jsx(Oe,{type:"target",id:"string2-string",position:ye.Left,style:{top:110,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"output-string",position:ye.Right,style:{top:136,bottom:"auto"}})]})}const cZ=N.memo(lZ);function uZ({id:e,data:{inputType:t}}){const{updateNodeData:n}=Cn(),r=mi(),i=vn.useValue(),o=nr(i.versionId);return ws({handleType:"target",handleId:"base-array",onConnect:s=>{const a=s[0];if(!a||!a.sourceHandle)return;const l=a.sourceHandle.split("-")[1];if(!l)return;const c=l.split("(")[0];c&&(n(e,{inputType:c}),r(e))},onDisconnect:()=>{n(e,{inputType:"unknown"}),r(e)}}),N.useEffect(()=>{o&&r(e)},[o,t]),d.jsxs(pn,{title:"Remove Item In Array",children:[d.jsx(Oe,{type:"target",id:"from-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsxs("p",{style:{textAlign:"left"},children:["Type ",t,"(Array)"]}),t!=="unknown"&&d.jsxs(d.Fragment,{children:[d.jsx("p",{style:{marginTop:5},children:"name (string)"}),d.jsxs("p",{style:{textAlign:"right",marginTop:5},children:[t,"(Array) New Array"]})]}),d.jsx(Oe,{type:"target",id:"base-array",position:ye.Left,style:{top:80,bottom:"auto"}}),t!=="unknown"&&d.jsxs(d.Fragment,{children:[d.jsx(Oe,{type:"target",id:"name-string",position:ye.Left,style:{top:106,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"output-".concat(t,"(Array)"),position:ye.Right,style:{top:130,bottom:"auto"}})]})]})}const dZ=N.memo(uZ);function fZ({id:e,data:{inputType:t}}){const{updateNodeData:n}=Cn(),r=mi(),i=vn.useValue(),o=nr(i.versionId);return ws({handleType:"target",handleId:"base-array",onConnect:s=>{const a=s[0];if(!a||!a.sourceHandle)return;const l=a.sourceHandle.split("-")[1];if(!l)return;const c=l.split("(")[0];c&&(n(e,{inputType:c}),r(e))},onDisconnect:()=>{n(e,{inputType:"unknown"}),r(e)}}),N.useEffect(()=>{o&&r(e)},[o,t]),d.jsxs(pn,{title:"Add Item To Array",children:[d.jsx(Oe,{type:"target",id:"from-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsxs("p",{style:{textAlign:"left"},children:["Type ",t,"(Array)"]}),t!=="unknown"&&d.jsxs(d.Fragment,{children:[d.jsxs("p",{style:{marginTop:5},children:["new Item (",t,")"]}),d.jsxs("p",{style:{textAlign:"right",marginTop:5},children:[t,"(Array) New Array"]})]}),d.jsx(Oe,{type:"target",id:"base-array",position:ye.Left,style:{top:80,bottom:"auto"}}),t!=="unknown"&&d.jsxs(d.Fragment,{children:[d.jsx(Oe,{type:"target",id:"newItem-".concat(t),position:ye.Left,style:{top:106,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"output-".concat(t,"(Array)"),position:ye.Right,style:{top:130,bottom:"auto"}})]})]})}const hZ=N.memo(fZ);function pZ({id:e,data:{inputType:t}}){const{updateNodeData:n}=Cn(),r=mi(),i=vn.useValue(),o=nr(i.versionId);return ws({handleType:"target",handleId:"input-array",onConnect:s=>{const a=s[0];if(!a||!a.sourceHandle)return;const l=a.sourceHandle.split("-")[1];if(!l)return;const c=l.split("(")[0];c&&(n(e,{inputType:c}),r(e))},onDisconnect:()=>{n(e,{inputType:"unknown"}),r(e)}}),N.useEffect(()=>{o&&r(e)},[o,t]),d.jsxs(pn,{title:"Filter Array",children:[d.jsxs("p",{style:{textAlign:"left"},children:["Input Type ",t]}),d.jsx("p",{style:{textAlign:"right"},children:"Loop Body"}),t!=="unknown"&&d.jsxs(d.Fragment,{children:[d.jsx("p",{style:{textAlign:"left",marginTop:15},children:"Loop Completed"}),d.jsx("p",{style:{textAlign:"left",marginTop:5},children:"Filtered? (boolean)"}),d.jsxs("p",{style:{textAlign:"right",marginTop:15},children:["(",t,") item"]})]}),t!=="unknown"&&d.jsxs(d.Fragment,{children:[d.jsx("p",{style:{textAlign:"right",marginTop:20},children:"Completed"}),d.jsx("p",{style:{textAlign:"right",marginTop:5},children:"Filtered Array"})]}),d.jsx(Oe,{type:"target",id:"from-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"target",id:"input-array",position:ye.Left,style:{top:65,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"loop-node",position:ye.Right,style:{top:90,bottom:"auto"}}),t!=="unknown"&&d.jsxs(d.Fragment,{children:[d.jsx(Oe,{type:"target",id:"loopcompleted-node",position:ye.Left,style:{top:125,bottom:"auto"}}),d.jsx(Oe,{type:"target",id:"filtered?-boolean",position:ye.Left,style:{top:150,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"output-".concat(t),position:ye.Right,style:{top:188,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"completed-node",position:ye.Right,style:{top:228,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"filterd-".concat(t,"(Array)"),position:ye.Right,style:{top:255,bottom:"auto"}})]})]})}const mZ=N.memo(pZ);function gZ({id:e,data:{inputType:t,mapType:n}}){const{updateNodeData:r}=Cn(),i=mi(),o=vn.useValue(),s=nr(o.versionId);return ws({handleType:"target",handleId:"input-array",onConnect:a=>{const l=a[0];if(!l||!l.sourceHandle)return;const c=l.sourceHandle.split("-")[1];if(!c)return;const u=c.split("(")[0];u&&(r(e,{inputType:u}),i(e))},onDisconnect:()=>{r(e,{inputType:"unknown"}),i(e)}}),d.jsxs(pn,{title:"Map Array",children:[d.jsxs("p",{style:{textAlign:"left"},children:["Input Type ",t]}),d.jsx("p",{style:{textAlign:"right"},children:"Loop Body"}),d.jsx(ft,{id:"map-type-".concat(e),label:"Input Type",value:n,onChange:a=>{r(e,{mapType:a}),i(e)},children:s==null?void 0:s.data.types.map(a=>d.jsx("option",{value:a.name,children:a.name},a.name))}),t!=="unknown"&&d.jsxs(d.Fragment,{children:[d.jsx("p",{style:{textAlign:"left",marginTop:15},children:"Loop Completed"}),d.jsxs("p",{style:{textAlign:"left",marginTop:5},children:["item (",n,")"]}),d.jsxs("p",{style:{textAlign:"right",marginTop:15},children:["(",t,") item"]})]}),t!=="unknown"&&d.jsxs(d.Fragment,{children:[d.jsx("p",{style:{textAlign:"right",marginTop:20},children:"Completed"}),d.jsx("p",{style:{textAlign:"right",marginTop:5},children:"New Array"})]}),d.jsx(Oe,{type:"target",id:"from-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"target",id:"input-array",position:ye.Left,style:{top:65,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"loop-node",position:ye.Right,style:{top:90,bottom:"auto"}}),t!=="unknown"&&d.jsxs(d.Fragment,{children:[d.jsx(Oe,{type:"target",id:"loopcompleted-node",position:ye.Left,style:{top:125,bottom:"auto"}}),d.jsx(Oe,{type:"target",id:"newitem-".concat(t),position:ye.Left,style:{top:150,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"output-".concat(t),position:ye.Right,style:{top:188,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"completed-node",position:ye.Right,style:{top:228,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"filterd-".concat(n,"(Array)"),position:ye.Right,style:{top:255,bottom:"auto"}})]})]})}const vZ=N.memo(gZ);function yZ({id:e,data:{inputType:t}}){const{updateNodeData:n}=Cn(),r=mi(),i=vn.useValue(),o=nr(i.versionId);return ws({handleType:"target",handleId:"base-array",onConnect:s=>{const a=s[0];if(!a||!a.sourceHandle)return;const l=a.sourceHandle.split("-")[1];if(!l)return;const c=l.split("(")[0];c&&(n(e,{inputType:c}),r(e))},onDisconnect:()=>{n(e,{inputType:"unknown"}),r(e)}}),N.useEffect(()=>{o&&r(e)},[o,t]),d.jsxs(pn,{title:"Update Item In Array",children:[d.jsx(Oe,{type:"target",id:"from-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsxs("p",{style:{textAlign:"left"},children:["Type ",t,"(Array)"]}),t!=="unknown"&&d.jsxs(d.Fragment,{children:[d.jsx("p",{style:{marginTop:5},children:"name (string)"}),d.jsxs("p",{style:{marginTop:10},children:["new Item (",t,")"]}),d.jsxs("p",{style:{textAlign:"right",marginTop:5},children:[t,"(Array) New Array"]})]}),d.jsx(Oe,{type:"target",id:"base-array",position:ye.Left,style:{top:80,bottom:"auto"}}),t!=="unknown"&&d.jsxs(d.Fragment,{children:[d.jsx(Oe,{type:"target",id:"name-string",position:ye.Left,style:{top:106,bottom:"auto"}}),d.jsx(Oe,{type:"target",id:"newItem-".concat(t),position:ye.Left,style:{top:138,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"output-".concat(t,"(Array)"),position:ye.Right,style:{top:162,bottom:"auto"}})]})]})}const xZ=N.memo(yZ),JS=Xe.object({type:Xe.string(),gen:Xe.any().optional(),useTextArea:Xe.boolean().optional(),isArray:Xe.boolean().optional(),options:Xe.array(Xe.string()).optional(),outputType:Xe.string().optional(),isOutputAnArray:Xe.boolean().optional(),inputs:Xe.array(Xe.any()).optional()}),wZ=Xe.object({name:Xe.string(),typeData:JS,data:Xe.any()}),Zw=Xe.object({name:Xe.string(),blueprint:Xe.object({nodes:Xe.array(Xe.any()),edges:Xe.array(Xe.any())}),lexical:Xe.string(),state:Xe.array(Xe.object({name:Xe.string(),type:JS,value:Xe.any()}))}),bZ=Xe.object({name:Xe.string(),properties:Xe.array(Xe.object({key:Xe.string(),typeData:JS}))}),_Z=Xe.object({name:Xe.string(),description:Xe.string(),blueprint:Xe.object({nodes:Xe.array(Xe.any()),edges:Xe.array(Xe.any())})});Xe.object({creator:Xe.array(Zw),modals:Xe.array(Zw),pages:Xe.array(Zw),version:Xe.string(),data:Xe.array(wZ),defaultCharacterData:Xe.any(),types:Xe.array(bZ),actions:Xe.array(_Z)});const nx=Xe.object({id:Xe.string({invalid_type_error:"id must be a string"}).max(100,"id cannot be longer than 100 characters").optional(),local_id:Xe.string({invalid_type_error:"local_id must be a string"}).max(73,"local_id must be 73 characters or less"),user_id:Xe.string(),name:Xe.string(),forked_from:Xe.string().nullable().optional(),version:Xe.string().optional(),created_at:Xe.string().datetime({offset:!0}),updated_at:Xe.string().datetime({offset:!0}),deleted_at:Xe.string().datetime({offset:!0}).nullable().optional()});function kZ({id:e,data:{inputType:t}}){const{updateNodeData:n}=Cn(),r=mi(),i=vn.useValue(),o=nr(i.versionId),s=ws(),a=N.useMemo(()=>s.filter(c=>c.source!==e).map(c=>c.source),[s]),l=tx(a);return N.useEffect(()=>{var f,h,p,v;let c={};for(let g=0;g<s.length;g++){const b=s[g];if((b.source===e?"output":"input")==="output")continue;const y=l.find(k=>k.id===b.source);if(!(y!=null&&y.data)||!(y!=null&&y.data.outputs))continue;console.log(b.sourceHandle);const x=((f=y==null?void 0:y.data)==null?void 0:f.outputs)[(h=b.sourceHandle)!=null?h:""];console.log(x),c[(p=b.targetHandle)!=null?p:""]=x}console.log(c);const u=((v=c["base-array"])!=null?v:{name:"unknown"}).name;n(e,{inputs:c,inputType:u,outputs:{["output-".concat(u)]:o==null?void 0:o.data.types.find(g=>g.name===u)}}),r(e)},[s,l,nx]),N.useEffect(()=>{o&&r(e)},[o,t]),d.jsxs(pn,{title:"Get Item In Array",children:[d.jsx(Oe,{type:"target",id:"from-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsxs("p",{style:{textAlign:"left"},children:["Type ",t,"(Array)"]}),t!=="unknown"&&d.jsxs(d.Fragment,{children:[d.jsx("p",{style:{marginTop:5},children:"name (string)"}),d.jsxs("p",{style:{textAlign:"right",marginTop:5},children:[t," Item"]})]}),d.jsx(Oe,{type:"target",id:"base-array",position:ye.Left,style:{top:80,bottom:"auto"}}),t!=="unknown"&&d.jsxs(d.Fragment,{children:[d.jsx(Oe,{type:"target",id:"name-string",position:ye.Left,style:{top:106,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"output-".concat(t),position:ye.Right,style:{top:130,bottom:"auto"}})]})]})}const SZ=N.memo(kZ);function EZ({id:e,data:{value:t}}){const{updateNodeData:n}=Cn();return d.jsxs(pn,{title:"Number",children:[d.jsx(Oe,{type:"target",id:"prev-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsx(en,{id:"number-".concat(e),label:"String Value",value:t.toString(),onChange:r=>n(e,{value:r}),isValid:!0,errorMessage:""}),d.jsx(Oe,{type:"source",id:"output-number",position:ye.Right,style:{top:100,bottom:"auto"}})]})}const CZ=N.memo(EZ);function jZ(e){return d.jsxs(pn,{title:"Subtract",children:[d.jsx(Oe,{type:"target",id:"prev-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsx("p",{style:{marginTop:5},children:"number 1"}),d.jsx("p",{style:{marginTop:5},children:"number 2"}),d.jsx("p",{style:{marginTop:5},children:"output"}),d.jsx(Oe,{type:"target",id:"number1-number",position:ye.Left,style:{top:85,bottom:"auto"}}),d.jsx(Oe,{type:"target",id:"number2-number",position:ye.Left,style:{top:110,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"output-number",position:ye.Right,style:{top:135,bottom:"auto"}})]})}const NZ=N.memo(jZ);function AZ(e){return d.jsxs(pn,{title:"Divide",children:[d.jsx(Oe,{type:"target",id:"prev-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsx("p",{style:{marginTop:5},children:"number 1"}),d.jsx("p",{style:{marginTop:5},children:"number 2"}),d.jsx("p",{style:{marginTop:5},children:"output"}),d.jsx(Oe,{type:"target",id:"number1-number",position:ye.Left,style:{top:85,bottom:"auto"}}),d.jsx(Oe,{type:"target",id:"number2-number",position:ye.Left,style:{top:110,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"output-number",position:ye.Right,style:{top:135,bottom:"auto"}})]})}const TZ=N.memo(AZ);function RZ(e){return d.jsxs(pn,{title:"Floor",children:[d.jsx(Oe,{type:"target",id:"prev-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsx("p",{style:{marginTop:5},children:"number"}),d.jsx("p",{style:{marginTop:5},children:"output"}),d.jsx(Oe,{type:"target",id:"input-number",position:ye.Left,style:{top:85,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"output-number",position:ye.Right,style:{top:110,bottom:"auto"}})]})}const IZ=N.memo(RZ);function PZ(e){return d.jsxs(pn,{title:"Add",children:[d.jsx(Oe,{type:"target",id:"prev-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsx("p",{style:{marginTop:5},children:"number 1"}),d.jsx("p",{style:{marginTop:5},children:"number 2"}),d.jsx("p",{style:{marginTop:5},children:"output"}),d.jsx(Oe,{type:"target",id:"number1-number",position:ye.Left,style:{top:85,bottom:"auto"}}),d.jsx(Oe,{type:"target",id:"number2-number",position:ye.Left,style:{top:110,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"output-number",position:ye.Right,style:{top:135,bottom:"auto"}})]})}const OZ=N.memo(PZ);function MZ(e){return d.jsxs(pn,{title:"Multiply",children:[d.jsx(Oe,{type:"target",id:"prev-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsx("p",{style:{marginTop:5},children:"number 1"}),d.jsx("p",{style:{marginTop:5},children:"number 2"}),d.jsx("p",{style:{marginTop:5},children:"output"}),d.jsx(Oe,{type:"target",id:"number1-number",position:ye.Left,style:{top:85,bottom:"auto"}}),d.jsx(Oe,{type:"target",id:"number2-number",position:ye.Left,style:{top:110,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"output-number",position:ye.Right,style:{top:135,bottom:"auto"}})]})}const $Z=N.memo(MZ);function DZ(e){return d.jsxs(pn,{title:"Number To String",children:[d.jsx(Oe,{type:"target",id:"prev-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsx("p",{style:{marginTop:5},children:"number"}),d.jsx("p",{style:{marginTop:5,textAlign:"right"},children:"string"}),d.jsx(Oe,{type:"target",id:"input-number",position:ye.Left,style:{top:85,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"output-string",position:ye.Right,style:{top:110,bottom:"auto"}})]})}const FZ=N.memo(DZ);function LZ(e){return d.jsxs(pn,{title:"Enum Compare",children:[d.jsx(Oe,{type:"target",id:"prev-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsx("p",{style:{marginTop:5},children:"Enum 1"}),d.jsx("p",{style:{marginTop:5},children:"Enum 2"}),d.jsx("p",{style:{textAlign:"right",marginTop:5},children:"(boolean) is the same?"}),d.jsx(Oe,{type:"target",id:"enum1-enum",position:ye.Left,style:{top:85,bottom:"auto"}}),d.jsx(Oe,{type:"target",id:"enum2-enum",position:ye.Left,style:{top:110,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"output-boolean",position:ye.Right,style:{top:136,bottom:"auto"}})]})}const BZ=N.memo(LZ);function zZ({id:e,data:{value:t}}){const{updateNodeData:n}=Cn();return d.jsxs(pn,{title:"Enum",children:[d.jsx(Oe,{type:"target",id:"prev-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsx(en,{id:"enum-".concat(e),label:"String Value",value:t,onChange:r=>n(e,{value:r}),isValid:!0,errorMessage:""}),d.jsx(Oe,{type:"source",id:"output-enum",position:ye.Right,style:{top:100,bottom:"auto"}})]})}const HZ=N.memo(zZ);function WZ(e){return d.jsxs(pn,{title:"Branch",children:[d.jsx(Oe,{type:"target",id:"prev-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx("p",{style:{marginTop:5},children:"input (boolean)"}),d.jsx("p",{style:{textAlign:"right",marginTop:5},children:"true"}),d.jsx("p",{style:{textAlign:"right",marginTop:5},children:"false"}),d.jsx(Oe,{type:"target",id:"input-boolean",position:ye.Left,style:{top:85,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"true-node",position:ye.Right,style:{top:110,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"false-node",position:ye.Right,style:{top:136,bottom:"auto"}})]})}const UZ=N.memo(WZ);function VZ(e){return d.jsxs(pn,{title:"Inverse Boolean",children:[d.jsx(Oe,{type:"target",id:"prev-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsx("p",{style:{marginTop:5},children:"input (boolean)"}),d.jsx(Oe,{type:"target",id:"input-boolean",position:ye.Left,style:{top:80,bottom:"auto"}}),d.jsx("p",{style:{textAlign:"right",marginTop:5},children:"(boolean) output"}),d.jsx(Oe,{type:"source",id:"output-boolean",position:ye.Right,style:{top:55,bottom:"auto"}})]})}const qZ=N.memo(VZ);function KZ({id:e,data:{value:t}}){const{updateNodeData:n}=Cn();return d.jsxs(pn,{title:"String",children:[d.jsx(Oe,{type:"target",id:"prev-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsx(en,{id:"string-".concat(e),label:"String Value",value:t,onChange:r=>n(e,{value:r}),isValid:!0,errorMessage:""}),d.jsx(Oe,{type:"source",id:"output-string",position:ye.Right,style:{top:100,bottom:"auto"}})]})}const YZ=N.memo(KZ);function GZ({id:e,data:{value:t}}){const{updateNodeData:n}=Cn();return d.jsxs(pn,{title:"Boolean",children:[d.jsx(Oe,{type:"target",id:"prev-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsx(vr,{id:"boolean-".concat(e),label:"Value",checked:t,onChange:r=>n(e,{value:r})}),d.jsx(Oe,{type:"source",id:"output-boolean",position:ye.Right,style:{top:100,bottom:"auto"}})]})}const XZ=N.memo(GZ);function vy(e){return e.nodes.find(n=>n.type==="output").data.inputType}function JZ(e){return NO(e).data.params}const QZ=({id:e,data:{params:t,returnType:n,inputs:r,outputs:i}})=>{const{updateNodeData:o}=Cn(),s=mi(),a=ws(),l=N.useMemo(()=>a.filter(u=>u.source!==e).map(u=>u.source),[a]),c=tx(l);return N.useEffect(()=>{var v,g;let u={};for(let b=0;b<a.length;b++){const m=a[b];if((m.source===e?"output":"input")==="output")continue;const x=c.find(S=>S.id===m.source);if(x!=null&&x.data||x!=null&&x.data.outputs)continue;const k=((v=x==null?void 0:x.data)==null?void 0:v.outputs)[m.sourceHandle||""];u[m.targetHandle||""]=k}const f=(g=u["data-blueprint"])==null?void 0:g.data;let h=[],p="none";f&&(h=JZ(f),p=vy(f)),o(e,{inputs:u,params:h,returnType:p}),s(e)},[a,c]),d.jsxs(pn,{title:"Run Blueprint",children:[d.jsx(Oe,{type:"target",id:"from-node",position:ye.Left,style:{top:30,bottom:"auto"}}),d.jsx(Oe,{type:"source",id:"next-node",position:ye.Right,style:{top:30,bottom:"auto"}}),d.jsx("p",{style:{marginTop:10},children:"blueprint"}),d.jsx(Oe,{type:"target",id:"data-blueprint",position:ye.Left,style:{top:60,bottom:"auto"}}),t.map((u,f)=>{const h="".concat(u.type).concat(u.isArray?"(Array)":"");return d.jsxs("div",{children:[d.jsxs("p",{children:[u.name," ",h]}),d.jsx(Oe,{type:"target",id:"".concat(u.name,"-").concat(h),position:ye.Left,style:{top:70+10*f,bottom:"auto"}})]},u.name)}),n!=="none"&&d.jsxs("div",{children:[d.jsxs("p",{children:["output ",n]}),d.jsx(Oe,{type:"source",id:"output-".concat(n),position:ye.Right,style:{top:80+10*t.length,bottom:"auto"}})]})]})},ZZ=N.memo(QZ),eee={entry:LQ,output:GQ,get_character_data:zQ,set_character_data:JQ,get_page_data:WQ,set_page_data:ZQ,get_system_data:VQ,set_system_data:tZ,add_to_array:hZ,array_remove:dZ,array_update:xZ,array_get:SZ,filter:mZ,map:vZ,spread_object:rZ,create_data_from_type:DQ,string_new:YZ,string_includes:oZ,string_compare:aZ,string_concat:cZ,new_number:CZ,number_to_string:FZ,divide:TZ,add:OZ,subtract:NZ,multiply:$Z,floor:IZ,new_enum:HZ,enum_compare:BZ,boolean_new:XZ,boolean_branch:UZ,boolean_inverse:qZ,open_modal:KQ,blueprint_run:ZZ};function tee(e){const[t,n]=N.useState([]),[r,i]=N.useState([]);N.useEffect(()=>{n(e.nodes),i(e.edges)},[e]);function o(l){n(XM(l,t))}function s(l){i(JM(l,r))}function a(l){i(NM(l,r))}return{nodes:t,edges:r,onNodesChange:o,onEdgesChange:s,onConnect:a}}const nee=e=>{if(!e.sourceHandle||!e.targetHandle)return!1;const t=e.sourceHandle.split("-")[1],n=e.targetHandle.split("-")[1];return!t||!n?!1:n==="object"&&!["string","number","boolean","enum","blueprint"].includes(t)||n==="array"&&t.endsWith("(Array)")||n==="any"||t==="any"?!0:t===n},Ai=({id:e,data:t,onSave:n})=>{const[r,i]=N.useState(null),[o,s]=N.useState(null),a=N.useRef(null),{nodes:l,edges:c,onNodesChange:u,onEdgesChange:f,onConnect:h}=tee(t),p=N.useCallback((m,y)=>{if(m.preventDefault(),!a||!a.current)return;const x=a.current.getBoundingClientRect();i({id:y.id,top:m.clientY<x.height-200&&m.clientY,left:m.clientX<x.width-200&&m.clientX,right:m.clientX>=x.width-200&&x.width-m.clientX,bottom:m.clientY>=x.height-200&&x.height-m.clientY}),s(null)},[i]),v=N.useCallback(async({nodes:m,edges:y})=>!m.find(x=>["entry","output"].includes(x.type)),[]),g=N.useCallback(m=>{if(m.preventDefault(),!a||!a.current)return;const y=a.current.getBoundingClientRect();s({top:m.clientY<y.height-200&&m.clientY,left:m.clientX<y.width-200&&m.clientX,right:m.clientX>=y.width-200&&y.width-m.clientX,bottom:m.clientY>=y.height-200&&y.height-m.clientY,rawX:m.clientX,rawY:m.clientY}),i(null)},[s]),b=N.useCallback(()=>{i(null),s(null)},[i,s]);return d.jsx("div",{className:"flex z-50 absolute top-0 left-0 w-screen h-screen",children:d.jsxs(rQ,{ref:a,nodes:l,edges:c,onNodesChange:u,onEdgesChange:f,onConnect:h,onBeforeDelete:v,isValidConnection:nee,onPaneClick:b,onNodeContextMenu:p,onPaneContextMenu:g,nodeTypes:eee,colorMode:"system",children:[d.jsx(AQ,{}),d.jsx(cQ,{}),d.jsx(gQ,{}),r&&d.jsx(RQ,{onClick:b,...r}),o&&d.jsx(IQ,{onClick:b,...o}),d.jsxs(um,{position:"top-right",children:[d.jsx(kt,{color:"danger",onClick:()=>cr(e),children:"Close"}),d.jsx(kt,{color:"primary",onClick:()=>{n({nodes:l,edges:c}),cr(e)},children:"Confirm"})]})]})})};function QS({id:e,title:t,onDelete:n,onSave:r,data:i,types:o,type:s,typeData:a}){const[l,c]=N.useState(null),u=N.useCallback(()=>cr(e),[e]),f=(h,p,v)=>{c(En(p,g=>(h?IS(g,h,v):g=v,g)))};return N.useEffect(()=>{c(i||null)},[i,c]),l?d.jsxs(Vn,{isOpen:!0,onClose:u,children:[d.jsx(Kn,{title:t,onClose:u}),d.jsx(qn,{children:s&&a?ZS(o,s,l,l,a,"",f):ree(l,o,f)}),d.jsxs(yr,{children:[d.jsx(kt,{color:"danger",onClick:()=>{n&&n(),u()},children:n?"Delete":"Close"}),d.jsx(kt,{color:"primary",onClick:()=>{r(l),u()},children:"Update"})]})]}):d.jsx(d.Fragment,{})}function ree(e,t,n){return d.jsx("div",{children:e._type.properties.map(r=>{const i=r.key,o=e[i];let a=r.typeData.type;return d.jsx("div",{children:ZS(t,a,o,e,r.typeData,i,n)},i)})})}function ZS(e,t,n,r,i,o,s){var l;const a=e.find(c=>c.name===t);if(t&&i.isArray)return d.jsx(iee,{types:e,type:a,title:o,data:n,onAdd:c=>s(o,r,[...n,c]),onChange:(c,u)=>s(c,r,u),onDelete:c=>s(o,r,n.filter(u=>u.name!==c))});switch(t){case"string":return i.useTextArea?d.jsx(MS,{id:o,label:o,value:n,onChange:c=>s(o,r,c)}):d.jsx(en,{id:o,label:o,isValid:!0,errorMessage:"",value:n,onChange:c=>s(o,r,c)});case"number":return d.jsx(en,{id:o,label:o,isValid:!0,errorMessage:"",value:n,onChange:c=>s(o,r,+c)});case"boolean":return d.jsx(vr,{id:o,label:o,checked:n,onChange:c=>s(o,r,c)});case"enum":return d.jsx(ft,{id:o,label:o,value:n,onChange:c=>s(o,r,c),children:(l=i.options)==null?void 0:l.map(c=>d.jsx("option",{value:c,children:c},c))});case"blueprint":return d.jsxs(kt,{color:"light",onClick:()=>Rt("blueprint",({id:c})=>d.jsx(Ai,{id:c,data:n,onSave:u=>s(o,r,u)})),children:["Edit ",o]},o);default:return d.jsxs("div",{className:"mb-2",children:[d.jsx("p",{className:"my-2",children:o}),d.jsx(nf,{}),d.jsx("div",{className:"h-2"}),a.properties.map(c=>{var u;return ZS(e,c.typeData.type,(u=n[c.key])!=null?u:"",r,c.typeData,c.key,(f,h,p)=>{s("".concat(o,"/").concat(f),h,p)})})]},o)}}function iee({title:e,data:t,type:n,types:r,onAdd:i,onChange:o,onDelete:s}){const[a,l]=N.useState(null);return d.jsxs("div",{className:"mt-3",children:[d.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[d.jsx("p",{children:e}),d.jsx("p",{onClick:()=>i(Nd(r,n)),children:"Add"})]}),d.jsx(nf,{}),d.jsx("div",{className:"flex flex-col gap-1 mt-3",children:t.map(c=>d.jsx("div",{className:"p-3 border border-neutral-600 dark:bg-neutral-800 hover:bg-neutral-700 cursor-pointer",onClick:()=>Rt("edit-object",({id:u})=>d.jsx(QS,{id:u,title:"Edit ".concat(c.name),types:r,onDelete:()=>s(c.name),onSave:f=>{const h=[...t],p=h.findIndex(v=>v.name===c.name);h[p]=f,o("".concat(e),h)},data:c})),children:d.jsx("p",{children:c.name})},c.name))})]},a==null?void 0:a.name)}function oee({id:e,data:t,title:n="Edit Number",onSave:r}){const[i,o]=N.useState("");N.useEffect(()=>{t&&o(t)},[t]);const s=N.useCallback(()=>cr(e),[e]);return d.jsxs(Vn,{isOpen:!0,onClose:s,children:[d.jsx(Kn,{title:n,onClose:s}),d.jsx(qn,{children:d.jsx(en,{type:"number",id:"name",label:"Name",placeholder:"baba yaga",value:i,onChange:o,isValid:!0,errorMessage:""})}),d.jsxs(yr,{children:[d.jsx(kt,{color:"danger",onClick:s,children:"Delete"}),d.jsx(kt,{color:"primary",onClick:()=>{i&&(r(i),s())},children:"Update"})]})]})}function Js({id:e,data:t,title:n="Edit string",onSave:r,onDelete:i}){const[o,s]=N.useState(t),a=N.useCallback(()=>cr(e),[e]);return d.jsxs(Vn,{isOpen:!0,onClose:a,children:[d.jsx(Kn,{title:n,onClose:a}),d.jsx(qn,{children:d.jsx(en,{id:"name",label:"String",placeholder:"baba yaga",value:o,onChange:s,isValid:!0,errorMessage:""})}),d.jsxs(yr,{children:[d.jsx(kt,{color:"danger",onClick:a,children:i?"Delete":"Close"}),d.jsx(kt,{color:"primary",onClick:()=>{o&&(r(o),a())},children:"Update"})]})]})}var E$={exports:{}},eb={exports:{}},tb={exports:{}},nb={},Ff={},MA;function see(){if(MA)return Ff;MA=1,Ff.byteLength=a,Ff.toByteArray=c,Ff.fromByteArray=h;for(var e=[],t=[],n=typeof Uint8Array<"u"?Uint8Array:Array,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,o=r.length;i<o;++i)e[i]=r[i],t[r.charCodeAt(i)]=i;t[45]=62,t[95]=63;function s(p){var v=p.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=p.indexOf("=");g===-1&&(g=v);var b=g===v?0:4-g%4;return[g,b]}function a(p){var v=s(p),g=v[0],b=v[1];return(g+b)*3/4-b}function l(p,v,g){return(v+g)*3/4-g}function c(p){var v,g=s(p),b=g[0],m=g[1],y=new n(l(p,b,m)),x=0,k=m>0?b-4:b,S;for(S=0;S<k;S+=4)v=t[p.charCodeAt(S)]<<18|t[p.charCodeAt(S+1)]<<12|t[p.charCodeAt(S+2)]<<6|t[p.charCodeAt(S+3)],y[x++]=v>>16&255,y[x++]=v>>8&255,y[x++]=v&255;return m===2&&(v=t[p.charCodeAt(S)]<<2|t[p.charCodeAt(S+1)]>>4,y[x++]=v&255),m===1&&(v=t[p.charCodeAt(S)]<<10|t[p.charCodeAt(S+1)]<<4|t[p.charCodeAt(S+2)]>>2,y[x++]=v>>8&255,y[x++]=v&255),y}function u(p){return e[p>>18&63]+e[p>>12&63]+e[p>>6&63]+e[p&63]}function f(p,v,g){for(var b,m=[],y=v;y<g;y+=3)b=(p[y]<<16&16711680)+(p[y+1]<<8&65280)+(p[y+2]&255),m.push(u(b));return m.join("")}function h(p){for(var v,g=p.length,b=g%3,m=[],y=16383,x=0,k=g-b;x<k;x+=y)m.push(f(p,x,x+y>k?k:x+y));return b===1?(v=p[g-1],m.push(e[v>>2]+e[v<<4&63]+"==")):b===2&&(v=(p[g-2]<<8)+p[g-1],m.push(e[v>>10]+e[v>>4&63]+e[v<<2&63]+"=")),m.join("")}return Ff}var dg={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var $A;function aee(){return $A||($A=1,dg.read=function(e,t,n,r,i){var o,s,a=i*8-r-1,l=(1<<a)-1,c=l>>1,u=-7,f=n?i-1:0,h=n?-1:1,p=e[t+f];for(f+=h,o=p&(1<<-u)-1,p>>=-u,u+=a;u>0;o=o*256+e[t+f],f+=h,u-=8);for(s=o&(1<<-u)-1,o>>=-u,u+=r;u>0;s=s*256+e[t+f],f+=h,u-=8);if(o===0)o=1-c;else{if(o===l)return s?NaN:(p?-1:1)*(1/0);s=s+Math.pow(2,r),o=o-c}return(p?-1:1)*s*Math.pow(2,o-r)},dg.write=function(e,t,n,r,i,o){var s,a,l,c=o*8-i-1,u=(1<<c)-1,f=u>>1,h=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,v=r?1:-1,g=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=u):(s=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-s))<1&&(s--,l*=2),s+f>=1?t+=h/l:t+=h*Math.pow(2,1-f),t*l>=2&&(s++,l/=2),s+f>=u?(a=0,s=u):s+f>=1?(a=(t*l-1)*Math.pow(2,i),s=s+f):(a=t*Math.pow(2,f-1)*Math.pow(2,i),s=0));i>=8;e[n+p]=a&255,p+=v,a/=256,i-=8);for(s=s<<i|a,c+=i;c>0;e[n+p]=s&255,p+=v,s/=256,c-=8);e[n+p-v]|=g*128}),dg}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var DA;function Yl(){return DA||(DA=1,function(e){const t=see(),n=aee(),r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=a,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i,a.TYPED_ARRAY_SUPPORT=o(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function o(){try{const q=new Uint8Array(1),A={foo:function(){return 42}};return Object.setPrototypeOf(A,Uint8Array.prototype),Object.setPrototypeOf(q,A),q.foo()===42}catch(q){return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}});function s(q){if(q>i)throw new RangeError('The value "'+q+'" is invalid for option "size"');const A=new Uint8Array(q);return Object.setPrototypeOf(A,a.prototype),A}function a(q,A,R){if(typeof q=="number"){if(typeof A=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(q)}return l(q,A,R)}a.poolSize=8192;function l(q,A,R){if(typeof q=="string")return h(q,A);if(ArrayBuffer.isView(q))return v(q);if(q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q);if(Fe(q,ArrayBuffer)||q&&Fe(q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Fe(q,SharedArrayBuffer)||q&&Fe(q.buffer,SharedArrayBuffer)))return g(q,A,R);if(typeof q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ee=q.valueOf&&q.valueOf();if(ee!=null&&ee!==q)return a.from(ee,A,R);const he=b(q);if(he)return he;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof q[Symbol.toPrimitive]=="function")return a.from(q[Symbol.toPrimitive]("string"),A,R);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof q)}a.from=function(q,A,R){return l(q,A,R)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function c(q){if(typeof q!="number")throw new TypeError('"size" argument must be of type number');if(q<0)throw new RangeError('The value "'+q+'" is invalid for option "size"')}function u(q,A,R){return c(q),q<=0?s(q):A!==void 0?typeof R=="string"?s(q).fill(A,R):s(q).fill(A):s(q)}a.alloc=function(q,A,R){return u(q,A,R)};function f(q){return c(q),s(q<0?0:m(q)|0)}a.allocUnsafe=function(q){return f(q)},a.allocUnsafeSlow=function(q){return f(q)};function h(q,A){if((typeof A!="string"||A==="")&&(A="utf8"),!a.isEncoding(A))throw new TypeError("Unknown encoding: "+A);const R=x(q,A)|0;let ee=s(R);const he=ee.write(q,A);return he!==R&&(ee=ee.slice(0,he)),ee}function p(q){const A=q.length<0?0:m(q.length)|0,R=s(A);for(let ee=0;ee<A;ee+=1)R[ee]=q[ee]&255;return R}function v(q){if(Fe(q,Uint8Array)){const A=new Uint8Array(q);return g(A.buffer,A.byteOffset,A.byteLength)}return p(q)}function g(q,A,R){if(A<0||q.byteLength<A)throw new RangeError('"offset" is outside of buffer bounds');if(q.byteLength<A+(R||0))throw new RangeError('"length" is outside of buffer bounds');let ee;return A===void 0&&R===void 0?ee=new Uint8Array(q):R===void 0?ee=new Uint8Array(q,A):ee=new Uint8Array(q,A,R),Object.setPrototypeOf(ee,a.prototype),ee}function b(q){if(a.isBuffer(q)){const A=m(q.length)|0,R=s(A);return R.length===0||q.copy(R,0,0,A),R}if(q.length!==void 0)return typeof q.length!="number"||Ot(q.length)?s(0):p(q);if(q.type==="Buffer"&&Array.isArray(q.data))return p(q.data)}function m(q){if(q>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return q|0}function y(q){return+q!=q&&(q=0),a.alloc(+q)}a.isBuffer=function(A){return A!=null&&A._isBuffer===!0&&A!==a.prototype},a.compare=function(A,R){if(Fe(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),Fe(R,Uint8Array)&&(R=a.from(R,R.offset,R.byteLength)),!a.isBuffer(A)||!a.isBuffer(R))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(A===R)return 0;let ee=A.length,he=R.length;for(let Re=0,He=Math.min(ee,he);Re<He;++Re)if(A[Re]!==R[Re]){ee=A[Re],he=R[Re];break}return ee<he?-1:he<ee?1:0},a.isEncoding=function(A){switch(String(A).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(A,R){if(!Array.isArray(A))throw new TypeError('"list" argument must be an Array of Buffers');if(A.length===0)return a.alloc(0);let ee;if(R===void 0)for(R=0,ee=0;ee<A.length;++ee)R+=A[ee].length;const he=a.allocUnsafe(R);let Re=0;for(ee=0;ee<A.length;++ee){let He=A[ee];if(Fe(He,Uint8Array))Re+He.length>he.length?(a.isBuffer(He)||(He=a.from(He)),He.copy(he,Re)):Uint8Array.prototype.set.call(he,He,Re);else if(a.isBuffer(He))He.copy(he,Re);else throw new TypeError('"list" argument must be an Array of Buffers');Re+=He.length}return he};function x(q,A){if(a.isBuffer(q))return q.length;if(ArrayBuffer.isView(q)||Fe(q,ArrayBuffer))return q.byteLength;if(typeof q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof q);const R=q.length,ee=arguments.length>2&&arguments[2]===!0;if(!ee&&R===0)return 0;let he=!1;for(;;)switch(A){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":return qe(q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R*2;case"hex":return R>>>1;case"base64":return We(q).length;default:if(he)return ee?-1:qe(q).length;A=(""+A).toLowerCase(),he=!0}}a.byteLength=x;function k(q,A,R){let ee=!1;if((A===void 0||A<0)&&(A=0),A>this.length||((R===void 0||R>this.length)&&(R=this.length),R<=0)||(R>>>=0,A>>>=0,R<=A))return"";for(q||(q="utf8");;)switch(q){case"hex":return D(this,A,R);case"utf8":case"utf-8":return H(this,A,R);case"ascii":return U(this,A,R);case"latin1":case"binary":return O(this,A,R);case"base64":return z(this,A,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $(this,A,R);default:if(ee)throw new TypeError("Unknown encoding: "+q);q=(q+"").toLowerCase(),ee=!0}}a.prototype._isBuffer=!0;function S(q,A,R){const ee=q[A];q[A]=q[R],q[R]=ee}a.prototype.swap16=function(){const A=this.length;if(A%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let R=0;R<A;R+=2)S(this,R,R+1);return this},a.prototype.swap32=function(){const A=this.length;if(A%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let R=0;R<A;R+=4)S(this,R,R+3),S(this,R+1,R+2);return this},a.prototype.swap64=function(){const A=this.length;if(A%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let R=0;R<A;R+=8)S(this,R,R+7),S(this,R+1,R+6),S(this,R+2,R+5),S(this,R+3,R+4);return this},a.prototype.toString=function(){const A=this.length;return A===0?"":arguments.length===0?H(this,0,A):k.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(A){if(!a.isBuffer(A))throw new TypeError("Argument must be a Buffer");return this===A?!0:a.compare(this,A)===0},a.prototype.inspect=function(){let A="";const R=e.INSPECT_MAX_BYTES;return A=this.toString("hex",0,R).replace(/(.{2})/g,"$1 ").trim(),this.length>R&&(A+=" ... "),"<Buffer "+A+">"},r&&(a.prototype[r]=a.prototype.inspect),a.prototype.compare=function(A,R,ee,he,Re){if(Fe(A,Uint8Array)&&(A=a.from(A,A.offset,A.byteLength)),!a.isBuffer(A))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof A);if(R===void 0&&(R=0),ee===void 0&&(ee=A?A.length:0),he===void 0&&(he=0),Re===void 0&&(Re=this.length),R<0||ee>A.length||he<0||Re>this.length)throw new RangeError("out of range index");if(he>=Re&&R>=ee)return 0;if(he>=Re)return-1;if(R>=ee)return 1;if(R>>>=0,ee>>>=0,he>>>=0,Re>>>=0,this===A)return 0;let He=Re-he,Mt=ee-R;const on=Math.min(He,Mt),lt=this.slice(he,Re),ln=A.slice(R,ee);for(let zt=0;zt<on;++zt)if(lt[zt]!==ln[zt]){He=lt[zt],Mt=ln[zt];break}return He<Mt?-1:Mt<He?1:0};function E(q,A,R,ee,he){if(q.length===0)return-1;if(typeof R=="string"?(ee=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),R=+R,Ot(R)&&(R=he?0:q.length-1),R<0&&(R=q.length+R),R>=q.length){if(he)return-1;R=q.length-1}else if(R<0)if(he)R=0;else return-1;if(typeof A=="string"&&(A=a.from(A,ee)),a.isBuffer(A))return A.length===0?-1:T(q,A,R,ee,he);if(typeof A=="number")return A=A&255,typeof Uint8Array.prototype.indexOf=="function"?he?Uint8Array.prototype.indexOf.call(q,A,R):Uint8Array.prototype.lastIndexOf.call(q,A,R):T(q,[A],R,ee,he);throw new TypeError("val must be string, number or Buffer")}function T(q,A,R,ee,he){let Re=1,He=q.length,Mt=A.length;if(ee!==void 0&&(ee=String(ee).toLowerCase(),ee==="ucs2"||ee==="ucs-2"||ee==="utf16le"||ee==="utf-16le")){if(q.length<2||A.length<2)return-1;Re=2,He/=2,Mt/=2,R/=2}function on(ln,zt){return Re===1?ln[zt]:ln.readUInt16BE(zt*Re)}let lt;if(he){let ln=-1;for(lt=R;lt<He;lt++)if(on(q,lt)===on(A,ln===-1?0:lt-ln)){if(ln===-1&&(ln=lt),lt-ln+1===Mt)return ln*Re}else ln!==-1&&(lt-=lt-ln),ln=-1}else for(R+Mt>He&&(R=He-Mt),lt=R;lt>=0;lt--){let ln=!0;for(let zt=0;zt<Mt;zt++)if(on(q,lt+zt)!==on(A,zt)){ln=!1;break}if(ln)return lt}return-1}a.prototype.includes=function(A,R,ee){return this.indexOf(A,R,ee)!==-1},a.prototype.indexOf=function(A,R,ee){return E(this,A,R,ee,!0)},a.prototype.lastIndexOf=function(A,R,ee){return E(this,A,R,ee,!1)};function M(q,A,R,ee){R=Number(R)||0;const he=q.length-R;ee?(ee=Number(ee),ee>he&&(ee=he)):ee=he;const Re=A.length;ee>Re/2&&(ee=Re/2);let He;for(He=0;He<ee;++He){const Mt=parseInt(A.substr(He*2,2),16);if(Ot(Mt))return He;q[R+He]=Mt}return He}function W(q,A,R,ee){return Ge(qe(A,q.length-R),q,R,ee)}function F(q,A,R,ee){return Ge(Je(A),q,R,ee)}function L(q,A,R,ee){return Ge(We(A),q,R,ee)}function G(q,A,R,ee){return Ge(pe(A,q.length-R),q,R,ee)}a.prototype.write=function(A,R,ee,he){if(R===void 0)he="utf8",ee=this.length,R=0;else if(ee===void 0&&typeof R=="string")he=R,ee=this.length,R=0;else if(isFinite(R))R=R>>>0,isFinite(ee)?(ee=ee>>>0,he===void 0&&(he="utf8")):(he=ee,ee=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Re=this.length-R;if((ee===void 0||ee>Re)&&(ee=Re),A.length>0&&(ee<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");he||(he="utf8");let He=!1;for(;;)switch(he){case"hex":return M(this,A,R,ee);case"utf8":case"utf-8":return W(this,A,R,ee);case"ascii":case"latin1":case"binary":return F(this,A,R,ee);case"base64":return L(this,A,R,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G(this,A,R,ee);default:if(He)throw new TypeError("Unknown encoding: "+he);he=(""+he).toLowerCase(),He=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function z(q,A,R){return A===0&&R===q.length?t.fromByteArray(q):t.fromByteArray(q.slice(A,R))}function H(q,A,R){R=Math.min(q.length,R);const ee=[];let he=A;for(;he<R;){const Re=q[he];let He=null,Mt=Re>239?4:Re>223?3:Re>191?2:1;if(he+Mt<=R){let on,lt,ln,zt;switch(Mt){case 1:Re<128&&(He=Re);break;case 2:on=q[he+1],(on&192)===128&&(zt=(Re&31)<<6|on&63,zt>127&&(He=zt));break;case 3:on=q[he+1],lt=q[he+2],(on&192)===128&&(lt&192)===128&&(zt=(Re&15)<<12|(on&63)<<6|lt&63,zt>2047&&(zt<55296||zt>57343)&&(He=zt));break;case 4:on=q[he+1],lt=q[he+2],ln=q[he+3],(on&192)===128&&(lt&192)===128&&(ln&192)===128&&(zt=(Re&15)<<18|(on&63)<<12|(lt&63)<<6|ln&63,zt>65535&&zt<1114112&&(He=zt))}}He===null?(He=65533,Mt=1):He>65535&&(He-=65536,ee.push(He>>>10&1023|55296),He=56320|He&1023),ee.push(He),he+=Mt}return I(ee)}const J=4096;function I(q){const A=q.length;if(A<=J)return String.fromCharCode.apply(String,q);let R="",ee=0;for(;ee<A;)R+=String.fromCharCode.apply(String,q.slice(ee,ee+=J));return R}function U(q,A,R){let ee="";R=Math.min(q.length,R);for(let he=A;he<R;++he)ee+=String.fromCharCode(q[he]&127);return ee}function O(q,A,R){let ee="";R=Math.min(q.length,R);for(let he=A;he<R;++he)ee+=String.fromCharCode(q[he]);return ee}function D(q,A,R){const ee=q.length;(!A||A<0)&&(A=0),(!R||R<0||R>ee)&&(R=ee);let he="";for(let Re=A;Re<R;++Re)he+=An[q[Re]];return he}function $(q,A,R){const ee=q.slice(A,R);let he="";for(let Re=0;Re<ee.length-1;Re+=2)he+=String.fromCharCode(ee[Re]+ee[Re+1]*256);return he}a.prototype.slice=function(A,R){const ee=this.length;A=~~A,R=R===void 0?ee:~~R,A<0?(A+=ee,A<0&&(A=0)):A>ee&&(A=ee),R<0?(R+=ee,R<0&&(R=0)):R>ee&&(R=ee),R<A&&(R=A);const he=this.subarray(A,R);return Object.setPrototypeOf(he,a.prototype),he};function Y(q,A,R){if(q%1!==0||q<0)throw new RangeError("offset is not uint");if(q+A>R)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(A,R,ee){A=A>>>0,R=R>>>0,ee||Y(A,R,this.length);let he=this[A],Re=1,He=0;for(;++He<R&&(Re*=256);)he+=this[A+He]*Re;return he},a.prototype.readUintBE=a.prototype.readUIntBE=function(A,R,ee){A=A>>>0,R=R>>>0,ee||Y(A,R,this.length);let he=this[A+--R],Re=1;for(;R>0&&(Re*=256);)he+=this[A+--R]*Re;return he},a.prototype.readUint8=a.prototype.readUInt8=function(A,R){return A=A>>>0,R||Y(A,1,this.length),this[A]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(A,R){return A=A>>>0,R||Y(A,2,this.length),this[A]|this[A+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(A,R){return A=A>>>0,R||Y(A,2,this.length),this[A]<<8|this[A+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(A,R){return A=A>>>0,R||Y(A,4,this.length),(this[A]|this[A+1]<<8|this[A+2]<<16)+this[A+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(A,R){return A=A>>>0,R||Y(A,4,this.length),this[A]*16777216+(this[A+1]<<16|this[A+2]<<8|this[A+3])},a.prototype.readBigUInt64LE=It(function(A){A=A>>>0,se(A,"offset");const R=this[A],ee=this[A+7];(R===void 0||ee===void 0)&&fe(A,this.length-8);const he=R+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24,Re=this[++A]+this[++A]*2**8+this[++A]*2**16+ee*2**24;return BigInt(he)+(BigInt(Re)<<BigInt(32))}),a.prototype.readBigUInt64BE=It(function(A){A=A>>>0,se(A,"offset");const R=this[A],ee=this[A+7];(R===void 0||ee===void 0)&&fe(A,this.length-8);const he=R*2**24+this[++A]*2**16+this[++A]*2**8+this[++A],Re=this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+ee;return(BigInt(he)<<BigInt(32))+BigInt(Re)}),a.prototype.readIntLE=function(A,R,ee){A=A>>>0,R=R>>>0,ee||Y(A,R,this.length);let he=this[A],Re=1,He=0;for(;++He<R&&(Re*=256);)he+=this[A+He]*Re;return Re*=128,he>=Re&&(he-=Math.pow(2,8*R)),he},a.prototype.readIntBE=function(A,R,ee){A=A>>>0,R=R>>>0,ee||Y(A,R,this.length);let he=R,Re=1,He=this[A+--he];for(;he>0&&(Re*=256);)He+=this[A+--he]*Re;return Re*=128,He>=Re&&(He-=Math.pow(2,8*R)),He},a.prototype.readInt8=function(A,R){return A=A>>>0,R||Y(A,1,this.length),this[A]&128?(255-this[A]+1)*-1:this[A]},a.prototype.readInt16LE=function(A,R){A=A>>>0,R||Y(A,2,this.length);const ee=this[A]|this[A+1]<<8;return ee&32768?ee|4294901760:ee},a.prototype.readInt16BE=function(A,R){A=A>>>0,R||Y(A,2,this.length);const ee=this[A+1]|this[A]<<8;return ee&32768?ee|4294901760:ee},a.prototype.readInt32LE=function(A,R){return A=A>>>0,R||Y(A,4,this.length),this[A]|this[A+1]<<8|this[A+2]<<16|this[A+3]<<24},a.prototype.readInt32BE=function(A,R){return A=A>>>0,R||Y(A,4,this.length),this[A]<<24|this[A+1]<<16|this[A+2]<<8|this[A+3]},a.prototype.readBigInt64LE=It(function(A){A=A>>>0,se(A,"offset");const R=this[A],ee=this[A+7];(R===void 0||ee===void 0)&&fe(A,this.length-8);const he=this[A+4]+this[A+5]*2**8+this[A+6]*2**16+(ee<<24);return(BigInt(he)<<BigInt(32))+BigInt(R+this[++A]*2**8+this[++A]*2**16+this[++A]*2**24)}),a.prototype.readBigInt64BE=It(function(A){A=A>>>0,se(A,"offset");const R=this[A],ee=this[A+7];(R===void 0||ee===void 0)&&fe(A,this.length-8);const he=(R<<24)+this[++A]*2**16+this[++A]*2**8+this[++A];return(BigInt(he)<<BigInt(32))+BigInt(this[++A]*2**24+this[++A]*2**16+this[++A]*2**8+ee)}),a.prototype.readFloatLE=function(A,R){return A=A>>>0,R||Y(A,4,this.length),n.read(this,A,!0,23,4)},a.prototype.readFloatBE=function(A,R){return A=A>>>0,R||Y(A,4,this.length),n.read(this,A,!1,23,4)},a.prototype.readDoubleLE=function(A,R){return A=A>>>0,R||Y(A,8,this.length),n.read(this,A,!0,52,8)},a.prototype.readDoubleBE=function(A,R){return A=A>>>0,R||Y(A,8,this.length),n.read(this,A,!1,52,8)};function ie(q,A,R,ee,he,Re){if(!a.isBuffer(q))throw new TypeError('"buffer" argument must be a Buffer instance');if(A>he||A<Re)throw new RangeError('"value" argument is out of bounds');if(R+ee>q.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(A,R,ee,he){if(A=+A,R=R>>>0,ee=ee>>>0,!he){const Mt=Math.pow(2,8*ee)-1;ie(this,A,R,ee,Mt,0)}let Re=1,He=0;for(this[R]=A&255;++He<ee&&(Re*=256);)this[R+He]=A/Re&255;return R+ee},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(A,R,ee,he){if(A=+A,R=R>>>0,ee=ee>>>0,!he){const Mt=Math.pow(2,8*ee)-1;ie(this,A,R,ee,Mt,0)}let Re=ee-1,He=1;for(this[R+Re]=A&255;--Re>=0&&(He*=256);)this[R+Re]=A/He&255;return R+ee},a.prototype.writeUint8=a.prototype.writeUInt8=function(A,R,ee){return A=+A,R=R>>>0,ee||ie(this,A,R,1,255,0),this[R]=A&255,R+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(A,R,ee){return A=+A,R=R>>>0,ee||ie(this,A,R,2,65535,0),this[R]=A&255,this[R+1]=A>>>8,R+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(A,R,ee){return A=+A,R=R>>>0,ee||ie(this,A,R,2,65535,0),this[R]=A>>>8,this[R+1]=A&255,R+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(A,R,ee){return A=+A,R=R>>>0,ee||ie(this,A,R,4,4294967295,0),this[R+3]=A>>>24,this[R+2]=A>>>16,this[R+1]=A>>>8,this[R]=A&255,R+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(A,R,ee){return A=+A,R=R>>>0,ee||ie(this,A,R,4,4294967295,0),this[R]=A>>>24,this[R+1]=A>>>16,this[R+2]=A>>>8,this[R+3]=A&255,R+4};function ae(q,A,R,ee,he){ze(A,ee,he,q,R,7);let Re=Number(A&BigInt(4294967295));q[R++]=Re,Re=Re>>8,q[R++]=Re,Re=Re>>8,q[R++]=Re,Re=Re>>8,q[R++]=Re;let He=Number(A>>BigInt(32)&BigInt(4294967295));return q[R++]=He,He=He>>8,q[R++]=He,He=He>>8,q[R++]=He,He=He>>8,q[R++]=He,R}function xe(q,A,R,ee,he){ze(A,ee,he,q,R,7);let Re=Number(A&BigInt(4294967295));q[R+7]=Re,Re=Re>>8,q[R+6]=Re,Re=Re>>8,q[R+5]=Re,Re=Re>>8,q[R+4]=Re;let He=Number(A>>BigInt(32)&BigInt(4294967295));return q[R+3]=He,He=He>>8,q[R+2]=He,He=He>>8,q[R+1]=He,He=He>>8,q[R]=He,R+8}a.prototype.writeBigUInt64LE=It(function(A,R=0){return ae(this,A,R,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=It(function(A,R=0){return xe(this,A,R,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(A,R,ee,he){if(A=+A,R=R>>>0,!he){const on=Math.pow(2,8*ee-1);ie(this,A,R,ee,on-1,-on)}let Re=0,He=1,Mt=0;for(this[R]=A&255;++Re<ee&&(He*=256);)A<0&&Mt===0&&this[R+Re-1]!==0&&(Mt=1),this[R+Re]=(A/He>>0)-Mt&255;return R+ee},a.prototype.writeIntBE=function(A,R,ee,he){if(A=+A,R=R>>>0,!he){const on=Math.pow(2,8*ee-1);ie(this,A,R,ee,on-1,-on)}let Re=ee-1,He=1,Mt=0;for(this[R+Re]=A&255;--Re>=0&&(He*=256);)A<0&&Mt===0&&this[R+Re+1]!==0&&(Mt=1),this[R+Re]=(A/He>>0)-Mt&255;return R+ee},a.prototype.writeInt8=function(A,R,ee){return A=+A,R=R>>>0,ee||ie(this,A,R,1,127,-128),A<0&&(A=255+A+1),this[R]=A&255,R+1},a.prototype.writeInt16LE=function(A,R,ee){return A=+A,R=R>>>0,ee||ie(this,A,R,2,32767,-32768),this[R]=A&255,this[R+1]=A>>>8,R+2},a.prototype.writeInt16BE=function(A,R,ee){return A=+A,R=R>>>0,ee||ie(this,A,R,2,32767,-32768),this[R]=A>>>8,this[R+1]=A&255,R+2},a.prototype.writeInt32LE=function(A,R,ee){return A=+A,R=R>>>0,ee||ie(this,A,R,4,2147483647,-2147483648),this[R]=A&255,this[R+1]=A>>>8,this[R+2]=A>>>16,this[R+3]=A>>>24,R+4},a.prototype.writeInt32BE=function(A,R,ee){return A=+A,R=R>>>0,ee||ie(this,A,R,4,2147483647,-2147483648),A<0&&(A=4294967295+A+1),this[R]=A>>>24,this[R+1]=A>>>16,this[R+2]=A>>>8,this[R+3]=A&255,R+4},a.prototype.writeBigInt64LE=It(function(A,R=0){return ae(this,A,R,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=It(function(A,R=0){return xe(this,A,R,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ke(q,A,R,ee,he,Re){if(R+ee>q.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function Ne(q,A,R,ee,he){return A=+A,R=R>>>0,he||ke(q,A,R,4),n.write(q,A,R,ee,23,4),R+4}a.prototype.writeFloatLE=function(A,R,ee){return Ne(this,A,R,!0,ee)},a.prototype.writeFloatBE=function(A,R,ee){return Ne(this,A,R,!1,ee)};function V(q,A,R,ee,he){return A=+A,R=R>>>0,he||ke(q,A,R,8),n.write(q,A,R,ee,52,8),R+8}a.prototype.writeDoubleLE=function(A,R,ee){return V(this,A,R,!0,ee)},a.prototype.writeDoubleBE=function(A,R,ee){return V(this,A,R,!1,ee)},a.prototype.copy=function(A,R,ee,he){if(!a.isBuffer(A))throw new TypeError("argument should be a Buffer");if(ee||(ee=0),!he&&he!==0&&(he=this.length),R>=A.length&&(R=A.length),R||(R=0),he>0&&he<ee&&(he=ee),he===ee||A.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(ee<0||ee>=this.length)throw new RangeError("Index out of range");if(he<0)throw new RangeError("sourceEnd out of bounds");he>this.length&&(he=this.length),A.length-R<he-ee&&(he=A.length-R+ee);const Re=he-ee;return this===A&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(R,ee,he):Uint8Array.prototype.set.call(A,this.subarray(ee,he),R),Re},a.prototype.fill=function(A,R,ee,he){if(typeof A=="string"){if(typeof R=="string"?(he=R,R=0,ee=this.length):typeof ee=="string"&&(he=ee,ee=this.length),he!==void 0&&typeof he!="string")throw new TypeError("encoding must be a string");if(typeof he=="string"&&!a.isEncoding(he))throw new TypeError("Unknown encoding: "+he);if(A.length===1){const He=A.charCodeAt(0);(he==="utf8"&&He<128||he==="latin1")&&(A=He)}}else typeof A=="number"?A=A&255:typeof A=="boolean"&&(A=Number(A));if(R<0||this.length<R||this.length<ee)throw new RangeError("Out of range index");if(ee<=R)return this;R=R>>>0,ee=ee===void 0?this.length:ee>>>0,A||(A=0);let Re;if(typeof A=="number")for(Re=R;Re<ee;++Re)this[Re]=A;else{const He=a.isBuffer(A)?A:a.from(A,he),Mt=He.length;if(Mt===0)throw new TypeError('The value "'+A+'" is invalid for argument "value"');for(Re=0;Re<ee-R;++Re)this[Re+R]=He[Re%Mt]}return this};const Q={};function re(q,A,R){Q[q]=class extends R{constructor(){super(),Object.defineProperty(this,"message",{value:A.apply(this,arguments),writable:!0,configurable:!0}),this.name="".concat(this.name," [").concat(q,"]"),this.stack,delete this.name}get code(){return q}set code(he){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:he,writable:!0})}toString(){return"".concat(this.name," [").concat(q,"]: ").concat(this.message)}}}re("ERR_BUFFER_OUT_OF_BOUNDS",function(q){return q?"".concat(q," is outside of buffer bounds"):"Attempt to access memory outside buffer bounds"},RangeError),re("ERR_INVALID_ARG_TYPE",function(q,A){return'The "'.concat(q,'" argument must be of type number. Received type ').concat(typeof A)},TypeError),re("ERR_OUT_OF_RANGE",function(q,A,R){let ee='The value of "'.concat(q,'" is out of range.'),he=R;return Number.isInteger(R)&&Math.abs(R)>2**32?he=Pe(String(R)):typeof R=="bigint"&&(he=String(R),(R>BigInt(2)**BigInt(32)||R<-(BigInt(2)**BigInt(32)))&&(he=Pe(he)),he+="n"),ee+=" It must be ".concat(A,". Received ").concat(he),ee},RangeError);function Pe(q){let A="",R=q.length;const ee=q[0]==="-"?1:0;for(;R>=ee+4;R-=3)A="_".concat(q.slice(R-3,R)).concat(A);return"".concat(q.slice(0,R)).concat(A)}function Ye(q,A,R){se(A,"offset"),(q[A]===void 0||q[A+R]===void 0)&&fe(A,q.length-(R+1))}function ze(q,A,R,ee,he,Re){if(q>R||q<A){const He=typeof A=="bigint"?"n":"";let Mt;throw A===0||A===BigInt(0)?Mt=">= 0".concat(He," and < 2").concat(He," ** ").concat((Re+1)*8).concat(He):Mt=">= -(2".concat(He," ** ").concat((Re+1)*8-1).concat(He,") and < 2 ** ")+"".concat((Re+1)*8-1).concat(He),new Q.ERR_OUT_OF_RANGE("value",Mt,q)}Ye(ee,he,Re)}function se(q,A){if(typeof q!="number")throw new Q.ERR_INVALID_ARG_TYPE(A,"number",q)}function fe(q,A,R){throw Math.floor(q)!==q?(se(q,R),new Q.ERR_OUT_OF_RANGE("offset","an integer",q)):A<0?new Q.ERR_BUFFER_OUT_OF_BOUNDS:new Q.ERR_OUT_OF_RANGE("offset",">= 0 and <= ".concat(A),q)}const je=/[^+/0-9A-Za-z-_]/g;function Ve(q){if(q=q.split("=")[0],q=q.trim().replace(je,""),q.length<2)return"";for(;q.length%4!==0;)q=q+"=";return q}function qe(q,A){A=A||1/0;let R;const ee=q.length;let he=null;const Re=[];for(let He=0;He<ee;++He){if(R=q.charCodeAt(He),R>55295&&R<57344){if(!he){if(R>56319){(A-=3)>-1&&Re.push(239,191,189);continue}else if(He+1===ee){(A-=3)>-1&&Re.push(239,191,189);continue}he=R;continue}if(R<56320){(A-=3)>-1&&Re.push(239,191,189),he=R;continue}R=(he-55296<<10|R-56320)+65536}else he&&(A-=3)>-1&&Re.push(239,191,189);if(he=null,R<128){if((A-=1)<0)break;Re.push(R)}else if(R<2048){if((A-=2)<0)break;Re.push(R>>6|192,R&63|128)}else if(R<65536){if((A-=3)<0)break;Re.push(R>>12|224,R>>6&63|128,R&63|128)}else if(R<1114112){if((A-=4)<0)break;Re.push(R>>18|240,R>>12&63|128,R>>6&63|128,R&63|128)}else throw new Error("Invalid code point")}return Re}function Je(q){const A=[];for(let R=0;R<q.length;++R)A.push(q.charCodeAt(R)&255);return A}function pe(q,A){let R,ee,he;const Re=[];for(let He=0;He<q.length&&!((A-=2)<0);++He)R=q.charCodeAt(He),ee=R>>8,he=R%256,Re.push(he),Re.push(ee);return Re}function We(q){return t.toByteArray(Ve(q))}function Ge(q,A,R,ee){let he;for(he=0;he<ee&&!(he+R>=A.length||he>=q.length);++he)A[he+R]=q[he];return he}function Fe(q,A){return q instanceof A||q!=null&&q.constructor!=null&&q.constructor.name!=null&&q.constructor.name===A.name}function Ot(q){return q!==q}const An=function(){const q="0123456789abcdef",A=new Array(256);for(let R=0;R<16;++R){const ee=R*16;for(let he=0;he<16;++he)A[ee+he]=q[R]+q[he]}return A}();function It(q){return typeof BigInt>"u"?mn:q}function mn(){throw new Error("BigInt not supported")}}(nb)),nb}var rb,FA;function er(){if(FA)return rb;FA=1;class e extends Error{constructor(n){if(!Array.isArray(n))throw new TypeError("Expected input to be an Array, got ".concat(typeof n));let r="";for(let i=0;i<n.length;i++)r+="    ".concat(n[i].stack,"\n");super(r),this.name="AggregateError",this.errors=n}}return rb={AggregateError:e,ArrayIsArray(t){return Array.isArray(t)},ArrayPrototypeIncludes(t,n){return t.includes(n)},ArrayPrototypeIndexOf(t,n){return t.indexOf(n)},ArrayPrototypeJoin(t,n){return t.join(n)},ArrayPrototypeMap(t,n){return t.map(n)},ArrayPrototypePop(t,n){return t.pop(n)},ArrayPrototypePush(t,n){return t.push(n)},ArrayPrototypeSlice(t,n,r){return t.slice(n,r)},Error,FunctionPrototypeCall(t,n,...r){return t.call(n,...r)},FunctionPrototypeSymbolHasInstance(t,n){return Function.prototype[Symbol.hasInstance].call(t,n)},MathFloor:Math.floor,Number,NumberIsInteger:Number.isInteger,NumberIsNaN:Number.isNaN,NumberMAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER,NumberMIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER,NumberParseInt:Number.parseInt,ObjectDefineProperties(t,n){return Object.defineProperties(t,n)},ObjectDefineProperty(t,n,r){return Object.defineProperty(t,n,r)},ObjectGetOwnPropertyDescriptor(t,n){return Object.getOwnPropertyDescriptor(t,n)},ObjectKeys(t){return Object.keys(t)},ObjectSetPrototypeOf(t,n){return Object.setPrototypeOf(t,n)},Promise,PromisePrototypeCatch(t,n){return t.catch(n)},PromisePrototypeThen(t,n,r){return t.then(n,r)},PromiseReject(t){return Promise.reject(t)},PromiseResolve(t){return Promise.resolve(t)},ReflectApply:Reflect.apply,RegExpPrototypeTest(t,n){return t.test(n)},SafeSet:Set,String,StringPrototypeSlice(t,n,r){return t.slice(n,r)},StringPrototypeToLowerCase(t){return t.toLowerCase()},StringPrototypeToUpperCase(t){return t.toUpperCase()},StringPrototypeTrim(t){return t.trim()},Symbol,SymbolFor:Symbol.for,SymbolAsyncIterator:Symbol.asyncIterator,SymbolHasInstance:Symbol.hasInstance,SymbolIterator:Symbol.iterator,SymbolDispose:Symbol.dispose||Symbol("Symbol.dispose"),SymbolAsyncDispose:Symbol.asyncDispose||Symbol("Symbol.asyncDispose"),TypedArrayPrototypeSet(t,n,r){return t.set(n,r)},Boolean,Uint8Array},rb}var ib={exports:{}},ob,LA;function C$(){return LA||(LA=1,ob={format(e,...t){return e.replace(/%([sdifj])/g,function(...[n,r]){const i=t.shift();if(r==="f")return i.toFixed(6);if(r==="j")return JSON.stringify(i);if(r==="s"&&typeof i=="object"){const o=i.constructor!==Object?i.constructor.name:"";return"".concat(o," {}").trim()}else return i.toString()})},inspect(e){switch(typeof e){case"string":if(e.includes("'"))if(e.includes('"')){if(!e.includes("`")&&!e.includes("${"))return"`".concat(e,"`")}else return'"'.concat(e,'"');return"'".concat(e,"'");case"number":return isNaN(e)?"NaN":Object.is(e,-0)?String(e):e;case"bigint":return"".concat(String(e),"n");case"boolean":case"undefined":return String(e);case"object":return"{}"}}}),ob}var sb,BA;function Pi(){if(BA)return sb;BA=1;const{format:e,inspect:t}=C$(),{AggregateError:n}=er(),r=globalThis.AggregateError||n,i=Symbol("kIsNodeError"),o=["string","function","number","object","Function","Object","boolean","bigint","symbol"],s=/^([A-Z][a-z0-9]*)+$/,a="__node_internal_",l={};function c(b,m){if(!b)throw new l.ERR_INTERNAL_ASSERTION(m)}function u(b){let m="",y=b.length;const x=b[0]==="-"?1:0;for(;y>=x+4;y-=3)m="_".concat(b.slice(y-3,y)).concat(m);return"".concat(b.slice(0,y)).concat(m)}function f(b,m,y){if(typeof m=="function")return c(m.length<=y.length,"Code: ".concat(b,"; The provided arguments length (").concat(y.length,") does not match the required ones (").concat(m.length,").")),m(...y);const x=(m.match(/%[dfijoOs]/g)||[]).length;return c(x===y.length,"Code: ".concat(b,"; The provided arguments length (").concat(y.length,") does not match the required ones (").concat(x,").")),y.length===0?m:e(m,...y)}function h(b,m,y){y||(y=Error);class x extends y{constructor(...S){super(f(b,m,S))}toString(){return"".concat(this.name," [").concat(b,"]: ").concat(this.message)}}Object.defineProperties(x.prototype,{name:{value:y.name,writable:!0,enumerable:!1,configurable:!0},toString:{value(){return"".concat(this.name," [").concat(b,"]: ").concat(this.message)},writable:!0,enumerable:!1,configurable:!0}}),x.prototype.code=b,x.prototype[i]=!0,l[b]=x}function p(b){const m=a+b.name;return Object.defineProperty(b,"name",{value:m}),b}function v(b,m){if(b&&m&&b!==m){if(Array.isArray(m.errors))return m.errors.push(b),m;const y=new r([m,b],m.message);return y.code=m.code,y}return b||m}class g extends Error{constructor(m="The operation was aborted",y=void 0){if(y!==void 0&&typeof y!="object")throw new l.ERR_INVALID_ARG_TYPE("options","Object",y);super(m,y),this.code="ABORT_ERR",this.name="AbortError"}}return h("ERR_ASSERTION","%s",Error),h("ERR_INVALID_ARG_TYPE",(b,m,y)=>{c(typeof b=="string","'name' must be a string"),Array.isArray(m)||(m=[m]);let x="The ";b.endsWith(" argument")?x+="".concat(b," "):x+='"'.concat(b,'" ').concat(b.includes(".")?"property":"argument"," "),x+="must be ";const k=[],S=[],E=[];for(const M of m)c(typeof M=="string","All expected entries have to be of type string"),o.includes(M)?k.push(M.toLowerCase()):s.test(M)?S.push(M):(c(M!=="object",'The value "object" should be written as "Object"'),E.push(M));if(S.length>0){const M=k.indexOf("object");M!==-1&&(k.splice(k,M,1),S.push("Object"))}if(k.length>0){switch(k.length){case 1:x+="of type ".concat(k[0]);break;case 2:x+="one of type ".concat(k[0]," or ").concat(k[1]);break;default:{const M=k.pop();x+="one of type ".concat(k.join(", "),", or ").concat(M)}}(S.length>0||E.length>0)&&(x+=" or ")}if(S.length>0){switch(S.length){case 1:x+="an instance of ".concat(S[0]);break;case 2:x+="an instance of ".concat(S[0]," or ").concat(S[1]);break;default:{const M=S.pop();x+="an instance of ".concat(S.join(", "),", or ").concat(M)}}E.length>0&&(x+=" or ")}switch(E.length){case 0:break;case 1:E[0].toLowerCase()!==E[0]&&(x+="an "),x+="".concat(E[0]);break;case 2:x+="one of ".concat(E[0]," or ").concat(E[1]);break;default:{const M=E.pop();x+="one of ".concat(E.join(", "),", or ").concat(M)}}if(y==null)x+=". Received ".concat(y);else if(typeof y=="function"&&y.name)x+=". Received function ".concat(y.name);else if(typeof y=="object"){var T;if((T=y.constructor)!==null&&T!==void 0&&T.name)x+=". Received an instance of ".concat(y.constructor.name);else{const M=t(y,{depth:-1});x+=". Received ".concat(M)}}else{let M=t(y,{colors:!1});M.length>25&&(M="".concat(M.slice(0,25),"...")),x+=". Received type ".concat(typeof y," (").concat(M,")")}return x},TypeError),h("ERR_INVALID_ARG_VALUE",(b,m,y="is invalid")=>{let x=t(m);x.length>128&&(x=x.slice(0,128)+"...");const k=b.includes(".")?"property":"argument";return"The ".concat(k," '").concat(b,"' ").concat(y,". Received ").concat(x)},TypeError),h("ERR_INVALID_RETURN_VALUE",(b,m,y)=>{var x;const k=y!=null&&(x=y.constructor)!==null&&x!==void 0&&x.name?"instance of ".concat(y.constructor.name):"type ".concat(typeof y);return"Expected ".concat(b,' to be returned from the "').concat(m,'"')+" function but got ".concat(k,".")},TypeError),h("ERR_MISSING_ARGS",(...b)=>{c(b.length>0,"At least one arg needs to be specified");let m;const y=b.length;switch(b=(Array.isArray(b)?b:[b]).map(x=>'"'.concat(x,'"')).join(" or "),y){case 1:m+="The ".concat(b[0]," argument");break;case 2:m+="The ".concat(b[0]," and ").concat(b[1]," arguments");break;default:{const x=b.pop();m+="The ".concat(b.join(", "),", and ").concat(x," arguments")}break}return"".concat(m," must be specified")},TypeError),h("ERR_OUT_OF_RANGE",(b,m,y)=>{c(m,'Missing "range" argument');let x;if(Number.isInteger(y)&&Math.abs(y)>2**32)x=u(String(y));else if(typeof y=="bigint"){x=String(y);const k=BigInt(2)**BigInt(32);(y>k||y<-k)&&(x=u(x)),x+="n"}else x=t(y);return'The value of "'.concat(b,'" is out of range. It must be ').concat(m,". Received ").concat(x)},RangeError),h("ERR_MULTIPLE_CALLBACK","Callback called multiple times",Error),h("ERR_METHOD_NOT_IMPLEMENTED","The %s method is not implemented",Error),h("ERR_STREAM_ALREADY_FINISHED","Cannot call %s after a stream was finished",Error),h("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable",Error),h("ERR_STREAM_DESTROYED","Cannot call %s after a stream was destroyed",Error),h("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),h("ERR_STREAM_PREMATURE_CLOSE","Premature close",Error),h("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF",Error),h("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event",Error),h("ERR_STREAM_WRITE_AFTER_END","write after end",Error),h("ERR_UNKNOWN_ENCODING","Unknown encoding: %s",TypeError),sb={AbortError:g,aggregateTwoErrors:p(v),hideStackFrames:p,codes:l},sb}var Lf={exports:{}},zA;function Ap(){if(zA)return Lf.exports;zA=1;const{AbortController:e,AbortSignal:t}=typeof self<"u"?self:typeof window<"u"?window:void 0;return Lf.exports=e,Lf.exports.AbortSignal=t,Lf.exports.default=e,Lf.exports}var fg={exports:{}},HA;function rx(){if(HA)return fg.exports;HA=1;var e=typeof Reflect=="object"?Reflect:null,t=e&&typeof e.apply=="function"?e.apply:function(S,E,T){return Function.prototype.apply.call(S,E,T)},n;e&&typeof e.ownKeys=="function"?n=e.ownKeys:Object.getOwnPropertySymbols?n=function(S){return Object.getOwnPropertyNames(S).concat(Object.getOwnPropertySymbols(S))}:n=function(S){return Object.getOwnPropertyNames(S)};function r(k){console&&console.warn&&console.warn(k)}var i=Number.isNaN||function(S){return S!==S};function o(){o.init.call(this)}fg.exports=o,fg.exports.once=m,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._eventsCount=0,o.prototype._maxListeners=void 0;var s=10;function a(k){if(typeof k!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(k){if(typeof k!="number"||k<0||i(k))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");s=k}}),o.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},o.prototype.setMaxListeners=function(S){if(typeof S!="number"||S<0||i(S))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+S+".");return this._maxListeners=S,this};function l(k){return k._maxListeners===void 0?o.defaultMaxListeners:k._maxListeners}o.prototype.getMaxListeners=function(){return l(this)},o.prototype.emit=function(S){for(var E=[],T=1;T<arguments.length;T++)E.push(arguments[T]);var M=S==="error",W=this._events;if(W!==void 0)M=M&&W.error===void 0;else if(!M)return!1;if(M){var F;if(E.length>0&&(F=E[0]),F instanceof Error)throw F;var L=new Error("Unhandled error."+(F?" ("+F.message+")":""));throw L.context=F,L}var G=W[S];if(G===void 0)return!1;if(typeof G=="function")t(G,this,E);else for(var z=G.length,H=v(G,z),T=0;T<z;++T)t(H[T],this,E);return!0};function c(k,S,E,T){var M,W,F;if(a(E),W=k._events,W===void 0?(W=k._events=Object.create(null),k._eventsCount=0):(W.newListener!==void 0&&(k.emit("newListener",S,E.listener?E.listener:E),W=k._events),F=W[S]),F===void 0)F=W[S]=E,++k._eventsCount;else if(typeof F=="function"?F=W[S]=T?[E,F]:[F,E]:T?F.unshift(E):F.push(E),M=l(k),M>0&&F.length>M&&!F.warned){F.warned=!0;var L=new Error("Possible EventEmitter memory leak detected. "+F.length+" "+String(S)+" listeners added. Use emitter.setMaxListeners() to increase limit");L.name="MaxListenersExceededWarning",L.emitter=k,L.type=S,L.count=F.length,r(L)}return k}o.prototype.addListener=function(S,E){return c(this,S,E,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(S,E){return c(this,S,E,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(k,S,E){var T={fired:!1,wrapFn:void 0,target:k,type:S,listener:E},M=u.bind(T);return M.listener=E,T.wrapFn=M,M}o.prototype.once=function(S,E){return a(E),this.on(S,f(this,S,E)),this},o.prototype.prependOnceListener=function(S,E){return a(E),this.prependListener(S,f(this,S,E)),this},o.prototype.removeListener=function(S,E){var T,M,W,F,L;if(a(E),M=this._events,M===void 0)return this;if(T=M[S],T===void 0)return this;if(T===E||T.listener===E)--this._eventsCount===0?this._events=Object.create(null):(delete M[S],M.removeListener&&this.emit("removeListener",S,T.listener||E));else if(typeof T!="function"){for(W=-1,F=T.length-1;F>=0;F--)if(T[F]===E||T[F].listener===E){L=T[F].listener,W=F;break}if(W<0)return this;W===0?T.shift():g(T,W),T.length===1&&(M[S]=T[0]),M.removeListener!==void 0&&this.emit("removeListener",S,L||E)}return this},o.prototype.off=o.prototype.removeListener,o.prototype.removeAllListeners=function(S){var E,T,M;if(T=this._events,T===void 0)return this;if(T.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):T[S]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete T[S]),this;if(arguments.length===0){var W=Object.keys(T),F;for(M=0;M<W.length;++M)F=W[M],F!=="removeListener"&&this.removeAllListeners(F);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(E=T[S],typeof E=="function")this.removeListener(S,E);else if(E!==void 0)for(M=E.length-1;M>=0;M--)this.removeListener(S,E[M]);return this};function h(k,S,E){var T=k._events;if(T===void 0)return[];var M=T[S];return M===void 0?[]:typeof M=="function"?E?[M.listener||M]:[M]:E?b(M):v(M,M.length)}o.prototype.listeners=function(S){return h(this,S,!0)},o.prototype.rawListeners=function(S){return h(this,S,!1)},o.listenerCount=function(k,S){return typeof k.listenerCount=="function"?k.listenerCount(S):p.call(k,S)},o.prototype.listenerCount=p;function p(k){var S=this._events;if(S!==void 0){var E=S[k];if(typeof E=="function")return 1;if(E!==void 0)return E.length}return 0}o.prototype.eventNames=function(){return this._eventsCount>0?n(this._events):[]};function v(k,S){for(var E=new Array(S),T=0;T<S;++T)E[T]=k[T];return E}function g(k,S){for(;S+1<k.length;S++)k[S]=k[S+1];k.pop()}function b(k){for(var S=new Array(k.length),E=0;E<S.length;++E)S[E]=k[E].listener||k[E];return S}function m(k,S){return new Promise(function(E,T){function M(F){k.removeListener(S,W),T(F)}function W(){typeof k.removeListener=="function"&&k.removeListener("error",M),E([].slice.call(arguments))}x(k,S,W,{once:!0}),S!=="error"&&y(k,M,{once:!0})})}function y(k,S,E){typeof k.on=="function"&&x(k,"error",S,E)}function x(k,S,E,T){if(typeof k.on=="function")T.once?k.once(S,E):k.on(S,E);else if(typeof k.addEventListener=="function")k.addEventListener(S,function M(W){T.once&&k.removeEventListener(S,M),E(W)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof k)}return fg.exports}var WA;function Xi(){return WA||(WA=1,function(e){const t=Yl(),{format:n,inspect:r}=C$(),{codes:{ERR_INVALID_ARG_TYPE:i}}=Pi(),{kResistStopPropagation:o,AggregateError:s,SymbolDispose:a}=er(),l=globalThis.AbortSignal||Ap().AbortSignal,c=globalThis.AbortController||Ap().AbortController,u=Object.getPrototypeOf(async function(){}).constructor,f=globalThis.Blob||t.Blob,h=typeof f<"u"?function(b){return b instanceof f}:function(b){return!1},p=(g,b)=>{if(g!==void 0&&(g===null||typeof g!="object"||!("aborted"in g)))throw new i(b,"AbortSignal",g)},v=(g,b)=>{if(typeof g!="function")throw new i(b,"Function",g)};e.exports={AggregateError:s,kEmptyObject:Object.freeze({}),once(g){let b=!1;return function(...m){b||(b=!0,g.apply(this,m))}},createDeferredPromise:function(){let g,b;return{promise:new Promise((y,x)=>{g=y,b=x}),resolve:g,reject:b}},promisify(g){return new Promise((b,m)=>{g((y,...x)=>y?m(y):b(...x))})},debuglog(){return function(){}},format:n,inspect:r,types:{isAsyncFunction(g){return g instanceof u},isArrayBufferView(g){return ArrayBuffer.isView(g)}},isBlob:h,deprecate(g,b){return g},addAbortListener:rx().addAbortListener||function(b,m){if(b===void 0)throw new i("signal","AbortSignal",b);p(b,"signal"),v(m,"listener");let y;return b.aborted?queueMicrotask(()=>m()):(b.addEventListener("abort",m,{__proto__:null,once:!0,[o]:!0}),y=()=>{b.removeEventListener("abort",m)}),{__proto__:null,[a](){var x;(x=y)===null||x===void 0||x()}}},AbortSignalAny:l.any||function(b){if(b.length===1)return b[0];const m=new c,y=()=>m.abort();return b.forEach(x=>{p(x,"signals"),x.addEventListener("abort",y,{once:!0})}),m.signal.addEventListener("abort",()=>{b.forEach(x=>x.removeEventListener("abort",y))},{once:!0}),m.signal}},e.exports.promisify.custom=Symbol.for("nodejs.util.promisify.custom")}(ib)),ib.exports}var hg={},ab,UA;function dm(){if(UA)return ab;UA=1;const{ArrayIsArray:e,ArrayPrototypeIncludes:t,ArrayPrototypeJoin:n,ArrayPrototypeMap:r,NumberIsInteger:i,NumberIsNaN:o,NumberMAX_SAFE_INTEGER:s,NumberMIN_SAFE_INTEGER:a,NumberParseInt:l,ObjectPrototypeHasOwnProperty:c,RegExpPrototypeExec:u,String:f,StringPrototypeToUpperCase:h,StringPrototypeTrim:p}=er(),{hideStackFrames:v,codes:{ERR_SOCKET_BAD_PORT:g,ERR_INVALID_ARG_TYPE:b,ERR_INVALID_ARG_VALUE:m,ERR_OUT_OF_RANGE:y,ERR_UNKNOWN_SIGNAL:x}}=Pi(),{normalizeEncoding:k}=Xi(),{isAsyncFunction:S,isArrayBufferView:E}=Xi().types,T={};function M(pe){return pe===(pe|0)}function W(pe){return pe===pe>>>0}const F=/^[0-7]+$/,L="must be a 32-bit unsigned integer or an octal string";function G(pe,We,Ge){if(typeof pe>"u"&&(pe=Ge),typeof pe=="string"){if(u(F,pe)===null)throw new m(We,pe,L);pe=l(pe,8)}return J(pe,We),pe}const z=v((pe,We,Ge=a,Fe=s)=>{if(typeof pe!="number")throw new b(We,"number",pe);if(!i(pe))throw new y(We,"an integer",pe);if(pe<Ge||pe>Fe)throw new y(We,">= ".concat(Ge," && <= ").concat(Fe),pe)}),H=v((pe,We,Ge=-2147483648,Fe=2147483647)=>{if(typeof pe!="number")throw new b(We,"number",pe);if(!i(pe))throw new y(We,"an integer",pe);if(pe<Ge||pe>Fe)throw new y(We,">= ".concat(Ge," && <= ").concat(Fe),pe)}),J=v((pe,We,Ge=!1)=>{if(typeof pe!="number")throw new b(We,"number",pe);if(!i(pe))throw new y(We,"an integer",pe);const Fe=Ge?1:0,Ot=4294967295;if(pe<Fe||pe>Ot)throw new y(We,">= ".concat(Fe," && <= ").concat(Ot),pe)});function I(pe,We){if(typeof pe!="string")throw new b(We,"string",pe)}function U(pe,We,Ge=void 0,Fe){if(typeof pe!="number")throw new b(We,"number",pe);if(Ge!=null&&pe<Ge||Fe!=null&&pe>Fe||(Ge!=null||Fe!=null)&&o(pe))throw new y(We,"".concat(Ge!=null?">= ".concat(Ge):"").concat(Ge!=null&&Fe!=null?" && ":"").concat(Fe!=null?"<= ".concat(Fe):""),pe)}const O=v((pe,We,Ge)=>{if(!t(Ge,pe)){const Ot="must be one of: "+n(r(Ge,An=>typeof An=="string"?"'".concat(An,"'"):f(An)),", ");throw new m(We,pe,Ot)}});function D(pe,We){if(typeof pe!="boolean")throw new b(We,"boolean",pe)}function $(pe,We,Ge){return pe==null||!c(pe,We)?Ge:pe[We]}const Y=v((pe,We,Ge=null)=>{const Fe=$(Ge,"allowArray",!1),Ot=$(Ge,"allowFunction",!1);if(!$(Ge,"nullable",!1)&&pe===null||!Fe&&e(pe)||typeof pe!="object"&&(!Ot||typeof pe!="function"))throw new b(We,"Object",pe)}),ie=v((pe,We)=>{if(pe!=null&&typeof pe!="object"&&typeof pe!="function")throw new b(We,"a dictionary",pe)}),ae=v((pe,We,Ge=0)=>{if(!e(pe))throw new b(We,"Array",pe);if(pe.length<Ge){const Fe="must be longer than ".concat(Ge);throw new m(We,pe,Fe)}});function xe(pe,We){ae(pe,We);for(let Ge=0;Ge<pe.length;Ge++)I(pe[Ge],"".concat(We,"[").concat(Ge,"]"))}function ke(pe,We){ae(pe,We);for(let Ge=0;Ge<pe.length;Ge++)D(pe[Ge],"".concat(We,"[").concat(Ge,"]"))}function Ne(pe,We){ae(pe,We);for(let Ge=0;Ge<pe.length;Ge++){const Fe=pe[Ge],Ot="".concat(We,"[").concat(Ge,"]");if(Fe==null)throw new b(Ot,"AbortSignal",Fe);Ye(Fe,Ot)}}function V(pe,We="signal"){if(I(pe,We),T[pe]===void 0)throw T[h(pe)]!==void 0?new x(pe+" (signals must use all capital letters)"):new x(pe)}const Q=v((pe,We="buffer")=>{if(!E(pe))throw new b(We,["Buffer","TypedArray","DataView"],pe)});function re(pe,We){const Ge=k(We),Fe=pe.length;if(Ge==="hex"&&Fe%2!==0)throw new m("encoding",We,"is invalid for data of length ".concat(Fe))}function Pe(pe,We="Port",Ge=!0){if(typeof pe!="number"&&typeof pe!="string"||typeof pe=="string"&&p(pe).length===0||+pe!==+pe>>>0||pe>65535||pe===0&&!Ge)throw new g(We,pe,Ge);return pe|0}const Ye=v((pe,We)=>{if(pe!==void 0&&(pe===null||typeof pe!="object"||!("aborted"in pe)))throw new b(We,"AbortSignal",pe)}),ze=v((pe,We)=>{if(typeof pe!="function")throw new b(We,"Function",pe)}),se=v((pe,We)=>{if(typeof pe!="function"||S(pe))throw new b(We,"Function",pe)}),fe=v((pe,We)=>{if(pe!==void 0)throw new b(We,"undefined",pe)});function je(pe,We,Ge){if(!t(Ge,pe))throw new b(We,"('".concat(n(Ge,"|"),"')"),pe)}const Ve=/^(?:<[^>]*>)(?:\s*;\s*[^;"\s]+(?:=(")?[^;"\s]*\1)?)*$/;function qe(pe,We){if(typeof pe>"u"||!u(Ve,pe))throw new m(We,pe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}function Je(pe){if(typeof pe=="string")return qe(pe,"hints"),pe;if(e(pe)){const We=pe.length;let Ge="";if(We===0)return Ge;for(let Fe=0;Fe<We;Fe++){const Ot=pe[Fe];qe(Ot,"hints"),Ge+=Ot,Fe!==We-1&&(Ge+=", ")}return Ge}throw new m("hints",pe,'must be an array or string of format "</styles.css>; rel=preload; as=style"')}return ab={isInt32:M,isUint32:W,parseFileMode:G,validateArray:ae,validateStringArray:xe,validateBooleanArray:ke,validateAbortSignalArray:Ne,validateBoolean:D,validateBuffer:Q,validateDictionary:ie,validateEncoding:re,validateFunction:ze,validateInt32:H,validateInteger:z,validateNumber:U,validateObject:Y,validateOneOf:O,validatePlainFunction:se,validatePort:Pe,validateSignalName:V,validateString:I,validateUint32:J,validateUndefined:fe,validateUnion:je,validateAbortSignal:Ye,validateLinkHeaderValue:Je},ab}var pg={exports:{}},lb={exports:{}},VA;function lu(){if(VA)return lb.exports;VA=1;var e=lb.exports={},t,n;function r(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?t=setTimeout:t=r}catch(g){t=r}try{typeof clearTimeout=="function"?n=clearTimeout:n=i}catch(g){n=i}})();function o(g){if(t===setTimeout)return setTimeout(g,0);if((t===r||!t)&&setTimeout)return t=setTimeout,setTimeout(g,0);try{return t(g,0)}catch(b){try{return t.call(null,g,0)}catch(m){return t.call(this,g,0)}}}function s(g){if(n===clearTimeout)return clearTimeout(g);if((n===i||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(g);try{return n(g)}catch(b){try{return n.call(null,g)}catch(m){return n.call(this,g)}}}var a=[],l=!1,c,u=-1;function f(){!l||!c||(l=!1,c.length?a=c.concat(a):u=-1,a.length&&h())}function h(){if(!l){var g=o(f);l=!0;for(var b=a.length;b;){for(c=a,a=[];++u<b;)c&&c[u].run();u=-1,b=a.length}c=null,l=!1,s(g)}}e.nextTick=function(g){var b=new Array(arguments.length-1);if(arguments.length>1)for(var m=1;m<arguments.length;m++)b[m-1]=arguments[m];a.push(new p(g,b)),a.length===1&&!l&&o(h)};function p(g,b){this.fun=g,this.array=b}p.prototype.run=function(){this.fun.apply(null,this.array)},e.title="browser",e.browser=!0,e.env={},e.argv=[],e.version="",e.versions={};function v(){}return e.on=v,e.addListener=v,e.once=v,e.off=v,e.removeListener=v,e.removeAllListeners=v,e.emit=v,e.prependListener=v,e.prependOnceListener=v,e.listeners=function(g){return[]},e.binding=function(g){throw new Error("process.binding is not supported")},e.cwd=function(){return"/"},e.chdir=function(g){throw new Error("process.chdir is not supported")},e.umask=function(){return 0},lb.exports}var cb,qA;function Xa(){if(qA)return cb;qA=1;const{SymbolAsyncIterator:e,SymbolIterator:t,SymbolFor:n}=er(),r=n("nodejs.stream.destroyed"),i=n("nodejs.stream.errored"),o=n("nodejs.stream.readable"),s=n("nodejs.stream.writable"),a=n("nodejs.stream.disturbed"),l=n("nodejs.webstream.isClosedPromise"),c=n("nodejs.webstream.controllerErrorFunction");function u($,Y=!1){var ie;return!!($&&typeof $.pipe=="function"&&typeof $.on=="function"&&(!Y||typeof $.pause=="function"&&typeof $.resume=="function")&&(!$._writableState||((ie=$._readableState)===null||ie===void 0?void 0:ie.readable)!==!1)&&(!$._writableState||$._readableState))}function f($){var Y;return!!($&&typeof $.write=="function"&&typeof $.on=="function"&&(!$._readableState||((Y=$._writableState)===null||Y===void 0?void 0:Y.writable)!==!1))}function h($){return!!($&&typeof $.pipe=="function"&&$._readableState&&typeof $.on=="function"&&typeof $.write=="function")}function p($){return $&&($._readableState||$._writableState||typeof $.write=="function"&&typeof $.on=="function"||typeof $.pipe=="function"&&typeof $.on=="function")}function v($){return!!($&&!p($)&&typeof $.pipeThrough=="function"&&typeof $.getReader=="function"&&typeof $.cancel=="function")}function g($){return!!($&&!p($)&&typeof $.getWriter=="function"&&typeof $.abort=="function")}function b($){return!!($&&!p($)&&typeof $.readable=="object"&&typeof $.writable=="object")}function m($){return v($)||g($)||b($)}function y($,Y){return $==null?!1:Y===!0?typeof $[e]=="function":Y===!1?typeof $[t]=="function":typeof $[e]=="function"||typeof $[t]=="function"}function x($){if(!p($))return null;const Y=$._writableState,ie=$._readableState,ae=Y||ie;return!!($.destroyed||$[r]||ae!=null&&ae.destroyed)}function k($){if(!f($))return null;if($.writableEnded===!0)return!0;const Y=$._writableState;return Y!=null&&Y.errored?!1:typeof(Y==null?void 0:Y.ended)!="boolean"?null:Y.ended}function S($,Y){if(!f($))return null;if($.writableFinished===!0)return!0;const ie=$._writableState;return ie!=null&&ie.errored?!1:typeof(ie==null?void 0:ie.finished)!="boolean"?null:!!(ie.finished||Y===!1&&ie.ended===!0&&ie.length===0)}function E($){if(!u($))return null;if($.readableEnded===!0)return!0;const Y=$._readableState;return!Y||Y.errored?!1:typeof(Y==null?void 0:Y.ended)!="boolean"?null:Y.ended}function T($,Y){if(!u($))return null;const ie=$._readableState;return ie!=null&&ie.errored?!1:typeof(ie==null?void 0:ie.endEmitted)!="boolean"?null:!!(ie.endEmitted||Y===!1&&ie.ended===!0&&ie.length===0)}function M($){return $&&$[o]!=null?$[o]:typeof($==null?void 0:$.readable)!="boolean"?null:x($)?!1:u($)&&$.readable&&!T($)}function W($){return $&&$[s]!=null?$[s]:typeof($==null?void 0:$.writable)!="boolean"?null:x($)?!1:f($)&&$.writable&&!k($)}function F($,Y){return p($)?x($)?!0:!((Y==null?void 0:Y.readable)!==!1&&M($)||(Y==null?void 0:Y.writable)!==!1&&W($)):null}function L($){var Y,ie;return p($)?$.writableErrored?$.writableErrored:(Y=(ie=$._writableState)===null||ie===void 0?void 0:ie.errored)!==null&&Y!==void 0?Y:null:null}function G($){var Y,ie;return p($)?$.readableErrored?$.readableErrored:(Y=(ie=$._readableState)===null||ie===void 0?void 0:ie.errored)!==null&&Y!==void 0?Y:null:null}function z($){if(!p($))return null;if(typeof $.closed=="boolean")return $.closed;const Y=$._writableState,ie=$._readableState;return typeof(Y==null?void 0:Y.closed)=="boolean"||typeof(ie==null?void 0:ie.closed)=="boolean"?(Y==null?void 0:Y.closed)||(ie==null?void 0:ie.closed):typeof $._closed=="boolean"&&H($)?$._closed:null}function H($){return typeof $._closed=="boolean"&&typeof $._defaultKeepAlive=="boolean"&&typeof $._removedConnection=="boolean"&&typeof $._removedContLen=="boolean"}function J($){return typeof $._sent100=="boolean"&&H($)}function I($){var Y;return typeof $._consuming=="boolean"&&typeof $._dumped=="boolean"&&((Y=$.req)===null||Y===void 0?void 0:Y.upgradeOrConnect)===void 0}function U($){if(!p($))return null;const Y=$._writableState,ie=$._readableState,ae=Y||ie;return!ae&&J($)||!!(ae&&ae.autoDestroy&&ae.emitClose&&ae.closed===!1)}function O($){var Y;return!!($&&((Y=$[a])!==null&&Y!==void 0?Y:$.readableDidRead||$.readableAborted))}function D($){var Y,ie,ae,xe,ke,Ne,V,Q,re,Pe;return!!($&&((Y=(ie=(ae=(xe=(ke=(Ne=$[i])!==null&&Ne!==void 0?Ne:$.readableErrored)!==null&&ke!==void 0?ke:$.writableErrored)!==null&&xe!==void 0?xe:(V=$._readableState)===null||V===void 0?void 0:V.errorEmitted)!==null&&ae!==void 0?ae:(Q=$._writableState)===null||Q===void 0?void 0:Q.errorEmitted)!==null&&ie!==void 0?ie:(re=$._readableState)===null||re===void 0?void 0:re.errored)!==null&&Y!==void 0?Y:!((Pe=$._writableState)===null||Pe===void 0)&&Pe.errored))}return cb={isDestroyed:x,kIsDestroyed:r,isDisturbed:O,kIsDisturbed:a,isErrored:D,kIsErrored:i,isReadable:M,kIsReadable:o,kIsClosedPromise:l,kControllerErrorFunction:c,kIsWritable:s,isClosed:z,isDuplexNodeStream:h,isFinished:F,isIterable:y,isReadableNodeStream:u,isReadableStream:v,isReadableEnded:E,isReadableFinished:T,isReadableErrored:G,isNodeStream:p,isWebStream:m,isWritable:W,isWritableNodeStream:f,isWritableStream:g,isWritableEnded:k,isWritableFinished:S,isWritableErrored:L,isServerRequest:I,isServerResponse:J,willEmitClose:U,isTransformStream:b},cb}var KA;function Gl(){if(KA)return pg.exports;KA=1;const e=lu(),{AbortError:t,codes:n}=Pi(),{ERR_INVALID_ARG_TYPE:r,ERR_STREAM_PREMATURE_CLOSE:i}=n,{kEmptyObject:o,once:s}=Xi(),{validateAbortSignal:a,validateFunction:l,validateObject:c,validateBoolean:u}=dm(),{Promise:f,PromisePrototypeThen:h,SymbolDispose:p}=er(),{isClosed:v,isReadable:g,isReadableNodeStream:b,isReadableStream:m,isReadableFinished:y,isReadableErrored:x,isWritable:k,isWritableNodeStream:S,isWritableStream:E,isWritableFinished:T,isWritableErrored:M,isNodeStream:W,willEmitClose:F,kIsClosedPromise:L}=Xa();let G;function z(O){return O.setHeader&&typeof O.abort=="function"}const H=()=>{};function J(O,D,$){var Y,ie;if(arguments.length===2?($=D,D=o):D==null?D=o:c(D,"options"),l($,"callback"),a(D.signal,"options.signal"),$=s($),m(O)||E(O))return I(O,D,$);if(!W(O))throw new r("stream",["ReadableStream","WritableStream","Stream"],O);const ae=(Y=D.readable)!==null&&Y!==void 0?Y:b(O),xe=(ie=D.writable)!==null&&ie!==void 0?ie:S(O),ke=O._writableState,Ne=O._readableState,V=()=>{O.writable||Pe()};let Q=F(O)&&b(O)===ae&&S(O)===xe,re=T(O,!1);const Pe=()=>{re=!0,O.destroyed&&(Q=!1),!(Q&&(!O.readable||ae))&&(!ae||Ye)&&$.call(O)};let Ye=y(O,!1);const ze=()=>{Ye=!0,O.destroyed&&(Q=!1),!(Q&&(!O.writable||xe))&&(!xe||re)&&$.call(O)},se=pe=>{$.call(O,pe)};let fe=v(O);const je=()=>{fe=!0;const pe=M(O)||x(O);if(pe&&typeof pe!="boolean")return $.call(O,pe);if(ae&&!Ye&&b(O,!0)&&!y(O,!1))return $.call(O,new i);if(xe&&!re&&!T(O,!1))return $.call(O,new i);$.call(O)},Ve=()=>{fe=!0;const pe=M(O)||x(O);if(pe&&typeof pe!="boolean")return $.call(O,pe);$.call(O)},qe=()=>{O.req.on("finish",Pe)};z(O)?(O.on("complete",Pe),Q||O.on("abort",je),O.req?qe():O.on("request",qe)):xe&&!ke&&(O.on("end",V),O.on("close",V)),!Q&&typeof O.aborted=="boolean"&&O.on("aborted",je),O.on("end",ze),O.on("finish",Pe),D.error!==!1&&O.on("error",se),O.on("close",je),fe?e.nextTick(je):ke!=null&&ke.errorEmitted||Ne!=null&&Ne.errorEmitted?Q||e.nextTick(Ve):(!ae&&(!Q||g(O))&&(re||k(O)===!1)||!xe&&(!Q||k(O))&&(Ye||g(O)===!1)||Ne&&O.req&&O.aborted)&&e.nextTick(Ve);const Je=()=>{$=H,O.removeListener("aborted",je),O.removeListener("complete",Pe),O.removeListener("abort",je),O.removeListener("request",qe),O.req&&O.req.removeListener("finish",Pe),O.removeListener("end",V),O.removeListener("close",V),O.removeListener("finish",Pe),O.removeListener("end",ze),O.removeListener("error",se),O.removeListener("close",je)};if(D.signal&&!fe){const pe=()=>{const We=$;Je(),We.call(O,new t(void 0,{cause:D.signal.reason}))};if(D.signal.aborted)e.nextTick(pe);else{G=G||Xi().addAbortListener;const We=G(D.signal,pe),Ge=$;$=s((...Fe)=>{We[p](),Ge.apply(O,Fe)})}}return Je}function I(O,D,$){let Y=!1,ie=H;if(D.signal)if(ie=()=>{Y=!0,$.call(O,new t(void 0,{cause:D.signal.reason}))},D.signal.aborted)e.nextTick(ie);else{G=G||Xi().addAbortListener;const xe=G(D.signal,ie),ke=$;$=s((...Ne)=>{xe[p](),ke.apply(O,Ne)})}const ae=(...xe)=>{Y||e.nextTick(()=>$.apply(O,xe))};return h(O[L].promise,ae,ae),H}function U(O,D){var $;let Y=!1;return D===null&&(D=o),($=D)!==null&&$!==void 0&&$.cleanup&&(u(D.cleanup,"cleanup"),Y=D.cleanup),new f((ie,ae)=>{const xe=J(O,D,ke=>{Y&&xe(),ke?ae(ke):ie()})})}return pg.exports=J,pg.exports.finished=U,pg.exports}var ub,YA;function rf(){if(YA)return ub;YA=1;const e=lu(),{aggregateTwoErrors:t,codes:{ERR_MULTIPLE_CALLBACK:n},AbortError:r}=Pi(),{Symbol:i}=er(),{kIsDestroyed:o,isDestroyed:s,isFinished:a,isServerRequest:l}=Xa(),c=i("kDestroy"),u=i("kConstruct");function f(F,L,G){F&&(F.stack,L&&!L.errored&&(L.errored=F),G&&!G.errored&&(G.errored=F))}function h(F,L){const G=this._readableState,z=this._writableState,H=z||G;return z!=null&&z.destroyed||G!=null&&G.destroyed?(typeof L=="function"&&L(),this):(f(F,z,G),z&&(z.destroyed=!0),G&&(G.destroyed=!0),H.constructed?p(this,F,L):this.once(c,function(J){p(this,t(J,F),L)}),this)}function p(F,L,G){let z=!1;function H(J){if(z)return;z=!0;const I=F._readableState,U=F._writableState;f(J,U,I),U&&(U.closed=!0),I&&(I.closed=!0),typeof G=="function"&&G(J),J?e.nextTick(v,F,J):e.nextTick(g,F)}try{F._destroy(L||null,H)}catch(J){H(J)}}function v(F,L){b(F,L),g(F)}function g(F){const L=F._readableState,G=F._writableState;G&&(G.closeEmitted=!0),L&&(L.closeEmitted=!0),(G!=null&&G.emitClose||L!=null&&L.emitClose)&&F.emit("close")}function b(F,L){const G=F._readableState,z=F._writableState;z!=null&&z.errorEmitted||G!=null&&G.errorEmitted||(z&&(z.errorEmitted=!0),G&&(G.errorEmitted=!0),F.emit("error",L))}function m(){const F=this._readableState,L=this._writableState;F&&(F.constructed=!0,F.closed=!1,F.closeEmitted=!1,F.destroyed=!1,F.errored=null,F.errorEmitted=!1,F.reading=!1,F.ended=F.readable===!1,F.endEmitted=F.readable===!1),L&&(L.constructed=!0,L.destroyed=!1,L.closed=!1,L.closeEmitted=!1,L.errored=null,L.errorEmitted=!1,L.finalCalled=!1,L.prefinished=!1,L.ended=L.writable===!1,L.ending=L.writable===!1,L.finished=L.writable===!1)}function y(F,L,G){const z=F._readableState,H=F._writableState;if(H!=null&&H.destroyed||z!=null&&z.destroyed)return this;z!=null&&z.autoDestroy||H!=null&&H.autoDestroy?F.destroy(L):L&&(L.stack,H&&!H.errored&&(H.errored=L),z&&!z.errored&&(z.errored=L),G?e.nextTick(b,F,L):b(F,L))}function x(F,L){if(typeof F._construct!="function")return;const G=F._readableState,z=F._writableState;G&&(G.constructed=!1),z&&(z.constructed=!1),F.once(u,L),!(F.listenerCount(u)>1)&&e.nextTick(k,F)}function k(F){let L=!1;function G(z){if(L){y(F,z!=null?z:new n);return}L=!0;const H=F._readableState,J=F._writableState,I=J||H;H&&(H.constructed=!0),J&&(J.constructed=!0),I.destroyed?F.emit(c,z):z?y(F,z,!0):e.nextTick(S,F)}try{F._construct(z=>{e.nextTick(G,z)})}catch(z){e.nextTick(G,z)}}function S(F){F.emit(u)}function E(F){return(F==null?void 0:F.setHeader)&&typeof F.abort=="function"}function T(F){F.emit("close")}function M(F,L){F.emit("error",L),e.nextTick(T,F)}function W(F,L){!F||s(F)||(!L&&!a(F)&&(L=new r),l(F)?(F.socket=null,F.destroy(L)):E(F)?F.abort():E(F.req)?F.req.abort():typeof F.destroy=="function"?F.destroy(L):typeof F.close=="function"?F.close():L?e.nextTick(M,F,L):e.nextTick(T,F),F.destroyed||(F[o]=!0))}return ub={construct:x,destroyer:W,destroy:h,undestroy:m,errorOrDestroy:y},ub}var db,GA;function eE(){if(GA)return db;GA=1;const{ArrayIsArray:e,ObjectSetPrototypeOf:t}=er(),{EventEmitter:n}=rx();function r(o){n.call(this,o)}t(r.prototype,n.prototype),t(r,n),r.prototype.pipe=function(o,s){const a=this;function l(g){o.writable&&o.write(g)===!1&&a.pause&&a.pause()}a.on("data",l);function c(){a.readable&&a.resume&&a.resume()}o.on("drain",c),!o._isStdio&&(!s||s.end!==!1)&&(a.on("end",f),a.on("close",h));let u=!1;function f(){u||(u=!0,o.end())}function h(){u||(u=!0,typeof o.destroy=="function"&&o.destroy())}function p(g){v(),n.listenerCount(this,"error")===0&&this.emit("error",g)}i(a,"error",p),i(o,"error",p);function v(){a.removeListener("data",l),o.removeListener("drain",c),a.removeListener("end",f),a.removeListener("close",h),a.removeListener("error",p),o.removeListener("error",p),a.removeListener("end",v),a.removeListener("close",v),o.removeListener("close",v)}return a.on("end",v),a.on("close",v),o.on("close",v),o.emit("pipe",a),o};function i(o,s,a){if(typeof o.prependListener=="function")return o.prependListener(s,a);!o._events||!o._events[s]?o.on(s,a):e(o._events[s])?o._events[s].unshift(a):o._events[s]=[a,o._events[s]]}return db={Stream:r,prependListener:i},db}var fb={exports:{}},XA;function ix(){return XA||(XA=1,function(e){const{SymbolDispose:t}=er(),{AbortError:n,codes:r}=Pi(),{isNodeStream:i,isWebStream:o,kControllerErrorFunction:s}=Xa(),a=Gl(),{ERR_INVALID_ARG_TYPE:l}=r;let c;const u=(f,h)=>{if(typeof f!="object"||!("aborted"in f))throw new l(h,"AbortSignal",f)};e.exports.addAbortSignal=function(h,p){if(u(h,"signal"),!i(p)&&!o(p))throw new l("stream",["ReadableStream","WritableStream","Stream"],p);return e.exports.addAbortSignalNoValidate(h,p)},e.exports.addAbortSignalNoValidate=function(f,h){if(typeof f!="object"||!("aborted"in f))return h;const p=i(h)?()=>{h.destroy(new n(void 0,{cause:f.reason}))}:()=>{h[s](new n(void 0,{cause:f.reason}))};if(f.aborted)p();else{c=c||Xi().addAbortListener;const v=c(f,p);a(h,v[t])}return h}}(fb)),fb.exports}var hb,JA;function lee(){if(JA)return hb;JA=1;const{StringPrototypeSlice:e,SymbolIterator:t,TypedArrayPrototypeSet:n,Uint8Array:r}=er(),{Buffer:i}=Yl(),{inspect:o}=Xi();return hb=class{constructor(){this.head=null,this.tail=null,this.length=0}push(a){const l={data:a,next:null};this.length>0?this.tail.next=l:this.head=l,this.tail=l,++this.length}unshift(a){const l={data:a,next:this.head};this.length===0&&(this.tail=l),this.head=l,++this.length}shift(){if(this.length===0)return;const a=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,a}clear(){this.head=this.tail=null,this.length=0}join(a){if(this.length===0)return"";let l=this.head,c=""+l.data;for(;(l=l.next)!==null;)c+=a+l.data;return c}concat(a){if(this.length===0)return i.alloc(0);const l=i.allocUnsafe(a>>>0);let c=this.head,u=0;for(;c;)n(l,c.data,u),u+=c.data.length,c=c.next;return l}consume(a,l){const c=this.head.data;if(a<c.length){const u=c.slice(0,a);return this.head.data=c.slice(a),u}return a===c.length?this.shift():l?this._getString(a):this._getBuffer(a)}first(){return this.head.data}*[t](){for(let a=this.head;a;a=a.next)yield a.data}_getString(a){let l="",c=this.head,u=0;do{const f=c.data;if(a>f.length)l+=f,a-=f.length;else{a===f.length?(l+=f,++u,c.next?this.head=c.next:this.head=this.tail=null):(l+=e(f,0,a),this.head=c,c.data=e(f,a));break}++u}while((c=c.next)!==null);return this.length-=u,l}_getBuffer(a){const l=i.allocUnsafe(a),c=a;let u=this.head,f=0;do{const h=u.data;if(a>h.length)n(l,h,c-a),a-=h.length;else{a===h.length?(n(l,h,c-a),++f,u.next?this.head=u.next:this.head=this.tail=null):(n(l,new r(h.buffer,h.byteOffset,a),c-a),this.head=u,u.data=h.slice(a));break}++f}while((u=u.next)!==null);return this.length-=f,l}[Symbol.for("nodejs.util.inspect.custom")](a,l){return o(this,{...l,depth:0,customInspect:!1})}},hb}var pb,QA;function ox(){if(QA)return pb;QA=1;const{MathFloor:e,NumberIsInteger:t}=er(),{validateInteger:n}=dm(),{ERR_INVALID_ARG_VALUE:r}=Pi().codes;let i=16*1024,o=16;function s(u,f,h){return u.highWaterMark!=null?u.highWaterMark:f?u[h]:null}function a(u){return u?o:i}function l(u,f){n(f,"value",0),u?o=f:i=f}function c(u,f,h,p){const v=s(f,p,h);if(v!=null){if(!t(v)||v<0){const g=p?"options.".concat(h):"options.highWaterMark";throw new r(g,v)}return e(v)}return a(u.objectMode)}return pb={getHighWaterMark:c,getDefaultHighWaterMark:a,setDefaultHighWaterMark:l},pb}var mb={},mg={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var ZA;function cee(){return ZA||(ZA=1,function(e,t){var n=Yl(),r=n.Buffer;function i(s,a){for(var l in s)a[l]=s[l]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?e.exports=n:(i(n,t),t.Buffer=o);function o(s,a,l){return r(s,a,l)}o.prototype=Object.create(r.prototype),i(r,o),o.from=function(s,a,l){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,a,l)},o.alloc=function(s,a,l){if(typeof s!="number")throw new TypeError("Argument must be a number");var c=r(s);return a!==void 0?typeof l=="string"?c.fill(a,l):c.fill(a):c.fill(0),c},o.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},o.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n.SlowBuffer(s)}}(mg,mg.exports)),mg.exports}var eT;function uee(){if(eT)return mb;eT=1;var e=cee().Buffer,t=e.isEncoding||function(m){switch(m=""+m,m&&m.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function n(m){if(!m)return"utf8";for(var y;;)switch(m){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return m;default:if(y)return;m=(""+m).toLowerCase(),y=!0}}function r(m){var y=n(m);if(typeof y!="string"&&(e.isEncoding===t||!t(m)))throw new Error("Unknown encoding: "+m);return y||m}mb.StringDecoder=i;function i(m){this.encoding=r(m);var y;switch(this.encoding){case"utf16le":this.text=f,this.end=h,y=4;break;case"utf8":this.fillLast=l,y=4;break;case"base64":this.text=p,this.end=v,y=3;break;default:this.write=g,this.end=b;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=e.allocUnsafe(y)}i.prototype.write=function(m){if(m.length===0)return"";var y,x;if(this.lastNeed){if(y=this.fillLast(m),y===void 0)return"";x=this.lastNeed,this.lastNeed=0}else x=0;return x<m.length?y?y+this.text(m,x):this.text(m,x):y||""},i.prototype.end=u,i.prototype.text=c,i.prototype.fillLast=function(m){if(this.lastNeed<=m.length)return m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,this.lastTotal-this.lastNeed,0,m.length),this.lastNeed-=m.length};function o(m){return m<=127?0:m>>5===6?2:m>>4===14?3:m>>3===30?4:m>>6===2?-1:-2}function s(m,y,x){var k=y.length-1;if(k<x)return 0;var S=o(y[k]);return S>=0?(S>0&&(m.lastNeed=S-1),S):--k<x||S===-2?0:(S=o(y[k]),S>=0?(S>0&&(m.lastNeed=S-2),S):--k<x||S===-2?0:(S=o(y[k]),S>=0?(S>0&&(S===2?S=0:m.lastNeed=S-3),S):0))}function a(m,y,x){if((y[0]&192)!==128)return m.lastNeed=0,"�";if(m.lastNeed>1&&y.length>1){if((y[1]&192)!==128)return m.lastNeed=1,"�";if(m.lastNeed>2&&y.length>2&&(y[2]&192)!==128)return m.lastNeed=2,"�"}}function l(m){var y=this.lastTotal-this.lastNeed,x=a(this,m);if(x!==void 0)return x;if(this.lastNeed<=m.length)return m.copy(this.lastChar,y,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);m.copy(this.lastChar,y,0,m.length),this.lastNeed-=m.length}function c(m,y){var x=s(this,m,y);if(!this.lastNeed)return m.toString("utf8",y);this.lastTotal=x;var k=m.length-(x-this.lastNeed);return m.copy(this.lastChar,0,k),m.toString("utf8",y,k)}function u(m){var y=m&&m.length?this.write(m):"";return this.lastNeed?y+"�":y}function f(m,y){if((m.length-y)%2===0){var x=m.toString("utf16le",y);if(x){var k=x.charCodeAt(x.length-1);if(k>=55296&&k<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1],x.slice(0,-1)}return x}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=m[m.length-1],m.toString("utf16le",y,m.length-1)}function h(m){var y=m&&m.length?this.write(m):"";if(this.lastNeed){var x=this.lastTotal-this.lastNeed;return y+this.lastChar.toString("utf16le",0,x)}return y}function p(m,y){var x=(m.length-y)%3;return x===0?m.toString("base64",y):(this.lastNeed=3-x,this.lastTotal=3,x===1?this.lastChar[0]=m[m.length-1]:(this.lastChar[0]=m[m.length-2],this.lastChar[1]=m[m.length-1]),m.toString("base64",y,m.length-x))}function v(m){var y=m&&m.length?this.write(m):"";return this.lastNeed?y+this.lastChar.toString("base64",0,3-this.lastNeed):y}function g(m){return m.toString(this.encoding)}function b(m){return m&&m.length?this.write(m):""}return mb}var gb,tT;function j$(){if(tT)return gb;tT=1;const e=lu(),{PromisePrototypeThen:t,SymbolAsyncIterator:n,SymbolIterator:r}=er(),{Buffer:i}=Yl(),{ERR_INVALID_ARG_TYPE:o,ERR_STREAM_NULL_VALUES:s}=Pi().codes;function a(l,c,u){let f;if(typeof c=="string"||c instanceof i)return new l({objectMode:!0,...u,read(){this.push(c),this.push(null)}});let h;if(c&&c[n])h=!0,f=c[n]();else if(c&&c[r])h=!1,f=c[r]();else throw new o("iterable",["Iterable"],c);const p=new l({objectMode:!0,highWaterMark:1,...u});let v=!1;p._read=function(){v||(v=!0,b())},p._destroy=function(m,y){t(g(m),()=>e.nextTick(y,m),x=>e.nextTick(y,x||m))};async function g(m){const y=m!=null,x=typeof f.throw=="function";if(y&&x){const{value:k,done:S}=await f.throw(m);if(await k,S)return}if(typeof f.return=="function"){const{value:k}=await f.return();await k}}async function b(){for(;;){try{const{value:m,done:y}=h?await f.next():f.next();if(y)p.push(null);else{const x=m&&typeof m.then=="function"?await m:m;if(x===null)throw v=!1,new s;if(p.push(x))continue;v=!1}}catch(m){p.destroy(m)}break}}return p}return gb=a,gb}var vb,nT;function sx(){if(nT)return vb;nT=1;const e=lu(),{ArrayPrototypeIndexOf:t,NumberIsInteger:n,NumberIsNaN:r,NumberParseInt:i,ObjectDefineProperties:o,ObjectKeys:s,ObjectSetPrototypeOf:a,Promise:l,SafeSet:c,SymbolAsyncDispose:u,SymbolAsyncIterator:f,Symbol:h}=er();vb=Fe,Fe.ReadableState=Ge;const{EventEmitter:p}=rx(),{Stream:v,prependListener:g}=eE(),{Buffer:b}=Yl(),{addAbortSignal:m}=ix(),y=Gl();let x=Xi().debuglog("stream",Z=>{x=Z});const k=lee(),S=rf(),{getHighWaterMark:E,getDefaultHighWaterMark:T}=ox(),{aggregateTwoErrors:M,codes:{ERR_INVALID_ARG_TYPE:W,ERR_METHOD_NOT_IMPLEMENTED:F,ERR_OUT_OF_RANGE:L,ERR_STREAM_PUSH_AFTER_EOF:G,ERR_STREAM_UNSHIFT_AFTER_END_EVENT:z},AbortError:H}=Pi(),{validateObject:J}=dm(),I=h("kPaused"),{StringDecoder:U}=uee(),O=j$();a(Fe.prototype,v.prototype),a(Fe,v);const D=()=>{},{errorOrDestroy:$}=S,Y=1,ie=2,ae=4,xe=8,ke=16,Ne=32,V=64,Q=128,re=256,Pe=512,Ye=1024,ze=2048,se=4096,fe=8192,je=16384,Ve=32768,qe=65536,Je=1<<17,pe=1<<18;function We(Z){return{enumerable:!1,get(){return(this.state&Z)!==0},set(oe){oe?this.state|=Z:this.state&=~Z}}}o(Ge.prototype,{objectMode:We(Y),ended:We(ie),endEmitted:We(ae),reading:We(xe),constructed:We(ke),sync:We(Ne),needReadable:We(V),emittedReadable:We(Q),readableListening:We(re),resumeScheduled:We(Pe),errorEmitted:We(Ye),emitClose:We(ze),autoDestroy:We(se),destroyed:We(fe),closed:We(je),closeEmitted:We(Ve),multiAwaitDrain:We(qe),readingMore:We(Je),dataEmitted:We(pe)});function Ge(Z,oe,nt){typeof nt!="boolean"&&(nt=oe instanceof Ha()),this.state=ze|se|ke|Ne,Z&&Z.objectMode&&(this.state|=Y),nt&&Z&&Z.readableObjectMode&&(this.state|=Y),this.highWaterMark=Z?E(this,Z,"readableHighWaterMark",nt):T(!1),this.buffer=new k,this.length=0,this.pipes=[],this.flowing=null,this[I]=null,Z&&Z.emitClose===!1&&(this.state&=-2049),Z&&Z.autoDestroy===!1&&(this.state&=-4097),this.errored=null,this.defaultEncoding=Z&&Z.defaultEncoding||"utf8",this.awaitDrainWriters=null,this.decoder=null,this.encoding=null,Z&&Z.encoding&&(this.decoder=new U(Z.encoding),this.encoding=Z.encoding)}function Fe(Z){if(!(this instanceof Fe))return new Fe(Z);const oe=this instanceof Ha();this._readableState=new Ge(Z,this,oe),Z&&(typeof Z.read=="function"&&(this._read=Z.read),typeof Z.destroy=="function"&&(this._destroy=Z.destroy),typeof Z.construct=="function"&&(this._construct=Z.construct),Z.signal&&!oe&&m(Z.signal,this)),v.call(this,Z),S.construct(this,()=>{this._readableState.needReadable&&he(this,this._readableState)})}Fe.prototype.destroy=S.destroy,Fe.prototype._undestroy=S.undestroy,Fe.prototype._destroy=function(Z,oe){oe(Z)},Fe.prototype[p.captureRejectionSymbol]=function(Z){this.destroy(Z)},Fe.prototype[u]=function(){let Z;return this.destroyed||(Z=this.readableEnded?null:new H,this.destroy(Z)),new l((oe,nt)=>y(this,at=>at&&at!==Z?nt(at):oe(null)))},Fe.prototype.push=function(Z,oe){return Ot(this,Z,oe,!1)},Fe.prototype.unshift=function(Z,oe){return Ot(this,Z,oe,!0)};function Ot(Z,oe,nt,at){x("readableAddChunk",oe);const yt=Z._readableState;let Lt;if(yt.state&Y||(typeof oe=="string"?(nt=nt||yt.defaultEncoding,yt.encoding!==nt&&(at&&yt.encoding?oe=b.from(oe,nt).toString(yt.encoding):(oe=b.from(oe,nt),nt=""))):oe instanceof b?nt="":v._isUint8Array(oe)?(oe=v._uint8ArrayToBuffer(oe),nt=""):oe!=null&&(Lt=new W("chunk",["string","Buffer","Uint8Array"],oe))),Lt)$(Z,Lt);else if(oe===null)yt.state&=-9,A(Z,yt);else if(yt.state&Y||oe&&oe.length>0)if(at)if(yt.state&ae)$(Z,new z);else{if(yt.destroyed||yt.errored)return!1;An(Z,yt,oe,!0)}else if(yt.ended)$(Z,new G);else{if(yt.destroyed||yt.errored)return!1;yt.state&=-9,yt.decoder&&!nt?(oe=yt.decoder.write(oe),yt.objectMode||oe.length!==0?An(Z,yt,oe,!1):he(Z,yt)):An(Z,yt,oe,!1)}else at||(yt.state&=-9,he(Z,yt));return!yt.ended&&(yt.length<yt.highWaterMark||yt.length===0)}function An(Z,oe,nt,at){oe.flowing&&oe.length===0&&!oe.sync&&Z.listenerCount("data")>0?(oe.state&qe?oe.awaitDrainWriters.clear():oe.awaitDrainWriters=null,oe.dataEmitted=!0,Z.emit("data",nt)):(oe.length+=oe.objectMode?1:nt.length,at?oe.buffer.unshift(nt):oe.buffer.push(nt),oe.state&V&&R(Z)),he(Z,oe)}Fe.prototype.isPaused=function(){const Z=this._readableState;return Z[I]===!0||Z.flowing===!1},Fe.prototype.setEncoding=function(Z){const oe=new U(Z);this._readableState.decoder=oe,this._readableState.encoding=this._readableState.decoder.encoding;const nt=this._readableState.buffer;let at="";for(const yt of nt)at+=oe.write(yt);return nt.clear(),at!==""&&nt.push(at),this._readableState.length=at.length,this};const It=1073741824;function mn(Z){if(Z>It)throw new L("size","<= 1GiB",Z);return Z--,Z|=Z>>>1,Z|=Z>>>2,Z|=Z>>>4,Z|=Z>>>8,Z|=Z>>>16,Z++,Z}function q(Z,oe){return Z<=0||oe.length===0&&oe.ended?0:oe.state&Y?1:r(Z)?oe.flowing&&oe.length?oe.buffer.first().length:oe.length:Z<=oe.length?Z:oe.ended?oe.length:0}Fe.prototype.read=function(Z){x("read",Z),Z===void 0?Z=NaN:n(Z)||(Z=i(Z,10));const oe=this._readableState,nt=Z;if(Z>oe.highWaterMark&&(oe.highWaterMark=mn(Z)),Z!==0&&(oe.state&=-129),Z===0&&oe.needReadable&&((oe.highWaterMark!==0?oe.length>=oe.highWaterMark:oe.length>0)||oe.ended))return x("read: emitReadable",oe.length,oe.ended),oe.length===0&&oe.ended?_s(this):R(this),null;if(Z=q(Z,oe),Z===0&&oe.ended)return oe.length===0&&_s(this),null;let at=(oe.state&V)!==0;if(x("need readable",at),(oe.length===0||oe.length-Z<oe.highWaterMark)&&(at=!0,x("length less than watermark",at)),oe.ended||oe.reading||oe.destroyed||oe.errored||!oe.constructed)at=!1,x("reading, ended or constructing",at);else if(at){x("do read"),oe.state|=xe|Ne,oe.length===0&&(oe.state|=V);try{this._read(oe.highWaterMark)}catch(Lt){$(this,Lt)}oe.state&=-33,oe.reading||(Z=q(nt,oe))}let yt;return Z>0?yt=bs(Z,oe):yt=null,yt===null?(oe.needReadable=oe.length<=oe.highWaterMark,Z=0):(oe.length-=Z,oe.multiAwaitDrain?oe.awaitDrainWriters.clear():oe.awaitDrainWriters=null),oe.length===0&&(oe.ended||(oe.needReadable=!0),nt!==Z&&oe.ended&&_s(this)),yt!==null&&!oe.errorEmitted&&!oe.closeEmitted&&(oe.dataEmitted=!0,this.emit("data",yt)),yt};function A(Z,oe){if(x("onEofChunk"),!oe.ended){if(oe.decoder){const nt=oe.decoder.end();nt&&nt.length&&(oe.buffer.push(nt),oe.length+=oe.objectMode?1:nt.length)}oe.ended=!0,oe.sync?R(Z):(oe.needReadable=!1,oe.emittedReadable=!0,ee(Z))}}function R(Z){const oe=Z._readableState;x("emitReadable",oe.needReadable,oe.emittedReadable),oe.needReadable=!1,oe.emittedReadable||(x("emitReadable",oe.flowing),oe.emittedReadable=!0,e.nextTick(ee,Z))}function ee(Z){const oe=Z._readableState;x("emitReadable_",oe.destroyed,oe.length,oe.ended),!oe.destroyed&&!oe.errored&&(oe.length||oe.ended)&&(Z.emit("readable"),oe.emittedReadable=!1),oe.needReadable=!oe.flowing&&!oe.ended&&oe.length<=oe.highWaterMark,zt(Z)}function he(Z,oe){!oe.readingMore&&oe.constructed&&(oe.readingMore=!0,e.nextTick(Re,Z,oe))}function Re(Z,oe){for(;!oe.reading&&!oe.ended&&(oe.length<oe.highWaterMark||oe.flowing&&oe.length===0);){const nt=oe.length;if(x("maybeReadMore read 0"),Z.read(0),nt===oe.length)break}oe.readingMore=!1}Fe.prototype._read=function(Z){throw new F("_read()")},Fe.prototype.pipe=function(Z,oe){const nt=this,at=this._readableState;at.pipes.length===1&&(at.multiAwaitDrain||(at.multiAwaitDrain=!0,at.awaitDrainWriters=new c(at.awaitDrainWriters?[at.awaitDrainWriters]:[]))),at.pipes.push(Z),x("pipe count=%d opts=%j",at.pipes.length,oe);const Lt=(!oe||oe.end!==!1)&&Z!==e.stdout&&Z!==e.stderr?sa:Wo;at.endEmitted?e.nextTick(Lt):nt.once("end",Lt),Z.on("unpipe",un);function un(wr,Jr){x("onunpipe"),wr===nt&&Jr&&Jr.hasUnpiped===!1&&(Jr.hasUnpiped=!0,Ss())}function sa(){x("onend"),Z.end()}let Xr,Ho=!1;function Ss(){x("cleanup"),Z.removeListener("close",zr),Z.removeListener("finish",Qi),Xr&&Z.removeListener("drain",Xr),Z.removeListener("error",yi),Z.removeListener("unpipe",un),nt.removeListener("end",sa),nt.removeListener("end",Wo),nt.removeListener("data",vi),Ho=!0,Xr&&at.awaitDrainWriters&&(!Z._writableState||Z._writableState.needDrain)&&Xr()}function Za(){Ho||(at.pipes.length===1&&at.pipes[0]===Z?(x("false write response, pause",0),at.awaitDrainWriters=Z,at.multiAwaitDrain=!1):at.pipes.length>1&&at.pipes.includes(Z)&&(x("false write response, pause",at.awaitDrainWriters.size),at.awaitDrainWriters.add(Z)),nt.pause()),Xr||(Xr=He(nt,Z),Z.on("drain",Xr))}nt.on("data",vi);function vi(wr){x("ondata");const Jr=Z.write(wr);x("dest.write",Jr),Jr===!1&&Za()}function yi(wr){if(x("onerror",wr),Wo(),Z.removeListener("error",yi),Z.listenerCount("error")===0){const Jr=Z._writableState||Z._readableState;Jr&&!Jr.errorEmitted?$(Z,wr):Z.emit("error",wr)}}g(Z,"error",yi);function zr(){Z.removeListener("finish",Qi),Wo()}Z.once("close",zr);function Qi(){x("onfinish"),Z.removeListener("close",zr),Wo()}Z.once("finish",Qi);function Wo(){x("unpipe"),nt.unpipe(Z)}return Z.emit("pipe",nt),Z.writableNeedDrain===!0?Za():at.flowing||(x("pipe resume"),nt.resume()),Z};function He(Z,oe){return function(){const at=Z._readableState;at.awaitDrainWriters===oe?(x("pipeOnDrain",1),at.awaitDrainWriters=null):at.multiAwaitDrain&&(x("pipeOnDrain",at.awaitDrainWriters.size),at.awaitDrainWriters.delete(oe)),(!at.awaitDrainWriters||at.awaitDrainWriters.size===0)&&Z.listenerCount("data")&&Z.resume()}}Fe.prototype.unpipe=function(Z){const oe=this._readableState,nt={hasUnpiped:!1};if(oe.pipes.length===0)return this;if(!Z){const yt=oe.pipes;oe.pipes=[],this.pause();for(let Lt=0;Lt<yt.length;Lt++)yt[Lt].emit("unpipe",this,{hasUnpiped:!1});return this}const at=t(oe.pipes,Z);return at===-1?this:(oe.pipes.splice(at,1),oe.pipes.length===0&&this.pause(),Z.emit("unpipe",this,nt),this)},Fe.prototype.on=function(Z,oe){const nt=v.prototype.on.call(this,Z,oe),at=this._readableState;return Z==="data"?(at.readableListening=this.listenerCount("readable")>0,at.flowing!==!1&&this.resume()):Z==="readable"&&!at.endEmitted&&!at.readableListening&&(at.readableListening=at.needReadable=!0,at.flowing=!1,at.emittedReadable=!1,x("on readable",at.length,at.reading),at.length?R(this):at.reading||e.nextTick(on,this)),nt},Fe.prototype.addListener=Fe.prototype.on,Fe.prototype.removeListener=function(Z,oe){const nt=v.prototype.removeListener.call(this,Z,oe);return Z==="readable"&&e.nextTick(Mt,this),nt},Fe.prototype.off=Fe.prototype.removeListener,Fe.prototype.removeAllListeners=function(Z){const oe=v.prototype.removeAllListeners.apply(this,arguments);return(Z==="readable"||Z===void 0)&&e.nextTick(Mt,this),oe};function Mt(Z){const oe=Z._readableState;oe.readableListening=Z.listenerCount("readable")>0,oe.resumeScheduled&&oe[I]===!1?oe.flowing=!0:Z.listenerCount("data")>0?Z.resume():oe.readableListening||(oe.flowing=null)}function on(Z){x("readable nexttick read 0"),Z.read(0)}Fe.prototype.resume=function(){const Z=this._readableState;return Z.flowing||(x("resume"),Z.flowing=!Z.readableListening,lt(this,Z)),Z[I]=!1,this};function lt(Z,oe){oe.resumeScheduled||(oe.resumeScheduled=!0,e.nextTick(ln,Z,oe))}function ln(Z,oe){x("resume",oe.reading),oe.reading||Z.read(0),oe.resumeScheduled=!1,Z.emit("resume"),zt(Z),oe.flowing&&!oe.reading&&Z.read(0)}Fe.prototype.pause=function(){return x("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(x("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState[I]=!0,this};function zt(Z){const oe=Z._readableState;for(x("flow",oe.flowing);oe.flowing&&Z.read()!==null;);}Fe.prototype.wrap=function(Z){let oe=!1;Z.on("data",at=>{!this.push(at)&&Z.pause&&(oe=!0,Z.pause())}),Z.on("end",()=>{this.push(null)}),Z.on("error",at=>{$(this,at)}),Z.on("close",()=>{this.destroy()}),Z.on("destroy",()=>{this.destroy()}),this._read=()=>{oe&&Z.resume&&(oe=!1,Z.resume())};const nt=s(Z);for(let at=1;at<nt.length;at++){const yt=nt[at];this[yt]===void 0&&typeof Z[yt]=="function"&&(this[yt]=Z[yt].bind(Z))}return this},Fe.prototype[f]=function(){return Bo(this)},Fe.prototype.iterator=function(Z){return Z!==void 0&&J(Z,"options"),Bo(this,Z)};function Bo(Z,oe){typeof Z.read!="function"&&(Z=Fe.wrap(Z,{objectMode:!0}));const nt=ct(Z,oe);return nt.stream=Z,nt}async function*ct(Z,oe){let nt=D;function at(un){this===Z?(nt(),nt=D):nt=un}Z.on("readable",at);let yt;const Lt=y(Z,{writable:!1},un=>{yt=un?M(yt,un):null,nt(),nt=D});try{for(;;){const un=Z.destroyed?null:Z.read();if(un!==null)yield un;else{if(yt)throw yt;if(yt===null)return;await new l(at)}}}catch(un){throw yt=M(yt,un),yt}finally{(yt||(oe==null?void 0:oe.destroyOnReturn)!==!1)&&(yt===void 0||Z._readableState.autoDestroy)?S.destroyer(Z,null):(Z.off("readable",at),Lt())}}o(Fe.prototype,{readable:{__proto__:null,get(){const Z=this._readableState;return!!Z&&Z.readable!==!1&&!Z.destroyed&&!Z.errorEmitted&&!Z.endEmitted},set(Z){this._readableState&&(this._readableState.readable=!!Z)}},readableDidRead:{__proto__:null,enumerable:!1,get:function(){return this._readableState.dataEmitted}},readableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._readableState.readable!==!1&&(this._readableState.destroyed||this._readableState.errored)&&!this._readableState.endEmitted)}},readableHighWaterMark:{__proto__:null,enumerable:!1,get:function(){return this._readableState.highWaterMark}},readableBuffer:{__proto__:null,enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}},readableFlowing:{__proto__:null,enumerable:!1,get:function(){return this._readableState.flowing},set:function(Z){this._readableState&&(this._readableState.flowing=Z)}},readableLength:{__proto__:null,enumerable:!1,get(){return this._readableState.length}},readableObjectMode:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.objectMode:!1}},readableEncoding:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.encoding:null}},errored:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.errored:null}},closed:{__proto__:null,get(){return this._readableState?this._readableState.closed:!1}},destroyed:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.destroyed:!1},set(Z){this._readableState&&(this._readableState.destroyed=Z)}},readableEnded:{__proto__:null,enumerable:!1,get(){return this._readableState?this._readableState.endEmitted:!1}}}),o(Ge.prototype,{pipesCount:{__proto__:null,get(){return this.pipes.length}},paused:{__proto__:null,get(){return this[I]!==!1},set(Z){this[I]=!!Z}}}),Fe._fromList=bs;function bs(Z,oe){if(oe.length===0)return null;let nt;return oe.objectMode?nt=oe.buffer.shift():!Z||Z>=oe.length?(oe.decoder?nt=oe.buffer.join(""):oe.buffer.length===1?nt=oe.buffer.first():nt=oe.buffer.concat(oe.length),oe.buffer.clear()):nt=oe.buffer.consume(Z,oe.decoder),nt}function _s(Z){const oe=Z._readableState;x("endReadable",oe.endEmitted),oe.endEmitted||(oe.ended=!0,e.nextTick(ks,oe,Z))}function ks(Z,oe){if(x("endReadableNT",Z.endEmitted,Z.length),!Z.errored&&!Z.closeEmitted&&!Z.endEmitted&&Z.length===0){if(Z.endEmitted=!0,oe.emit("end"),oe.writable&&oe.allowHalfOpen===!1)e.nextTick(oa,oe);else if(Z.autoDestroy){const nt=oe._writableState;(!nt||nt.autoDestroy&&(nt.finished||nt.writable===!1))&&oe.destroy()}}}function oa(Z){Z.writable&&!Z.writableEnded&&!Z.destroyed&&Z.end()}Fe.from=function(Z,oe){return O(Fe,Z,oe)};let zo;function Qa(){return zo===void 0&&(zo={}),zo}return Fe.fromWeb=function(Z,oe){return Qa().newStreamReadableFromReadableStream(Z,oe)},Fe.toWeb=function(Z,oe){return Qa().newReadableStreamFromStreamReadable(Z,oe)},Fe.wrap=function(Z,oe){var nt,at;return new Fe({objectMode:(nt=(at=Z.readableObjectMode)!==null&&at!==void 0?at:Z.objectMode)!==null&&nt!==void 0?nt:!0,...oe,destroy(yt,Lt){S.destroyer(Z,yt),Lt(yt)}}).wrap(Z)},vb}var yb,rT;function tE(){if(rT)return yb;rT=1;const e=lu(),{ArrayPrototypeSlice:t,Error:n,FunctionPrototypeSymbolHasInstance:r,ObjectDefineProperty:i,ObjectDefineProperties:o,ObjectSetPrototypeOf:s,StringPrototypeToLowerCase:a,Symbol:l,SymbolHasInstance:c}=er();yb=J,J.WritableState=z;const{EventEmitter:u}=rx(),f=eE().Stream,{Buffer:h}=Yl(),p=rf(),{addAbortSignal:v}=ix(),{getHighWaterMark:g,getDefaultHighWaterMark:b}=ox(),{ERR_INVALID_ARG_TYPE:m,ERR_METHOD_NOT_IMPLEMENTED:y,ERR_MULTIPLE_CALLBACK:x,ERR_STREAM_CANNOT_PIPE:k,ERR_STREAM_DESTROYED:S,ERR_STREAM_ALREADY_FINISHED:E,ERR_STREAM_NULL_VALUES:T,ERR_STREAM_WRITE_AFTER_END:M,ERR_UNKNOWN_ENCODING:W}=Pi().codes,{errorOrDestroy:F}=p;s(J.prototype,f.prototype),s(J,f);function L(){}const G=l("kOnFinished");function z(se,fe,je){typeof je!="boolean"&&(je=fe instanceof Ha()),this.objectMode=!!(se&&se.objectMode),je&&(this.objectMode=this.objectMode||!!(se&&se.writableObjectMode)),this.highWaterMark=se?g(this,se,"writableHighWaterMark",je):b(!1),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;const Ve=!!(se&&se.decodeStrings===!1);this.decodeStrings=!Ve,this.defaultEncoding=se&&se.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=$.bind(void 0,fe),this.writecb=null,this.writelen=0,this.afterWriteTickInfo=null,H(this),this.pendingcb=0,this.constructed=!0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!se||se.emitClose!==!1,this.autoDestroy=!se||se.autoDestroy!==!1,this.errored=null,this.closed=!1,this.closeEmitted=!1,this[G]=[]}function H(se){se.buffered=[],se.bufferedIndex=0,se.allBuffers=!0,se.allNoop=!0}z.prototype.getBuffer=function(){return t(this.buffered,this.bufferedIndex)},i(z.prototype,"bufferedRequestCount",{__proto__:null,get(){return this.buffered.length-this.bufferedIndex}});function J(se){const fe=this instanceof Ha();if(!fe&&!r(J,this))return new J(se);this._writableState=new z(se,this,fe),se&&(typeof se.write=="function"&&(this._write=se.write),typeof se.writev=="function"&&(this._writev=se.writev),typeof se.destroy=="function"&&(this._destroy=se.destroy),typeof se.final=="function"&&(this._final=se.final),typeof se.construct=="function"&&(this._construct=se.construct),se.signal&&v(se.signal,this)),f.call(this,se),p.construct(this,()=>{const je=this._writableState;je.writing||xe(this,je),Q(this,je)})}i(J,c,{__proto__:null,value:function(se){return r(this,se)?!0:this!==J?!1:se&&se._writableState instanceof z}}),J.prototype.pipe=function(){F(this,new k)};function I(se,fe,je,Ve){const qe=se._writableState;if(typeof je=="function")Ve=je,je=qe.defaultEncoding;else{if(!je)je=qe.defaultEncoding;else if(je!=="buffer"&&!h.isEncoding(je))throw new W(je);typeof Ve!="function"&&(Ve=L)}if(fe===null)throw new T;if(!qe.objectMode)if(typeof fe=="string")qe.decodeStrings!==!1&&(fe=h.from(fe,je),je="buffer");else if(fe instanceof h)je="buffer";else if(f._isUint8Array(fe))fe=f._uint8ArrayToBuffer(fe),je="buffer";else throw new m("chunk",["string","Buffer","Uint8Array"],fe);let Je;return qe.ending?Je=new M:qe.destroyed&&(Je=new S("write")),Je?(e.nextTick(Ve,Je),F(se,Je,!0),Je):(qe.pendingcb++,U(se,qe,fe,je,Ve))}J.prototype.write=function(se,fe,je){return I(this,se,fe,je)===!0},J.prototype.cork=function(){this._writableState.corked++},J.prototype.uncork=function(){const se=this._writableState;se.corked&&(se.corked--,se.writing||xe(this,se))},J.prototype.setDefaultEncoding=function(fe){if(typeof fe=="string"&&(fe=a(fe)),!h.isEncoding(fe))throw new W(fe);return this._writableState.defaultEncoding=fe,this};function U(se,fe,je,Ve,qe){const Je=fe.objectMode?1:je.length;fe.length+=Je;const pe=fe.length<fe.highWaterMark;return pe||(fe.needDrain=!0),fe.writing||fe.corked||fe.errored||!fe.constructed?(fe.buffered.push({chunk:je,encoding:Ve,callback:qe}),fe.allBuffers&&Ve!=="buffer"&&(fe.allBuffers=!1),fe.allNoop&&qe!==L&&(fe.allNoop=!1)):(fe.writelen=Je,fe.writecb=qe,fe.writing=!0,fe.sync=!0,se._write(je,Ve,fe.onwrite),fe.sync=!1),pe&&!fe.errored&&!fe.destroyed}function O(se,fe,je,Ve,qe,Je,pe){fe.writelen=Ve,fe.writecb=pe,fe.writing=!0,fe.sync=!0,fe.destroyed?fe.onwrite(new S("write")):je?se._writev(qe,fe.onwrite):se._write(qe,Je,fe.onwrite),fe.sync=!1}function D(se,fe,je,Ve){--fe.pendingcb,Ve(je),ae(fe),F(se,je)}function $(se,fe){const je=se._writableState,Ve=je.sync,qe=je.writecb;if(typeof qe!="function"){F(se,new x);return}je.writing=!1,je.writecb=null,je.length-=je.writelen,je.writelen=0,fe?(fe.stack,je.errored||(je.errored=fe),se._readableState&&!se._readableState.errored&&(se._readableState.errored=fe),Ve?e.nextTick(D,se,je,fe,qe):D(se,je,fe,qe)):(je.buffered.length>je.bufferedIndex&&xe(se,je),Ve?je.afterWriteTickInfo!==null&&je.afterWriteTickInfo.cb===qe?je.afterWriteTickInfo.count++:(je.afterWriteTickInfo={count:1,cb:qe,stream:se,state:je},e.nextTick(Y,je.afterWriteTickInfo)):ie(se,je,1,qe))}function Y({stream:se,state:fe,count:je,cb:Ve}){return fe.afterWriteTickInfo=null,ie(se,fe,je,Ve)}function ie(se,fe,je,Ve){for(!fe.ending&&!se.destroyed&&fe.length===0&&fe.needDrain&&(fe.needDrain=!1,se.emit("drain"));je-- >0;)fe.pendingcb--,Ve();fe.destroyed&&ae(fe),Q(se,fe)}function ae(se){if(se.writing)return;for(let qe=se.bufferedIndex;qe<se.buffered.length;++qe){var fe;const{chunk:Je,callback:pe}=se.buffered[qe],We=se.objectMode?1:Je.length;se.length-=We,pe((fe=se.errored)!==null&&fe!==void 0?fe:new S("write"))}const je=se[G].splice(0);for(let qe=0;qe<je.length;qe++){var Ve;je[qe]((Ve=se.errored)!==null&&Ve!==void 0?Ve:new S("end"))}H(se)}function xe(se,fe){if(fe.corked||fe.bufferProcessing||fe.destroyed||!fe.constructed)return;const{buffered:je,bufferedIndex:Ve,objectMode:qe}=fe,Je=je.length-Ve;if(!Je)return;let pe=Ve;if(fe.bufferProcessing=!0,Je>1&&se._writev){fe.pendingcb-=Je-1;const We=fe.allNoop?L:Fe=>{for(let Ot=pe;Ot<je.length;++Ot)je[Ot].callback(Fe)},Ge=fe.allNoop&&pe===0?je:t(je,pe);Ge.allBuffers=fe.allBuffers,O(se,fe,!0,fe.length,Ge,"",We),H(fe)}else{do{const{chunk:We,encoding:Ge,callback:Fe}=je[pe];je[pe++]=null;const Ot=qe?1:We.length;O(se,fe,!1,Ot,We,Ge,Fe)}while(pe<je.length&&!fe.writing);pe===je.length?H(fe):pe>256?(je.splice(0,pe),fe.bufferedIndex=0):fe.bufferedIndex=pe}fe.bufferProcessing=!1}J.prototype._write=function(se,fe,je){if(this._writev)this._writev([{chunk:se,encoding:fe}],je);else throw new y("_write()")},J.prototype._writev=null,J.prototype.end=function(se,fe,je){const Ve=this._writableState;typeof se=="function"?(je=se,se=null,fe=null):typeof fe=="function"&&(je=fe,fe=null);let qe;if(se!=null){const Je=I(this,se,fe);Je instanceof n&&(qe=Je)}return Ve.corked&&(Ve.corked=1,this.uncork()),qe||(!Ve.errored&&!Ve.ending?(Ve.ending=!0,Q(this,Ve,!0),Ve.ended=!0):Ve.finished?qe=new E("end"):Ve.destroyed&&(qe=new S("end"))),typeof je=="function"&&(qe||Ve.finished?e.nextTick(je,qe):Ve[G].push(je)),this};function ke(se){return se.ending&&!se.destroyed&&se.constructed&&se.length===0&&!se.errored&&se.buffered.length===0&&!se.finished&&!se.writing&&!se.errorEmitted&&!se.closeEmitted}function Ne(se,fe){let je=!1;function Ve(qe){if(je){F(se,qe!=null?qe:x());return}if(je=!0,fe.pendingcb--,qe){const Je=fe[G].splice(0);for(let pe=0;pe<Je.length;pe++)Je[pe](qe);F(se,qe,fe.sync)}else ke(fe)&&(fe.prefinished=!0,se.emit("prefinish"),fe.pendingcb++,e.nextTick(re,se,fe))}fe.sync=!0,fe.pendingcb++;try{se._final(Ve)}catch(qe){Ve(qe)}fe.sync=!1}function V(se,fe){!fe.prefinished&&!fe.finalCalled&&(typeof se._final=="function"&&!fe.destroyed?(fe.finalCalled=!0,Ne(se,fe)):(fe.prefinished=!0,se.emit("prefinish")))}function Q(se,fe,je){ke(fe)&&(V(se,fe),fe.pendingcb===0&&(je?(fe.pendingcb++,e.nextTick((Ve,qe)=>{ke(qe)?re(Ve,qe):qe.pendingcb--},se,fe)):ke(fe)&&(fe.pendingcb++,re(se,fe))))}function re(se,fe){fe.pendingcb--,fe.finished=!0;const je=fe[G].splice(0);for(let Ve=0;Ve<je.length;Ve++)je[Ve]();if(se.emit("finish"),fe.autoDestroy){const Ve=se._readableState;(!Ve||Ve.autoDestroy&&(Ve.endEmitted||Ve.readable===!1))&&se.destroy()}}o(J.prototype,{closed:{__proto__:null,get(){return this._writableState?this._writableState.closed:!1}},destroyed:{__proto__:null,get(){return this._writableState?this._writableState.destroyed:!1},set(se){this._writableState&&(this._writableState.destroyed=se)}},writable:{__proto__:null,get(){const se=this._writableState;return!!se&&se.writable!==!1&&!se.destroyed&&!se.errored&&!se.ending&&!se.ended},set(se){this._writableState&&(this._writableState.writable=!!se)}},writableFinished:{__proto__:null,get(){return this._writableState?this._writableState.finished:!1}},writableObjectMode:{__proto__:null,get(){return this._writableState?this._writableState.objectMode:!1}},writableBuffer:{__proto__:null,get(){return this._writableState&&this._writableState.getBuffer()}},writableEnded:{__proto__:null,get(){return this._writableState?this._writableState.ending:!1}},writableNeedDrain:{__proto__:null,get(){const se=this._writableState;return se?!se.destroyed&&!se.ending&&se.needDrain:!1}},writableHighWaterMark:{__proto__:null,get(){return this._writableState&&this._writableState.highWaterMark}},writableCorked:{__proto__:null,get(){return this._writableState?this._writableState.corked:0}},writableLength:{__proto__:null,get(){return this._writableState&&this._writableState.length}},errored:{__proto__:null,enumerable:!1,get(){return this._writableState?this._writableState.errored:null}},writableAborted:{__proto__:null,enumerable:!1,get:function(){return!!(this._writableState.writable!==!1&&(this._writableState.destroyed||this._writableState.errored)&&!this._writableState.finished)}}});const Pe=p.destroy;J.prototype.destroy=function(se,fe){const je=this._writableState;return!je.destroyed&&(je.bufferedIndex<je.buffered.length||je[G].length)&&e.nextTick(ae,je),Pe.call(this,se,fe),this},J.prototype._undestroy=p.undestroy,J.prototype._destroy=function(se,fe){fe(se)},J.prototype[u.captureRejectionSymbol]=function(se){this.destroy(se)};let Ye;function ze(){return Ye===void 0&&(Ye={}),Ye}return J.fromWeb=function(se,fe){return ze().newStreamWritableFromWritableStream(se,fe)},J.toWeb=function(se){return ze().newWritableStreamFromStreamWritable(se)},yb}var xb,iT;function dee(){if(iT)return xb;iT=1;const e=lu(),t=Yl(),{isReadable:n,isWritable:r,isIterable:i,isNodeStream:o,isReadableNodeStream:s,isWritableNodeStream:a,isDuplexNodeStream:l,isReadableStream:c,isWritableStream:u}=Xa(),f=Gl(),{AbortError:h,codes:{ERR_INVALID_ARG_TYPE:p,ERR_INVALID_RETURN_VALUE:v}}=Pi(),{destroyer:g}=rf(),b=Ha(),m=sx(),y=tE(),{createDeferredPromise:x}=Xi(),k=j$(),S=globalThis.Blob||t.Blob,E=typeof S<"u"?function(z){return z instanceof S}:function(z){return!1},T=globalThis.AbortController||Ap().AbortController,{FunctionPrototypeCall:M}=er();class W extends b{constructor(z){super(z),(z==null?void 0:z.readable)===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),(z==null?void 0:z.writable)===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)}}xb=function G(z,H){if(l(z))return z;if(s(z))return L({readable:z});if(a(z))return L({writable:z});if(o(z))return L({writable:!1,readable:!1});if(c(z))return L({readable:m.fromWeb(z)});if(u(z))return L({writable:y.fromWeb(z)});if(typeof z=="function"){const{value:I,write:U,final:O,destroy:D}=F(z);if(i(I))return k(W,I,{objectMode:!0,write:U,final:O,destroy:D});const $=I==null?void 0:I.then;if(typeof $=="function"){let Y;const ie=M($,I,ae=>{if(ae!=null)throw new v("nully","body",ae)},ae=>{g(Y,ae)});return Y=new W({objectMode:!0,readable:!1,write:U,final(ae){O(async()=>{try{await ie,e.nextTick(ae,null)}catch(xe){e.nextTick(ae,xe)}})},destroy:D})}throw new v("Iterable, AsyncIterable or AsyncFunction",H,I)}if(E(z))return G(z.arrayBuffer());if(i(z))return k(W,z,{objectMode:!0,writable:!1});if(c(z==null?void 0:z.readable)&&u(z==null?void 0:z.writable))return W.fromWeb(z);if(typeof(z==null?void 0:z.writable)=="object"||typeof(z==null?void 0:z.readable)=="object"){const I=z!=null&&z.readable?s(z==null?void 0:z.readable)?z==null?void 0:z.readable:G(z.readable):void 0,U=z!=null&&z.writable?a(z==null?void 0:z.writable)?z==null?void 0:z.writable:G(z.writable):void 0;return L({readable:I,writable:U})}const J=z==null?void 0:z.then;if(typeof J=="function"){let I;return M(J,z,U=>{U!=null&&I.push(U),I.push(null)},U=>{g(I,U)}),I=new W({objectMode:!0,writable:!1,read(){}})}throw new p(H,["Blob","ReadableStream","WritableStream","Stream","Iterable","AsyncIterable","Function","{ readable, writable } pair","Promise"],z)};function F(G){let{promise:z,resolve:H}=x();const J=new T,I=J.signal;return{value:G(async function*(){for(;;){const O=z;z=null;const{chunk:D,done:$,cb:Y}=await O;if(e.nextTick(Y),$)return;if(I.aborted)throw new h(void 0,{cause:I.reason});({promise:z,resolve:H}=x()),yield D}}(),{signal:I}),write(O,D,$){const Y=H;H=null,Y({chunk:O,done:!1,cb:$})},final(O){const D=H;H=null,D({done:!0,cb:O})},destroy(O,D){J.abort(),D(O)}}}function L(G){const z=G.readable&&typeof G.readable.read!="function"?m.wrap(G.readable):G.readable,H=G.writable;let J=!!n(z),I=!!r(H),U,O,D,$,Y;function ie(ae){const xe=$;$=null,xe?xe(ae):ae&&Y.destroy(ae)}return Y=new W({readableObjectMode:!!(z!=null&&z.readableObjectMode),writableObjectMode:!!(H!=null&&H.writableObjectMode),readable:J,writable:I}),I&&(f(H,ae=>{I=!1,ae&&g(z,ae),ie(ae)}),Y._write=function(ae,xe,ke){H.write(ae,xe)?ke():U=ke},Y._final=function(ae){H.end(),O=ae},H.on("drain",function(){if(U){const ae=U;U=null,ae()}}),H.on("finish",function(){if(O){const ae=O;O=null,ae()}})),J&&(f(z,ae=>{J=!1,ae&&g(z,ae),ie(ae)}),z.on("readable",function(){if(D){const ae=D;D=null,ae()}}),z.on("end",function(){Y.push(null)}),Y._read=function(){for(;;){const ae=z.read();if(ae===null){D=Y._read;return}if(!Y.push(ae))return}}),Y._destroy=function(ae,xe){!ae&&$!==null&&(ae=new h),D=null,U=null,O=null,$===null?xe(ae):($=xe,g(H,ae),g(z,ae))},Y}return xb}var wb,oT;function Ha(){if(oT)return wb;oT=1;const{ObjectDefineProperties:e,ObjectGetOwnPropertyDescriptor:t,ObjectKeys:n,ObjectSetPrototypeOf:r}=er();wb=s;const i=sx(),o=tE();r(s.prototype,i.prototype),r(s,i);{const u=n(o.prototype);for(let f=0;f<u.length;f++){const h=u[f];s.prototype[h]||(s.prototype[h]=o.prototype[h])}}function s(u){if(!(this instanceof s))return new s(u);i.call(this,u),o.call(this,u),u?(this.allowHalfOpen=u.allowHalfOpen!==!1,u.readable===!1&&(this._readableState.readable=!1,this._readableState.ended=!0,this._readableState.endEmitted=!0),u.writable===!1&&(this._writableState.writable=!1,this._writableState.ending=!0,this._writableState.ended=!0,this._writableState.finished=!0)):this.allowHalfOpen=!0}e(s.prototype,{writable:{__proto__:null,...t(o.prototype,"writable")},writableHighWaterMark:{__proto__:null,...t(o.prototype,"writableHighWaterMark")},writableObjectMode:{__proto__:null,...t(o.prototype,"writableObjectMode")},writableBuffer:{__proto__:null,...t(o.prototype,"writableBuffer")},writableLength:{__proto__:null,...t(o.prototype,"writableLength")},writableFinished:{__proto__:null,...t(o.prototype,"writableFinished")},writableCorked:{__proto__:null,...t(o.prototype,"writableCorked")},writableEnded:{__proto__:null,...t(o.prototype,"writableEnded")},writableNeedDrain:{__proto__:null,...t(o.prototype,"writableNeedDrain")},destroyed:{__proto__:null,get(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set(u){this._readableState&&this._writableState&&(this._readableState.destroyed=u,this._writableState.destroyed=u)}}});let a;function l(){return a===void 0&&(a={}),a}s.fromWeb=function(u,f){return l().newStreamDuplexFromReadableWritablePair(u,f)},s.toWeb=function(u){return l().newReadableWritablePairFromDuplex(u)};let c;return s.from=function(u){return c||(c=dee()),c(u,"body")},wb}var bb,sT;function N$(){if(sT)return bb;sT=1;const{ObjectSetPrototypeOf:e,Symbol:t}=er();bb=s;const{ERR_METHOD_NOT_IMPLEMENTED:n}=Pi().codes,r=Ha(),{getHighWaterMark:i}=ox();e(s.prototype,r.prototype),e(s,r);const o=t("kCallback");function s(c){if(!(this instanceof s))return new s(c);const u=c?i(this,c,"readableHighWaterMark",!0):null;u===0&&(c={...c,highWaterMark:null,readableHighWaterMark:u,writableHighWaterMark:c.writableHighWaterMark||0}),r.call(this,c),this._readableState.sync=!1,this[o]=null,c&&(typeof c.transform=="function"&&(this._transform=c.transform),typeof c.flush=="function"&&(this._flush=c.flush)),this.on("prefinish",l)}function a(c){typeof this._flush=="function"&&!this.destroyed?this._flush((u,f)=>{if(u){c?c(u):this.destroy(u);return}f!=null&&this.push(f),this.push(null),c&&c()}):(this.push(null),c&&c())}function l(){this._final!==a&&a.call(this)}return s.prototype._final=a,s.prototype._transform=function(c,u,f){throw new n("_transform()")},s.prototype._write=function(c,u,f){const h=this._readableState,p=this._writableState,v=h.length;this._transform(c,u,(g,b)=>{if(g){f(g);return}b!=null&&this.push(b),p.ended||v===h.length||h.length<h.highWaterMark?f():this[o]=f})},s.prototype._read=function(){if(this[o]){const c=this[o];this[o]=null,c()}},bb}var _b,aT;function A$(){if(aT)return _b;aT=1;const{ObjectSetPrototypeOf:e}=er();_b=n;const t=N$();e(n.prototype,t.prototype),e(n,t);function n(r){if(!(this instanceof n))return new n(r);t.call(this,r)}return n.prototype._transform=function(r,i,o){o(null,r)},_b}var kb,lT;function nE(){if(lT)return kb;lT=1;const e=lu(),{ArrayIsArray:t,Promise:n,SymbolAsyncIterator:r,SymbolDispose:i}=er(),o=Gl(),{once:s}=Xi(),a=rf(),l=Ha(),{aggregateTwoErrors:c,codes:{ERR_INVALID_ARG_TYPE:u,ERR_INVALID_RETURN_VALUE:f,ERR_MISSING_ARGS:h,ERR_STREAM_DESTROYED:p,ERR_STREAM_PREMATURE_CLOSE:v},AbortError:g}=Pi(),{validateFunction:b,validateAbortSignal:m}=dm(),{isIterable:y,isReadable:x,isReadableNodeStream:k,isNodeStream:S,isTransformStream:E,isWebStream:T,isReadableStream:M,isReadableFinished:W}=Xa(),F=globalThis.AbortController||Ap().AbortController;let L,G,z;function H(ae,xe,ke){let Ne=!1;ae.on("close",()=>{Ne=!0});const V=o(ae,{readable:xe,writable:ke},Q=>{Ne=!Q});return{destroy:Q=>{Ne||(Ne=!0,a.destroyer(ae,Q||new p("pipe")))},cleanup:V}}function J(ae){return b(ae[ae.length-1],"streams[stream.length - 1]"),ae.pop()}function I(ae){if(y(ae))return ae;if(k(ae))return U(ae);throw new u("val",["Readable","Iterable","AsyncIterable"],ae)}async function*U(ae){G||(G=sx()),yield*G.prototype[r].call(ae)}async function O(ae,xe,ke,{end:Ne}){let V,Q=null;const re=ze=>{if(ze&&(V=ze),Q){const se=Q;Q=null,se()}},Pe=()=>new n((ze,se)=>{V?se(V):Q=()=>{V?se(V):ze()}});xe.on("drain",re);const Ye=o(xe,{readable:!1},re);try{xe.writableNeedDrain&&await Pe();for await(const ze of ae)xe.write(ze)||await Pe();Ne&&(xe.end(),await Pe()),ke()}catch(ze){ke(V!==ze?c(V,ze):ze)}finally{Ye(),xe.off("drain",re)}}async function D(ae,xe,ke,{end:Ne}){E(xe)&&(xe=xe.writable);const V=xe.getWriter();try{for await(const Q of ae)await V.ready,V.write(Q).catch(()=>{});await V.ready,Ne&&await V.close(),ke()}catch(Q){try{await V.abort(Q),ke(Q)}catch(re){ke(re)}}}function $(...ae){return Y(ae,s(J(ae)))}function Y(ae,xe,ke){if(ae.length===1&&t(ae[0])&&(ae=ae[0]),ae.length<2)throw new h("streams");const Ne=new F,V=Ne.signal,Q=ke==null?void 0:ke.signal,re=[];m(Q,"options.signal");function Pe(){qe(new g)}z=z||Xi().addAbortListener;let Ye;Q&&(Ye=z(Q,Pe));let ze,se;const fe=[];let je=0;function Ve(Ge){qe(Ge,--je===0)}function qe(Ge,Fe){var Ot;if(Ge&&(!ze||ze.code==="ERR_STREAM_PREMATURE_CLOSE")&&(ze=Ge),!(!ze&&!Fe)){for(;fe.length;)fe.shift()(ze);(Ot=Ye)===null||Ot===void 0||Ot[i](),Ne.abort(),Fe&&(ze||re.forEach(An=>An()),e.nextTick(xe,ze,se))}}let Je;for(let Ge=0;Ge<ae.length;Ge++){const Fe=ae[Ge],Ot=Ge<ae.length-1,An=Ge>0,It=Ot||(ke==null?void 0:ke.end)!==!1,mn=Ge===ae.length-1;if(S(Fe)){let q=function(A){A&&A.name!=="AbortError"&&A.code!=="ERR_STREAM_PREMATURE_CLOSE"&&Ve(A)};if(It){const{destroy:A,cleanup:R}=H(Fe,Ot,An);fe.push(A),x(Fe)&&mn&&re.push(R)}Fe.on("error",q),x(Fe)&&mn&&re.push(()=>{Fe.removeListener("error",q)})}if(Ge===0)if(typeof Fe=="function"){if(Je=Fe({signal:V}),!y(Je))throw new f("Iterable, AsyncIterable or Stream","source",Je)}else y(Fe)||k(Fe)||E(Fe)?Je=Fe:Je=l.from(Fe);else if(typeof Fe=="function"){if(E(Je)){var pe;Je=I((pe=Je)===null||pe===void 0?void 0:pe.readable)}else Je=I(Je);if(Je=Fe(Je,{signal:V}),Ot){if(!y(Je,!0))throw new f("AsyncIterable","transform[".concat(Ge-1,"]"),Je)}else{var We;L||(L=A$());const q=new L({objectMode:!0}),A=(We=Je)===null||We===void 0?void 0:We.then;if(typeof A=="function")je++,A.call(Je,he=>{se=he,he!=null&&q.write(he),It&&q.end(),e.nextTick(Ve)},he=>{q.destroy(he),e.nextTick(Ve,he)});else if(y(Je,!0))je++,O(Je,q,Ve,{end:It});else if(M(Je)||E(Je)){const he=Je.readable||Je;je++,O(he,q,Ve,{end:It})}else throw new f("AsyncIterable or Promise","destination",Je);Je=q;const{destroy:R,cleanup:ee}=H(Je,!1,!0);fe.push(R),mn&&re.push(ee)}}else if(S(Fe)){if(k(Je)){je+=2;const q=ie(Je,Fe,Ve,{end:It});x(Fe)&&mn&&re.push(q)}else if(E(Je)||M(Je)){const q=Je.readable||Je;je++,O(q,Fe,Ve,{end:It})}else if(y(Je))je++,O(Je,Fe,Ve,{end:It});else throw new u("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Je);Je=Fe}else if(T(Fe)){if(k(Je))je++,D(I(Je),Fe,Ve,{end:It});else if(M(Je)||y(Je))je++,D(Je,Fe,Ve,{end:It});else if(E(Je))je++,D(Je.readable,Fe,Ve,{end:It});else throw new u("val",["Readable","Iterable","AsyncIterable","ReadableStream","TransformStream"],Je);Je=Fe}else Je=l.from(Fe)}return(V!=null&&V.aborted||Q!=null&&Q.aborted)&&e.nextTick(Pe),Je}function ie(ae,xe,ke,{end:Ne}){let V=!1;if(xe.on("close",()=>{V||ke(new v)}),ae.pipe(xe,{end:!1}),Ne){let Q=function(){V=!0,xe.end()};W(ae)?e.nextTick(Q):ae.once("end",Q)}else ke();return o(ae,{readable:!0,writable:!1},Q=>{const re=ae._readableState;Q&&Q.code==="ERR_STREAM_PREMATURE_CLOSE"&&re&&re.ended&&!re.errored&&!re.errorEmitted?ae.once("end",ke).once("error",ke):ke(Q)}),o(xe,{readable:!1,writable:!0},ke)}return kb={pipelineImpl:Y,pipeline:$},kb}var Sb,cT;function T$(){if(cT)return Sb;cT=1;const{pipeline:e}=nE(),t=Ha(),{destroyer:n}=rf(),{isNodeStream:r,isReadable:i,isWritable:o,isWebStream:s,isTransformStream:a,isWritableStream:l,isReadableStream:c}=Xa(),{AbortError:u,codes:{ERR_INVALID_ARG_VALUE:f,ERR_MISSING_ARGS:h}}=Pi(),p=Gl();return Sb=function(...g){if(g.length===0)throw new h("streams");if(g.length===1)return t.from(g[0]);const b=[...g];if(typeof g[0]=="function"&&(g[0]=t.from(g[0])),typeof g[g.length-1]=="function"){const L=g.length-1;g[L]=t.from(g[L])}for(let L=0;L<g.length;++L)if(!(!r(g[L])&&!s(g[L]))){if(L<g.length-1&&!(i(g[L])||c(g[L])||a(g[L])))throw new f("streams[".concat(L,"]"),b[L],"must be readable");if(L>0&&!(o(g[L])||l(g[L])||a(g[L])))throw new f("streams[".concat(L,"]"),b[L],"must be writable")}let m,y,x,k,S;function E(L){const G=k;k=null,G?G(L):L?S.destroy(L):!F&&!W&&S.destroy()}const T=g[0],M=e(g,E),W=!!(o(T)||l(T)||a(T)),F=!!(i(M)||c(M)||a(M));if(S=new t({writableObjectMode:!!(T!=null&&T.writableObjectMode),readableObjectMode:!!(M!=null&&M.readableObjectMode),writable:W,readable:F}),W){if(r(T))S._write=function(G,z,H){T.write(G,z)?H():m=H},S._final=function(G){T.end(),y=G},T.on("drain",function(){if(m){const G=m;m=null,G()}});else if(s(T)){const z=(a(T)?T.writable:T).getWriter();S._write=async function(H,J,I){try{await z.ready,z.write(H).catch(()=>{}),I()}catch(U){I(U)}},S._final=async function(H){try{await z.ready,z.close().catch(()=>{}),y=H}catch(J){H(J)}}}const L=a(M)?M.readable:M;p(L,()=>{if(y){const G=y;y=null,G()}})}if(F){if(r(M))M.on("readable",function(){if(x){const L=x;x=null,L()}}),M.on("end",function(){S.push(null)}),S._read=function(){for(;;){const L=M.read();if(L===null){x=S._read;return}if(!S.push(L))return}};else if(s(M)){const G=(a(M)?M.readable:M).getReader();S._read=async function(){for(;;)try{const{value:z,done:H}=await G.read();if(!S.push(z))return;if(H){S.push(null);return}}catch(z){return}}}}return S._destroy=function(L,G){!L&&k!==null&&(L=new u),x=null,m=null,y=null,k===null?G(L):(k=G,r(M)&&n(M,L))},S},Sb}var uT;function fee(){if(uT)return hg;uT=1;const e=globalThis.AbortController||Ap().AbortController,{codes:{ERR_INVALID_ARG_VALUE:t,ERR_INVALID_ARG_TYPE:n,ERR_MISSING_ARGS:r,ERR_OUT_OF_RANGE:i},AbortError:o}=Pi(),{validateAbortSignal:s,validateInteger:a,validateObject:l}=dm(),c=er().Symbol("kWeak"),u=er().Symbol("kResistStopPropagation"),{finished:f}=Gl(),h=T$(),{addAbortSignalNoValidate:p}=ix(),{isWritable:v,isNodeStream:g}=Xa(),{deprecate:b}=Xi(),{ArrayPrototypePush:m,Boolean:y,MathFloor:x,Number:k,NumberIsNaN:S,Promise:E,PromiseReject:T,PromiseResolve:M,PromisePrototypeThen:W,Symbol:F}=er(),L=F("kEmpty"),G=F("kEof");function z(Q,re){if(re!=null&&l(re,"options"),(re==null?void 0:re.signal)!=null&&s(re.signal,"options.signal"),g(Q)&&!v(Q))throw new t("stream",Q,"must be writable");const Pe=h(this,Q);return re!=null&&re.signal&&p(re.signal,Pe),Pe}function H(Q,re){if(typeof Q!="function")throw new n("fn",["Function","AsyncFunction"],Q);re!=null&&l(re,"options"),(re==null?void 0:re.signal)!=null&&s(re.signal,"options.signal");let Pe=1;(re==null?void 0:re.concurrency)!=null&&(Pe=x(re.concurrency));let Ye=Pe-1;return(re==null?void 0:re.highWaterMark)!=null&&(Ye=x(re.highWaterMark)),a(Pe,"options.concurrency",1),a(Ye,"options.highWaterMark",0),Ye+=Pe,(async function*(){const se=Xi().AbortSignalAny([re==null?void 0:re.signal].filter(y)),fe=this,je=[],Ve={signal:se};let qe,Je,pe=!1,We=0;function Ge(){pe=!0,Fe()}function Fe(){We-=1,Ot()}function Ot(){Je&&!pe&&We<Pe&&je.length<Ye&&(Je(),Je=null)}async function An(){try{for await(let It of fe){if(pe)return;if(se.aborted)throw new o;try{if(It=Q(It,Ve),It===L)continue;It=M(It)}catch(mn){It=T(mn)}We+=1,W(It,Fe,Ge),je.push(It),qe&&(qe(),qe=null),!pe&&(je.length>=Ye||We>=Pe)&&await new E(mn=>{Je=mn})}je.push(G)}catch(It){const mn=T(It);W(mn,Fe,Ge),je.push(mn)}finally{pe=!0,qe&&(qe(),qe=null)}}An();try{for(;;){for(;je.length>0;){const It=await je[0];if(It===G)return;if(se.aborted)throw new o;It!==L&&(yield It),je.shift(),Ot()}await new E(It=>{qe=It})}}finally{pe=!0,Je&&(Je(),Je=null)}}).call(this)}function J(Q=void 0){return Q!=null&&l(Q,"options"),(Q==null?void 0:Q.signal)!=null&&s(Q.signal,"options.signal"),(async function*(){let Pe=0;for await(const ze of this){var Ye;if(Q!=null&&(Ye=Q.signal)!==null&&Ye!==void 0&&Ye.aborted)throw new o({cause:Q.signal.reason});yield[Pe++,ze]}}).call(this)}async function I(Q,re=void 0){for await(const Pe of $.call(this,Q,re))return!0;return!1}async function U(Q,re=void 0){if(typeof Q!="function")throw new n("fn",["Function","AsyncFunction"],Q);return!await I.call(this,async(...Pe)=>!await Q(...Pe),re)}async function O(Q,re){for await(const Pe of $.call(this,Q,re))return Pe}async function D(Q,re){if(typeof Q!="function")throw new n("fn",["Function","AsyncFunction"],Q);async function Pe(Ye,ze){return await Q(Ye,ze),L}for await(const Ye of H.call(this,Pe,re));}function $(Q,re){if(typeof Q!="function")throw new n("fn",["Function","AsyncFunction"],Q);async function Pe(Ye,ze){return await Q(Ye,ze)?Ye:L}return H.call(this,Pe,re)}class Y extends r{constructor(){super("reduce"),this.message="Reduce of an empty stream requires an initial value"}}async function ie(Q,re,Pe){var Ye;if(typeof Q!="function")throw new n("reducer",["Function","AsyncFunction"],Q);Pe!=null&&l(Pe,"options"),(Pe==null?void 0:Pe.signal)!=null&&s(Pe.signal,"options.signal");let ze=arguments.length>1;if(Pe!=null&&(Ye=Pe.signal)!==null&&Ye!==void 0&&Ye.aborted){const qe=new o(void 0,{cause:Pe.signal.reason});throw this.once("error",()=>{}),await f(this.destroy(qe)),qe}const se=new e,fe=se.signal;if(Pe!=null&&Pe.signal){const qe={once:!0,[c]:this,[u]:!0};Pe.signal.addEventListener("abort",()=>se.abort(),qe)}let je=!1;try{for await(const qe of this){var Ve;if(je=!0,Pe!=null&&(Ve=Pe.signal)!==null&&Ve!==void 0&&Ve.aborted)throw new o;ze?re=await Q(re,qe,{signal:fe}):(re=qe,ze=!0)}if(!je&&!ze)throw new Y}finally{se.abort()}return re}async function ae(Q){Q!=null&&l(Q,"options"),(Q==null?void 0:Q.signal)!=null&&s(Q.signal,"options.signal");const re=[];for await(const Ye of this){var Pe;if(Q!=null&&(Pe=Q.signal)!==null&&Pe!==void 0&&Pe.aborted)throw new o(void 0,{cause:Q.signal.reason});m(re,Ye)}return re}function xe(Q,re){const Pe=H.call(this,Q,re);return(async function*(){for await(const ze of Pe)yield*ze}).call(this)}function ke(Q){if(Q=k(Q),S(Q))return 0;if(Q<0)throw new i("number",">= 0",Q);return Q}function Ne(Q,re=void 0){return re!=null&&l(re,"options"),(re==null?void 0:re.signal)!=null&&s(re.signal,"options.signal"),Q=ke(Q),(async function*(){var Ye;if(re!=null&&(Ye=re.signal)!==null&&Ye!==void 0&&Ye.aborted)throw new o;for await(const se of this){var ze;if(re!=null&&(ze=re.signal)!==null&&ze!==void 0&&ze.aborted)throw new o;Q--<=0&&(yield se)}}).call(this)}function V(Q,re=void 0){return re!=null&&l(re,"options"),(re==null?void 0:re.signal)!=null&&s(re.signal,"options.signal"),Q=ke(Q),(async function*(){var Ye;if(re!=null&&(Ye=re.signal)!==null&&Ye!==void 0&&Ye.aborted)throw new o;for await(const se of this){var ze;if(re!=null&&(ze=re.signal)!==null&&ze!==void 0&&ze.aborted)throw new o;if(Q-- >0&&(yield se),Q<=0)return}}).call(this)}return hg.streamReturningOperators={asIndexedPairs:b(J,"readable.asIndexedPairs will be removed in a future version."),drop:Ne,filter:$,flatMap:xe,map:H,take:V,compose:z},hg.promiseReturningOperators={every:U,forEach:D,reduce:ie,toArray:ae,some:I,find:O},hg}var Eb,dT;function R$(){if(dT)return Eb;dT=1;const{ArrayPrototypePop:e,Promise:t}=er(),{isIterable:n,isNodeStream:r,isWebStream:i}=Xa(),{pipelineImpl:o}=nE(),{finished:s}=Gl();I$();function a(...l){return new t((c,u)=>{let f,h;const p=l[l.length-1];if(p&&typeof p=="object"&&!r(p)&&!n(p)&&!i(p)){const v=e(l);f=v.signal,h=v.end}o(l,(v,g)=>{v?u(v):c(g)},{signal:f,end:h})})}return Eb={finished:s,pipeline:a},Eb}var fT;function I$(){if(fT)return tb.exports;fT=1;const{Buffer:e}=Yl(),{ObjectDefineProperty:t,ObjectKeys:n,ReflectApply:r}=er(),{promisify:{custom:i}}=Xi(),{streamReturningOperators:o,promiseReturningOperators:s}=fee(),{codes:{ERR_ILLEGAL_CONSTRUCTOR:a}}=Pi(),l=T$(),{setDefaultHighWaterMark:c,getDefaultHighWaterMark:u}=ox(),{pipeline:f}=nE(),{destroyer:h}=rf(),p=Gl(),v=R$(),g=Xa(),b=tb.exports=eE().Stream;b.isDestroyed=g.isDestroyed,b.isDisturbed=g.isDisturbed,b.isErrored=g.isErrored,b.isReadable=g.isReadable,b.isWritable=g.isWritable,b.Readable=sx();for(const y of n(o)){let k=function(...S){if(new.target)throw a();return b.Readable.from(r(x,this,S))};const x=o[y];t(k,"name",{__proto__:null,value:x.name}),t(k,"length",{__proto__:null,value:x.length}),t(b.Readable.prototype,y,{__proto__:null,value:k,enumerable:!1,configurable:!0,writable:!0})}for(const y of n(s)){let k=function(...S){if(new.target)throw a();return r(x,this,S)};const x=s[y];t(k,"name",{__proto__:null,value:x.name}),t(k,"length",{__proto__:null,value:x.length}),t(b.Readable.prototype,y,{__proto__:null,value:k,enumerable:!1,configurable:!0,writable:!0})}b.Writable=tE(),b.Duplex=Ha(),b.Transform=N$(),b.PassThrough=A$(),b.pipeline=f;const{addAbortSignal:m}=ix();return b.addAbortSignal=m,b.finished=p,b.destroy=h,b.compose=l,b.setDefaultHighWaterMark=c,b.getDefaultHighWaterMark=u,t(b,"promises",{__proto__:null,configurable:!0,enumerable:!0,get(){return v}}),t(f,i,{__proto__:null,enumerable:!0,get(){return v.pipeline}}),t(p,i,{__proto__:null,enumerable:!0,get(){return v.finished}}),b.Stream=b,b._isUint8Array=function(x){return x instanceof Uint8Array},b._uint8ArrayToBuffer=function(x){return e.from(x.buffer,x.byteOffset,x.byteLength)},tb.exports}var hT;function pT(){return hT||(hT=1,function(e){const t=I$(),n=R$(),r=t.Readable.destroy;e.exports=t.Readable,e.exports._uint8ArrayToBuffer=t._uint8ArrayToBuffer,e.exports._isUint8Array=t._isUint8Array,e.exports.isDisturbed=t.isDisturbed,e.exports.isErrored=t.isErrored,e.exports.isReadable=t.isReadable,e.exports.Readable=t.Readable,e.exports.Writable=t.Writable,e.exports.Duplex=t.Duplex,e.exports.Transform=t.Transform,e.exports.PassThrough=t.PassThrough,e.exports.addAbortSignal=t.addAbortSignal,e.exports.finished=t.finished,e.exports.destroy=t.destroy,e.exports.destroy=r,e.exports.pipeline=t.pipeline,e.exports.compose=t.compose,Object.defineProperty(t,"promises",{configurable:!0,enumerable:!0,get(){return n}}),e.exports.Stream=t.Stream,e.exports.default=e.exports}(eb)),eb.exports}/*!
 LZ-UTF8 v0.6.3

 Copyright (c) 2021, Rotem Dan
 Released under the MIT license.

 Build date: 2022-07-06 

 Please report any issue at https://github.com/rotemdan/lzutf8.js/issues
*/(function(e){var t;(function(n){n.runningInNodeJS=function(){return typeof process=="object"&&typeof process.versions=="object"&&typeof process.versions.node=="string"},n.runningInMainNodeJSModule=function(){return n.runningInNodeJS()&&require.main===e},n.commonJSAvailable=function(){return!0},n.runningInWebWorker=function(){return typeof window>"u"&&typeof self=="object"&&typeof self.addEventListener=="function"&&typeof self.close=="function"},n.runningInNodeChildProcess=function(){return n.runningInNodeJS()&&typeof process.send=="function"},n.runningInNullOrigin=function(){return typeof window!="object"||typeof window.location!="object"||typeof document!="object"?!1:document.location.protocol!=="http:"&&document.location.protocol!=="https:"},n.webWorkersAvailable=function(){return!(typeof Worker!="function"||n.runningInNullOrigin()||n.runningInNodeJS()||navigator&&navigator.userAgent&&navigator.userAgent.indexOf("Android 4.3")>=0)},n.log=function(r,i){i===void 0&&(i=!1),typeof console=="object"&&(console.log(r),i&&typeof document=="object"&&(document.body.innerHTML+=r+"<br/>"))},n.createErrorMessage=function(r,i){if(i===void 0&&(i="Unhandled exception"),r==null)return i;if(i+=": ",typeof r.content=="object"){if(n.runningInNodeJS())return i+r.content.stack;var o=JSON.stringify(r.content);return o!=="{}"?i+o:i+r.content}else return typeof r.content=="string"?i+r.content:i+r},n.printExceptionAndStackTraceToConsole=function(r,i){i===void 0&&(i="Unhandled exception"),n.log(n.createErrorMessage(r,i))},n.getGlobalObject=function(){return typeof ao=="object"?ao:typeof window=="object"?window:typeof self=="object"?self:{}},n.toString=Object.prototype.toString,n.commonJSAvailable()&&(e.exports=n)})(t||(t={})),function(n){if(typeof Uint8Array=="function"&&new Uint8Array(1).subarray(1).byteLength!==0){var r=function(a,l){var c=function(f,h,p){return f<h?h:f>p?p:f};a=a|0,l=l|0,arguments.length<1&&(a=0),arguments.length<2&&(l=this.length),a<0&&(a=this.length+a),l<0&&(l=this.length+l),a=c(a,0,this.length),l=c(l,0,this.length);var u=l-a;return u<0&&(u=0),new this.constructor(this.buffer,this.byteOffset+a*this.BYTES_PER_ELEMENT,u)},i=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"],o=void 0;if(typeof window=="object"?o=window:typeof self=="object"&&(o=self),o!==void 0)for(var s=0;s<i.length;s++)o[i[s]]&&(o[i[s]].prototype.subarray=r)}}();var t;(function(n){var r=function(){function i(){}return i.compressAsync=function(o,s,a){var l=new n.Timer,c=new n.Compressor;if(!a)throw new TypeError("compressAsync: No callback argument given");if(typeof o=="string")o=n.encodeUTF8(o);else if(o==null||!(o instanceof Uint8Array)){a(void 0,new TypeError("compressAsync: Invalid input argument, only 'string' and 'Uint8Array' are supported"));return}var u=n.ArrayTools.splitByteArray(o,s.blockSize),f=[],h=function(p){if(p<u.length){var v=void 0;try{v=c.compressBlock(u[p])}catch(b){a(void 0,b);return}f.push(v),l.getElapsedTime()<=20?h(p+1):(n.enqueueImmediate(function(){return h(p+1)}),l.restart())}else{var g=n.ArrayTools.concatUint8Arrays(f);n.enqueueImmediate(function(){var b;try{b=n.CompressionCommon.encodeCompressedBytes(g,s.outputEncoding)}catch(m){a(void 0,m);return}n.enqueueImmediate(function(){return a(b)})})}};n.enqueueImmediate(function(){return h(0)})},i.createCompressionStream=function(){var o=new n.Compressor,s=pT(),a=new s.Transform({decodeStrings:!0,highWaterMark:65536});return a._transform=function(l,c,u){var f;try{f=n.BufferTools.uint8ArrayToBuffer(o.compressBlock(n.BufferTools.bufferToUint8Array(l)))}catch(h){a.emit("error",h);return}a.push(f),u()},a},i}();n.AsyncCompressor=r})(t||(t={}));var t;(function(n){var r=function(){function i(){}return i.decompressAsync=function(o,s,a){if(!a)throw new TypeError("decompressAsync: No callback argument given");var l=new n.Timer;try{o=n.CompressionCommon.decodeCompressedBytes(o,s.inputEncoding)}catch(p){a(void 0,p);return}var c=new n.Decompressor,u=n.ArrayTools.splitByteArray(o,s.blockSize),f=[],h=function(p){if(p<u.length){var v=void 0;try{v=c.decompressBlock(u[p])}catch(b){a(void 0,b);return}f.push(v),l.getElapsedTime()<=20?h(p+1):(n.enqueueImmediate(function(){return h(p+1)}),l.restart())}else{var g=n.ArrayTools.concatUint8Arrays(f);n.enqueueImmediate(function(){var b;try{b=n.CompressionCommon.encodeDecompressedBytes(g,s.outputEncoding)}catch(m){a(void 0,m);return}n.enqueueImmediate(function(){return a(b)})})}};n.enqueueImmediate(function(){return h(0)})},i.createDecompressionStream=function(){var o=new n.Decompressor,s=pT(),a=new s.Transform({decodeStrings:!0,highWaterMark:65536});return a._transform=function(l,c,u){var f;try{f=n.BufferTools.uint8ArrayToBuffer(o.decompressBlock(n.BufferTools.bufferToUint8Array(l)))}catch(h){a.emit("error",h);return}a.push(f),u()},a},i}();n.AsyncDecompressor=r})(t||(t={}));var t;(function(n){var r;(function(i){i.compressAsync=function(o,s,a){if(s.inputEncoding=="ByteArray"&&!(o instanceof Uint8Array)){a(void 0,new TypeError("compressAsync: input is not a Uint8Array"));return}var l={token:Math.random().toString(),type:"compress",data:o,inputEncoding:s.inputEncoding,outputEncoding:s.outputEncoding},c=function(u){var f=u.data;!f||f.token!=l.token||(i.globalWorker.removeEventListener("message",c),f.type=="error"?a(void 0,new Error(f.error)):a(f.data))};i.globalWorker.addEventListener("message",c),i.globalWorker.postMessage(l,[])},i.decompressAsync=function(o,s,a){var l={token:Math.random().toString(),type:"decompress",data:o,inputEncoding:s.inputEncoding,outputEncoding:s.outputEncoding},c=function(u){var f=u.data;!f||f.token!=l.token||(i.globalWorker.removeEventListener("message",c),f.type=="error"?a(void 0,new Error(f.error)):a(f.data))};i.globalWorker.addEventListener("message",c),i.globalWorker.postMessage(l,[])},i.installWebWorkerIfNeeded=function(){typeof self=="object"&&self.document===void 0&&self.addEventListener!=null&&(self.addEventListener("message",function(o){var s=o.data;if(s.type=="compress"){var a=void 0;try{a=n.compress(s.data,{outputEncoding:s.outputEncoding})}catch(u){self.postMessage({token:s.token,type:"error",error:n.createErrorMessage(u)},[]);return}var l={token:s.token,type:"compressionResult",data:a,encoding:s.outputEncoding};l.data instanceof Uint8Array&&navigator.appVersion.indexOf("MSIE 10")===-1?self.postMessage(l,[l.data.buffer]):self.postMessage(l,[])}else if(s.type=="decompress"){var c=void 0;try{c=n.decompress(s.data,{inputEncoding:s.inputEncoding,outputEncoding:s.outputEncoding})}catch(f){self.postMessage({token:s.token,type:"error",error:n.createErrorMessage(f)},[]);return}var l={token:s.token,type:"decompressionResult",data:c,encoding:s.outputEncoding};l.data instanceof Uint8Array&&navigator.appVersion.indexOf("MSIE 10")===-1?self.postMessage(l,[l.data.buffer]):self.postMessage(l,[])}}),self.addEventListener("error",function(o){n.log(n.createErrorMessage(o.error,"Unexpected LZUTF8 WebWorker exception"))}))},i.createGlobalWorkerIfNeeded=function(){if(i.globalWorker)return!0;if(!n.webWorkersAvailable())return!1;if(!i.scriptURI&&typeof document=="object"){var o=document.getElementById("lzutf8");o!=null&&(i.scriptURI=o.getAttribute("src")||void 0)}return i.scriptURI?(i.globalWorker=new Worker(i.scriptURI),!0):!1},i.terminate=function(){i.globalWorker&&(i.globalWorker.terminate(),i.globalWorker=void 0)}})(r=n.WebWorker||(n.WebWorker={})),r.installWebWorkerIfNeeded()})(t||(t={}));var t;(function(n){var r=function(){function i(o,s,a){this.container=o,this.startPosition=s,this.length=a}return i.prototype.get=function(o){return this.container[this.startPosition+o]},i.prototype.getInReversedOrder=function(o){return this.container[this.startPosition+this.length-1-o]},i.prototype.set=function(o,s){this.container[this.startPosition+o]=s},i}();n.ArraySegment=r})(t||(t={}));var t;(function(n){(function(r){r.copyElements=function(i,o,s,a,l){for(;l--;)s[a++]=i[o++]},r.zeroElements=function(i,o,s){for(;s--;)i[o++]=0},r.countNonzeroValuesInArray=function(i){for(var o=0,s=0;s<i.length;s++)i[s]&&o++;return o},r.truncateStartingElements=function(i,o){if(i.length<=o)throw new RangeError("truncateStartingElements: Requested length should be smaller than array length");for(var s=i.length-o,a=0;a<o;a++)i[a]=i[s+a];i.length=o},r.doubleByteArrayCapacity=function(i){var o=new Uint8Array(i.length*2);return o.set(i),o},r.concatUint8Arrays=function(i){for(var o=0,s=0,a=i;s<a.length;s++){var l=a[s];o+=l.length}for(var c=new Uint8Array(o),u=0,f=0,h=i;f<h.length;f++){var l=h[f];c.set(l,u),u+=l.length}return c},r.splitByteArray=function(i,o){for(var s=[],a=0;a<i.length;){var l=Math.min(o,i.length-a);s.push(i.subarray(a,a+l)),a+=l}return s}})(n.ArrayTools||(n.ArrayTools={}))})(t||(t={}));var t;(function(n){(function(r){r.convertToUint8ArrayIfNeeded=function(i){return typeof Buffer=="function"&&Buffer.isBuffer(i)?r.bufferToUint8Array(i):i},r.uint8ArrayToBuffer=function(i){if(Buffer.prototype instanceof Uint8Array){var o=new Uint8Array(i.buffer,i.byteOffset,i.byteLength);return Object.setPrototypeOf(o,Buffer.prototype),o}else{for(var s=i.length,a=new Buffer(s),l=0;l<s;l++)a[l]=i[l];return a}},r.bufferToUint8Array=function(i){if(Buffer.prototype instanceof Uint8Array)return new Uint8Array(i.buffer,i.byteOffset,i.byteLength);for(var o=i.length,s=new Uint8Array(o),a=0;a<o;a++)s[a]=i[a];return s}})(n.BufferTools||(n.BufferTools={}))})(t||(t={}));var t;(function(n){(function(r){r.getCroppedBuffer=function(i,o,s,a){a===void 0&&(a=0);var l=new Uint8Array(s+a);return l.set(i.subarray(o,o+s)),l},r.getCroppedAndAppendedByteArray=function(i,o,s,a){return n.ArrayTools.concatUint8Arrays([i.subarray(o,o+s),a])},r.detectCompressionSourceEncoding=function(i){if(i==null)throw new TypeError("detectCompressionSourceEncoding: input is null or undefined");if(typeof i=="string")return"String";if(i instanceof Uint8Array||typeof Buffer=="function"&&Buffer.isBuffer(i))return"ByteArray";throw new TypeError("detectCompressionSourceEncoding: input must be of type 'string', 'Uint8Array' or 'Buffer'")},r.encodeCompressedBytes=function(i,o){switch(o){case"ByteArray":return i;case"Buffer":return n.BufferTools.uint8ArrayToBuffer(i);case"Base64":return n.encodeBase64(i);case"BinaryString":return n.encodeBinaryString(i);case"StorageBinaryString":return n.encodeStorageBinaryString(i);default:throw new TypeError("encodeCompressedBytes: invalid output encoding requested")}},r.decodeCompressedBytes=function(i,o){if(o==null)throw new TypeError("decodeCompressedData: Input is null or undefined");switch(o){case"ByteArray":case"Buffer":var s=n.BufferTools.convertToUint8ArrayIfNeeded(i);if(!(s instanceof Uint8Array))throw new TypeError("decodeCompressedData: 'ByteArray' or 'Buffer' input type was specified but input is not a Uint8Array or Buffer");return s;case"Base64":if(typeof i!="string")throw new TypeError("decodeCompressedData: 'Base64' input type was specified but input is not a string");return n.decodeBase64(i);case"BinaryString":if(typeof i!="string")throw new TypeError("decodeCompressedData: 'BinaryString' input type was specified but input is not a string");return n.decodeBinaryString(i);case"StorageBinaryString":if(typeof i!="string")throw new TypeError("decodeCompressedData: 'StorageBinaryString' input type was specified but input is not a string");return n.decodeStorageBinaryString(i);default:throw new TypeError("decodeCompressedData: invalid input encoding requested: '".concat(o,"'"))}},r.encodeDecompressedBytes=function(i,o){switch(o){case"String":return n.decodeUTF8(i);case"ByteArray":return i;case"Buffer":if(typeof Buffer!="function")throw new TypeError("encodeDecompressedBytes: a 'Buffer' type was specified but is not supported at the current envirnment");return n.BufferTools.uint8ArrayToBuffer(i);default:throw new TypeError("encodeDecompressedBytes: invalid output encoding requested")}}})(n.CompressionCommon||(n.CompressionCommon={}))})(t||(t={}));var t;(function(n){var r;(function(i){var o=[],s;i.enqueueImmediate=function(a){o.push(a),o.length===1&&s()},i.initializeScheduler=function(){var a=function(){for(var f=0,h=o;f<h.length;f++){var p=h[f];try{p.call(void 0)}catch(v){n.printExceptionAndStackTraceToConsole(v,"enqueueImmediate exception")}}o.length=0};if(n.runningInNodeJS())s=function(){return setImmediate(function(){return a()})};else if(typeof window=="object"&&typeof window.addEventListener=="function"&&typeof window.postMessage=="function"){var l="enqueueImmediate-"+Math.random().toString();window.addEventListener("message",function(f){f.data===l&&a()});var c;n.runningInNullOrigin()?c="*":c=window.location.href,s=function(){return window.postMessage(l,c)}}else if(typeof MessageChannel=="function"&&typeof MessagePort=="function"){var u=new MessageChannel;u.port1.onmessage=function(){return a()},s=function(){return u.port2.postMessage(0)}}else s=function(){return setTimeout(function(){return a()},0)}},i.initializeScheduler()})(r=n.EventLoop||(n.EventLoop={})),n.enqueueImmediate=function(i){return r.enqueueImmediate(i)}})(t||(t={}));var t;(function(n){(function(r){r.override=function(i,o){return r.extend(i,o)},r.extend=function(i,o){if(i==null)throw new TypeError("obj is null or undefined");if(typeof i!="object")throw new TypeError("obj is not an object");if(o==null&&(o={}),typeof o!="object")throw new TypeError("newProperties is not an object");if(o!=null)for(var s in o)i[s]=o[s];return i}})(n.ObjectTools||(n.ObjectTools={}))})(t||(t={}));var t;(function(n){n.getRandomIntegerInRange=function(r,i){return r+Math.floor(Math.random()*(i-r))},n.getRandomUTF16StringOfLength=function(r){for(var i="",o=0;o<r;o++){var s=void 0;do s=n.getRandomIntegerInRange(0,1114112);while(s>=55296&&s<=57343);i+=n.Encoding.CodePoint.decodeToString(s)}return i}})(t||(t={}));var t;(function(n){var r=function(){function i(o){o===void 0&&(o=1024),this.outputBufferCapacity=o,this.outputPosition=0,this.outputString="",this.outputBuffer=new Uint16Array(this.outputBufferCapacity)}return i.prototype.appendCharCode=function(o){this.outputBuffer[this.outputPosition++]=o,this.outputPosition===this.outputBufferCapacity&&this.flushBufferToOutputString()},i.prototype.appendCharCodes=function(o){for(var s=0,a=o.length;s<a;s++)this.appendCharCode(o[s])},i.prototype.appendString=function(o){for(var s=0,a=o.length;s<a;s++)this.appendCharCode(o.charCodeAt(s))},i.prototype.appendCodePoint=function(o){if(o<=65535)this.appendCharCode(o);else if(o<=1114111)this.appendCharCode(55296+(o-65536>>>10)),this.appendCharCode(56320+(o-65536&1023));else throw new Error("appendCodePoint: A code point of ".concat(o," cannot be encoded in UTF-16"))},i.prototype.getOutputString=function(){return this.flushBufferToOutputString(),this.outputString},i.prototype.flushBufferToOutputString=function(){this.outputPosition===this.outputBufferCapacity?this.outputString+=String.fromCharCode.apply(null,this.outputBuffer):this.outputString+=String.fromCharCode.apply(null,this.outputBuffer.subarray(0,this.outputPosition)),this.outputPosition=0},i}();n.StringBuilder=r})(t||(t={}));var t;(function(n){var r=function(){function i(){this.restart()}return i.prototype.restart=function(){this.startTime=i.getTimestamp()},i.prototype.getElapsedTime=function(){return i.getTimestamp()-this.startTime},i.prototype.getElapsedTimeAndRestart=function(){var o=this.getElapsedTime();return this.restart(),o},i.prototype.logAndRestart=function(o,s){s===void 0&&(s=!0);var a=this.getElapsedTime(),l="".concat(o,": ").concat(a.toFixed(3),"ms");return n.log(l,s),this.restart(),a},i.getTimestamp=function(){return this.timestampFunc||this.createGlobalTimestampFunction(),this.timestampFunc()},i.getMicrosecondTimestamp=function(){return Math.floor(i.getTimestamp()*1e3)},i.createGlobalTimestampFunction=function(){if(typeof process=="object"&&typeof process.hrtime=="function"){var o=0;this.timestampFunc=function(){var c=process.hrtime(),u=c[0]*1e3+c[1]/1e6;return o+u},o=Date.now()-this.timestampFunc()}else if(typeof chrome=="object"&&chrome.Interval){var s=Date.now(),a=new chrome.Interval;a.start(),this.timestampFunc=function(){return s+a.microseconds()/1e3}}else if(typeof performance=="object"&&performance.now){var l=Date.now()-performance.now();this.timestampFunc=function(){return l+performance.now()}}else Date.now?this.timestampFunc=function(){return Date.now()}:this.timestampFunc=function(){return new Date().getTime()}},i}();n.Timer=r})(t||(t={}));var t;(function(n){var r=function(){function i(o){o===void 0&&(o=!0),this.MinimumSequenceLength=4,this.MaximumSequenceLength=31,this.MaximumMatchDistance=32767,this.PrefixHashTableSize=65537,this.inputBufferStreamOffset=1,o&&typeof Uint32Array=="function"?this.prefixHashTable=new n.CompressorCustomHashTable(this.PrefixHashTableSize):this.prefixHashTable=new n.CompressorSimpleHashTable(this.PrefixHashTableSize)}return i.prototype.compressBlock=function(o){if(o==null)throw new TypeError("compressBlock: undefined or null input received");return typeof o=="string"&&(o=n.encodeUTF8(o)),o=n.BufferTools.convertToUint8ArrayIfNeeded(o),this.compressUtf8Block(o)},i.prototype.compressUtf8Block=function(o){if(!o||o.length==0)return new Uint8Array(0);var s=this.cropAndAddNewBytesToInputBuffer(o),a=this.inputBuffer,l=this.inputBuffer.length;this.outputBuffer=new Uint8Array(o.length),this.outputBufferPosition=0;for(var c=0,u=s;u<l;u++){var f=a[u],h=u<c;if(u>l-this.MinimumSequenceLength){h||this.outputRawByte(f);continue}var p=this.getBucketIndexForPrefix(u);if(!h){var v=this.findLongestMatch(u,p);v!=null&&(this.outputPointerBytes(v.length,v.distance),c=u+v.length,h=!0)}h||this.outputRawByte(f);var g=this.inputBufferStreamOffset+u;this.prefixHashTable.addValueToBucket(p,g)}return this.outputBuffer.subarray(0,this.outputBufferPosition)},i.prototype.findLongestMatch=function(o,s){var a=this.prefixHashTable.getArraySegmentForBucketIndex(s,this.reusableArraySegmentObject);if(a==null)return null;for(var l=this.inputBuffer,c,u=0,f=0;f<a.length;f++){var h=a.getInReversedOrder(f)-this.inputBufferStreamOffset,p=o-h,v=void 0;if(c===void 0?v=this.MinimumSequenceLength-1:c<128&&p>=128?v=u+(u>>>1):v=u,p>this.MaximumMatchDistance||v>=this.MaximumSequenceLength||o+v>=l.length)break;if(l[h+v]===l[o+v]){for(var g=0;;g++)if(o+g===l.length||l[h+g]!==l[o+g]){g>v&&(c=p,u=g);break}else if(g===this.MaximumSequenceLength)return{distance:p,length:this.MaximumSequenceLength}}}return c!==void 0?{distance:c,length:u}:null},i.prototype.getBucketIndexForPrefix=function(o){return(this.inputBuffer[o]*7880599+this.inputBuffer[o+1]*39601+this.inputBuffer[o+2]*199+this.inputBuffer[o+3])%this.PrefixHashTableSize},i.prototype.outputPointerBytes=function(o,s){s<128?(this.outputRawByte(192|o),this.outputRawByte(s)):(this.outputRawByte(224|o),this.outputRawByte(s>>>8),this.outputRawByte(s&255))},i.prototype.outputRawByte=function(o){this.outputBuffer[this.outputBufferPosition++]=o},i.prototype.cropAndAddNewBytesToInputBuffer=function(o){if(this.inputBuffer===void 0)return this.inputBuffer=o,0;var s=Math.min(this.inputBuffer.length,this.MaximumMatchDistance),a=this.inputBuffer.length-s;return this.inputBuffer=n.CompressionCommon.getCroppedAndAppendedByteArray(this.inputBuffer,a,s,o),this.inputBufferStreamOffset+=a,s},i}();n.Compressor=r})(t||(t={}));var t;(function(n){var r=function(){function i(o){this.minimumBucketCapacity=4,this.maximumBucketCapacity=64,this.bucketLocators=new Uint32Array(o*2),this.storage=new Uint32Array(o*2),this.storageIndex=1}return i.prototype.addValueToBucket=function(o,s){o<<=1,this.storageIndex>=this.storage.length>>>1&&this.compact();var a=this.bucketLocators[o],l;if(a===0)a=this.storageIndex,l=1,this.storage[this.storageIndex]=s,this.storageIndex+=this.minimumBucketCapacity;else{l=this.bucketLocators[o+1],l===this.maximumBucketCapacity-1&&(l=this.truncateBucketToNewerElements(a,l,this.maximumBucketCapacity/2));var c=a+l;this.storage[c]===0?(this.storage[c]=s,c===this.storageIndex&&(this.storageIndex+=l)):(n.ArrayTools.copyElements(this.storage,a,this.storage,this.storageIndex,l),a=this.storageIndex,this.storageIndex+=l,this.storage[this.storageIndex++]=s,this.storageIndex+=l),l++}this.bucketLocators[o]=a,this.bucketLocators[o+1]=l},i.prototype.truncateBucketToNewerElements=function(o,s,a){var l=o+s-a;return n.ArrayTools.copyElements(this.storage,l,this.storage,o,a),n.ArrayTools.zeroElements(this.storage,o+a,s-a),a},i.prototype.compact=function(){var o=this.bucketLocators,s=this.storage;this.bucketLocators=new Uint32Array(this.bucketLocators.length),this.storageIndex=1;for(var a=0;a<o.length;a+=2){var l=o[a+1];l!==0&&(this.bucketLocators[a]=this.storageIndex,this.bucketLocators[a+1]=l,this.storageIndex+=Math.max(Math.min(l*2,this.maximumBucketCapacity),this.minimumBucketCapacity))}this.storage=new Uint32Array(this.storageIndex*8);for(var a=0;a<o.length;a+=2){var c=o[a];if(c!==0){var u=this.bucketLocators[a],f=this.bucketLocators[a+1];n.ArrayTools.copyElements(s,c,this.storage,u,f)}}},i.prototype.getArraySegmentForBucketIndex=function(o,s){o<<=1;var a=this.bucketLocators[o];return a===0?null:(s===void 0&&(s=new n.ArraySegment(this.storage,a,this.bucketLocators[o+1])),s)},i.prototype.getUsedBucketCount=function(){return Math.floor(n.ArrayTools.countNonzeroValuesInArray(this.bucketLocators)/2)},i.prototype.getTotalElementCount=function(){for(var o=0,s=0;s<this.bucketLocators.length;s+=2)o+=this.bucketLocators[s+1];return o},i}();n.CompressorCustomHashTable=r})(t||(t={}));var t;(function(n){var r=function(){function i(o){this.maximumBucketCapacity=64,this.buckets=new Array(o)}return i.prototype.addValueToBucket=function(o,s){var a=this.buckets[o];a===void 0?this.buckets[o]=[s]:(a.length===this.maximumBucketCapacity-1&&n.ArrayTools.truncateStartingElements(a,this.maximumBucketCapacity/2),a.push(s))},i.prototype.getArraySegmentForBucketIndex=function(o,s){var a=this.buckets[o];return a===void 0?null:(s===void 0&&(s=new n.ArraySegment(a,0,a.length)),s)},i.prototype.getUsedBucketCount=function(){return n.ArrayTools.countNonzeroValuesInArray(this.buckets)},i.prototype.getTotalElementCount=function(){for(var o=0,s=0;s<this.buckets.length;s++)this.buckets[s]!==void 0&&(o+=this.buckets[s].length);return o},i}();n.CompressorSimpleHashTable=r})(t||(t={}));var t;(function(n){var r=function(){function i(){this.MaximumMatchDistance=32767,this.outputPosition=0}return i.prototype.decompressBlockToString=function(o){return o=n.BufferTools.convertToUint8ArrayIfNeeded(o),n.decodeUTF8(this.decompressBlock(o))},i.prototype.decompressBlock=function(o){this.inputBufferRemainder&&(o=n.ArrayTools.concatUint8Arrays([this.inputBufferRemainder,o]),this.inputBufferRemainder=void 0);for(var s=this.cropOutputBufferToWindowAndInitialize(Math.max(o.length*4,1024)),a=0,l=o.length;a<l;a++){var c=o[a];if(c>>>6!=3){this.outputByte(c);continue}var u=c>>>5;if(a==l-1||a==l-2&&u==7){this.inputBufferRemainder=o.subarray(a);break}if(o[a+1]>>>7===1)this.outputByte(c);else{var f=c&31,h=void 0;u==6?(h=o[a+1],a+=1):(h=o[a+1]<<8|o[a+2],a+=2);for(var p=this.outputPosition-h,v=0;v<f;v++)this.outputByte(this.outputBuffer[p+v])}}return this.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence(),n.CompressionCommon.getCroppedBuffer(this.outputBuffer,s,this.outputPosition-s)},i.prototype.outputByte=function(o){this.outputPosition===this.outputBuffer.length&&(this.outputBuffer=n.ArrayTools.doubleByteArrayCapacity(this.outputBuffer)),this.outputBuffer[this.outputPosition++]=o},i.prototype.cropOutputBufferToWindowAndInitialize=function(o){if(!this.outputBuffer)return this.outputBuffer=new Uint8Array(o),0;var s=Math.min(this.outputPosition,this.MaximumMatchDistance);if(this.outputBuffer=n.CompressionCommon.getCroppedBuffer(this.outputBuffer,this.outputPosition-s,s,o),this.outputPosition=s,this.outputBufferRemainder){for(var a=0;a<this.outputBufferRemainder.length;a++)this.outputByte(this.outputBufferRemainder[a]);this.outputBufferRemainder=void 0}return s},i.prototype.rollBackIfOutputBufferEndsWithATruncatedMultibyteSequence=function(){for(var o=1;o<=4&&this.outputPosition-o>=0;o++){var s=this.outputBuffer[this.outputPosition-o];if(o<4&&s>>>3===30||o<3&&s>>>4===14||o<2&&s>>>5===6){this.outputBufferRemainder=this.outputBuffer.subarray(this.outputPosition-o,this.outputPosition),this.outputPosition-=o;return}}},i}();n.Decompressor=r})(t||(t={}));var t;(function(n){(function(r){(function(i){var o=new Uint8Array([65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,48,49,50,51,52,53,54,55,56,57,43,47]),s=new Uint8Array([255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,255,255,255,255]),a="=",l=61;i.encode=function(c){return!c||c.length==0?"":n.runningInNodeJS()?n.BufferTools.uint8ArrayToBuffer(c).toString("base64"):i.encodeWithJS(c)},i.decode=function(c){return c?n.runningInNodeJS()?n.BufferTools.bufferToUint8Array(Buffer.from(c,"base64")):i.decodeWithJS(c):new Uint8Array(0)},i.encodeWithJS=function(c,u){if(u===void 0&&(u=!0),!c||c.length==0)return"";for(var f=o,h=new n.StringBuilder,p,v=0,g=c.length;v<g;v+=3)v<=g-3?(p=c[v]<<16|c[v+1]<<8|c[v+2],h.appendCharCode(f[p>>>18&63]),h.appendCharCode(f[p>>>12&63]),h.appendCharCode(f[p>>>6&63]),h.appendCharCode(f[p&63]),p=0):v===g-2?(p=c[v]<<16|c[v+1]<<8,h.appendCharCode(f[p>>>18&63]),h.appendCharCode(f[p>>>12&63]),h.appendCharCode(f[p>>>6&63]),u&&h.appendCharCode(l)):v===g-1&&(p=c[v]<<16,h.appendCharCode(f[p>>>18&63]),h.appendCharCode(f[p>>>12&63]),u&&(h.appendCharCode(l),h.appendCharCode(l)));return h.getOutputString()},i.decodeWithJS=function(c,u){if(!c||c.length==0)return new Uint8Array(0);var f=c.length%4;if(f===1)throw new Error("Invalid Base64 string: length % 4 == 1");f===2?c+=a+a:f===3&&(c+=a),u||(u=new Uint8Array(c.length));for(var h=0,p=c.length,v=0;v<p;v+=4){var g=s[c.charCodeAt(v)]<<18|s[c.charCodeAt(v+1)]<<12|s[c.charCodeAt(v+2)]<<6|s[c.charCodeAt(v+3)];u[h++]=g>>>16&255,u[h++]=g>>>8&255,u[h++]=g&255}return c.charCodeAt(p-1)==l&&h--,c.charCodeAt(p-2)==l&&h--,u.subarray(0,h)}})(r.Base64||(r.Base64={}))})(n.Encoding||(n.Encoding={}))})(t||(t={}));var t;(function(n){(function(r){(function(i){i.encode=function(o){if(o==null)throw new TypeError("BinaryString.encode: undefined or null input received");if(o.length===0)return"";for(var s=o.length,a=new n.StringBuilder,l=0,c=1,u=0;u<s;u+=2){var f=void 0;u==s-1?f=o[u]<<8:f=o[u]<<8|o[u+1],a.appendCharCode(l<<16-c|f>>>c),l=f&(1<<c)-1,c===15?(a.appendCharCode(l),l=0,c=1):c+=1,u>=s-2&&a.appendCharCode(l<<16-c)}return a.appendCharCode(32768|s%2),a.getOutputString()},i.decode=function(o){if(typeof o!="string")throw new TypeError("BinaryString.decode: invalid input type");if(o=="")return new Uint8Array(0);for(var s=new Uint8Array(o.length*3),a=0,l=function(p){s[a++]=p>>>8,s[a++]=p&255},c=0,u=0,f=0;f<o.length;f++){var h=o.charCodeAt(f);if(h>=32768){h==32769&&a--,u=0;continue}u==0?c=h:(l(c<<u|h>>>15-u),c=h&(1<<15-u)-1),u==15?u=0:u+=1}return s.subarray(0,a)}})(r.BinaryString||(r.BinaryString={}))})(n.Encoding||(n.Encoding={}))})(t||(t={}));var t;(function(n){(function(r){(function(i){i.encodeFromString=function(o,s){var a=o.charCodeAt(s);if(a<55296||a>56319)return a;var l=o.charCodeAt(s+1);if(l>=56320&&l<=57343)return 65536+((a-55296<<10)+(l-56320));throw new Error("getUnicodeCodePoint: Received a lead surrogate character, char code ".concat(a,", followed by ").concat(l,", which is not a trailing surrogate character code."))},i.decodeToString=function(o){if(o<=65535)return String.fromCharCode(o);if(o<=1114111)return String.fromCharCode(55296+(o-65536>>>10),56320+(o-65536&1023));throw new Error("getStringFromUnicodeCodePoint: A code point of ".concat(o," cannot be encoded in UTF-16"))}})(r.CodePoint||(r.CodePoint={}))})(n.Encoding||(n.Encoding={}))})(t||(t={}));var t;(function(n){(function(r){(function(i){var o=["000","001","002","003","004","005","006","007","008","009","010","011","012","013","014","015","016","017","018","019","020","021","022","023","024","025","026","027","028","029","030","031","032","033","034","035","036","037","038","039","040","041","042","043","044","045","046","047","048","049","050","051","052","053","054","055","056","057","058","059","060","061","062","063","064","065","066","067","068","069","070","071","072","073","074","075","076","077","078","079","080","081","082","083","084","085","086","087","088","089","090","091","092","093","094","095","096","097","098","099","100","101","102","103","104","105","106","107","108","109","110","111","112","113","114","115","116","117","118","119","120","121","122","123","124","125","126","127","128","129","130","131","132","133","134","135","136","137","138","139","140","141","142","143","144","145","146","147","148","149","150","151","152","153","154","155","156","157","158","159","160","161","162","163","164","165","166","167","168","169","170","171","172","173","174","175","176","177","178","179","180","181","182","183","184","185","186","187","188","189","190","191","192","193","194","195","196","197","198","199","200","201","202","203","204","205","206","207","208","209","210","211","212","213","214","215","216","217","218","219","220","221","222","223","224","225","226","227","228","229","230","231","232","233","234","235","236","237","238","239","240","241","242","243","244","245","246","247","248","249","250","251","252","253","254","255"];i.encode=function(s){for(var a=[],l=0;l<s.length;l++)a.push(o[s[l]]);return a.join(" ")}})(r.DecimalString||(r.DecimalString={}))})(n.Encoding||(n.Encoding={}))})(t||(t={}));var t;(function(n){(function(r){(function(i){i.encode=function(o){return r.BinaryString.encode(o).replace(/\0/g,"耂")},i.decode=function(o){return r.BinaryString.decode(o.replace(/\u8002/g,"\0"))}})(r.StorageBinaryString||(r.StorageBinaryString={}))})(n.Encoding||(n.Encoding={}))})(t||(t={}));var t;(function(n){(function(r){(function(i){var o,s;i.encode=function(a){return!a||a.length==0?new Uint8Array(0):n.runningInNodeJS()?n.BufferTools.bufferToUint8Array(Buffer.from(a,"utf8")):i.createNativeTextEncoderAndDecoderIfAvailable()?o.encode(a):i.encodeWithJS(a)},i.decode=function(a){return!a||a.length==0?"":n.runningInNodeJS()?n.BufferTools.uint8ArrayToBuffer(a).toString("utf8"):i.createNativeTextEncoderAndDecoderIfAvailable()?s.decode(a):i.decodeWithJS(a)},i.encodeWithJS=function(a,l){if(!a||a.length==0)return new Uint8Array(0);l||(l=new Uint8Array(a.length*4));for(var c=0,u=0;u<a.length;u++){var f=r.CodePoint.encodeFromString(a,u);if(f<=127)l[c++]=f;else if(f<=2047)l[c++]=192|f>>>6,l[c++]=128|f&63;else if(f<=65535)l[c++]=224|f>>>12,l[c++]=128|f>>>6&63,l[c++]=128|f&63;else if(f<=1114111)l[c++]=240|f>>>18,l[c++]=128|f>>>12&63,l[c++]=128|f>>>6&63,l[c++]=128|f&63,u++;else throw new Error("Invalid UTF-16 string: Encountered a character unsupported by UTF-8/16 (RFC 3629)")}return l.subarray(0,c)},i.decodeWithJS=function(a,l,c){if(l===void 0&&(l=0),!a||a.length==0)return"";c===void 0&&(c=a.length);for(var u=new n.StringBuilder,f,h,p=l,v=c;p<v;){if(h=a[p],!(h>>>7))f=h,p+=1;else if(h>>>5===6){if(p+1>=c)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+p);f=(h&31)<<6|a[p+1]&63,p+=2}else if(h>>>4===14){if(p+2>=c)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+p);f=(h&15)<<12|(a[p+1]&63)<<6|a[p+2]&63,p+=3}else if(h>>>3===30){if(p+3>=c)throw new Error("Invalid UTF-8 stream: Truncated codepoint sequence encountered at position "+p);f=(h&7)<<18|(a[p+1]&63)<<12|(a[p+2]&63)<<6|a[p+3]&63,p+=4}else throw new Error("Invalid UTF-8 stream: An invalid lead byte value encountered at position "+p);u.appendCodePoint(f)}return u.getOutputString()},i.createNativeTextEncoderAndDecoderIfAvailable=function(){return o?!0:typeof TextEncoder=="function"?(o=new TextEncoder("utf-8"),s=new TextDecoder("utf-8"),!0):!1}})(r.UTF8||(r.UTF8={}))})(n.Encoding||(n.Encoding={}))})(t||(t={}));var t;(function(n){function r(m,y){if(y===void 0&&(y={}),m==null)throw new TypeError("compress: undefined or null input received");var x=n.CompressionCommon.detectCompressionSourceEncoding(m);y=n.ObjectTools.override({inputEncoding:x,outputEncoding:"ByteArray"},y);var k=new n.Compressor,S=k.compressBlock(m);return n.CompressionCommon.encodeCompressedBytes(S,y.outputEncoding)}n.compress=r;function i(m,y){if(y===void 0&&(y={}),m==null)throw new TypeError("decompress: undefined or null input received");y=n.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String"},y);var x=n.CompressionCommon.decodeCompressedBytes(m,y.inputEncoding),k=new n.Decompressor,S=k.decompressBlock(x);return n.CompressionCommon.encodeDecompressedBytes(S,y.outputEncoding)}n.decompress=i;function o(m,y,x){x==null&&(x=function(){});var k;try{k=n.CompressionCommon.detectCompressionSourceEncoding(m)}catch(S){x(void 0,S);return}y=n.ObjectTools.override({inputEncoding:k,outputEncoding:"ByteArray",useWebWorker:!0,blockSize:65536},y),n.enqueueImmediate(function(){y.useWebWorker&&n.WebWorker.createGlobalWorkerIfNeeded()?n.WebWorker.compressAsync(m,y,x):n.AsyncCompressor.compressAsync(m,y,x)})}n.compressAsync=o;function s(m,y,x){if(x==null&&(x=function(){}),m==null){x(void 0,new TypeError("decompressAsync: undefined or null input received"));return}y=n.ObjectTools.override({inputEncoding:"ByteArray",outputEncoding:"String",useWebWorker:!0,blockSize:65536},y);var k=n.BufferTools.convertToUint8ArrayIfNeeded(m);n.EventLoop.enqueueImmediate(function(){y.useWebWorker&&n.WebWorker.createGlobalWorkerIfNeeded()?n.WebWorker.decompressAsync(k,y,x):n.AsyncDecompressor.decompressAsync(m,y,x)})}n.decompressAsync=s;function a(){return n.AsyncCompressor.createCompressionStream()}n.createCompressionStream=a;function l(){return n.AsyncDecompressor.createDecompressionStream()}n.createDecompressionStream=l;function c(m){return n.Encoding.UTF8.encode(m)}n.encodeUTF8=c;function u(m){return n.Encoding.UTF8.decode(m)}n.decodeUTF8=u;function f(m){return n.Encoding.Base64.encode(m)}n.encodeBase64=f;function h(m){return n.Encoding.Base64.decode(m)}n.decodeBase64=h;function p(m){return n.Encoding.BinaryString.encode(m)}n.encodeBinaryString=p;function v(m){return n.Encoding.BinaryString.decode(m)}n.decodeBinaryString=v;function g(m){return n.Encoding.StorageBinaryString.encode(m)}n.encodeStorageBinaryString=g;function b(m){return n.Encoding.StorageBinaryString.decode(m)}n.decodeStorageBinaryString=b})(t||(t={}))})(E$);var hee=E$.exports;const Fo=qa(hee),pee=({id:e,state:t,title:n="Unknown Modal",updateState:r,onSave:i,onDelete:o})=>{const{page:s,character:a,system:l}=t,c=N.useCallback(()=>cr(e),[e]);return d.jsxs(Vn,{isOpen:!0,onClose:c,children:[d.jsx(Kn,{title:n,onClose:c}),d.jsx(qn,{children:d.jsx(mee,{page:s,character:a,system:l,updateState:r})}),d.jsx(yr,{children:d.jsx(kt,{color:"light",onClick:c,children:"close"})})]})};function mee({page:e,character:t,system:n,updateState:r}){const i=N.useMemo(()=>e.lexical?JSON.parse(Fo.decompress(Fo.decodeBase64(e.lexical))):{},[e.lexical]);return d.jsx(yD,{data:i,state:{character:t,system:n,page:e},updateState:r})}const gee=[{type:"edit_object",renderElement:(e,t,n,r,i,o)=>{const s=t.getSystem();return d.jsx(QS,{id:e,title:n,data:r,types:s.types,onSave:i,onDelete:o})}},{type:"edit_number",renderElement:(e,t,n,r,i,o)=>d.jsx(oee,{id:e,title:n,data:r,onSave:i})},{type:"edit_string",renderElement:(e,t,n,r,i,o)=>d.jsx(Js,{id:e,title:n,data:r,onSave:i})}],vee={process:(e,t)=>{const n=e.getParam(t.id,"data"),r=e.getSystem(),i=[...gee,...r.modals.map(o=>({type:o.name,renderElement:(s,a,l,c,u,f)=>d.jsx(pee,{id:s,state:{...a.getState(),page:o},title:l,updateState:a.callback,onSave:u})}))];Rt("blueprint-opened-modal",({id:o})=>i.find(s=>s.type===t.data.type).renderElement(o,e,t.data.title,n,s=>{e.setParam(t.id,"newdata",s),e.processNodes(e.getConnectingNodeForHandle(t,"save","output"))},()=>{e.processNodes(e.getConnectingNodeForHandle(t,"delete","output"))}))}},yee={process:(e,t)=>{const r=e.getSystem().data.find(i=>i.name===t.data.path);return e.setParam(t.id,"output",r==null?void 0:r.data),e.getConnectingNodeForHandle(t,"next","output")}},xee={process:(e,t)=>{const n=e.getPage(),r=t.data.chosenState;if(!r)return;const i=n.state.findIndex(a=>a.name===r.name);if(i===-1)return;const o=e.getParam(t.id,r.name),s=En(n,a=>(a.state[i]={...a.state[i],value:o},a));return e.setPage(s),e.getConnectingNodeForHandle(t,"next","output")}};function wee(e,t){if(["string","number"].includes(t.type))return yp(e.types,t);if(t.isArray)return[];const r=e.types.find(o=>o.name===t.type);if(!r)return;let i={_type:{...r}};for(let o=0;o<r.properties.length;o++){const s=r.properties[o];let a=s.typeData;i[s.key]=yp(e.types,a)}return i}const bee={process:(e,t)=>{var o;const r=e.getPage().state.find(s=>s.name===t.data.chosenState.name);if(!r)return;const i=(o=r.value)!=null?o:wee(e.getSystem(),r.type);return e.setParam(t.id,t.data.chosenState.name,i),e.getConnectingNodeForHandle(t,"next","output")}},_ee={entry:PU,output:OU,get_character_data:$U,set_character_data:KU,get_system_data:yee,get_page_data:bee,set_page_data:xee,number_to_string:oV,add_to_array:YU,array_get:ZU,array_remove:GU,array_update:XU,filter:JU,map:QU,string_new:tV,string_includes:nV,string_compare:rV,string_concat:iV,spread_object:eV,create_data_from_type:aV,new_number:uV,divide:dV,add:pV,subtract:fV,floor:hV,multiply:mV,new_enum:lV,enum_compare:cV,boolean_new:gV,boolean_branch:vV,boolean_inverse:yV,open_modal:vee};function kee(e){return _ee[e]||{process:()=>{}}}class cs{constructor(t){Rs(this,"blueprint");Rs(this,"state");Rs(this,"input",{});Rs(this,"nodeState",new Map);Rs(this,"params",new Map);Rs(this,"output",null);Rs(this,"callback",()=>{});this.blueprint=t}processBlueprint(t,n,r){const i=NO(this.blueprint);return this.state=n,this.input=t,this.callback=r,this.processNodes(i)}processNodes(t){const n=this.processNode(t);return n?this.processNodes(n):(this.callback(this.state),this.getOutput())}processNode(t){if(!t)return;const n=kee(t.type||"");return!this.nodeState.get(t.id)&&n.init&&(this.nodeState.set(t.id,new Map),n.init(this,t)),n.process(this,t)}getConnectingNodeForHandle(t,n,r){const i=this.blueprint.edges.find(o=>{var s,a;return(r==="input"?o.target===t.id:o.source===t.id)&&(((s=o.sourceHandle)==null?void 0:s.split("-")[0])===n&&r==="output"||((a=o.sourceHandle)==null?void 0:a.split("-")[0])===n&&r==="input")});if(i){if(r==="output")return _N(this.blueprint,i.target);if(r==="input")return _N(this.blueprint,i.source)}}getPossibleParamsForNode(t,n){return this.blueprint.edges.filter(r=>n==="input"?r.target===t:r.source===t).map(r=>{var i,o;return n==="input"?(i=r.targetHandle)==null?void 0:i.split("-")[0]:(o=r.sourceHandle)==null?void 0:o.split("-")[0]})}getParamType(t,n){var o;const i=this.blueprint.edges.filter(s=>{var a;return s.target===t&&((a=s.targetHandle)==null?void 0:a.split("-")[0])===n}).find(s=>this.params.get(s.id)!==void 0);return(o=i==null?void 0:i.targetHandle)==null?void 0:o.split("-")[1]}getParam(t,n){const i=this.blueprint.edges.filter(o=>{var s;return o.target===t&&((s=o.targetHandle)==null?void 0:s.split("-")[0])===n}).find(o=>this.params.get(o.id)!==void 0);return this.params.get((i==null?void 0:i.id)||"")}setParam(t,n,r){const i=this.blueprint.edges.filter(o=>{var s;return o.source===t&&((s=o.sourceHandle)==null?void 0:s.split("-")[0])===n});for(let o=0;o<i.length;o++)this.params.set(i[o].id,r);return this.params}getState(){return this.state}getCharacter(){return this.state.character}setCharacter(t){this.state.character=t}getSystem(){return this.state.system}setSystem(t){this.state.system=t}getPage(){return this.state.page}setPage(t){this.state.page=t}getOutput(){return this.output}setOutput(t){this.output=t}}const oo={"no style":{background:"",border:"",hover:""},light:{background:"bg-white dark:bg-neutral-800",border:"border border-neutral-200 dark:border-neutral-600",hover:"cursor-pointer hover:bg-neutral-100 dark:hover:bg-neutral-700"},primary:{background:"bg-white dark:bg-fantasy-accent",border:"border border-fantasy-border",hover:"cursor-pointer hover:bg-fantasy-accent-dark"},accent:{background:"bg-white dark:bg-accent-800",border:"border border-accent-200 dark:border-accent-600",hover:"cursor-pointer hover:bg-accent-100 dark:hover:bg-accent-700"},confirmation:{background:"bg-white dark:bg-green-800",border:"border border-green-200 dark:border-green-600",hover:"cursor-pointer hover:bg-green-100 dark:hover:bg-green-700"},warning:{background:"bg-white dark:bg-orange-800",border:"border border-orange-200 dark:border-orange-600",hover:"cursor-pointer hover:bg-orange-100 dark:hover:bg-orange-700"}},mT={0:"0px",px:"1px","0.5":"0.125rem",1:"0.25rem","1.5":"0.375rem",2:"0.5rem","2.5":"0.625rem",3:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",11:"2.75rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},Ke={spacing:{...mT},size:{auto:"auto",full:"100%",half:"50%",third:"33%",...mT}};function ku(e,t,n){var s;let r=(s=n.initialDeps)!=null?s:[],i;function o(){var a,l,c,u;let f;n.key&&((a=n.debug)!=null&&a.call(n))&&(f=Date.now());const h=e();if(!(h.length!==r.length||h.some((g,b)=>r[b]!==g)))return i;r=h;let v;if(n.key&&((l=n.debug)!=null&&l.call(n))&&(v=Date.now()),i=t(...h),n.key&&((c=n.debug)!=null&&c.call(n))){const g=Math.round((Date.now()-f)*100)/100,b=Math.round((Date.now()-v)*100)/100,m=b/16,y=(x,k)=>{for(x=String(x);x.length<k;)x=" "+x;return x};console.info("%c⏱ ".concat(y(b,5)," /").concat(y(g,5)," ms"),"\n            font-size: .6rem;\n            font-weight: bold;\n            color: hsl(".concat(Math.max(0,Math.min(120-120*m,120)),"deg 100% 31%);"),n==null?void 0:n.key)}return(u=n==null?void 0:n.onChange)==null||u.call(n,i),i}return o.updateDeps=a=>{r=a},o}function gT(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const See=(e,t)=>Math.abs(e-t)<=1,Eee=(e,t,n)=>{let r;return function(...i){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,i),n)}},vT=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},Cee=e=>e,jee=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let i=t;i<=n;i++)r.push(i);return r},Nee=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const i=s=>{const{width:a,height:l}=s;t({width:Math.round(a),height:Math.round(l)})};if(i(vT(n)),!r.ResizeObserver)return()=>{};const o=new r.ResizeObserver(s=>{const a=()=>{const l=s[0];if(l!=null&&l.borderBoxSize){const c=l.borderBoxSize[0];if(c){i({width:c.inlineSize,height:c.blockSize});return}}i(vT(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()});return o.observe(n,{box:"border-box"}),()=>{o.unobserve(n)}},yT={passive:!0},xT=typeof window>"u"?!0:"onscrollend"in window,Aee=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let i=0;const o=e.options.useScrollendEvent&&xT?()=>{}:Eee(r,()=>{t(i,!1)},e.options.isScrollingResetDelay),s=u=>()=>{const{horizontal:f,isRtl:h}=e.options;i=f?n.scrollLeft*(h&&-1||1):n.scrollTop,o(),t(i,u)},a=s(!0),l=s(!1);l(),n.addEventListener("scroll",a,yT);const c=e.options.useScrollendEvent&&xT;return c&&n.addEventListener("scrollend",l,yT),()=>{n.removeEventListener("scroll",a),c&&n.removeEventListener("scrollend",l)}},Tee=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},Ree=(e,{adjustments:t=0,behavior:n},r)=>{var i,o;const s=e+t;(o=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||o.call(i,{[r.options.horizontal?"left":"top"]:s,behavior:n})};class Iee{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(o=>{const s=()=>{this._measureElement(o.target,o)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(s):s()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var o;return(o=r())==null?void 0:o.observe(i,{box:"border-box"})},unobserve:i=>{var o;return(o=r())==null?void 0:o.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:Cee,rangeExtractor:jee,onChange:()=>{},measureElement:Tee,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=ku(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var i;var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=(i=(n=this.scrollElement)==null?void 0:n.window)!=null?i:null,this.elementsCache.forEach(o=>{this.observer.observe(o)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,o=>{this.scrollRect=o,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(o,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<o?"forward":"backward":null,this.scrollOffset=o,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>{var n;return this.options.enabled?(this.scrollRect=(n=this.scrollRect)!=null?n:this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0)},this.getScrollOffset=()=>{var n;return this.options.enabled?(this.scrollOffset=(n=this.scrollOffset)!=null?n:typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset,this.scrollOffset):(this.scrollOffset=null,0)},this.getFurthestMeasurement=(n,r)=>{const i=new Map,o=new Map;for(let s=r-1;s>=0;s--){const a=n[s];if(i.has(a.lane))continue;const l=o.get(a.lane);if(l==null||a.end>l.end?o.set(a.lane,a):a.end<l.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return o.size===this.options.lanes?Array.from(o.values()).sort((s,a)=>s.end===a.end?s.index-a.index:s.end-a.end)[0]:void 0},this.getMeasurementOptions=ku(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,o,s)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s}),{key:!1}),this.getMeasurements=ku(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:o,enabled:s},a)=>{if(!s)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(u=>{this.itemSizeCache.set(u.key,u.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const c=this.measurementsCache.slice(0,l);for(let u=l;u<n;u++){const f=o(u),h=this.options.lanes===1?c[u-1]:this.getFurthestMeasurement(c,u),p=h?h.end+this.options.gap:r+i,v=a.get(f),g=typeof v=="number"?v:this.options.estimateSize(u),b=p+g,m=h?h.lane:u%this.options.lanes;c[u]={index:u,start:p,size:g,end:b,key:f,lane:m}}return this.measurementsCache=c,c},{key:!1,debug:()=>this.options.debug}),this.calculateRange=ku(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,o)=>this.range=n.length>0&&r>0?Pee({measurements:n,outerSize:r,scrollOffset:i,lanes:o}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=ku(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,o,s)=>o===null||s===null?[]:n({startIndex:o,endIndex:s,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn("Missing attribute name '".concat(r,"={index}' on measured element.")),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),o=this.measurementsCache[i];if(!o)return;const s=o.key,a=this.elementsCache.get(s);a!==n&&(a&&this.observer.unobserve(a),this.observer.observe(n),this.elementsCache.set(s,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{var a;const i=this.measurementsCache[n];if(!i)return;const o=(a=this.itemSizeCache.get(i.key))!=null?a:i.size,s=r-o;s!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,s,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=s,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=ku(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let o=0,s=n.length;o<s;o++){const a=n[o],l=r[a];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return gT(r[P$(0,r.length-1,i=>gT(r[i]).start,n)])},this.getOffsetForAlignment=(n,r,i=0)=>{const o=this.getSize(),s=this.getScrollOffset();r==="auto"&&(r=n>=s+o?"end":"start"),r==="center"?n+=(i-o)/2:r==="end"&&(n-=o);const a=this.getTotalSize()-o;return Math.max(Math.min(a,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const o=this.getSize(),s=this.getScrollOffset();if(r==="auto")if(i.end>=s+o-this.options.scrollPaddingEnd)r="end";else if(i.start<=s+this.options.scrollPaddingStart)r="start";else return[s,r];const a=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const o=this.getOffsetForIndex(n,r);if(!o)return;const[s,a]=o;this._scrollToOffset(s,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const c=this.getOffsetForIndex(n,a);if(!c)return;const[u]=c,f=this.getScrollOffset();See(u,f)||this.scrollToIndex(n,{align:a,behavior:i})}else this.scrollToIndex(n,{align:a,behavior:i})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var o;var n;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=(o=(n=r[r.length-1])==null?void 0:n.end)!=null?o:0;else{const s=Array(this.options.lanes).fill(null);let a=r.length-1;for(;a>=0&&s.some(l=>l===null);){const l=r[a];s[l.lane]===null&&(s[l.lane]=l.end),a--}i=Math.max(...s.filter(l=>l!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const P$=(e,t,n,r)=>{for(;e<=t;){const i=(e+t)/2|0,o=n(i);if(o<r)e=i+1;else if(o>r)t=i-1;else return i}return e>0?e-1:0};function Pee({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const i=e.length-1,o=l=>e[l].start;if(e.length<=r)return{startIndex:0,endIndex:i};let s=P$(0,i,o,n),a=s;if(r===1)for(;a<i&&e[a].end<n+t;)a++;else if(r>1){const l=Array(r).fill(0);for(;a<i&&l.some(u=>u<n+t);){const u=e[a];l[u.lane]=u.end,a++}const c=Array(r).fill(n+t);for(;s>=0&&c.some(u=>u>=n);){const u=e[s];c[u.lane]=u.start,s--}s=Math.max(0,s-s%r),a=Math.min(i,a+(r-1-a%r))}return{startIndex:s,endIndex:a}}const wT=typeof document<"u"?N.useLayoutEffect:N.useEffect;function Oee(e){const t=N.useReducer(()=>({}),{})[1],n={...e,onChange:(i,o)=>{var s;o?S0.flushSync(t):t(),(s=e.onChange)==null||s.call(e,i,o)}},[r]=N.useState(()=>new Iee(n));return r.setOptions(n),wT(()=>r._didMount(),[]),wT(()=>r._willUpdate()),r}function Mee(e){return Oee({observeElementRect:Nee,observeElementOffset:Aee,scrollToFn:Ree,...e})}const $ee=e=>{var u,f;const t=tf(),n=N.useMemo(()=>{var v;return(v=new cs(e.blueprint).processBlueprint(t,e.state,()=>{}))!=null?v:[]},[t,e.state]),r=N.useMemo(()=>e.dynamicVisibility?new cs(e.visibilityBlueprint).processBlueprint(t,e.state,()=>{})||!1:e.isVisible,[t,e.state]),i=N.useCallback(()=>{if(!e.isInteractive)return;new cs(e.onPress).processBlueprint(t,e.state,e.updateState)},[e.onPress,t,e.state,e.updateState]),o=N.useMemo(()=>{var h;return oo[e.background]?(h=oo[e.background])==null?void 0:h.background:""},[e.background]),s=N.useMemo(()=>{var h;return oo[e.border]?(h=oo[e.border])==null?void 0:h.border:""},[e.border]),a=N.useMemo(()=>{var h;return e.isInteractive?(h=oo[e.hover])==null?void 0:h.hover:""},[e.isInteractive]),l=N.useRef(null),c=Mee({count:n.length,getScrollElement:()=>l.current,estimateSize:()=>35,overscan:4});return d.jsx("div",{ref:l,style:{display:r?e.display:"none",position:e.isList?"relative":e.position,top:e.top,right:e.right,bottom:e.bottom,left:e.left,flexDirection:e.flexDirection,alignItems:e.alignItems,justifyContent:e.justifyContent,rows:e.rows,columns:e.columns,gap:Ke.spacing[e.gap],marginTop:Ke.spacing[e.marginTop],marginRight:Ke.spacing[e.marginRight],marginBottom:Ke.spacing[e.marginBottom],marginLeft:Ke.spacing[e.marginLeft],paddingTop:Ke.spacing[e.paddingTop],paddingRight:Ke.spacing[e.paddingRight],paddingBottom:Ke.spacing[e.paddingBottom],paddingLeft:Ke.spacing[e.paddingLeft],height:e.isList?"".concat(c.getTotalSize()+n.length*8,"px"):Ke.size[e.height],width:e.isList?"100%":Ke.size[e.width],maxHeight:Ke.size[e.maxHeight],maxWidth:Ke.size[e.maxWidth],minHeight:Ke.size[e.minHeight],minWidth:Ke.size[e.minWidth]},className:"".concat(o," ").concat(s," ").concat(a),onClick:i,children:e.isList?d.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",transform:"translateY(".concat((f=(u=n[0])==null?void 0:u.start)!=null?f:8,"px)"),display:e.display,flexDirection:e.flexDirection,gap:Ke.spacing[e.gap]},children:c.getVirtualItems().map(h=>{const p=n[h.index];return d.jsx("div",{"data-index":h.index,ref:c.measureElement,children:d.jsx(jO,{localData:{[e.dataName]:p},children:e.children})},h.key)})}):e.children})},so={colors:{base:{text:"text-neutral-800 dark:text-neutral-200",hover:"group-hover:text-neutral-700 dark:group-hover:text-neutral-300"},light:{text:"text-neutral-500 dark:text-neutral-400",hover:"group-hover:text-neutral-400 dark:group-hover:text-neutral-500"},primary:{text:"text-fantasy-accent",hover:"group-hover:text-fantasy-light"},accent:{text:"text-accent-600 dark:text-accent-400 hover:text-accent-700 dark:hover:text-accent-300",hover:"group-hover:text-accent-700 dark:group-hover:text-accent-300"},confirmation:{text:"text-green-600 dark:text-green-400",hover:"group-hover:text-green-700 dark:group-hover:text-green-300"},warning:{text:"text-orange-600 dark:text-orange-400",hover:"group-hover:text-orange-700 dark:group-hover:text-orange-300"},danger:{text:"text-red-600 dark:text-red-400",hover:"group-hover:text-red-700 dark:group-hover:text-red-300"}},weight:{thin:"font-thin",extralight:"font-extralight",light:"font-light",normal:"font-normal",medium:"font-medium",semibold:"font-semibold",bold:"font-bold",extrabold:"font-extrabold",black:"font-black"},sizes:{xs:{fontSize:"0.75rem",lineHeight:"1rem"},sm:{fontSize:"0.875rem",lineHeight:"1.25rem"},base:{fontSize:"1rem",lineHeight:"1.5rem"},lg:{fontSize:"1.125rem",lineHeight:"1.75rem"},xl:{fontSize:"1.25rem",lineHeight:"1.75rem"},"2xl":{fontSize:"1.5rem",lineHeight:"2rem"},"3xl":{fontSize:"1.875rem",lineHeight:"2.25rem"},"4xl":{fontSize:"2.25rem",lineHeight:"2.5rem"},"5xl":{fontSize:"3rem",lineHeight:"1"},"6xl":{fontSize:"3.75rem",lineHeight:"1"},"7xl":{fontSize:"4.5rem",lineHeight:"1"},"8xl":{fontSize:"6rem",lineHeight:"1"},"9xl":{fontSize:"8rem",lineHeight:"1"}}},Dee=e=>{const t=tf(),n=N.useMemo(()=>e.useBlueprintValue?new cs(e.blueprint).processBlueprint(t,e.state,()=>{})||"":e.text,[e.blueprint,t,e.useBlueprintValue,e.text]),r=N.useMemo(()=>{var o;return so.colors[e.color]?(o=so.colors[e.color])==null?void 0:o.text:""},[e.color]),i=N.useMemo(()=>so.weight[e.fontWeight]?so.weight[e.fontWeight]:"",[e.fontWeight]);return d.jsx("p",{style:{textAlign:e.textAlign,...so.sizes[e.fontSize]||{},textDecoration:e.textDecoration,textTransform:e.textTransform,marginTop:Ke.spacing[e.marginTop],marginRight:Ke.spacing[e.marginRight],marginBottom:Ke.spacing[e.marginBottom],marginLeft:Ke.spacing[e.marginLeft],paddingTop:Ke.spacing[e.paddingTop],paddingRight:Ke.spacing[e.paddingRight],paddingBottom:Ke.spacing[e.paddingBottom],paddingLeft:Ke.spacing[e.paddingLeft]},className:"".concat(r," ").concat(i),children:n})};function qr(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Gc(e){return!!e&&!!e[wn]}function Qs(e){var t;return!!e&&(function(n){if(!n||typeof n!="object")return!1;var r=Object.getPrototypeOf(n);if(r===null)return!0;var i=Object.hasOwnProperty.call(r,"constructor")&&r.constructor;return i===Object||typeof i=="function"&&Function.toString.call(i)===qee}(e)||Array.isArray(e)||!!e[Ah]||!!(!((t=e.constructor)===null||t===void 0)&&t[Ah])||ax(e)||lx(e))}function Xc(e,t,n){n===void 0&&(n=!1),Bl(e)===0?(n?Object.keys:lE)(e).forEach(function(r){n&&typeof r=="symbol"||t(r,e[r],e)}):e.forEach(function(r,i){return t(i,r,e)})}function Bl(e){var t=e[wn];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:ax(e)?2:lx(e)?3:0}function Tp(e,t){return Bl(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function cv(e,t){return Bl(e)===2?e.get(t):e[t]}function O$(e,t,n){var r=Bl(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function Fee(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function ax(e){return Uee&&e instanceof Map}function lx(e){return Vee&&e instanceof Set}function Dr(e){return e.o||e.t}function rE(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Kee(e);delete t[wn];for(var n=lE(t),r=0;r<n.length;r++){var i=n[r],o=t[i];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(t[i]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function iE(e,t){return t===void 0&&(t=!1),oE(e)||Gc(e)||!Qs(e)||(Bl(e)>1&&(e.set=e.add=e.clear=e.delete=Lee),Object.freeze(e),t&&Xc(e,function(n,r){return iE(r,!0)},!0)),e}function Lee(){qr(2)}function oE(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Us(e){var t=Z_[e];return t||qr(18,e),t}function M$(e,t){Z_[e]||(Z_[e]=t)}function yy(){return Ip}function Cb(e,t){t&&(Us("Patches"),e.u=[],e.s=[],e.v=t)}function xy(e){Q_(e),e.p.forEach(Bee),e.p=null}function Q_(e){e===Ip&&(Ip=e.l)}function bT(e){return Ip={p:[],l:Ip,h:e,m:!0,_:0}}function Bee(e){var t=e[wn];t.i===0||t.i===1?t.j():t.g=!0}function jb(e,t){t._=t.p.length;var n=t.p[0],r=e!==void 0&&e!==n;return t.h.O||Us("ES5").S(t,e,r),r?(n[wn].P&&(xy(t),qr(4)),Qs(e)&&(e=wy(t,e),t.l||by(t,e)),t.u&&Us("Patches").M(n[wn].t,e,t.u,t.s)):e=wy(t,n,[]),xy(t),t.u&&t.v(t.u,t.s),e!==aE?e:void 0}function wy(e,t,n){if(oE(t))return t;var r=t[wn];if(!r)return Xc(t,function(a,l){return _T(e,r,t,a,l,n)},!0),t;if(r.A!==e)return t;if(!r.P)return by(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=r.i===4||r.i===5?r.o=rE(r.k):r.o,o=i,s=!1;r.i===3&&(o=new Set(i),i.clear(),s=!0),Xc(o,function(a,l){return _T(e,r,i,a,l,n,s)}),by(e,i,!1),n&&e.u&&Us("Patches").N(r,n,e.u,e.s)}return r.o}function _T(e,t,n,r,i,o,s){if(Gc(i)){var a=wy(e,i,o&&t&&t.i!==3&&!Tp(t.R,r)?o.concat(r):void 0);if(O$(n,r,a),!Gc(a))return;e.m=!1}else s&&n.add(i);if(Qs(i)&&!oE(i)){if(!e.h.D&&e._<1)return;wy(e,i),t&&t.A.l||by(e,i)}}function by(e,t,n){n===void 0&&(n=!1),!e.l&&e.h.D&&e.m&&iE(t,n)}function Nb(e,t){var n=e[wn];return(n?Dr(n):e)[t]}function kT(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Object.getPrototypeOf(n)}}function wa(e){e.P||(e.P=!0,e.l&&wa(e.l))}function Ab(e){e.o||(e.o=rE(e.t))}function Rp(e,t,n){var r=ax(t)?Us("MapSet").F(t,n):lx(t)?Us("MapSet").T(t,n):e.O?function(i,o){var s=Array.isArray(i),a={i:s?1:0,A:o?o.A:yy(),P:!1,I:!1,R:{},l:o,t:i,k:null,o:null,j:null,C:!1},l=a,c=ek;s&&(l=[a],c=sh);var u=Proxy.revocable(l,c),f=u.revoke,h=u.proxy;return a.k=h,a.j=f,h}(t,n):Us("ES5").J(t,n);return(n?n.A:yy()).p.push(r),r}function zee(e){return Gc(e)||qr(22,e),function t(n){if(!Qs(n))return n;var r,i=n[wn],o=Bl(n);if(i){if(!i.P&&(i.i<4||!Us("ES5").K(i)))return i.t;i.I=!0,r=ST(n,o),i.I=!1}else r=ST(n,o);return Xc(r,function(s,a){i&&cv(i.t,s)===a||O$(r,s,t(a))}),o===3?new Set(r):r}(e)}function ST(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return rE(e)}function Hee(){function e(r){if(!Qs(r))return r;if(Array.isArray(r))return r.map(e);if(ax(r))return new Map(Array.from(r.entries()).map(function(s){return[s[0],e(s[1])]}));if(lx(r))return new Set(Array.from(r).map(e));var i=Object.create(Object.getPrototypeOf(r));for(var o in r)i[o]=e(r[o]);return Tp(r,Ah)&&(i[Ah]=r[Ah]),i}function t(r){return Gc(r)?e(r):r}var n="add";M$("Patches",{$:function(r,i){return i.forEach(function(o){for(var s=o.path,a=o.op,l=r,c=0;c<s.length-1;c++){var u=Bl(l),f=s[c];typeof f!="string"&&typeof f!="number"&&(f=""+f),u!==0&&u!==1||f!=="__proto__"&&f!=="constructor"||qr(24),typeof l=="function"&&f==="prototype"&&qr(24),typeof(l=cv(l,f))!="object"&&qr(15,s.join("/"))}var h=Bl(l),p=e(o.value),v=s[s.length-1];switch(a){case"replace":switch(h){case 2:return l.set(v,p);case 3:qr(16);default:return l[v]=p}case n:switch(h){case 1:return v==="-"?l.push(p):l.splice(v,0,p);case 2:return l.set(v,p);case 3:return l.add(p);default:return l[v]=p}case"remove":switch(h){case 1:return l.splice(v,1);case 2:return l.delete(v);case 3:return l.delete(o.value);default:return delete l[v]}default:qr(17,a)}}),r},N:function(r,i,o,s){switch(r.i){case 0:case 4:case 2:return function(a,l,c,u){var f=a.t,h=a.o;Xc(a.R,function(p,v){var g=cv(f,p),b=cv(h,p),m=v?Tp(f,p)?"replace":n:"remove";if(g!==b||m!=="replace"){var y=l.concat(p);c.push(m==="remove"?{op:m,path:y}:{op:m,path:y,value:b}),u.push(m===n?{op:"remove",path:y}:m==="remove"?{op:n,path:y,value:t(g)}:{op:"replace",path:y,value:t(g)})}})}(r,i,o,s);case 5:case 1:return function(a,l,c,u){var f=a.t,h=a.R,p=a.o;if(p.length<f.length){var v=[p,f];f=v[0],p=v[1];var g=[u,c];c=g[0],u=g[1]}for(var b=0;b<f.length;b++)if(h[b]&&p[b]!==f[b]){var m=l.concat([b]);c.push({op:"replace",path:m,value:t(p[b])}),u.push({op:"replace",path:m,value:t(f[b])})}for(var y=f.length;y<p.length;y++){var x=l.concat([y]);c.push({op:n,path:x,value:t(p[y])})}f.length<p.length&&u.push({op:"replace",path:l.concat(["length"]),value:f.length})}(r,i,o,s);case 3:return function(a,l,c,u){var f=a.t,h=a.o,p=0;f.forEach(function(v){if(!h.has(v)){var g=l.concat([p]);c.push({op:"remove",path:g,value:v}),u.unshift({op:n,path:g,value:v})}p++}),p=0,h.forEach(function(v){if(!f.has(v)){var g=l.concat([p]);c.push({op:n,path:g,value:v}),u.unshift({op:"remove",path:g,value:v})}p++})}(r,i,o,s)}},M:function(r,i,o,s){o.push({op:"replace",path:[],value:i===aE?void 0:i}),s.push({op:"replace",path:[],value:r})}})}function Wee(){function e(a,l){function c(){this.constructor=a}i(a,l),a.prototype=(c.prototype=l.prototype,new c)}function t(a){a.o||(a.R=new Map,a.o=new Map(a.t))}function n(a){a.o||(a.o=new Set,a.t.forEach(function(l){if(Qs(l)){var c=Rp(a.A.h,l,a);a.p.set(l,c),a.o.add(c)}else a.o.add(l)}))}function r(a){a.g&&qr(3,JSON.stringify(Dr(a)))}var i=function(a,l){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,u){c.__proto__=u}||function(c,u){for(var f in u)u.hasOwnProperty(f)&&(c[f]=u[f])})(a,l)},o=function(){function a(c,u){return this[wn]={i:2,l:u,A:u?u.A:yy(),P:!1,I:!1,o:void 0,R:void 0,t:c,k:this,C:!1,g:!1},this}e(a,Map);var l=a.prototype;return Object.defineProperty(l,"size",{get:function(){return Dr(this[wn]).size}}),l.has=function(c){return Dr(this[wn]).has(c)},l.set=function(c,u){var f=this[wn];return r(f),Dr(f).has(c)&&Dr(f).get(c)===u||(t(f),wa(f),f.R.set(c,!0),f.o.set(c,u),f.R.set(c,!0)),this},l.delete=function(c){if(!this.has(c))return!1;var u=this[wn];return r(u),t(u),wa(u),u.t.has(c)?u.R.set(c,!1):u.R.delete(c),u.o.delete(c),!0},l.clear=function(){var c=this[wn];r(c),Dr(c).size&&(t(c),wa(c),c.R=new Map,Xc(c.t,function(u){c.R.set(u,!1)}),c.o.clear())},l.forEach=function(c,u){var f=this;Dr(this[wn]).forEach(function(h,p){c.call(u,f.get(p),p,f)})},l.get=function(c){var u=this[wn];r(u);var f=Dr(u).get(c);if(u.I||!Qs(f)||f!==u.t.get(c))return f;var h=Rp(u.A.h,f,u);return t(u),u.o.set(c,h),h},l.keys=function(){return Dr(this[wn]).keys()},l.values=function(){var c,u=this,f=this.keys();return(c={})[gg]=function(){return u.values()},c.next=function(){var h=f.next();return h.done?h:{done:!1,value:u.get(h.value)}},c},l.entries=function(){var c,u=this,f=this.keys();return(c={})[gg]=function(){return u.entries()},c.next=function(){var h=f.next();if(h.done)return h;var p=u.get(h.value);return{done:!1,value:[h.value,p]}},c},l[gg]=function(){return this.entries()},a}(),s=function(){function a(c,u){return this[wn]={i:3,l:u,A:u?u.A:yy(),P:!1,I:!1,o:void 0,t:c,k:this,p:new Map,g:!1,C:!1},this}e(a,Set);var l=a.prototype;return Object.defineProperty(l,"size",{get:function(){return Dr(this[wn]).size}}),l.has=function(c){var u=this[wn];return r(u),u.o?!!u.o.has(c)||!(!u.p.has(c)||!u.o.has(u.p.get(c))):u.t.has(c)},l.add=function(c){var u=this[wn];return r(u),this.has(c)||(n(u),wa(u),u.o.add(c)),this},l.delete=function(c){if(!this.has(c))return!1;var u=this[wn];return r(u),n(u),wa(u),u.o.delete(c)||!!u.p.has(c)&&u.o.delete(u.p.get(c))},l.clear=function(){var c=this[wn];r(c),Dr(c).size&&(n(c),wa(c),c.o.clear())},l.values=function(){var c=this[wn];return r(c),n(c),c.o.values()},l.entries=function(){var c=this[wn];return r(c),n(c),c.o.entries()},l.keys=function(){return this.values()},l[gg]=function(){return this.values()},l.forEach=function(c,u){for(var f=this.values(),h=f.next();!h.done;)c.call(u,h.value,h.value,this),h=f.next()},a}();M$("MapSet",{F:function(a,l){return new o(a,l)},T:function(a,l){return new s(a,l)}})}var ET,Ip,sE=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Uee=typeof Map<"u",Vee=typeof Set<"u",CT=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",aE=sE?Symbol.for("immer-nothing"):((ET={})["immer-nothing"]=!0,ET),Ah=sE?Symbol.for("immer-draftable"):"__$immer_draftable",wn=sE?Symbol.for("immer-state"):"__$immer_state",gg=typeof Symbol<"u"&&Symbol.iterator||"@@iterator",qee=""+Object.prototype.constructor,lE=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Kee=Object.getOwnPropertyDescriptors||function(e){var t={};return lE(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Z_={},ek={get:function(e,t){if(t===wn)return e;var n=Dr(e);if(!Tp(n,t))return function(i,o,s){var a,l=kT(o,s);return l?"value"in l?l.value:(a=l.get)===null||a===void 0?void 0:a.call(i.k):void 0}(e,n,t);var r=n[t];return e.I||!Qs(r)?r:r===Nb(e.t,t)?(Ab(e),e.o[t]=Rp(e.A.h,r,e)):r},has:function(e,t){return t in Dr(e)},ownKeys:function(e){return Reflect.ownKeys(Dr(e))},set:function(e,t,n){var r=kT(Dr(e),t);if(r!=null&&r.set)return r.set.call(e.k,n),!0;if(!e.P){var i=Nb(Dr(e),t),o=i==null?void 0:i[wn];if(o&&o.t===n)return e.o[t]=n,e.R[t]=!1,!0;if(Fee(n,i)&&(n!==void 0||Tp(e.t,t)))return!0;Ab(e),wa(e)}return e.o[t]===n&&(n!==void 0||t in e.o)||Number.isNaN(n)&&Number.isNaN(e.o[t])||(e.o[t]=n,e.R[t]=!0),!0},deleteProperty:function(e,t){return Nb(e.t,t)!==void 0||t in e.t?(e.R[t]=!1,Ab(e),wa(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Dr(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty:function(){qr(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){qr(12)}},sh={};Xc(ek,function(e,t){sh[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),sh.deleteProperty=function(e,t){return sh.set.call(this,e,t,void 0)},sh.set=function(e,t,n){return ek.set.call(this,e[0],t,n,e[0])};var Yee=function(){function e(n){var r=this;this.O=CT,this.D=!0,this.produce=function(i,o,s){if(typeof i=="function"&&typeof o!="function"){var a=o;o=i;var l=r;return function(g){var b=this;g===void 0&&(g=a);for(var m=arguments.length,y=Array(m>1?m-1:0),x=1;x<m;x++)y[x-1]=arguments[x];return l.produce(g,function(k){var S;return(S=o).call.apply(S,[b,k].concat(y))})}}var c;if(typeof o!="function"&&qr(6),s!==void 0&&typeof s!="function"&&qr(7),Qs(i)){var u=bT(r),f=Rp(r,i,void 0),h=!0;try{c=o(f),h=!1}finally{h?xy(u):Q_(u)}return typeof Promise<"u"&&c instanceof Promise?c.then(function(g){return Cb(u,s),jb(g,u)},function(g){throw xy(u),g}):(Cb(u,s),jb(c,u))}if(!i||typeof i!="object"){if((c=o(i))===void 0&&(c=i),c===aE&&(c=void 0),r.D&&iE(c,!0),s){var p=[],v=[];Us("Patches").M(i,c,p,v),s(p,v)}return c}qr(21,i)},this.produceWithPatches=function(i,o){if(typeof i=="function")return function(c){for(var u=arguments.length,f=Array(u>1?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];return r.produceWithPatches(c,function(p){return i.apply(void 0,[p].concat(f))})};var s,a,l=r.produce(i,o,function(c,u){s=c,a=u});return typeof Promise<"u"&&l instanceof Promise?l.then(function(c){return[c,s,a]}):[l,s,a]},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Qs(n)||qr(8),Gc(n)&&(n=zee(n));var r=bT(this),i=Rp(this,n,void 0);return i[wn].C=!0,Q_(r),i},t.finishDraft=function(n,r){var i=n&&n[wn],o=i.A;return Cb(o,r),jb(void 0,o)},t.setAutoFreeze=function(n){this.D=n},t.setUseProxies=function(n){n&&!CT&&qr(20),this.O=n},t.applyPatches=function(n,r){var i;for(i=r.length-1;i>=0;i--){var o=r[i];if(o.path.length===0&&o.op==="replace"){n=o.value;break}}i>-1&&(r=r.slice(i+1));var s=Us("Patches").$;return Gc(n)?s(n,r):this.produce(n,function(a){return s(a,r)})},e}(),yo=new Yee,Gee=yo.produce,jT=yo.produceWithPatches.bind(yo);yo.setAutoFreeze.bind(yo);yo.setUseProxies.bind(yo);var NT=yo.applyPatches.bind(yo);yo.createDraft.bind(yo);yo.finishDraft.bind(yo);function Xee(){this.__data__=[],this.size=0}var Jee=Xee;function Qee(e,t){return e===t||e!==e&&t!==t}var $$=Qee,Zee=$$;function ete(e,t){for(var n=e.length;n--;)if(Zee(e[n][0],t))return n;return-1}var cx=ete,tte=cx,nte=Array.prototype,rte=nte.splice;function ite(e){var t=this.__data__,n=tte(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():rte.call(t,n,1),--this.size,!0}var ote=ite,ste=cx;function ate(e){var t=this.__data__,n=ste(t,e);return n<0?void 0:t[n][1]}var lte=ate,cte=cx;function ute(e){return cte(this.__data__,e)>-1}var dte=ute,fte=cx;function hte(e,t){var n=this.__data__,r=fte(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var pte=hte,mte=Jee,gte=ote,vte=lte,yte=dte,xte=pte;function of(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}of.prototype.clear=mte;of.prototype.delete=gte;of.prototype.get=vte;of.prototype.has=yte;of.prototype.set=xte;var ux=of,wte=ux;function bte(){this.__data__=new wte,this.size=0}var _te=bte;function kte(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var Ste=kte;function Ete(e){return this.__data__.get(e)}var Cte=Ete;function jte(e){return this.__data__.has(e)}var Nte=jte,Ate=typeof ao=="object"&&ao&&ao.Object===Object&&ao,D$=Ate,Tte=D$,Rte=typeof self=="object"&&self&&self.Object===Object&&self,Ite=Tte||Rte||Function("return this")(),ra=Ite,Pte=ra,Ote=Pte.Symbol,dx=Ote,AT=dx,F$=Object.prototype,Mte=F$.hasOwnProperty,$te=F$.toString,Bf=AT?AT.toStringTag:void 0;function Dte(e){var t=Mte.call(e,Bf),n=e[Bf];try{e[Bf]=void 0;var r=!0}catch(o){}var i=$te.call(e);return r&&(t?e[Bf]=n:delete e[Bf]),i}var Fte=Dte,Lte=Object.prototype,Bte=Lte.toString;function zte(e){return Bte.call(e)}var Hte=zte,TT=dx,Wte=Fte,Ute=Hte,Vte="[object Null]",qte="[object Undefined]",RT=TT?TT.toStringTag:void 0;function Kte(e){return e==null?e===void 0?qte:Vte:RT&&RT in Object(e)?Wte(e):Ute(e)}var fx=Kte;function Yte(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var L$=Yte,Gte=fx,Xte=L$,Jte="[object AsyncFunction]",Qte="[object Function]",Zte="[object GeneratorFunction]",ene="[object Proxy]";function tne(e){if(!Xte(e))return!1;var t=Gte(e);return t==Qte||t==Zte||t==Jte||t==ene}var cE=tne;const nne=qa(cE);var rne=ra,ine=rne["__core-js_shared__"],one=ine,Tb=one,IT=function(){var e=/[^.]+$/.exec(Tb&&Tb.keys&&Tb.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function sne(e){return!!IT&&IT in e}var ane=sne,lne=Function.prototype,cne=lne.toString;function une(e){if(e!=null){try{return cne.call(e)}catch(t){}try{return e+""}catch(t){}}return""}var B$=une,dne=cE,fne=ane,hne=L$,pne=B$,mne=/[\\^$.*+?()[\]{}|]/g,gne=/^\[object .+?Constructor\]$/,vne=Function.prototype,yne=Object.prototype,xne=vne.toString,wne=yne.hasOwnProperty,bne=RegExp("^"+xne.call(wne).replace(mne,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function _ne(e){if(!hne(e)||fne(e))return!1;var t=dne(e)?bne:gne;return t.test(pne(e))}var kne=_ne;function Sne(e,t){return e==null?void 0:e[t]}var Ene=Sne,Cne=kne,jne=Ene;function Nne(e,t){var n=jne(e,t);return Cne(n)?n:void 0}var cu=Nne,Ane=cu,Tne=ra,Rne=Ane(Tne,"Map"),uE=Rne,Ine=cu,Pne=Ine(Object,"create"),hx=Pne,PT=hx;function One(){this.__data__=PT?PT(null):{},this.size=0}var Mne=One;function $ne(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var Dne=$ne,Fne=hx,Lne="__lodash_hash_undefined__",Bne=Object.prototype,zne=Bne.hasOwnProperty;function Hne(e){var t=this.__data__;if(Fne){var n=t[e];return n===Lne?void 0:n}return zne.call(t,e)?t[e]:void 0}var Wne=Hne,Une=hx,Vne=Object.prototype,qne=Vne.hasOwnProperty;function Kne(e){var t=this.__data__;return Une?t[e]!==void 0:qne.call(t,e)}var Yne=Kne,Gne=hx,Xne="__lodash_hash_undefined__";function Jne(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Gne&&t===void 0?Xne:t,this}var Qne=Jne,Zne=Mne,ere=Dne,tre=Wne,nre=Yne,rre=Qne;function sf(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}sf.prototype.clear=Zne;sf.prototype.delete=ere;sf.prototype.get=tre;sf.prototype.has=nre;sf.prototype.set=rre;var ire=sf,OT=ire,ore=ux,sre=uE;function are(){this.size=0,this.__data__={hash:new OT,map:new(sre||ore),string:new OT}}var lre=are;function cre(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var ure=cre,dre=ure;function fre(e,t){var n=e.__data__;return dre(t)?n[typeof t=="string"?"string":"hash"]:n.map}var px=fre,hre=px;function pre(e){var t=hre(this,e).delete(e);return this.size-=t?1:0,t}var mre=pre,gre=px;function vre(e){return gre(this,e).get(e)}var yre=vre,xre=px;function wre(e){return xre(this,e).has(e)}var bre=wre,_re=px;function kre(e,t){var n=_re(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var Sre=kre,Ere=lre,Cre=mre,jre=yre,Nre=bre,Are=Sre;function af(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}af.prototype.clear=Ere;af.prototype.delete=Cre;af.prototype.get=jre;af.prototype.has=Nre;af.prototype.set=Are;var z$=af,Tre=ux,Rre=uE,Ire=z$,Pre=200;function Ore(e,t){var n=this.__data__;if(n instanceof Tre){var r=n.__data__;if(!Rre||r.length<Pre-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Ire(r)}return n.set(e,t),this.size=n.size,this}var Mre=Ore,$re=ux,Dre=_te,Fre=Ste,Lre=Cte,Bre=Nte,zre=Mre;function lf(e){var t=this.__data__=new $re(e);this.size=t.size}lf.prototype.clear=Dre;lf.prototype.delete=Fre;lf.prototype.get=Lre;lf.prototype.has=Bre;lf.prototype.set=zre;var Hre=lf,Wre="__lodash_hash_undefined__";function Ure(e){return this.__data__.set(e,Wre),this}var Vre=Ure;function qre(e){return this.__data__.has(e)}var Kre=qre,Yre=z$,Gre=Vre,Xre=Kre;function _y(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new Yre;++t<n;)this.add(e[t])}_y.prototype.add=_y.prototype.push=Gre;_y.prototype.has=Xre;var Jre=_y;function Qre(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Zre=Qre;function eie(e,t){return e.has(t)}var tie=eie,nie=Jre,rie=Zre,iie=tie,oie=1,sie=2;function aie(e,t,n,r,i,o){var s=n&oie,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e),u=o.get(t);if(c&&u)return c==t&&u==e;var f=-1,h=!0,p=n&sie?new nie:void 0;for(o.set(e,t),o.set(t,e);++f<a;){var v=e[f],g=t[f];if(r)var b=s?r(g,v,f,t,e,o):r(v,g,f,e,t,o);if(b!==void 0){if(b)continue;h=!1;break}if(p){if(!rie(t,function(m,y){if(!iie(p,y)&&(v===m||i(v,m,n,r,o)))return p.push(y)})){h=!1;break}}else if(!(v===g||i(v,g,n,r,o))){h=!1;break}}return o.delete(e),o.delete(t),h}var H$=aie,lie=ra,cie=lie.Uint8Array,uie=cie;function die(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var fie=die;function hie(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var pie=hie,MT=dx,$T=uie,mie=$$,gie=H$,vie=fie,yie=pie,xie=1,wie=2,bie="[object Boolean]",_ie="[object Date]",kie="[object Error]",Sie="[object Map]",Eie="[object Number]",Cie="[object RegExp]",jie="[object Set]",Nie="[object String]",Aie="[object Symbol]",Tie="[object ArrayBuffer]",Rie="[object DataView]",DT=MT?MT.prototype:void 0,Rb=DT?DT.valueOf:void 0;function Iie(e,t,n,r,i,o,s){switch(n){case Rie:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Tie:return!(e.byteLength!=t.byteLength||!o(new $T(e),new $T(t)));case bie:case _ie:case Eie:return mie(+e,+t);case kie:return e.name==t.name&&e.message==t.message;case Cie:case Nie:return e==t+"";case Sie:var a=vie;case jie:var l=r&xie;if(a||(a=yie),e.size!=t.size&&!l)return!1;var c=s.get(e);if(c)return c==t;r|=wie,s.set(e,t);var u=gie(a(e),a(t),r,i,o,s);return s.delete(e),u;case Aie:if(Rb)return Rb.call(e)==Rb.call(t)}return!1}var Pie=Iie;function Oie(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Mie=Oie,$ie=Array.isArray,dE=$ie,Die=Mie,Fie=dE;function Lie(e,t,n){var r=t(e);return Fie(e)?r:Die(r,n(e))}var Bie=Lie;function zie(e,t){for(var n=-1,r=e==null?0:e.length,i=0,o=[];++n<r;){var s=e[n];t(s,n,e)&&(o[i++]=s)}return o}var Hie=zie;function Wie(){return[]}var Uie=Wie,Vie=Hie,qie=Uie,Kie=Object.prototype,Yie=Kie.propertyIsEnumerable,FT=Object.getOwnPropertySymbols,Gie=FT?function(e){return e==null?[]:(e=Object(e),Vie(FT(e),function(t){return Yie.call(e,t)}))}:qie,Xie=Gie;function Jie(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var Qie=Jie;function Zie(e){return e!=null&&typeof e=="object"}var mx=Zie,eoe=fx,toe=mx,noe="[object Arguments]";function roe(e){return toe(e)&&eoe(e)==noe}var ioe=roe,LT=ioe,ooe=mx,W$=Object.prototype,soe=W$.hasOwnProperty,aoe=W$.propertyIsEnumerable,loe=LT(function(){return arguments}())?LT:function(e){return ooe(e)&&soe.call(e,"callee")&&!aoe.call(e,"callee")},coe=loe,ky={exports:{}};function uoe(){return!1}var doe=uoe;ky.exports;(function(e,t){var n=ra,r=doe,i=t&&!t.nodeType&&t,o=i&&!0&&e&&!e.nodeType&&e,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,c=l||r;e.exports=c})(ky,ky.exports);var U$=ky.exports,foe=9007199254740991,hoe=/^(?:0|[1-9]\d*)$/;function poe(e,t){var n=typeof e;return t=t==null?foe:t,!!t&&(n=="number"||n!="symbol"&&hoe.test(e))&&e>-1&&e%1==0&&e<t}var moe=poe,goe=9007199254740991;function voe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=goe}var V$=voe,yoe=fx,xoe=V$,woe=mx,boe="[object Arguments]",_oe="[object Array]",koe="[object Boolean]",Soe="[object Date]",Eoe="[object Error]",Coe="[object Function]",joe="[object Map]",Noe="[object Number]",Aoe="[object Object]",Toe="[object RegExp]",Roe="[object Set]",Ioe="[object String]",Poe="[object WeakMap]",Ooe="[object ArrayBuffer]",Moe="[object DataView]",$oe="[object Float32Array]",Doe="[object Float64Array]",Foe="[object Int8Array]",Loe="[object Int16Array]",Boe="[object Int32Array]",zoe="[object Uint8Array]",Hoe="[object Uint8ClampedArray]",Woe="[object Uint16Array]",Uoe="[object Uint32Array]",Dn={};Dn[$oe]=Dn[Doe]=Dn[Foe]=Dn[Loe]=Dn[Boe]=Dn[zoe]=Dn[Hoe]=Dn[Woe]=Dn[Uoe]=!0;Dn[boe]=Dn[_oe]=Dn[Ooe]=Dn[koe]=Dn[Moe]=Dn[Soe]=Dn[Eoe]=Dn[Coe]=Dn[joe]=Dn[Noe]=Dn[Aoe]=Dn[Toe]=Dn[Roe]=Dn[Ioe]=Dn[Poe]=!1;function Voe(e){return woe(e)&&xoe(e.length)&&!!Dn[yoe(e)]}var qoe=Voe;function Koe(e){return function(t){return e(t)}}var Yoe=Koe,Sy={exports:{}};Sy.exports;(function(e,t){var n=D$,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch(c){}}();e.exports=a})(Sy,Sy.exports);var fE=Sy.exports,Goe=qoe,Xoe=Yoe,BT=fE,zT=BT&&BT.isTypedArray,Joe=zT?Xoe(zT):Goe,q$=Joe,Qoe=Qie,Zoe=coe,ese=dE,tse=U$,nse=moe,rse=q$,ise=Object.prototype,ose=ise.hasOwnProperty;function sse(e,t){var n=ese(e),r=!n&&Zoe(e),i=!n&&!r&&tse(e),o=!n&&!r&&!i&&rse(e),s=n||r||i||o,a=s?Qoe(e.length,String):[],l=a.length;for(var c in e)(t||ose.call(e,c))&&!(s&&(c=="length"||i&&(c=="offset"||c=="parent")||o&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||nse(c,l)))&&a.push(c);return a}var ase=sse,lse=Object.prototype;function cse(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||lse;return e===n}var use=cse;function dse(e,t){return function(n){return e(t(n))}}var fse=dse,hse=fse,pse=hse(Object.keys,Object),mse=pse,gse=use,vse=mse,yse=Object.prototype,xse=yse.hasOwnProperty;function wse(e){if(!gse(e))return vse(e);var t=[];for(var n in Object(e))xse.call(e,n)&&n!="constructor"&&t.push(n);return t}var bse=wse,_se=cE,kse=V$;function Sse(e){return e!=null&&kse(e.length)&&!_se(e)}var Ese=Sse,Cse=ase,jse=bse,Nse=Ese;function Ase(e){return Nse(e)?Cse(e):jse(e)}var Tse=Ase,Rse=Bie,Ise=Xie,Pse=Tse;function Ose(e){return Rse(e,Pse,Ise)}var Mse=Ose,HT=Mse,$se=1,Dse=Object.prototype,Fse=Dse.hasOwnProperty;function Lse(e,t,n,r,i,o){var s=n&$se,a=HT(e),l=a.length,c=HT(t),u=c.length;if(l!=u&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in t:Fse.call(t,h)))return!1}var p=o.get(e),v=o.get(t);if(p&&v)return p==t&&v==e;var g=!0;o.set(e,t),o.set(t,e);for(var b=s;++f<l;){h=a[f];var m=e[h],y=t[h];if(r)var x=s?r(y,m,h,t,e,o):r(m,y,h,e,t,o);if(!(x===void 0?m===y||i(m,y,n,r,o):x)){g=!1;break}b||(b=h=="constructor")}if(g&&!b){var k=e.constructor,S=t.constructor;k!=S&&"constructor"in e&&"constructor"in t&&!(typeof k=="function"&&k instanceof k&&typeof S=="function"&&S instanceof S)&&(g=!1)}return o.delete(e),o.delete(t),g}var Bse=Lse,zse=cu,Hse=ra,Wse=zse(Hse,"DataView"),Use=Wse,Vse=cu,qse=ra,Kse=Vse(qse,"Promise"),Yse=Kse,Gse=cu,Xse=ra,Jse=Gse(Xse,"Set"),Qse=Jse,Zse=cu,eae=ra,tae=Zse(eae,"WeakMap"),nae=tae,tk=Use,nk=uE,rk=Yse,ik=Qse,ok=nae,K$=fx,cf=B$,WT="[object Map]",rae="[object Object]",UT="[object Promise]",VT="[object Set]",qT="[object WeakMap]",KT="[object DataView]",iae=cf(tk),oae=cf(nk),sae=cf(rk),aae=cf(ik),lae=cf(ok),gc=K$;(tk&&gc(new tk(new ArrayBuffer(1)))!=KT||nk&&gc(new nk)!=WT||rk&&gc(rk.resolve())!=UT||ik&&gc(new ik)!=VT||ok&&gc(new ok)!=qT)&&(gc=function(e){var t=K$(e),n=t==rae?e.constructor:void 0,r=n?cf(n):"";if(r)switch(r){case iae:return KT;case oae:return WT;case sae:return UT;case aae:return VT;case lae:return qT}return t});var cae=gc,Ib=Hre,uae=H$,dae=Pie,fae=Bse,YT=cae,GT=dE,XT=U$,hae=q$,pae=1,JT="[object Arguments]",QT="[object Array]",vg="[object Object]",mae=Object.prototype,ZT=mae.hasOwnProperty;function gae(e,t,n,r,i,o){var s=GT(e),a=GT(t),l=s?QT:YT(e),c=a?QT:YT(t);l=l==JT?vg:l,c=c==JT?vg:c;var u=l==vg,f=c==vg,h=l==c;if(h&&XT(e)){if(!XT(t))return!1;s=!0,u=!1}if(h&&!u)return o||(o=new Ib),s||hae(e)?uae(e,t,n,r,i,o):dae(e,t,l,n,r,i,o);if(!(n&pae)){var p=u&&ZT.call(e,"__wrapped__"),v=f&&ZT.call(t,"__wrapped__");if(p||v){var g=p?e.value():e,b=v?t.value():t;return o||(o=new Ib),i(g,b,n,r,o)}}return h?(o||(o=new Ib),fae(e,t,n,r,i,o)):!1}var vae=gae,yae=vae,e3=mx;function Y$(e,t,n,r,i){return e===t?!0:e==null||t==null||!e3(e)&&!e3(t)?e!==e&&t!==t:yae(e,t,n,r,Y$,i)}var xae=Y$,wae=xae;function bae(e,t,n){n=typeof n=="function"?n:void 0;var r=n?n(e,t):void 0;return r===void 0?wae(e,t,void 0,n):!!r}var _ae=bae;const kae=qa(_ae);var Sae=function(t,n,r,i){var o=r?r.call(i,t,n):void 0;if(o!==void 0)return!!o;if(t===n)return!0;if(typeof t!="object"||!t||typeof n!="object"||!n)return!1;var s=Object.keys(t),a=Object.keys(n);if(s.length!==a.length)return!1;for(var l=Object.prototype.hasOwnProperty.bind(n),c=0;c<s.length;c++){var u=s[c];if(!l(u))return!1;var f=t[u],h=n[u];if(o=r?r.call(i,f,h,u):void 0,o===!1||o===void 0&&f!==h)return!1}return!0};const Eae=qa(Sae);let Cae=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,n)=>(n&=63,n<36?t+=n.toString(36):n<62?t+=(n-26).toString(36).toUpperCase():n>62?t+="-":t+="_",t),"");var jae="Invariant failed";function In(e,t){if(!e)throw new Error(jae)}typeof window<"u"&&(window.__CRAFTJS__||(window.__CRAFTJS__={}),window.__CRAFTJS__["@craftjs/utils"]="0.2.5");var Ia="ROOT",G$="canvas-ROOT",Nae="Attempting to add a node with duplicated id",Aae="Node cannot be dropped into target parent",Tae="Target parent rejects incoming node",Rae="Current parent rejects outgoing node",t3="Cannot move node that is not a direct child of a Canvas node",Iae="Cannot move node into a non-Canvas parent",n3="A top-level Node cannot be moved",Pae="Cannot move node into a descendant",X$="The component type specified for this node (%node_type%) does not exist in the resolver",Oae="The node has specified a canDrag() rule that prevents it from being dragged",Mae="An Error occurred while deserializing components: Cannot find component <%displayName% /> in resolver map. Please check your resolver in <Editor />\n\nAvailable components in resolver: %availableComponents%\n\nMore info: https://craft.js.org/r/docs/api/editor#props";function r3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?r3(Object(n),!0).forEach(function(r){Or(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uf(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function $ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tD(r.key),r)}}function df(e,t,n){return t&&$ae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Or(e,t,n){return(t=tD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ld(e){return ld=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},ld(e)}function sk(e,t){return sk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},sk(e,t)}function Pb(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ak(){return ak=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(o,s){for(;!Object.prototype.hasOwnProperty.call(o,s)&&(o=ld(o))!==null;);return o}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ak.apply(this,arguments)}function J$(e,t){return Q$(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,s,a,l,c=[],u=!0,f=!1;try{if(a=(i=i.call(n)).next,r===0){if(Object(i)!==i)return;u=!1}else for(;!(u=(o=a.call(i)).done)&&(c.push(o.value),c.length!==r);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&i.return!=null&&(l=i.return(),Object(l)!==l))return}finally{if(f)throw s}}return c}}(e,t)||hE(e,t)||eD()}function Ei(e){return function(t){if(Array.isArray(t))return lk(t)}(e)||Z$(e)||hE(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q$(e){if(Array.isArray(e))return e}function Z$(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hE(e,t){if(e){if(typeof e=="string")return lk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?lk(e,t):void 0}}function lk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function eD(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function tD(e){var t=function(n,r){if(typeof n!="object"||n===null)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var o=i.call(n,"string");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(e);return typeof t=="symbol"?t:String(t)}var ir={UNDO:"HISTORY_UNDO",REDO:"HISTORY_REDO",THROTTLE:"HISTORY_THROTTLE",IGNORE:"HISTORY_IGNORE",MERGE:"HISTORY_MERGE",CLEAR:"HISTORY_CLEAR"},Dae=function(){function e(){uf(this,e),Or(this,"timeline",[]),Or(this,"pointer",-1)}return df(e,[{key:"add",value:function(t,n){t.length===0&&n.length===0||(this.pointer=this.pointer+1,this.timeline.length=this.pointer,this.timeline[this.pointer]={patches:t,inversePatches:n,timestamp:Date.now()})}},{key:"throttleAdd",value:function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:500;if(t.length!==0||n.length!==0){if(this.timeline.length&&this.pointer>=0){var i=this.timeline[this.pointer],o=i.patches,s=i.inversePatches,a=i.timestamp;if(new Date().getTime()-a<r)return void(this.timeline[this.pointer]={timestamp:a,patches:[].concat(Ei(o),Ei(t)),inversePatches:[].concat(Ei(n),Ei(s))})}this.add(t,n)}}},{key:"merge",value:function(t,n){if(t.length!==0||n.length!==0)if(this.timeline.length&&this.pointer>=0){var r=this.timeline[this.pointer],i=r.inversePatches;this.timeline[this.pointer]={timestamp:r.timestamp,patches:[].concat(Ei(r.patches),Ei(t)),inversePatches:[].concat(Ei(n),Ei(i))}}else this.add(t,n)}},{key:"clear",value:function(){this.timeline=[],this.pointer=-1}},{key:"canUndo",value:function(){return this.pointer>=0}},{key:"canRedo",value:function(){return this.pointer<this.timeline.length-1}},{key:"undo",value:function(t){if(this.canUndo()){var n=this.timeline[this.pointer].inversePatches;return this.pointer=this.pointer-1,NT(t,n)}}},{key:"redo",value:function(t){if(this.canRedo())return this.pointer=this.pointer+1,NT(t,this.timeline[this.pointer].patches)}}]),e}();function Fae(e,t,n,r){var i,o=N.useMemo(function(){return new Dae},[]),s=N.useRef([]),a=N.useRef(function(){});typeof e=="function"?i=e:(i=e.methods,s.current=e.ignoreHistoryForActions,a.current=e.normalizeHistory);var l=N.useRef(r);l.current=r;var c=N.useRef(t),u=N.useMemo(function(){var b=a.current,m=s.current,y=l.current;return function(x,k){var S,E=n&&i3(n,function(){return x},o),T=J$(jT(x,function(L){var G,z;switch(k.type){case ir.UNDO:return o.undo(L);case ir.REDO:return o.redo(L);case ir.CLEAR:return o.clear(),jo({},L);case ir.IGNORE:case ir.MERGE:case ir.THROTTLE:var H,J=Q$(z=k.payload)||Z$(z)||hE(z)||eD(),I=J[0],U=J.slice(1);(H=i(L,E))[I].apply(H,Ei(U));break;default:(G=i(L,E))[k.type].apply(G,Ei(k.payload))}}),3),M=T[0],W=T[1],F=T[2];return S=M,y&&y(M,x,{type:k.type,params:k.payload,patches:W},E,function(L){var G=jT(M,L);S=G[0],W=[].concat(Ei(W),Ei(G[1])),F=[].concat(Ei(G[2]),Ei(F))}),[ir.UNDO,ir.REDO].includes(k.type)&&b&&(S=Gee(S,b)),[].concat(Ei(m),[ir.UNDO,ir.REDO,ir.IGNORE,ir.CLEAR]).includes(k.type)||(k.type===ir.THROTTLE?o.throttleAdd(W,F,k.config&&k.config.rate):k.type===ir.MERGE?o.merge(W,F):o.add(W,F)),S}},[o,i,n]),f=N.useCallback(function(){return c.current},[]),h=N.useMemo(function(){return new Lae(f)},[f]),p=N.useCallback(function(b){var m=u(c.current,b);c.current=m,h.notify()},[u,h]);N.useEffect(function(){h.notify()},[h]);var v=N.useMemo(function(){return n?i3(n,function(){return c.current},o):[]},[o,n]),g=N.useMemo(function(){var b=Object.keys(i(null,null)),m=s.current;return jo(jo({},b.reduce(function(y,x){return y[x]=function(){for(var k=arguments.length,S=new Array(k),E=0;E<k;E++)S[E]=arguments[E];return p({type:x,payload:S})},y},{})),{},{history:{undo:function(){return p({type:ir.UNDO})},redo:function(){return p({type:ir.REDO})},clear:function(){return p({type:ir.CLEAR})},throttle:function(y){return jo({},b.filter(function(x){return!m.includes(x)}).reduce(function(x,k){return x[k]=function(){for(var S=arguments.length,E=new Array(S),T=0;T<S;T++)E[T]=arguments[T];return p({type:ir.THROTTLE,payload:[k].concat(E),config:{rate:y}})},x},{}))},ignore:function(){return jo({},b.filter(function(y){return!m.includes(y)}).reduce(function(y,x){return y[x]=function(){for(var k=arguments.length,S=new Array(k),E=0;E<k;E++)S[E]=arguments[E];return p({type:ir.IGNORE,payload:[x].concat(S)})},y},{}))},merge:function(){return jo({},b.filter(function(y){return!m.includes(y)}).reduce(function(y,x){return y[x]=function(){for(var k=arguments.length,S=new Array(k),E=0;E<k;E++)S[E]=arguments[E];return p({type:ir.MERGE,payload:[x].concat(S)})},y},{}))}}})},[p,i]);return N.useMemo(function(){return{getState:f,subscribe:function(b,m,y){return h.subscribe(b,m,y)},actions:g,query:v,history:o}},[g,v,h,f,o])}function i3(e,t,n){var r=Object.keys(e()).reduce(function(i,o){return jo(jo({},i),{},Or({},o,function(){var s;return(s=e(t()))[o].apply(s,arguments)}))},{});return jo(jo({},r),{},{history:{canUndo:function(){return n.canUndo()},canRedo:function(){return n.canRedo()}}})}Wee(),Hee();var Lae=function(){function e(t){uf(this,e),Or(this,"getState",void 0),Or(this,"subscribers",[]),this.getState=t}return df(e,[{key:"subscribe",value:function(t,n,r){var i=this,o=new Bae(function(){return t(i.getState())},n,r);return this.subscribers.push(o),this.unsubscribe.bind(this,o)}},{key:"unsubscribe",value:function(t){if(this.subscribers.length){var n=this.subscribers.indexOf(t);if(n>-1)return this.subscribers.splice(n,1)}}},{key:"notify",value:function(){this.subscribers.forEach(function(t){return t.collect()})}}]),e}(),Bae=function(){function e(t,n){var r=arguments.length>2&&arguments[2]!==void 0&&arguments[2];uf(this,e),Or(this,"collected",void 0),Or(this,"collector",void 0),Or(this,"onChange",void 0),Or(this,"id",void 0),this.collector=t,this.onChange=n,r&&this.collect()}return df(e,[{key:"collect",value:function(){try{var t=this.collector();kae(t,this.collected)||(this.collected=t,this.onChange&&this.onChange(this.collected))}catch(n){console.warn(n)}}}]),e}(),Pp=function(e){var t=e.getBoundingClientRect(),n=t.x,r=t.y,i=t.top,o=t.left,s=t.bottom,a=t.right,l=t.width,c=t.height,u=window.getComputedStyle(e),f={left:parseInt(u.marginLeft),right:parseInt(u.marginRight),bottom:parseInt(u.marginBottom),top:parseInt(u.marginTop)},h={left:parseInt(u.paddingLeft),right:parseInt(u.paddingRight),bottom:parseInt(u.paddingBottom),top:parseInt(u.paddingTop)};return{x:n,y:r,top:i,left:o,bottom:s,right:a,width:l,height:c,outerWidth:Math.round(l+f.left+f.right),outerHeight:Math.round(c+f.top+f.bottom),margin:f,padding:h,inFlow:e.parentElement&&!!function(p){var v=getComputedStyle(p);if(!(u.overflow&&u.overflow!=="visible"||v.float!=="none"||v.display==="grid"||v.display==="flex"&&v["flex-direction"]!=="column")){switch(u.position){case"static":case"relative":break;default:return}switch(e.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(u.display){case"block":case"list-item":case"table":case"flex":case"grid":return!0}}}(e.parentElement)}};function zae(e,t){const{subscribe:n,getState:r,actions:i,query:o}=e,s=N.useRef(!0),a=N.useRef(null),l=N.useRef(t);l.current=t;const c=N.useCallback(h=>({...h,actions:i,query:o}),[i,o]);s.current&&t&&(a.current=t(r(),o),s.current=!1);const[u,f]=N.useState(c(a.current));return N.useEffect(()=>{let h;return l.current&&(h=n(p=>l.current(p,o),p=>{f(c(p))})),()=>{h&&h()}},[c,o,n]),u}var $d,nD=function(){return Cae(arguments.length>0&&arguments[0]!==void 0?arguments[0]:10)},Hae=function(){function e(){uf(this,e),Or(this,"isEnabled",!0),Or(this,"elementIdMap",new WeakMap),Or(this,"registry",new Map)}return df(e,[{key:"getElementId",value:function(t){var n=this.elementIdMap.get(t);if(n)return n;var r=nD();return this.elementIdMap.set(t,r),r}},{key:"getConnectorId",value:function(t,n){var r=this.getElementId(t);return"".concat(n,"--").concat(r)}},{key:"register",value:function(t,n){var r=this,i=this.getByElement(t,n.name);if(i){if(Eae(n.required,i.required))return i;this.getByElement(t,n.name).disable()}var o=null,s=this.getConnectorId(t,n.name);return this.registry.set(s,{id:s,required:n.required,enable:function(){o&&o(),o=n.connector(t,n.required,n.options)},disable:function(){o&&o()},remove:function(){return r.remove(s)}}),this.isEnabled&&this.registry.get(s).enable(),this.registry.get(s)}},{key:"get",value:function(t){return this.registry.get(t)}},{key:"remove",value:function(t){var n=this.get(t);n&&(n.disable(),this.registry.delete(n.id))}},{key:"enable",value:function(){this.isEnabled=!0,this.registry.forEach(function(t){t.enable()})}},{key:"disable",value:function(){this.isEnabled=!1,this.registry.forEach(function(t){t.disable()})}},{key:"getByElement",value:function(t,n){return this.get(this.getConnectorId(t,n))}},{key:"removeByElement",value:function(t,n){return this.remove(this.getConnectorId(t,n))}},{key:"clear",value:function(){this.disable(),this.elementIdMap=new WeakMap,this.registry=new Map}}]),e}();(function(e){e[e.HandlerDisabled=0]="HandlerDisabled",e[e.HandlerEnabled=1]="HandlerEnabled"})($d||($d={}));var rD=function(){function e(t){uf(this,e),Or(this,"options",void 0),Or(this,"registry",new Hae),Or(this,"subscribers",new Set),this.options=t}return df(e,[{key:"listen",value:function(t){var n=this;return this.subscribers.add(t),function(){return n.subscribers.delete(t)}}},{key:"disable",value:function(){this.onDisable&&this.onDisable(),this.registry.disable(),this.subscribers.forEach(function(t){t($d.HandlerDisabled)})}},{key:"enable",value:function(){this.onEnable&&this.onEnable(),this.registry.enable(),this.subscribers.forEach(function(t){t($d.HandlerEnabled)})}},{key:"cleanup",value:function(){this.disable(),this.subscribers.clear(),this.registry.clear()}},{key:"addCraftEventListener",value:function(t,n,r,i){var o=function(s){(function(a,l,c){a.craft||(a.craft={stopPropagation:function(){},blockedEvents:{}});for(var u=a.craft&&a.craft.blockedEvents[l]||[],f=0;f<u.length;f++){var h=u[f];if(c!==h&&c.contains(h))return!0}return!1})(s,n,t)||(s.craft.stopPropagation=function(){s.craft.blockedEvents[n]||(s.craft.blockedEvents[n]=[]),s.craft.blockedEvents[n].push(t)},r(s))};return t.addEventListener(n,o,i),function(){return t.removeEventListener(n,o,i)}}},{key:"createConnectorsUsage",value:function(){var t=this,n=this.handlers(),r=new Set,i=!1,o=new Map;return{connectors:Object.entries(n).reduce(function(s,a){var l=J$(a,2),c=l[0],u=l[1];return jo(jo({},s),{},Or({},c,function(f,h,p){var v=function(){var g=t.registry.register(f,{required:h,name:c,options:p,connector:u});return r.add(g.id),g};return o.set(t.registry.getConnectorId(f,c),v),i&&v(),f}))},{}),register:function(){i=!0,o.forEach(function(s){s()})},cleanup:function(){i=!1,r.forEach(function(s){return t.registry.remove(s)})}}}},{key:"derive",value:function(t,n){return new t(this,n)}},{key:"createProxyHandlers",value:function(t,n){var r=[],i=t.handlers(),o=new Proxy(i,{get:function(s,a,l){return a in i==0?Reflect.get(s,a,l):function(c){for(var u=arguments.length,f=new Array(u>1?u-1:0),h=1;h<u;h++)f[h-1]=arguments[h];var p=i[a].apply(i,[c].concat(f));p&&r.push(p)}}});return n(o),function(){r.forEach(function(s){s()})}}},{key:"reflect",value:function(t){return this.createProxyHandlers(this,t)}}]),e}(),Wae=function(e){(function(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),s&&sk(o,s)})(i,rD);var t,n,r=(t=i,n=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(o){return!1}}(),function(){var o,s=ld(t);if(n){var a=ld(this).constructor;o=Reflect.construct(s,arguments,a)}else o=s.apply(this,arguments);return function(l,c){if(c&&(typeof c=="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Pb(l)}(this,o)});function i(o,s){var a;return uf(this,i),Or(Pb(a=r.call(this,s)),"derived",void 0),Or(Pb(a),"unsubscribeParentHandlerListener",void 0),a.derived=o,a.options=s,a.unsubscribeParentHandlerListener=a.derived.listen(function(l){switch(l){case $d.HandlerEnabled:return a.enable();case $d.HandlerDisabled:return a.disable();default:return}}),a}return df(i,[{key:"inherit",value:function(o){return this.createProxyHandlers(this.derived,o)}},{key:"cleanup",value:function(){ak(ld(i.prototype),"cleanup",this).call(this),this.unsubscribeParentHandlerListener()}}]),i}();function o3(e,t){t&&(typeof e=="function"?e(t):e.current=t)}function Uae(e,t){const n=e.ref;return In(typeof n!="string"),N.cloneElement(e,n?{ref:r=>{o3(n,r),o3(t,r)}}:{ref:t})}function Vae(e){return(t=null,...n)=>{if(!N.isValidElement(t)){if(!t)return;const i=t;return i&&e(i,...n),i}const r=t;return function(i){if(typeof i.type!="string")throw new Error}(r),Uae(r,e)}}function iD(e){return Object.keys(e).reduce((t,n)=>(t[n]=Vae((...r)=>e[n](...r)),t),{})}const qae=({style:e,className:t,parentDom:n})=>{const r=$t.createElement("div",{className:t,style:{position:"fixed",display:"block",opacity:1,borderStyle:"solid",borderWidth:"1px",borderColor:"transparent",zIndex:99999,...e}});return n&&n.ownerDocument!==document?pP.createPortal(r,n.ownerDocument.body):r};var zl=function(e,t){var n="Deprecation warning: ".concat(e," will be deprecated in future relases."),r=t.suggest,i=t.doc;r&&(n+=" Please use ".concat(r," instead.")),i&&(n+="(".concat(i,")")),console.warn(n)},oD=function(){return typeof window<"u"},Kae=function(){return oD()&&/Linux/i.test(window.navigator.userAgent)},Yae=function(){return oD()&&/Chrome/i.test(window.navigator.userAgent)},Gae=cu;(function(){try{var e=Gae(Object,"defineProperty");return e({},"",{}),e}catch(t){}})();var Ey={exports:{}};Ey.exports;(function(e,t){var n=ra,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,o=i&&i.exports===r,s=o?n.Buffer:void 0,a=s?s.allocUnsafe:void 0;function l(c,u){if(u)return c.slice();var f=c.length,h=a?a(f):new c.constructor(f);return c.copy(h),h}e.exports=l})(Ey,Ey.exports);Ey.exports;var s3=dx,a3=s3?s3.prototype:void 0;a3&&a3.valueOf;var l3=fE;l3&&l3.isMap;var c3=fE;c3&&c3.isSet;typeof window<"u"&&(window.__CRAFTJS__||(window.__CRAFTJS__={}),window.__CRAFTJS__["@craftjs/core"]="0.2.12");const sD=$t.createContext(null),aD=({id:e,related:t=!1,children:n})=>$t.createElement(sD.Provider,{value:{id:e,related:t}},n);function u3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?u3(Object(n),!0).forEach(function(r){Nr(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ck(e){return ck=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ck(e)}function gx(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Xae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,uD(r.key),r)}}function vx(e,t,n){return t&&Xae(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Nr(e,t,n){return(t=uD(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pE(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uk(e,t)}function Cy(e){return Cy=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},Cy(e)}function uk(e,t){return uk=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},uk(e,t)}function mE(e,t){if(e==null)return{};var n,r,i=function(s,a){if(s==null)return{};var l,c,u={},f=Object.keys(s);for(c=0;c<f.length;c++)a.indexOf(l=f[c])>=0||(u[l]=s[l]);return u}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ah(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function gE(e){var t=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(n){return!1}}();return function(){var n,r=Cy(e);if(t){var i=Cy(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(o,s){if(s&&(typeof s=="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ah(o)}(this,n)}}function lD(e,t){return function(n){if(Array.isArray(n))return n}(e)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,s,a,l,c=[],u=!0,f=!1;try{if(a=(i=i.call(n)).next,r!==0)for(;!(u=(o=a.call(i)).done)&&(c.push(o.value),c.length!==r);u=!0);}catch(h){f=!0,s=h}finally{try{if(!u&&i.return!=null&&(l=i.return(),Object(l)!==l))return}finally{if(f)throw s}}return c}}(e,t)||cD(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Op(e){return function(t){if(Array.isArray(t))return dk(t)}(e)||function(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}(e)||cD(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function cD(e,t){if(e){if(typeof e=="string")return dk(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?dk(e,t):void 0}}function dk(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uD(e){var t=function(n,r){if(typeof n!="object"||n===null)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var o=i.call(n,"string");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(e);return typeof t=="symbol"?t:String(t)}const vE=N.createContext(null);var dD=N.createContext(null),fD=function(){return N.useContext(dD)};function uu(e){var t=fD(),n=N.useContext(vE);In(n);var r=zae(n,e),i=N.useMemo(function(){return t&&t.createConnectorsUsage()},[t]);N.useEffect(function(){return i.register(),function(){i.cleanup()}},[i]);var o=N.useMemo(function(){return i&&iD(i.connectors)},[i]);return Fn(Fn({},r),{},{connectors:o,inContext:!!n,store:n})}var Jae=["actions","query","connectors"];function yx(e){var t=N.useContext(sD);In(t);var n=t.id,r=t.related,i=uu(function(u){return n&&u.nodes[n]&&e&&e(u.nodes[n])}),o=i.actions,s=i.connectors,a=mE(i,Jae),l=N.useMemo(function(){return iD({connect:function(u){return s.connect(u,n)},drag:function(u){return s.drag(u,n)}})},[s,n]),c=N.useMemo(function(){return{setProp:function(u,f){f?o.history.throttle(f).setProp(n,u):o.setProp(n,u)},setCustom:function(u,f){f?o.history.throttle(f).setCustom(n,u):o.setCustom(n,u)},setHidden:function(u){return o.setHidden(n,u)}}},[o,n]);return Fn(Fn({},a),{},{id:n,related:r,inNodeContext:!!t,actions:c,connectors:l})}var Qae=["id","related","actions","inNodeContext","connectors"];function Oi(e){var t=yx(e),n=t.id,r=t.related,i=t.actions,o=t.inNodeContext,s=t.connectors;return Fn(Fn({},mE(t,Qae)),{},{actions:i,id:n,related:r,setProp:function(a,l){return zl("useNode().setProp()",{suggest:"useNode().actions.setProp()"}),i.setProp(a,l)},inNodeContext:o,connectors:s})}const Zae=({render:e})=>{const{connectors:{connect:t,drag:n}}=Oi();return typeof e.type=="string"?t(n($t.cloneElement(e))):e},ele=()=>{const{type:e,props:t,nodes:n,hydrationTimestamp:r}=yx(i=>({type:i.data.type,props:i.data.props,nodes:i.data.nodes,hydrationTimestamp:i._hydrationTimestamp}));return N.useMemo(()=>{let i=t.children;n&&n.length>0&&(i=$t.createElement($t.Fragment,null,n.map(s=>$t.createElement(yE,{id:s,key:s}))));const o=$t.createElement(e,t,i);return typeof e=="string"?$t.createElement(Zae,{render:o}):o},[e,t,r,n])},tle=({render:e})=>{const{hidden:t}=yx(r=>({hidden:r.data.hidden})),{onRender:n}=uu(r=>({onRender:r.options.onRender}));return t?null:$t.createElement(n,{render:e||$t.createElement(ele,null)})},yE=({id:e,render:t})=>$t.createElement(aD,{id:e},$t.createElement(tle,{render:t})),fk={is:"div",canvas:!1,custom:{},hidden:!1},nle={is:"type",canvas:"isCanvas"};function Ja({id:e,children:t,...n}){const{is:r}={...fk,...n},{query:i,actions:o}=uu(),{id:s,inNodeContext:a}=yx(),[l]=N.useState(()=>{In(!!e);const c=i.node(s).get();if(a){const u=c.data.linkedNodes[e]?i.node(c.data.linkedNodes[e]).get():null;if(u&&u.data.type===r)return u.id;const f=$t.createElement(Ja,n,t),h=i.parseReactElement(f).toNodeTree();return o.history.ignore().addLinkedNodeFromTree(h,s,e),h.rootNodeId}return null});return l?$t.createElement(yE,{id:l}):null}const hD=()=>zl("<Canvas />",{suggest:"<Element canvas={true} />"});function hk({...e}){return N.useEffect(()=>hD(),[]),$t.createElement(Ja,{...e,canvas:!0})}const rle=()=>{const{timestamp:e}=uu(t=>({timestamp:t.nodes[Ia]&&t.nodes[Ia]._hydrationTimestamp}));return e?$t.createElement(yE,{id:Ia,key:e}):null},xE=({children:e,json:t,data:n})=>{const{actions:r,query:i}=uu();t&&zl("<Frame json={...} />",{suggest:"<Frame data={...} />"});const o=N.useRef(!1);if(!o.current){const s=n||t;if(s)r.history.ignore().deserialize(s);else if(e){const a=$t.Children.only(e),l=i.parseReactElement(a).toNodeTree((c,u)=>(u===a&&(c.id=Ia),c));r.history.ignore().addNodeTree(l)}o.current=!0}return $t.createElement(rle,null)};var d3;(function(e){e[e.Any=0]="Any",e[e.Id=1]="Id",e[e.Obj=2]="Obj"})(d3||(d3={}));const Ob=e=>{const{addLinkedNodeFromTree:t,setDOM:n,setNodeEvent:r,replaceNodes:i,reset:o,...s}=e;return s};function ps(e){const{connectors:t,actions:n,query:r,store:i,...o}=uu(e),s=Ob(n);return{connectors:t,actions:N.useMemo(()=>({...s,history:{...s.history,ignore:(...a)=>Ob(s.history.ignore(...a)),throttle:(...a)=>Ob(s.history.throttle(...a))}}),[s]),query:r,store:i,...o}}var pD=function(e){return Object.fromEntries?Object.fromEntries(e):e.reduce(function(t,n){var r=lD(n,2),i=r[0],o=r[1];return Fn(Fn({},t),{},Nr({},i,o))},{})},ba=function(e,t,n){var r=Array.isArray(t)?t:[t],i=Fn({existOnly:!1,idOnly:!1},n||{}),o=r.filter(function(s){return!!s}).map(function(s){return typeof s=="string"?{node:e[s],exists:!!e[s]}:ck(s)!=="object"||i.idOnly?{node:null,exists:!1}:{node:s,exists:!!e[s.id]}});return i.existOnly&&In(o.filter(function(s){return!s.exists}).length===0),o},ile=["history"],Su=null,jy=function(e,t){if(typeof t=="string")return t;var n,r=function(i,o){var s=function(a){if(Su&&Su.resolver===a)return Su.reversed;Su={resolver:a,reversed:new Map};for(var l=0,c=Object.entries(a);l<c.length;l++){var u=lD(c[l],2);Su.reversed.set(u[1],u[0])}return Su.reversed}(i).get(o);return s!==void 0?s:null}(e,t);return In(r,X$.replace("%node_type%",(n=t).name||n.displayName)),r};const ole=(e,t)=>typeof e=="string"?e:{resolvedName:jy(t,e)},pk=(e,t)=>{let{type:n,isCanvas:r,props:i}=e;return i=Object.keys(i).reduce((o,s)=>{const a=i[s];return a==null||typeof a=="function"||(o[s]=s==="children"&&typeof a!="string"?N.Children.map(a,l=>typeof l=="string"?l:pk(l,t)):typeof a.type=="function"?pk(a,t):a),o},{}),{type:ole(n,t),isCanvas:!!r,props:i}},sle=(e,t)=>{const{type:n,props:r,isCanvas:i,name:o,...s}=e;return{...pk({type:n,isCanvas:i,props:r},t),...s}};function mk(e,t){In(typeof t=="string");var n=e.nodes[t],r=function(i){return mk(e,i)};return{isCanvas:function(){return!!n.data.isCanvas},isRoot:function(){return n.id===Ia},isLinkedNode:function(){return n.data.parent&&r(n.data.parent).linkedNodes().includes(n.id)},isTopLevelNode:function(){return this.isRoot()||this.isLinkedNode()},isDeletable:function(){return!this.isTopLevelNode()},isParentOfTopLevelNodes:function(){return n.data.linkedNodes&&Object.keys(n.data.linkedNodes).length>0},isParentOfTopLevelCanvas:function(){return zl("query.node(id).isParentOfTopLevelCanvas",{suggest:"query.node(id).isParentOfTopLevelNodes"}),this.isParentOfTopLevelNodes()},isSelected:function(){return e.events.selected.has(t)},isHovered:function(){return e.events.hovered.has(t)},isDragged:function(){return e.events.dragged.has(t)},get:function(){return n},ancestors:function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return function o(s){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],l=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=e.nodes[s];return c?(a.push(s),c.data.parent&&(i||!i&&l===0)&&(a=o(c.data.parent,a,l+1)),a):a}(n.data.parent)},descendants:function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0],o=arguments.length>1?arguments[1]:void 0;return function s(a){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return(i||!i&&c===0)&&e.nodes[a]&&(o!=="childNodes"&&r(a).linkedNodes().forEach(function(u){l.push(u),l=s(u,l,c+1)}),o!=="linkedNodes"&&r(a).childNodes().forEach(function(u){l.push(u),l=s(u,l,c+1)})),l}(t)},linkedNodes:function(){return Object.values(n.data.linkedNodes||{})},childNodes:function(){return n.data.nodes||[]},isDraggable:function(i){try{var o=n;return In(!this.isTopLevelNode(),n3),In(mk(e,o.data.parent).isCanvas(),t3),In(o.rules.canDrag(o,r),Oae),!0}catch(s){return i&&i(s),!1}},isDroppable:function(i,o){var s=ba(e.nodes,i),a=n;try{In(this.isCanvas(),Iae),In(a.rules.canMoveIn(s.map(function(c){return c.node}),a,r),Tae);var l={};return s.forEach(function(c){var u=c.node,f=c.exists;if(In(u.rules.canDrop(a,u,r),Aae),f){In(!r(u.id).isTopLevelNode(),n3);var h=r(u.id).descendants(!0);In(!h.includes(a.id)&&a.id!==u.id,Pae);var p=u.data.parent&&e.nodes[u.data.parent];In(p.data.isCanvas,t3),In(p||!p&&!e.nodes[u.id],Nae),p.id!==a.id&&(l[p.id]||(l[p.id]=[]),l[p.id].push(u))}}),Object.keys(l).forEach(function(c){var u=e.nodes[c];In(u.rules.canMoveOut(l[c],u,r),Rae)}),!0}catch(c){return o&&o(c),!1}},toSerializedNode:function(){return sle(n.data,e.options.resolver)},toNodeTree:function(i){var o=[t].concat(Op(this.descendants(!0,i))).reduce(function(s,a){return s[a]=r(a).get(),s},{});return{rootNodeId:t,nodes:o}},decendants:function(){var i=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return zl("query.node(id).decendants",{suggest:"query.node(id).descendants"}),this.descendants(i)},isTopLevelCanvas:function(){return!this.isRoot()&&!n.data.parent}}}function mD(e,t,n,r){for(var i={parent:e,index:0,where:"before"},o=0,s=0,a=0,l=0,c=0,u=0,f=0,h=t.length;f<h;f++){var p=t[f];if(u=p.top+p.outerHeight,l=p.left+p.outerWidth/2,c=p.top+p.outerHeight/2,!(s&&p.left>s||a&&c>=a||o&&p.left+p.outerWidth<o))if(i.index=f,p.inFlow){if(r<c){i.where="before";break}i.where="after"}else r<u&&(a=u),n<l?(s=l,i.where="before"):(o=l,i.where="after")}return i}var yg=function(e){return typeof e=="string"?e:e.name};function f3(e,t){var n=e.data.type,r={id:e.id||nD(),_hydrationTimestamp:Date.now(),data:Fn({type:n,name:yg(n),displayName:yg(n),props:{},custom:{},parent:null,isCanvas:!1,hidden:!1,nodes:[],linkedNodes:{}},e.data),info:{},related:{},events:{selected:!1,dragged:!1,hovered:!1},rules:{canDrag:function(){return!0},canDrop:function(){return!0},canMoveIn:function(){return!0},canMoveOut:function(){return!0}},dom:null};if(r.data.type===Ja||r.data.type===hk){var i=Fn(Fn({},fk),r.data.props);r.data.props=Object.keys(r.data.props).reduce(function(a,l){return Object.keys(fk).includes(l)?r.data[nle[l]||l]=i[l]:a[l]=r.data.props[l],a},{}),r.data.name=yg(n=r.data.type),r.data.displayName=yg(n),r.data.type===hk&&(r.data.isCanvas=!0,hD())}t&&t(r);var o=n.craft;if(o){if(r.data.displayName=o.displayName||o.name||r.data.displayName,r.data.props=Fn(Fn({},o.props||o.defaultProps||{}),r.data.props),r.data.custom=Fn(Fn({},o.custom||{}),r.data.custom),o.isCanvas!=null&&(r.data.isCanvas=o.isCanvas),o.rules&&Object.keys(o.rules).forEach(function(a){["canDrag","canDrop","canMoveIn","canMoveOut"].includes(a)&&(r.rules[a]=o.rules[a])}),o.related){var s={id:r.id,related:!0};Object.keys(o.related).forEach(function(a){r.related[a]=function(l){return $t.createElement(aD,s,$t.createElement(o.related[a],l))}})}o.info&&(r.info=o.info)}return r}const gk=(e,t,n)=>{let{type:r,props:i}=e;const o=((a,l)=>typeof a=="object"&&a.resolvedName?a.resolvedName==="Canvas"?hk:l[a.resolvedName]:typeof a=="string"?a:null)(r,t);if(!o)return;i=Object.keys(i).reduce((a,l)=>{const c=i[l];return a[l]=c==null?null:typeof c=="object"&&c.resolvedName?gk(c,t):l==="children"&&Array.isArray(c)?c.map(u=>typeof u=="string"?u:gk(u,t)):c,a},{});const s={...$t.createElement(o,{...i})};return{...s,name:jy(t,s.type)}},ale=(e,t)=>{const{type:n,props:r,...i}=e;In(n!==void 0&&typeof n=="string"||n!==void 0&&n.resolvedName!==void 0,Mae.replace("%displayName%",e.displayName).replace("%availableComponents%",Object.keys(t).join(", ")));const{type:o,name:s,props:a}=gk(e,t),{parent:l,custom:c,displayName:u,isCanvas:f,nodes:h,hidden:p}=i;return{type:o,name:s,displayName:u||s,props:a,custom:c||{},isCanvas:!!f,hidden:!!p,parent:l,linkedNodes:i.linkedNodes||i._childCanvas||{},nodes:h||[]}},lle=(e,t)=>{if(t.length<1)return{[e.id]:e};const n=t.map(({rootNodeId:i})=>i),r={...e,data:{...e.data,nodes:n}};return t.reduce((i,o)=>{const s=o.nodes[o.rootNodeId];return{...i,...o.nodes,[s.id]:{...s,data:{...s.data,parent:e.id}}}},{[e.id]:r})},cle=(e,t)=>({rootNodeId:e.id,nodes:lle(e,t)});function gD(e){const t=e&&e.options,n=()=>gD(e);return{getDropPlaceholder:(r,i,o,s=a=>e.nodes[a.id].dom)=>{const a=e.nodes[i],l=n().node(a.id).isCanvas()?a:e.nodes[a.data.parent];if(!l)return;const c=l.data.nodes||[],u=mD(l,c?c.reduce((p,v)=>{const g=s(e.nodes[v]);if(g){const b={id:v,...Pp(g)};p.push(b)}return p},[]):[],o.x,o.y),f=c.length&&e.nodes[c[u.index]],h={placement:{...u,currentNode:f},error:null};return ba(e.nodes,r).forEach(({node:p,exists:v})=>{v&&n().node(p.id).isDraggable(g=>h.error=g)}),n().node(l.id).isDroppable(r,p=>h.error=p),h},getOptions:()=>t,getNodes:()=>e.nodes,node:r=>mk(e,r),getSerializedNodes(){const r=Object.keys(e.nodes).map(i=>[i,this.node(i).toSerializedNode()]);return pD(r)},getEvent:r=>function(i,o){var s=i.events[o];return{contains:function(a){return s.has(a)},isEmpty:function(){return this.all().length===0},first:function(){return this.all()[0]},last:function(){var a=this.all();return a[a.length-1]},all:function(){return Array.from(s)},size:function(){return this.all().length},at:function(a){return this.all()[a]},raw:function(){return s}}}(e,r),serialize(){return JSON.stringify(this.getSerializedNodes())},parseReactElement:r=>({toNodeTree(i){let o=function(a,l){let c=a;return typeof c=="string"&&(c=$t.createElement(N.Fragment,{},c)),f3({data:{type:c.type,props:{...c.props}}},u=>{l&&l(u,c)})}(r,(a,l)=>{const c=jy(e.options.resolver,a.data.type);a.data.displayName=a.data.displayName||c,a.data.name=c,i&&i(a,l)}),s=[];return r.props&&r.props.children&&(s=$t.Children.toArray(r.props.children).reduce((a,l)=>($t.isValidElement(l)&&a.push(n().parseReactElement(l).toNodeTree(i)),a),[])),cle(o,s)}}),parseSerializedNode:r=>({toNode(i){const o=ale(r,e.options.resolver);In(o.type);const s=typeof i=="string"&&i;return s&&zl("query.parseSerializedNode(...).toNode(id)",{suggest:"query.parseSerializedNode(...).toNode(node => node.id = id)"}),n().parseFreshNode({...s?{id:s}:{},data:o}).toNode(!s&&i)}}),parseFreshNode:r=>({toNode:i=>f3(r,o=>{o.data.parent===G$&&(o.data.parent=Ia);const s=jy(e.options.resolver,o.data.type);In(s!==null),o.data.displayName=o.data.displayName||s,o.data.name=s,i&&i(o)})}),createNode(r,i){zl("query.createNode(".concat(r,")"),{suggest:"query.parseReactElement(".concat(r,").toNodeTree()")});const o=this.parseReactElement(r).toNodeTree(),s=o.nodes[o.rootNodeId];return i&&(i.id&&(s.id=i.id),i.data&&(s.data={...s.data,...i.data})),s},getState:()=>e}}var ule=function(e){pE(n,rD);var t=gE(n);function n(){return gx(this,n),t.apply(this,arguments)}return vx(n,[{key:"handlers",value:function(){return{connect:function(r,i){},select:function(r,i){},hover:function(r,i){},drag:function(r,i){},drop:function(r,i){},create:function(r,i,o){}}}}]),n}();(function(e){pE(n,Wae);var t=gE(n);function n(){return gx(this,n),t.apply(this,arguments)}return vx(n)})();var h3=function(e){e.preventDefault()},vk=function(){function e(t,n){gx(this,e),Nr(this,"store",void 0),Nr(this,"dragTarget",void 0),Nr(this,"currentDropTargetId",void 0),Nr(this,"currentDropTargetCanvasAncestorId",void 0),Nr(this,"currentIndicator",null),Nr(this,"currentTargetId",void 0),Nr(this,"currentTargetChildDimensions",void 0),Nr(this,"dragError",void 0),Nr(this,"draggedNodes",void 0),Nr(this,"onScrollListener",void 0),this.store=t,this.dragTarget=n,this.currentDropTargetId=null,this.currentDropTargetCanvasAncestorId=null,this.currentTargetId=null,this.currentTargetChildDimensions=null,this.currentIndicator=null,this.dragError=null,this.draggedNodes=this.getDraggedNodes(),this.validateDraggedNodes(),this.onScrollListener=this.onScroll.bind(this),window.addEventListener("scroll",this.onScrollListener,!0),window.addEventListener("dragover",h3,!1)}return vx(e,[{key:"cleanup",value:function(){window.removeEventListener("scroll",this.onScrollListener,!0),window.removeEventListener("dragover",h3,!1)}},{key:"onScroll",value:function(t){var n=t.target,r=this.store.query.node(Ia).get();n instanceof Element&&r&&r.dom&&n.contains(r.dom)&&(this.currentTargetChildDimensions=null)}},{key:"getDraggedNodes",value:function(){return ba(this.store.query.getNodes(),this.dragTarget.type==="new"?this.dragTarget.tree.nodes[this.dragTarget.tree.rootNodeId]:this.dragTarget.nodes)}},{key:"validateDraggedNodes",value:function(){var t=this;this.dragTarget.type!=="new"&&this.draggedNodes.forEach(function(n){n.exists&&t.store.query.node(n.node.id).isDraggable(function(r){t.dragError=r})})}},{key:"isNearBorders",value:function(t,n,r){return t.top+e.BORDER_OFFSET>r||t.bottom-e.BORDER_OFFSET<r||t.left+e.BORDER_OFFSET>n||t.right-e.BORDER_OFFSET<n}},{key:"isDiff",value:function(t){return!this.currentIndicator||this.currentIndicator.placement.parent.id!==t.parent.id||this.currentIndicator.placement.index!==t.index||this.currentIndicator.placement.where!==t.where}},{key:"getChildDimensions",value:function(t){var n=this,r=this.currentTargetChildDimensions;return this.currentTargetId===t.id&&r?r:t.data.nodes.reduce(function(i,o){var s=n.store.query.node(o).get().dom;return s&&i.push(Fn({id:o},Pp(s))),i},[])}},{key:"getCanvasAncestor",value:function(t){var n=this;if(t===this.currentDropTargetId&&this.currentDropTargetCanvasAncestorId){var r=this.store.query.node(this.currentDropTargetCanvasAncestorId).get();if(r)return r}return function i(o){var s=n.store.query.node(o).get();return s&&s.data.isCanvas?s:s.data.parent?i(s.data.parent):null}(t)}},{key:"computeIndicator",value:function(t,n,r){var i=this.getCanvasAncestor(t);if(i&&(this.currentDropTargetId=t,this.currentDropTargetCanvasAncestorId=i.id,i.data.parent&&this.isNearBorders(Pp(i.dom),n,r)&&!this.store.query.node(i.id).isLinkedNode()&&(i=this.store.query.node(i.data.parent).get()),i)){this.currentTargetChildDimensions=this.getChildDimensions(i),this.currentTargetId=i.id;var o=mD(i,this.currentTargetChildDimensions,n,r);if(this.isDiff(o)){var s=this.dragError;s||this.store.query.node(i.id).isDroppable(this.draggedNodes.map(function(c){return c.node}),function(c){s=c});var a=i.data.nodes[o.index],l=a&&this.store.query.node(a).get();return this.currentIndicator={placement:Fn(Fn({},o),{},{currentNode:l}),error:s},this.currentIndicator}}}},{key:"getIndicator",value:function(){return this.currentIndicator}}]),e}();Nr(vk,"BORDER_OFFSET",10);var p3=function(e,t){if(t.length===1||arguments.length>2&&arguments[2]!==void 0&&arguments[2]){var n=t[0].getBoundingClientRect(),r=n.width,i=n.height,o=t[0].cloneNode(!0);return o.style.position="absolute",o.style.left="-100%",o.style.top="-100%",o.style.width="".concat(r,"px"),o.style.height="".concat(i,"px"),o.style.pointerEvents="none",o.classList.add("drag-shadow"),document.body.appendChild(o),e.dataTransfer.setDragImage(o,0,0),o}var s=document.createElement("div");return s.style.position="absolute",s.style.left="-100%",s.style.top="-100%",s.style.width="100%",s.style.height="100%",s.style.pointerEvents="none",s.classList.add("drag-shadow-container"),t.forEach(function(a){var l=a.getBoundingClientRect(),c=l.width,u=l.height,f=l.top,h=l.left,p=a.cloneNode(!0);p.style.position="absolute",p.style.left="".concat(h,"px"),p.style.top="".concat(f,"px"),p.style.width="".concat(c,"px"),p.style.height="".concat(u,"px"),p.classList.add("drag-shadow"),s.appendChild(p)}),document.body.appendChild(s),e.dataTransfer.setDragImage(s,e.clientX,e.clientY),s},vD=function(e){pE(n,ule);var t=gE(n);function n(){var r;gx(this,n);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return Nr(ah(r=t.call.apply(t,[this].concat(o))),"draggedElementShadow",void 0),Nr(ah(r),"dragTarget",void 0),Nr(ah(r),"positioner",null),Nr(ah(r),"currentSelectedElementIds",[]),r}return vx(n,[{key:"onDisable",value:function(){this.options.store.actions.clearEvents()}},{key:"handlers",value:function(){var r=this,i=this.options.store;return{connect:function(o,s){return i.actions.setDOM(s,o),r.reflect(function(a){a.select(o,s),a.hover(o,s),a.drop(o,s)})},select:function(o,s){var a=r.addCraftEventListener(o,"mousedown",function(c){c.craft.stopPropagation();var u=[];if(s){var f=i.query,h=f.getEvent("selected").all();(r.options.isMultiSelectEnabled(c)||h.includes(s))&&(u=h.filter(function(p){var v=f.node(p).descendants(!0),g=f.node(p).ancestors(!0);return!v.includes(s)&&!g.includes(s)})),u.includes(s)||u.push(s)}i.actions.setNodeEvent("selected",u)}),l=r.addCraftEventListener(o,"click",function(c){c.craft.stopPropagation();var u=i.query.getEvent("selected").all(),f=r.options.isMultiSelectEnabled(c),h=r.currentSelectedElementIds.includes(s),p=Op(u);f&&h?(p.splice(p.indexOf(s),1),i.actions.setNodeEvent("selected",p)):!f&&u.length>1&&i.actions.setNodeEvent("selected",p=[s]),r.currentSelectedElementIds=p});return function(){a(),l()}},hover:function(o,s){var a=r.addCraftEventListener(o,"mouseover",function(c){c.craft.stopPropagation(),i.actions.setNodeEvent("hovered",s)}),l=null;return r.options.removeHoverOnMouseleave&&(l=r.addCraftEventListener(o,"mouseleave",function(c){c.craft.stopPropagation(),i.actions.setNodeEvent("hovered",null)})),function(){a(),l&&l()}},drop:function(o,s){var a=r.addCraftEventListener(o,"dragover",function(c){if(c.craft.stopPropagation(),c.preventDefault(),r.positioner){var u=r.positioner.computeIndicator(s,c.clientX,c.clientY);u&&i.actions.setIndicator(u)}}),l=r.addCraftEventListener(o,"dragenter",function(c){c.craft.stopPropagation(),c.preventDefault()});return function(){l(),a()}},drag:function(o,s){if(!i.query.node(s).isDraggable())return function(){};o.setAttribute("draggable","true");var a=r.addCraftEventListener(o,"dragstart",function(c){c.craft.stopPropagation();var u=i.query,f=i.actions,h=u.getEvent("selected").all(),p=r.options.isMultiSelectEnabled(c);r.currentSelectedElementIds.includes(s)||(h=p?[].concat(Op(h),[s]):[s],i.actions.setNodeEvent("selected",h)),f.setNodeEvent("dragged",h);var v=h.map(function(g){return u.node(g).get().dom});r.draggedElementShadow=p3(c,v,n.forceSingleDragShadow),r.dragTarget={type:"existing",nodes:h},r.positioner=new vk(r.options.store,r.dragTarget)}),l=r.addCraftEventListener(o,"dragend",function(c){c.craft.stopPropagation(),r.dropElement(function(u,f){u.type!=="new"&&i.actions.move(u.nodes,f.placement.parent.id,f.placement.index+(f.placement.where==="after"?1:0))})});return function(){o.setAttribute("draggable","false"),a(),l()}},create:function(o,s,a){o.setAttribute("draggable","true");var l=r.addCraftEventListener(o,"dragstart",function(u){var f;if(u.craft.stopPropagation(),typeof s=="function"){var h=s();f=$t.isValidElement(h)?i.query.parseReactElement(h).toNodeTree():h}else f=i.query.parseReactElement(s).toNodeTree();r.draggedElementShadow=p3(u,[u.currentTarget],n.forceSingleDragShadow),r.dragTarget={type:"new",tree:f},r.positioner=new vk(r.options.store,r.dragTarget)}),c=r.addCraftEventListener(o,"dragend",function(u){u.craft.stopPropagation(),r.dropElement(function(f,h){f.type!=="existing"&&(i.actions.addNodeTree(f.tree,h.placement.parent.id,h.placement.index+(h.placement.where==="after"?1:0)),a&&nne(a.onCreate)&&a.onCreate(f.tree))})});return function(){o.removeAttribute("draggable"),l(),c()}}}}},{key:"dropElement",value:function(r){var i=this.options.store;if(this.positioner){var o=this.draggedElementShadow,s=this.positioner.getIndicator();this.dragTarget&&s&&!s.error&&r(this.dragTarget,s),o&&(o.parentNode.removeChild(o),this.draggedElementShadow=null),this.dragTarget=null,i.actions.setIndicator(null),i.actions.setNodeEvent("dragged",null),this.positioner.cleanup(),this.positioner=null}}}]),n}();function dle(e,t,n){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2,i=0,o=0,s=0,a=0,l=e.where;return n?n.inFlow?(s=n.outerWidth,a=r,i=l==="before"?n.top:n.bottom,o=n.left):(s=r,a=n.outerHeight,i=n.top,o=l==="before"?n.left:n.left+n.outerWidth):t&&(i=t.top+t.padding.top,o=t.left+t.padding.left,s=t.outerWidth-t.padding.right-t.padding.left-t.margin.left-t.margin.right,a=r),{top:"".concat(i,"px"),left:"".concat(o,"px"),width:"".concat(s,"px"),height:"".concat(a,"px")}}Nr(vD,"forceSingleDragShadow",Yae()&&Kae());const fle=()=>{var i;const{indicator:e,indicatorOptions:t,enabled:n}=uu(o=>({indicator:o.indicator,indicatorOptions:o.options.indicator,enabled:o.options.enabled})),r=fD();return N.useEffect(()=>{r&&(n?r.enable():r.disable())},[n,r]),e?$t.createElement(qae,{className:t.className,style:{...dle(e.placement,Pp(e.placement.parent.dom),e.placement.currentNode&&Pp(e.placement.currentNode.dom),t.thickness),backgroundColor:e.error?t.error:t.success,transition:t.transition||"0.2s ease-in",...(i=t.style)!=null?i:{}},parentDom:e.placement.parent.dom}):null},hle=({children:e})=>{const t=N.useContext(vE),n=N.useMemo(()=>t.query.getOptions().handlers(t),[t]);return n?$t.createElement(dD.Provider,{value:n},$t.createElement(fle,null),e):null},m3={nodes:{},events:{dragged:new Set,selected:new Set,hovered:new Set},indicator:null,options:{onNodesChange:()=>null,onRender:({render:e})=>e,onBeforeMoveEnd:()=>null,resolver:{},enabled:!0,indicator:{error:"red",success:"rgb(98, 196, 98)"},handlers:e=>new vD({store:e,removeHoverOnMouseleave:!1,isMultiSelectEnabled:t=>!!t.metaKey}),normalizeNodes:()=>{}}},ple={methods:function(e,t){return Fn(Fn({},function(n,r){var i=function(a,l,c){if(function h(p,v){var g=a.nodes[p];typeof g.data.type!="string"&&In(n.options.resolver[g.data.name],X$.replace("%node_type%","".concat(g.data.type.name))),n.nodes[p]=Fn(Fn({},g),{},{data:Fn(Fn({},g.data),{},{parent:v})}),g.data.nodes.length>0&&(delete n.nodes[p].data.props.children,g.data.nodes.forEach(function(b){return h(b,g.id)})),Object.values(g.data.linkedNodes).forEach(function(b){return h(b,g.id)})}(a.rootNodeId,l),l||a.rootNodeId!==Ia){var u=o(l);if(c.type!=="child")u.data.linkedNodes[c.id]=a.rootNodeId;else{var f=c.index;f!=null?u.data.nodes.splice(f,0,a.rootNodeId):u.data.nodes.push(a.rootNodeId)}}},o=function(a){In(a);var l=n.nodes[a];return In(l),l},s=function a(l){var c=n.nodes[l],u=n.nodes[c.data.parent];if(c.data.nodes&&Op(c.data.nodes).forEach(function(p){return a(p)}),c.data.linkedNodes&&Object.values(c.data.linkedNodes).map(function(p){return a(p)}),u.data.nodes.includes(l)){var f=u.data.nodes;f.splice(f.indexOf(l),1)}else{var h=Object.keys(u.data.linkedNodes).find(function(p){return u.data.linkedNodes[p]===p});h&&delete u.data.linkedNodes[h]}(function(p,v){Object.keys(p.events).forEach(function(g){var b=p.events[g];b&&b.has&&b.has(v)&&(p.events[g]=new Set(Array.from(b).filter(function(m){return v!==m})))})})(n,l),delete n.nodes[l]};return{addLinkedNodeFromTree:function(a,l,c){var u=o(l).data.linkedNodes[c];u&&s(u),i(a,l,{type:"linked",id:c})},add:function(a,l,c){var u=[a];Array.isArray(a)&&(zl("actions.add(node: Node[])",{suggest:"actions.add(node: Node)"}),u=a),u.forEach(function(f){i({nodes:Nr({},f.id,f),rootNodeId:f.id},l,{type:"child",index:c})})},addNodeTree:function(a,l,c){i(a,l,{type:"child",index:c})},delete:function(a){ba(n.nodes,a,{existOnly:!0,idOnly:!0}).forEach(function(l){var c=l.node;In(!r.node(c.id).isTopLevelNode()),s(c.id)})},deserialize:function(a){var l=typeof a=="string"?JSON.parse(a):a,c=Object.keys(l).map(function(u){var f=u;return u===G$&&(f=Ia),[f,r.parseSerializedNode(l[u]).toNode(function(h){return h.id=f})]});this.replaceNodes(pD(c))},move:function(a,l,c){var u=ba(n.nodes,a,{existOnly:!0}),f=n.nodes[l],h=new Set;u.forEach(function(p,v){var g=p.node,b=g.id,m=g.data.parent;r.node(l).isDroppable([b],function(k){throw new Error(k)}),n.options.onBeforeMoveEnd(g,f,n.nodes[m]);var y=n.nodes[m].data.nodes;h.add(y);var x=y.indexOf(b);y[x]="$$",f.data.nodes.splice(c+v,0,b),n.nodes[b].data.parent=l}),h.forEach(function(p){var v=p.length;Op(p).reverse().forEach(function(g,b){g==="$$"&&p.splice(v-1-b,1)})})},replaceNodes:function(a){this.clearEvents(),n.nodes=a},clearEvents:function(){this.setNodeEvent("selected",null),this.setNodeEvent("hovered",null),this.setNodeEvent("dragged",null),this.setIndicator(null)},reset:function(){this.clearEvents(),this.replaceNodes({})},setOptions:function(a){a(n.options)},setNodeEvent:function(a,l){if(n.events[a].forEach(function(f){n.nodes[f]&&(n.nodes[f].events[a]=!1)}),n.events[a]=new Set,l){var c=ba(n.nodes,l,{idOnly:!0,existOnly:!0}),u=new Set(c.map(function(f){return f.node.id}));u.forEach(function(f){n.nodes[f].events[a]=!0}),n.events[a]=u}},setCustom:function(a,l){ba(n.nodes,a,{idOnly:!0,existOnly:!0}).forEach(function(c){return l(n.nodes[c.node.id].data.custom)})},setDOM:function(a,l){n.nodes[a]&&(n.nodes[a].dom=l)},setIndicator:function(a){a&&(!a.placement.parent.dom||a.placement.currentNode&&!a.placement.currentNode.dom)||(n.indicator=a)},setHidden:function(a,l){n.nodes[a].data.hidden=l},setProp:function(a,l){ba(n.nodes,a,{idOnly:!0,existOnly:!0}).forEach(function(c){return l(n.nodes[c.node.id].data.props)})},selectNode:function(a){if(a){var l=ba(n.nodes,a,{idOnly:!0,existOnly:!0});this.setNodeEvent("selected",l.map(function(c){return c.node.id}))}else this.setNodeEvent("selected",null);this.setNodeEvent("hovered",null)}}}(e,t)),{},{setState:function(n){var r=mE(this,ile);n(e,r)}})},ignoreHistoryForActions:["setDOM","setNodeEvent","selectNode","clearEvents","setOptions","setIndicator"],normalizeHistory:e=>{Object.keys(e.events).forEach(t=>{Array.from(e.events[t]||[]).forEach(n=>{e.nodes[n]||e.events[t].delete(n)})}),Object.keys(e.nodes).forEach(t=>{const n=e.nodes[t];Object.keys(n.events).forEach(r=>{n.events[r]&&e.events[r]&&!e.events[r].has(n.id)&&(n.events[r]=!1)})})}},mle=(e,t)=>Fae(ple,{...m3,options:{...m3.options,...e}},gD,t),gle=({children:e,...t})=>{t.resolver!==void 0&&In(typeof t.resolver=="object"&&!Array.isArray(t.resolver)&&t.resolver!==null);const n=N.useRef(t),r=mle(n.current,(i,o,s,a,l)=>{if(!s)return;const{patches:c,...u}=s;for(let f=0;f<c.length;f++){const{path:h}=c[f],p=h.length>2&&h[0]==="nodes"&&h[2]==="data";if([ir.IGNORE,ir.THROTTLE].includes(u.type)&&u.params&&(u.type=u.params[0]),["setState","deserialize"].includes(u.type)||p){l(v=>{i.options.normalizeNodes&&i.options.normalizeNodes(v,o,u,a)});break}}});return N.useEffect(()=>{r&&t.enabled!==void 0&&r.query.getOptions().enabled!==t.enabled&&r.actions.setOptions(i=>{i.enabled=t.enabled})},[r,t.enabled]),N.useEffect(()=>{r.subscribe(i=>({json:r.query.serialize()}),()=>{r.query.getOptions().onNodesChange(r.query)})},[r]),r?N.createElement(vE.Provider,{value:r},N.createElement(hle,null,e)):null};function Dd(){const{connectors:{connect:e,drag:t}}=Oi();return d.jsx("div",{ref:n=>e(t(n)),style:{height:1,width:"100%",backgroundColor:"white"}})}function vle(e){return d.jsx("div",{style:{height:1,width:"100%",backgroundColor:"white"}})}function yle(){const{actions:{setProp:e}}=Oi(t=>({}));return d.jsx("div",{})}Dd.craft={rules:{canDrag:e=>e.data.props.text!=="Drag"},related:{settings:yle}};const wE=({filters:e,placeholder:t,onSearch:n})=>{const[r,i]=N.useState(!1);return d.jsx("form",{className:"bg-fantasy-glass rounded-lg border border-fantasy-border",children:d.jsxs("div",{className:"flex relative",children:[d.jsx("label",{htmlFor:"search-dropdown",className:"sr-only",children:"Search"}),d.jsxs("div",{className:"flex relative w-full",children:[d.jsxs("button",{type:"submit",className:"p-2.5 text-sm font-medium h-full text-fantasy-text",children:[d.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",children:d.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"})}),d.jsx("span",{className:"sr-only",children:"Search"})]}),d.jsx("input",{type:"search",id:"search-dropdown",className:"block p-2.5 w-full bg-transparent z-20 text-sm text-fantasy-text placeholder:text-fantasy-text-muted focus:ring-fantasy-accent focus:ring-1 focus:outline-none focus:ring-fantasy-accent-dark",placeholder:t})]}),d.jsxs("button",{id:"dropdown-button",className:"shrink-0 z-10 inline-flex items-center py-2.5 px-4 text-sm font-medium text-center rounded-e-lg border-l border-fantasy-medium hover:bg-fantasy-light focus:ring-1 focus:outline-none focus:ring-fantasy-accent-dark",type:"button",onClick:()=>i(!r),children:["All"," ",d.jsx("svg",{className:"w-2.5 h-2.5 ms-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:d.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 1 4 4 4-4"})})]}),d.jsx("div",{id:"dropdown",className:"".concat(r?"":"hidden"," absolute top-full end-0 mt-3 z-10 bg-neutral-50 divide-y divide-neutral-100 rounded-lg shadow-sm w-44"),children:d.jsx("ul",{className:"py-2 text-sm text-neutral-700 dark:text-neutral-200","aria-labelledby":"dropdown-button",children:e.map(o=>d.jsx("li",{children:d.jsx("button",{type:"button",className:"inline-flex w-full px-4 py-2 hover:bg-neutral-100 dark:hover:bg-neutral-600 dark:hover:text-neutral-50",children:o.title})},o.title))})})]})})};function Fd({placeholder:e}){const{connectors:{connect:t,drag:n}}=Oi();return d.jsx("div",{ref:r=>t(n(r)),children:d.jsx(wE,{filters:[],placeholder:e,onSearch:()=>{}})})}function xle(){return d.jsx(wE,{filters:[],placeholder:"testing",onSearch:()=>{}})}function wle(){const{actions:{setProp:e},placeholder:t,blueprint:n}=Oi(r=>({placeholder:r.data.props.placeholder,blueprint:r.data.props.blueprint}));return d.jsx(d.Fragment,{children:d.jsx(en,{id:"searchbar-placeholder",label:"Placeholder",value:t,onChange:r=>e(i=>i.placeholder=r),isValid:!0,errorMessage:""})})}Fd.craft={rules:{},related:{settings:wle}};function ble({data:e,isOpen:t,requestClose:n,onSave:r,onDelete:i}){const[o,s]=N.useState(""),[a,l]=N.useState(""),[c,u]=N.useState({nodes:[],edges:[]});return N.useEffect(()=>{e&&(s(e.name),l(e.icon),u(e.blueprint))},[e]),d.jsxs(Vn,{isOpen:t,onClose:n,children:[d.jsx(Kn,{title:"Edit Button State",onClose:n}),d.jsxs(qn,{children:[d.jsx(en,{id:"character-name",label:"Character Name",placeholder:"Aliza Cartwight",value:o,onChange:f=>s(f),isValid:!0,errorMessage:"Names must be unique"}),d.jsx("p",{onClick:()=>Rt("blueprint",({id:f})=>d.jsx(Ai,{id:f,data:c,onSave:h=>u(h)})),children:"On Click Action"})]}),d.jsxs(yr,{children:[d.jsx(kt,{color:"danger",onClick:()=>{i(),n()},children:"Delete"}),d.jsx(kt,{color:"primary",onClick:()=>{r({name:o,icon:a,blueprint:c}),n()},children:"Update"})]})]})}const du=N.forwardRef(({buttons:e,onClick:t,isOpen:n=!1},r)=>d.jsxs("div",{className:"absolute right-6 bottom-6 group",ref:r,children:[d.jsx("div",{className:"".concat(n?"flex":"hidden"," flex-col items-center mb-4 space-y-2"),children:e==null?void 0:e.map(i=>d.jsxs("button",{onClick:i.onClick,type:"button",className:"relative w-[52px] h-[52px] text-neutral-500 bg-white rounded-lg border border-neutral-200 hover:text-neutral-900 dark:border-neutral-600 shadow-sm dark:hover:text-white dark:text-neutral-400 hover:bg-neutral-50 dark:bg-neutral-700 dark:hover:bg-neutral-600 focus:ring-4 focus:ring-neutral-300 focus:outline-none dark:focus:ring-neutral-400",children:[d.jsx("svg",{className:"w-5 h-5 mx-auto","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 18",children:d.jsx("path",{d:"M14.419 10.581a3.564 3.564 0 0 0-2.574 1.1l-4.756-2.49a3.54 3.54 0 0 0 .072-.71 3.55 3.55 0 0 0-.043-.428L11.67 6.1a3.56 3.56 0 1 0-.831-2.265c.006.143.02.286.043.428L6.33 6.218a3.573 3.573 0 1 0-.175 4.743l4.756 2.491a3.58 3.58 0 1 0 3.508-2.871Z"})}),d.jsx("span",{className:"absolute block mb-px text-sm font-medium -translate-x-[100%] -translate-y-1/2 -start-3 top-1/2 shadow-black",children:i.name})]},i.name))}),d.jsxs("button",{id:"floating-action-button",onClick:()=>t?t():null,type:"button",className:"flex items-center justify-center bg-gradient-to-br from-fantasy-accent/20 to-fantasy-accent-dark/10 border border-fantasy-accent/30 rounded-lg w-14 h-14 transition-all duration-500 backdrop-blur-lg shadow-2xl hover:-translate-y-2 hover:shadow-fantasy-accent/20 hover:shadow-xl hover:border-fantasy-accent/40",children:[d.jsx("svg",{className:"".concat(!t&&"group-hover:rotate-45 transition-transform"," w-5 h-5"),"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:d.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 1v16M1 9h16"})}),d.jsx("span",{className:"sr-only",children:"Open actions menu"})]})]}));function Ld({buttons:e}){const{connectors:{connect:t,drag:n}}=Oi();return d.jsx(du,{ref:r=>t(n(r)),buttons:e==null?void 0:e.map(r=>({name:r.name,icon:r.icon,onClick:()=>{}})),isOpen:!0})}function _le({blueprint:e,isList:t,buttons:n,state:r,updateState:i}){const o=tf(),[s,a]=N.useState(!1),l=N.useCallback(()=>{if(t)return a(!s);new cs(e).processBlueprint(o,r,i)},[e,o,r,i,s,t]);return d.jsx(du,{isOpen:s,onClick:l,buttons:n==null?void 0:n.map(c=>({name:c.name,icon:c.icon,onClick:()=>new cs(c.blueprint).processBlueprint(o,r,i)}))})}function kle(){const{actions:{setProp:e},isList:t,buttons:n,blueprint:r}=Oi(s=>({isList:s.data.props.isList,buttons:s.data.props.buttons,blueprint:s.data.props.blueprint})),[i,o]=N.useState(null);return d.jsxs("div",{children:[d.jsx(vr,{id:"isList",label:"is List?",checked:t,onChange:s=>e(a=>a.isList=s)}),t?d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[d.jsx("h5",{style:{marginLeft:10},children:"Buttons"}),d.jsx("div",{children:d.jsxs("button",{type:"button",className:"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center me-2 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",onClick:()=>e(s=>(s.buttons.find(a=>a.name==="new button")||s.buttons.push({name:"new button",icon:"",blueprint:{nodes:Mr(),edges:[]}}),s)),children:[d.jsx("svg",{className:"group-hover:rotate-45 transition-transform w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:d.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 1v16M1 9h16"})}),d.jsx("span",{className:"sr-only",children:"Icon description"})]})})]}),d.jsx(nf,{}),n.map(s=>d.jsx("p",{onClick:()=>o(s),children:s.name},s.name)),d.jsx(ble,{data:i,isOpen:i!==null,requestClose:()=>o(null),onSave:s=>e(a=>{for(let l=0;l<a.buttons.length;l++)a.buttons[l].name===i.name&&(a.buttons[l]=s);return a}),onDelete:()=>e(s=>s.buttons=s.buttons.filter(a=>a.name!==i.name))})]}):d.jsx("p",{onClick:()=>Rt("blueprint",({id:s})=>d.jsx(Ai,{id:s,data:r,onSave:a=>e(l=>l.blueprint=a)})),children:"On Click"})]})}const Sle={defaultProps:{isList:!1,buttons:[],blueprint:{nodes:Mr(),edges:[]}},related:{settings:kle}};Ld.craft=Sle;const Ele=e=>{const t=tf(),[n,r]=N.useState("default"),i=N.useMemo(()=>{var l;return e.dynamicOptions?(l=new cs(e.optionsBlueprint).processBlueprint(t,e.state,e.updateState))!=null?l:[]:e.options},[t,e.state,e.updateState]),o=N.useCallback(s=>{new cs(e.onChange).processBlueprint({...t,selectedValue:s},e.state,e.updateState)},[e.onChange,t,e.state,e.updateState]);return d.jsxs(ft,{style:{marginTop:Ke.spacing[e.marginTop],marginRight:Ke.spacing[e.marginRight],marginBottom:Ke.spacing[e.marginBottom],marginLeft:Ke.spacing[e.marginLeft],width:Ke.size[e.width],maxWidth:Ke.size[e.maxWidth],minWidth:Ke.size[e.minWidth]},id:e.label,label:e.label,value:n,onChange:s=>{r(s),o(i.find(a=>a.name===s))},children:[d.jsx("option",{disabled:!0,value:"default",children:"Select an option..."}),i.map(s=>d.jsx("option",{value:s.name,children:s.name},s.name))]})},Cle=e=>{const t=tf(),n=N.useMemo(()=>new cs(e.getValue).processBlueprint(t,e.state,e.updateState),[e.getValue,t,e.state,e.updateState]),r=N.useCallback(i=>{new cs(e.onChange).processBlueprint({...t,"field value":i},e.state,e.updateState)},[e.onChange,t,e.state,e.updateState]);return d.jsx(en,{style:{marginTop:Ke.spacing[e.marginTop],marginRight:Ke.spacing[e.marginRight],marginBottom:Ke.spacing[e.marginBottom],marginLeft:Ke.spacing[e.marginLeft],width:Ke.size[e.width],maxWidth:Ke.size[e.maxWidth],minWidth:Ke.size[e.minWidth]},id:e.label,label:e.label,type:e.type,minNumber:e.minNumber,maxNumber:e.maxNumber,value:n,onChange:i=>r(i),isValid:!0,errorMessage:""})},yD=({data:e,style:t,state:n,updateState:r})=>d.jsx("div",{style:t,children:d.jsx(jO,{localData:[],children:d.jsx(xD,{node:e.ROOT,data:e,state:n,updateState:r})})}),xD=({node:e,data:t,state:n,updateState:r})=>{const i=typeof e.type=="object"?e.type.resolvedName:e.type,o=e.nodes.map(s=>d.jsx(xD,{node:t[s],data:t,state:n,updateState:r},s));switch(i){case"Container":return d.jsx($ee,{...e.props,state:n,updateState:r,children:o});case"Text":return d.jsx(Dee,{...e.props,state:n,updateState:r});case"DesignerDivider":return d.jsx(vle,{...e.props,state:n,updateState:r});case"FAB":return d.jsx(_le,{...e.props,state:n,updateState:r});case"Select":return d.jsx(Ele,{...e.props,state:n,updateState:r});case"TextInput":return d.jsx(Cle,{...e.props,state:n,updateState:r});case"Searchbar":return d.jsx(xle,{});default:return d.jsxs("h1",{children:["No component for type ",i]})}};function wD(){const e=na(async()=>(await it.characters.toArray()).filter(n=>!n.deleted_at),[]);return{characters:e||[],isLoading:e===void 0}}const bD=Xe.object({id:Xe.string({invalid_type_error:"id must be a string"}).optional(),local_id:Xe.string({invalid_type_error:"local_id must be a string"}).max(73,"local_id must be 73 characters or less"),user_id:Xe.string({invalid_type_error:"user_id must be a string"}),name:Xe.string(),data:Xe.object({}),system:Xe.object({local_id:Xe.string(),version_id:Xe.string()}),version:Xe.string().optional(),datapacks:Xe.array(Xe.object({pack_id:Xe.string(),version_id:Xe.string()})),created_at:Xe.string().datetime({offset:!0}),updated_at:Xe.string().datetime({offset:!0}),deleted_at:Xe.string().datetime({offset:!0}).optional()}),jle=async(e,t,n,r)=>{try{const{user:i}=Er.get(),o=(i==null?void 0:i.id)||"none";let s=await _n();for(;!await Ni(s);)s=await _n();const a={local_id:s,user_id:o,name:e,data:t,system:n,datapacks:r,created_at:new Date().toISOString(),updated_at:new Date().toISOString()},l=bD.safeParse(a);if(!l.success){console.log("Invalid character data:",l.error.format());return}let c=await Sn.get("updated_characters")||[];return c.includes(a.local_id)||await Sn.set("updated_characters",[...c,a.local_id]),await it.characters.add(a)}catch(i){Un("Error creating Character.","error"),console.log("Error creating character:",i)}},Nle=async(e,t)=>{try{let n=await Sn.get("updated_characters")||[];return n.includes(e)||await Sn.set("updated_characters",[...n,e]),await it.characters.update(e,{name:t,updated_at:new Date().toISOString()})}catch(n){console.log("Error renaming character:",n)}},Ale=async(e,t)=>{try{let n=await Sn.get("updated_characters")||[];return n.includes(e)||await Sn.set("updated_characters",[...n,e]),await it.characters.update(e,{data:t,updated_at:new Date().toISOString()})}catch(n){console.log("Error updating character data:",n)}},Tle=async e=>{try{let t=await Sn.get("updated_characters")||[];return t.includes(e)||await Sn.set("updated_characters",[...t,e]),await it.characters.update(e,{deleted_at:new Date().toISOString(),updated_at:new Date().toISOString()})}catch(t){console.log("Error deleting character:",t)}},Rle=async e=>{try{let t=e.local_id||"deviceId-".concat(ES());if(await it.characters.get({id:e.id||""})!==void 0){console.log("Character already exists in the database");return}if(await it.characters.get({local_id:t})!==void 0){console.log("Character already exists in the database");return}if(!await it.systems.get({local_id:e.system.local_id})){console.log("System not found in the database");return}const i={...e,updated_at:new Date().toISOString()};{const o=bD.safeParse(i);if(!o.success){console.log("Invalid character data:",o.error.format());return}}return await it.characters.add(i)}catch(t){console.log("Error creating system:",t)}};var ts,Me=typeof window<"u"?window:void 0,Wi=typeof globalThis<"u"?globalThis:Me,_D=Array.prototype,g3=_D.forEach,v3=_D.indexOf,co=Wi==null?void 0:Wi.navigator,bt=Wi==null?void 0:Wi.document,Fi=Wi==null?void 0:Wi.location,yk=Wi==null?void 0:Wi.fetch,xk=Wi!=null&&Wi.XMLHttpRequest&&"withCredentials"in new Wi.XMLHttpRequest?Wi.XMLHttpRequest:void 0,y3=Wi==null?void 0:Wi.AbortController,$i=co==null?void 0:co.userAgent,Gt=Me!=null?Me:{},_a={DEBUG:!1,LIB_VERSION:"1.240.5"},Mb="$copy_autocapture",Ile=["$snapshot","$pageview","$pageleave","$set","survey dismissed","survey sent","survey shown","$identify","$groupidentify","$create_alias","$$client_ingestion_warning","$web_experiment_applied","$feature_enrollment_update","$feature_flag_called"];(function(e){e.GZipJS="gzip-js",e.Base64="base64"})(ts||(ts={}));var Ple=["fatal","error","warning","log","info","debug"];function sn(e,t){return e.indexOf(t)!==-1}var xx=function(e){return e.trim()},wk=function(e){return e.replace(/^\$/,"")},Ole=Array.isArray,kD=Object.prototype,SD=kD.hasOwnProperty,wx=kD.toString,sr=Ole||function(e){return wx.call(e)==="[object Array]"},Io=e=>typeof e=="function",ar=e=>e===Object(e)&&!sr(e),Xu=e=>{if(ar(e)){for(var t in e)if(SD.call(e,t))return!1;return!0}return!1},vt=e=>e===void 0,Sr=e=>wx.call(e)=="[object String]",bk=e=>Sr(e)&&e.trim().length===0,Xl=e=>e===null,xn=e=>vt(e)||Xl(e),li=e=>wx.call(e)=="[object Number]",Ca=e=>wx.call(e)==="[object Boolean]",Mle=e=>e instanceof FormData,$le=e=>sn(Ile,e),ED=e=>{var t={t:function(n){if(Me&&(_a.DEBUG||Gt.POSTHOG_DEBUG)&&!vt(Me.console)&&Me.console){for(var r=("__rrweb_original__"in Me.console[n])?Me.console[n].__rrweb_original__:Me.console[n],i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];r(e,...o)}},info:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.t("log",...r)},warn:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.t("warn",...r)},error:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];t.t("error",...r)},critical:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];console.error(e,...r)},uninitializedWarning:n=>{t.error("You must initialize PostHog before calling "+n)},createLogger:n=>ED(e+" "+n)};return t},jt=ED("[PostHog.js]"),gi=jt.createLogger,Dle=gi("[ExternalScriptsLoader]"),x3=(e,t,n)=>{if(e.config.disable_external_dependency_loading)return Dle.warn(t+" was requested but loading of external scripts is disabled."),n("Loading of external scripts is disabled");var r=bt==null?void 0:bt.querySelectorAll("script");if(r){for(var i=0;i<r.length;i++)if(r[i].src===t)return n()}var o=()=>{if(!bt)return n("document not found");var s=bt.createElement("script");if(s.type="text/javascript",s.crossOrigin="anonymous",s.src=t,s.onload=c=>n(void 0,c),s.onerror=c=>n(c),e.config.prepare_external_dependency_script&&(s=e.config.prepare_external_dependency_script(s)),!s)return n("prepare_external_dependency_script returned null");var a,l=bt.querySelectorAll("body > script");l.length>0?(a=l[0].parentNode)==null||a.insertBefore(s,l[0]):bt.body.appendChild(s)};bt!=null&&bt.body?o():bt==null||bt.addEventListener("DOMContentLoaded",o)};function xt(){return xt=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xt.apply(this,arguments)}function CD(e,t){if(e==null)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}Gt.__PosthogExtensions__=Gt.__PosthogExtensions__||{},Gt.__PosthogExtensions__.loadExternalDependency=(e,t,n)=>{var r="/static/"+t+".js?v="+e.version;if(t==="remote-config"&&(r="/array/"+e.config.token+"/config.js"),t==="toolbar"){var i=3e5;r=r+"&t="+Math.floor(Date.now()/i)*i}var o=e.requestRouter.endpointFor("assets",r);x3(e,o,n)},Gt.__PosthogExtensions__.loadSiteApp=(e,t,n)=>{var r=e.requestRouter.endpointFor("api",t);x3(e,r,n)};var Ny={};function Tl(e,t,n){if(sr(e)){if(g3&&e.forEach===g3)e.forEach(t,n);else if("length"in e&&e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r)===Ny)return}}}function Nn(e,t,n){if(!xn(e)){if(sr(e))return Tl(e,t,n);if(Mle(e)){for(var r of e.entries())if(t.call(n,r[1],r[0])===Ny)return}else for(var i in e)if(SD.call(e,i)&&t.call(n,e[i],i)===Ny)return}}var br=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Tl(n,function(i){for(var o in i)i[o]!==void 0&&(e[o]=i[o])}),e},bx=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Tl(n,function(i){Tl(i,function(o){e.push(o)})}),e};function uv(e){for(var t=Object.keys(e),n=t.length,r=new Array(n);n--;)r[n]=[t[n],e[t[n]]];return r}var w3=function(e){try{return e()}catch(t){return}},Fle=function(e){return function(){try{for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(this,n)}catch(i){jt.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),jt.critical(i)}}},bE=function(e){var t={};return Nn(e,function(n,r){(Sr(n)&&n.length>0||li(n))&&(t[r]=n)}),t};function Lle(e,t){return n=e,r=o=>Sr(o)&&!Xl(t)?o.slice(0,t):o,i=new Set,function o(s,a){return s!==Object(s)?r?r(s,a):s:i.has(s)?void 0:(i.add(s),sr(s)?(l=[],Tl(s,c=>{l.push(o(c))})):(l={},Nn(s,(c,u)=>{i.has(c)||(l[u]=o(c,u))})),l);var l}(n);var n,r,i}var Ble=["herokuapp.com","vercel.app","netlify.app"];function zle(e){var t=e==null?void 0:e.hostname;if(!Sr(t))return!1;var n=t.split(".").slice(-2).join(".");for(var r of Ble)if(n===r)return!1;return!0}function jD(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}function Jn(e,t,n,r){var{capture:i=!1,passive:o=!0}=r!=null?r:{};e==null||e.addEventListener(t,n,{capture:i,passive:o})}var ND="$people_distinct_id",lh="__alias",ch="__timers",b3="$autocapture_disabled_server_side",_k="$heatmaps_enabled_server_side",_3="$exception_capture_enabled_server_side",k3="$web_vitals_enabled_server_side",AD="$dead_clicks_enabled_server_side",S3="$web_vitals_allowed_metrics",kk="$session_recording_enabled_server_side",E3="$console_log_recording_enabled_server_side",C3="$session_recording_network_payload_capture",j3="$session_recording_masking",N3="$session_recording_canvas_recording",A3="$replay_sample_rate",T3="$replay_minimum_duration",R3="$replay_script_config",Ay="$sesid",uh="$session_is_sampled",Sk="$session_recording_url_trigger_activated_session",Ek="$session_recording_event_trigger_activated_session",Ju="$enabled_feature_flags",dv="$early_access_features",Ck="$feature_flag_details",dh="$stored_person_properties",vc="$stored_group_properties",jk="$surveys",xg="$surveys_activated",Ty="$flag_call_reported",pa="$user_state",Nk="$client_session_props",Ak="$capture_rate_limit",Tk="$initial_campaign_params",Rk="$initial_referrer_info",Ik="$initial_person_info",Ry="$epp",TD="__POSTHOG_TOOLBAR__",I3="$posthog_cookieless",Hle=[ND,lh,"__cmpns",ch,kk,_k,Ay,Ju,pa,dv,Ck,vc,dh,jk,Ty,Nk,Ak,Tk,Rk,Ry];function P3(e){return e instanceof Element&&(e.id===TD||!(e.closest==null||!e.closest(".toolbar-global-fade-container")))}function _x(e){return!!e&&e.nodeType===1}function Rl(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function RD(e){return!!e&&e.nodeType===3}function ID(e){return!!e&&e.nodeType===11}function _E(e){return e?xx(e).split(/\s+/):[]}function O3(e){var t=Me==null?void 0:Me.location.href;return!!(t&&e&&e.some(n=>t.match(n)))}function Iy(e){var t="";switch(typeof e.className){case"string":t=e.className;break;case"object":t=(e.className&&"baseVal"in e.className?e.className.baseVal:null)||e.getAttribute("class")||"";break;default:t=""}return _E(t)}function PD(e){return xn(e)?null:xx(e).split(/(\s+)/).filter(t=>Bd(t)).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255)}function kx(e){var t="";return Ok(e)&&!$D(e)&&e.childNodes&&e.childNodes.length&&Nn(e.childNodes,function(n){var r;RD(n)&&n.textContent&&(t+=(r=PD(n.textContent))!==null&&r!==void 0?r:"")}),xx(t)}function OD(e){return vt(e.target)?e.srcElement||null:(t=e.target)!=null&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var Pk=["a","button","form","input","select","textarea","label"];function MD(e){var t=e.parentNode;return!(!t||!_x(t))&&t}function Wle(e,t,n,r,i){var o,s,a;if(n===void 0&&(n=void 0),!Me||!e||Rl(e,"html")||!_x(e)||(o=n)!=null&&o.url_allowlist&&!O3(n.url_allowlist)||(s=n)!=null&&s.url_ignorelist&&O3(n.url_ignorelist))return!1;if((a=n)!=null&&a.dom_event_allowlist){var l=n.dom_event_allowlist;if(l&&!l.some(b=>t.type===b))return!1}for(var c=!1,u=[e],f=!0,h=e;h.parentNode&&!Rl(h,"body");)if(ID(h.parentNode))u.push(h.parentNode.host),h=h.parentNode.host;else{if(!(f=MD(h)))break;if(r||Pk.indexOf(f.tagName.toLowerCase())>-1)c=!0;else{var p=Me.getComputedStyle(f);p&&p.getPropertyValue("cursor")==="pointer"&&(c=!0)}u.push(f),h=f}if(!function(b,m){var y=m==null?void 0:m.element_allowlist;if(vt(y))return!0;var x=function(E){if(y.some(T=>E.tagName.toLowerCase()===T))return{v:!0}};for(var k of b){var S=x(k);if(typeof S=="object")return S.v}return!1}(u,n)||!function(b,m){var y=m==null?void 0:m.css_selector_allowlist;if(vt(y))return!0;var x=function(E){if(y.some(T=>E.matches(T)))return{v:!0}};for(var k of b){var S=x(k);if(typeof S=="object")return S.v}return!1}(u,n))return!1;var v=Me.getComputedStyle(e);if(v&&v.getPropertyValue("cursor")==="pointer"&&t.type==="click")return!0;var g=e.tagName.toLowerCase();switch(g){case"html":return!1;case"form":return(i||["submit"]).indexOf(t.type)>=0;case"input":case"select":case"textarea":return(i||["change","click"]).indexOf(t.type)>=0;default:return c?(i||["click"]).indexOf(t.type)>=0:(i||["click"]).indexOf(t.type)>=0&&(Pk.indexOf(g)>-1||e.getAttribute("contenteditable")==="true")}}function Ok(e){for(var t=e;t.parentNode&&!Rl(t,"body");t=t.parentNode){var n=Iy(t);if(sn(n,"ph-sensitive")||sn(n,"ph-no-capture"))return!1}if(sn(Iy(e),"ph-include"))return!0;var r=e.type||"";if(Sr(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=e.name||e.id||"";return!(Sr(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function $D(e){return!!(Rl(e,"input")&&!["button","checkbox","submit","reset"].includes(e.type)||Rl(e,"select")||Rl(e,"textarea")||e.getAttribute("contenteditable")==="true")}var DD="(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})",Ule=new RegExp("^(?:"+DD+")$"),Vle=new RegExp(DD),FD="\\d{3}-?\\d{2}-?\\d{4}",qle=new RegExp("^("+FD+")$"),Kle=new RegExp("("+FD+")");function Bd(e,t){return t===void 0&&(t=!0),!(xn(e)||Sr(e)&&(e=xx(e),(t?Ule:Vle).test((e||"").replace(/[- ]/g,""))||(t?qle:Kle).test(e)))}function LD(e){var t=kx(e);return Bd(t=(t+" "+BD(e)).trim())?t:""}function BD(e){var t="";return e&&e.childNodes&&e.childNodes.length&&Nn(e.childNodes,function(n){var r;if(n&&((r=n.tagName)==null?void 0:r.toLowerCase())==="span")try{var i=kx(n);t=(t+" "+i).trim(),n.childNodes&&n.childNodes.length&&(t=(t+" "+BD(n)).trim())}catch(o){jt.error("[AutoCapture]",o)}}),t}function Yle(e){return function(t){var n=t.map(r=>{var i,o,s="";if(r.tag_name&&(s+=r.tag_name),r.attr_class)for(var a of(r.attr_class.sort(),r.attr_class))s+="."+a.replace(/"/g,"");var l=xt({},r.text?{text:r.text}:{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(o=r.nth_of_type)!==null&&o!==void 0?o:0},r.href?{href:r.href}:{},r.attr_id?{attr_id:r.attr_id}:{},r.attributes),c={};return uv(l).sort((u,f)=>{var[h]=u,[p]=f;return h.localeCompare(p)}).forEach(u=>{var[f,h]=u;return c[M3(f.toString())]=M3(h.toString())}),s+=":",s+=uv(l).map(u=>{var[f,h]=u;return f+'="'+h+'"'}).join("")});return n.join(";")}(function(t){return t.map(n=>{var r,i,o={text:(r=n.$el_text)==null?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)==null?void 0:i.slice(0,2048),attr_class:Gle(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return uv(n).filter(s=>{var[a]=s;return a.indexOf("attr__")===0}).forEach(s=>{var[a,l]=s;return o.attributes[a]=l}),o})}(e))}function M3(e){return e.replace(/"|\\"/g,'\\"')}function Gle(e){var t=e.attr__class;return t?sr(t)?t:_E(t):void 0}class zD{constructor(){this.clicks=[]}isRageClick(t,n,r){var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(t-i.x)+Math.abs(n-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:t,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:t,y:n,timestamp:r}];return!1}}var Xle=["localhost","127.0.0.1"],zd=e=>{var t=bt==null?void 0:bt.createElement("a");return vt(t)?null:(t.href=e,t)},Jle=function(e,t){var n,r;t===void 0&&(t="&");var i=[];return Nn(e,function(o,s){vt(o)||vt(s)||s==="undefined"||(n=encodeURIComponent((a=>a instanceof File)(o)?o.name:o.toString()),r=encodeURIComponent(s),i[i.length]=r+"="+n)}),i.join(t)},Py=function(e,t){for(var n,r=((e.split("#")[0]||"").split(/\?(.*)/)[1]||"").replace(/^\?+/g,"").split("&"),i=0;i<r.length;i++){var o=r[i].split("=");if(o[0]===t){n=o;break}}if(!sr(n)||n.length<2)return"";var s=n[1];try{s=decodeURIComponent(s)}catch(a){jt.error("Skipping decoding for malformed query param: "+s)}return s.replace(/\+/g," ")},kE=function(e,t,n){if(!e||!t||!t.length)return e;for(var r=e.split("#"),i=r[0]||"",o=r[1],s=i.split("?"),a=s[1],l=s[0],c=(a||"").split("&"),u=[],f=0;f<c.length;f++){var h=c[f].split("=");sr(h)&&(t.includes(h[0])?u.push(h[0]+"="+n):u.push(c[f]))}var p=l;return a!=null&&(p+="?"+u.join("&")),o!=null&&(p+="#"+o),p},Oy=function(e,t){var n=e.match(new RegExp(t+"=([^&]*)"));return n?n[1]:null},$3=gi("[AutoCapture]");function $b(e,t){return t.length>e?t.slice(0,e)+"...":t}function Qle(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do t=t.previousSibling;while(t&&!_x(t));return t}function Zle(e,t,n,r){var i=e.tagName.toLowerCase(),o={tag_name:i};Pk.indexOf(i)>-1&&!n&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?o.$el_text=$b(1024,LD(e)):o.$el_text=$b(1024,kx(e)));var s=Iy(e);s.length>0&&(o.classes=s.filter(function(u){return u!==""})),Nn(e.attributes,function(u){var f;if((!$D(e)||["name","id","class","aria-label"].indexOf(u.name)!==-1)&&(r==null||!r.includes(u.name))&&!t&&Bd(u.value)&&(f=u.name,!Sr(f)||f.substring(0,10)!=="_ngcontent"&&f.substring(0,7)!=="_nghost")){var h=u.value;u.name==="class"&&(h=_E(h).join(" ")),o["attr__"+u.name]=$b(1024,h)}});for(var a=1,l=1,c=e;c=Qle(c);)a++,c.tagName===e.tagName&&l++;return o.nth_child=a,o.nth_of_type=l,o}function ece(e,t){for(var n,r,{e:i,maskAllElementAttributes:o,maskAllText:s,elementAttributeIgnoreList:a,elementsChainAsString:l}=t,c=[e],u=e;u.parentNode&&!Rl(u,"body");)ID(u.parentNode)?(c.push(u.parentNode.host),u=u.parentNode.host):(c.push(u.parentNode),u=u.parentNode);var f,h=[],p={},v=!1,g=!1;if(Nn(c,k=>{var S=Ok(k);k.tagName.toLowerCase()==="a"&&(v=k.getAttribute("href"),v=S&&v&&Bd(v)&&v),sn(Iy(k),"ph-no-capture")&&(g=!0),h.push(Zle(k,o,s,a));var E=function(T){if(!Ok(T))return{};var M={};return Nn(T.attributes,function(W){if(W.name&&W.name.indexOf("data-ph-capture-attribute")===0){var F=W.name.replace("data-ph-capture-attribute-",""),L=W.value;F&&L&&Bd(L)&&(M[F]=L)}}),M}(k);br(p,E)}),g)return{props:{},explicitNoCapture:g};if(s||(e.tagName.toLowerCase()==="a"||e.tagName.toLowerCase()==="button"?h[0].$el_text=LD(e):h[0].$el_text=kx(e)),v){var b,m;h[0].attr__href=v;var y=(b=zd(v))==null?void 0:b.host,x=Me==null||(m=Me.location)==null?void 0:m.host;y&&x&&y!==x&&(f=v)}return{props:br({$event_type:i.type,$ce_version:1},l?{}:{$elements:h},{$elements_chain:Yle(h)},(n=h[0])!=null&&n.$el_text?{$el_text:(r=h[0])==null?void 0:r.$el_text}:{},f&&i.type==="click"?{$external_click_url:f}:{},p)}}class tce{constructor(t){this.i=!1,this.o=null,this.rageclicks=new zD,this.h=!1,this.instance=t,this.m=null}get S(){var t,n,r=ar(this.instance.config.autocapture)?this.instance.config.autocapture:{};return r.url_allowlist=(t=r.url_allowlist)==null?void 0:t.map(i=>new RegExp(i)),r.url_ignorelist=(n=r.url_ignorelist)==null?void 0:n.map(i=>new RegExp(i)),r}$(){if(this.isBrowserSupported()){if(Me&&bt){var t=r=>{r=r||(Me==null?void 0:Me.event);try{this.k(r)}catch(i){$3.error("Failed to capture event",i)}};if(Jn(bt,"submit",t,{capture:!0}),Jn(bt,"change",t,{capture:!0}),Jn(bt,"click",t,{capture:!0}),this.S.capture_copied_text){var n=r=>{r=r||(Me==null?void 0:Me.event),this.k(r,Mb)};Jn(bt,"copy",n,{capture:!0}),Jn(bt,"cut",n,{capture:!0})}}}else $3.info("Disabling Automatic Event Collection because this browser is not supported")}startIfEnabled(){this.isEnabled&&!this.i&&(this.$(),this.i=!0)}onRemoteConfig(t){t.elementsChainAsString&&(this.h=t.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[b3]:!!t.autocapture_opt_out}),this.o=!!t.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(t){this.m=t}getElementSelectors(t){var n,r=[];return(n=this.m)==null||n.forEach(i=>{var o=bt==null?void 0:bt.querySelectorAll(i);o==null||o.forEach(s=>{t===s&&r.push(i)})}),r}get isEnabled(){var t,n,r=(t=this.instance.persistence)==null?void 0:t.props[b3],i=this.o;if(Xl(i)&&!Ca(r)&&!this.instance.config.advanced_disable_decide)return!1;var o=(n=this.o)!==null&&n!==void 0?n:!!r;return!!this.instance.config.autocapture&&!o}k(t,n){if(n===void 0&&(n="$autocapture"),this.isEnabled){var r,i=OD(t);RD(i)&&(i=i.parentNode||null),n==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&this.instance.config.rageclick&&(r=this.rageclicks)!=null&&r.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this.k(t,"$rageclick");var o=n===Mb;if(i&&Wle(i,t,this.S,o,o?["copy","cut"]:void 0)){var{props:s,explicitNoCapture:a}=ece(i,{e:t,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.S.element_attribute_ignorelist,elementsChainAsString:this.h});if(a)return!1;var l=this.getElementSelectors(i);if(l&&l.length>0&&(s.$element_selectors=l),n===Mb){var c,u=PD(Me==null||(c=Me.getSelection())==null?void 0:c.toString()),f=t.type||"clipboard";if(!u)return!1;s.$selected_content=u,s.$copy_type=f}return this.instance.capture(n,s),!0}}}isBrowserSupported(){return Io(bt==null?void 0:bt.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return li(e)&&isFinite(e)&&Math.floor(e)===e});var D3="0123456789abcdef";class My{constructor(t){if(this.bytes=t,t.length!==16)throw new TypeError("not 128-bit length")}static fromFieldsV7(t,n,r,i){if(!Number.isInteger(t)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||t<0||n<0||r<0||i<0||t>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var o=new Uint8Array(16);return o[0]=t/Math.pow(2,40),o[1]=t/Math.pow(2,32),o[2]=t/Math.pow(2,24),o[3]=t/Math.pow(2,16),o[4]=t/Math.pow(2,8),o[5]=t,o[6]=112|n>>>8,o[7]=n,o[8]=128|r>>>24,o[9]=r>>>16,o[10]=r>>>8,o[11]=r,o[12]=i>>>24,o[13]=i>>>16,o[14]=i>>>8,o[15]=i,new My(o)}toString(){for(var t="",n=0;n<this.bytes.length;n++)t=t+D3.charAt(this.bytes[n]>>>4)+D3.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(t+="-");if(t.length!==36)throw new Error("Invalid UUIDv7 was generated");return t}clone(){return new My(this.bytes.slice(0))}equals(t){return this.compareTo(t)===0}compareTo(t){for(var n=0;n<16;n++){var r=this.bytes[n]-t.bytes[n];if(r!==0)return Math.sign(r)}return 0}}class nce{constructor(){this.I=0,this.P=0,this.R=new rce}generate(){var t=this.generateOrAbort();if(vt(t)){this.I=0;var n=this.generateOrAbort();if(vt(n))throw new Error("Could not generate UUID after timestamp reset");return n}return t}generateOrAbort(){var t=Date.now();if(t>this.I)this.I=t,this.T();else{if(!(t+1e4>this.I))return;this.P++,this.P>4398046511103&&(this.I++,this.T())}return My.fromFieldsV7(this.I,Math.trunc(this.P/Math.pow(2,30)),this.P&Math.pow(2,30)-1,this.R.nextUint32())}T(){this.P=1024*this.R.nextUint32()+(1023&this.R.nextUint32())}}var F3,HD=e=>{if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};Me&&!vt(Me.crypto)&&crypto.getRandomValues&&(HD=e=>crypto.getRandomValues(e));class rce{constructor(){this.M=new Uint32Array(8),this.C=1/0}nextUint32(){return this.C>=this.M.length&&(HD(this.M),this.C=0),this.M[this.C++]}}var wl=()=>ice().toString(),ice=()=>(F3||(F3=new nce)).generate(),oce="Thu, 01 Jan 1970 00:00:00 GMT",zf="",sce=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i;function ace(e,t){if(t){var n=function(i,o){if(o===void 0&&(o=bt),zf)return zf;if(!o||["localhost","127.0.0.1"].includes(i))return"";for(var s=i.split("."),a=Math.min(s.length,8),l="dmn_chk_"+wl(),c=new RegExp("(^|;)\\s*"+l+"=1");!zf&&a--;){var u=s.slice(a).join("."),f=l+"=1;domain=."+u;o.cookie=f,c.test(o.cookie)&&(o.cookie=f+";expires="+oce,zf=u)}return zf}(e);if(!n){var r=(i=>{var o=i.match(sce);return o?o[0]:""})(e);r!==n&&jt.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var hl,Pa={O:()=>!!bt,F:function(e){jt.error("cookieStore error: "+e)},A:function(e){if(bt){try{for(var t=e+"=",n=bt.cookie.split(";").filter(o=>o.length),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}}catch(o){}return null}},D:function(e){var t;try{t=JSON.parse(Pa.A(e))||{}}catch(n){}return t},j:function(e,t,n,r,i){if(bt)try{var o="",s="",a=ace(bt.location.hostname,r);if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),o="; expires="+l.toUTCString()}i&&(s="; secure");var c=e+"="+encodeURIComponent(JSON.stringify(t))+o+"; SameSite=Lax; path=/"+a+s;return c.length>3686.4&&jt.warn("cookieStore warning: large cookie, len="+c.length),bt.cookie=c,c}catch(u){return}},L:function(e,t){try{Pa.j(e,"",-1,t)}catch(n){return}}},Db=null,Rr={O:function(){if(!Xl(Db))return Db;var e=!0;if(vt(Me))e=!1;else try{var t="__mplssupport__";Rr.j(t,"xyz"),Rr.A(t)!=='"xyz"'&&(e=!1),Rr.L(t)}catch(n){e=!1}return e||jt.error("localStorage unsupported; falling back to cookie store"),Db=e,e},F:function(e){jt.error("localStorage error: "+e)},A:function(e){try{return Me==null?void 0:Me.localStorage.getItem(e)}catch(t){Rr.F(t)}return null},D:function(e){try{return JSON.parse(Rr.A(e))||{}}catch(t){}return null},j:function(e,t){try{Me==null||Me.localStorage.setItem(e,JSON.stringify(t))}catch(n){Rr.F(n)}},L:function(e){try{Me==null||Me.localStorage.removeItem(e)}catch(t){Rr.F(t)}}},lce=["distinct_id",Ay,uh,Ry,Ik],wg=xt({},Rr,{D:function(e){try{var t={};try{t=Pa.D(e)||{}}catch(r){}var n=br(t,JSON.parse(Rr.A(e)||"{}"));return Rr.j(e,n),n}catch(r){}return null},j:function(e,t,n,r,i,o){try{Rr.j(e,t,void 0,void 0,o);var s={};lce.forEach(a=>{t[a]&&(s[a]=t[a])}),Object.keys(s).length&&Pa.j(e,s,n,r,i,o)}catch(a){Rr.F(a)}},L:function(e,t){try{Me==null||Me.localStorage.removeItem(e),Pa.L(e,t)}catch(n){Rr.F(n)}}}),bg={},cce={O:function(){return!0},F:function(e){jt.error("memoryStorage error: "+e)},A:function(e){return bg[e]||null},D:function(e){return bg[e]||null},j:function(e,t){bg[e]=t},L:function(e){delete bg[e]}},oc=null,Vr={O:function(){if(!Xl(oc))return oc;if(oc=!0,vt(Me))oc=!1;else try{var e="__support__";Vr.j(e,"xyz"),Vr.A(e)!=='"xyz"'&&(oc=!1),Vr.L(e)}catch(t){oc=!1}return oc},F:function(e){jt.error("sessionStorage error: ",e)},A:function(e){try{return Me==null?void 0:Me.sessionStorage.getItem(e)}catch(t){Vr.F(t)}return null},D:function(e){try{return JSON.parse(Vr.A(e))||null}catch(t){}return null},j:function(e,t){try{Me==null||Me.sessionStorage.setItem(e,JSON.stringify(t))}catch(n){Vr.F(n)}},L:function(e){try{Me==null||Me.sessionStorage.removeItem(e)}catch(t){Vr.F(t)}}};(function(e){e[e.PENDING=-1]="PENDING",e[e.DENIED=0]="DENIED",e[e.GRANTED=1]="GRANTED"})(hl||(hl={}));class uce{constructor(t){this._instance=t}get S(){return this._instance.config}get consent(){return this.N()?hl.DENIED:this.U}isOptedOut(){return this.consent===hl.DENIED||this.consent===hl.PENDING&&this.S.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(t){this.q.j(this.B,t?1:0,this.S.cookie_expiration,this.S.cross_subdomain_cookie,this.S.secure_cookie)}reset(){this.q.L(this.B,this.S.cross_subdomain_cookie)}get B(){var{token:t,opt_out_capturing_cookie_prefix:n}=this._instance.config;return(n||"__ph_opt_in_out_")+t}get U(){var t=this.q.A(this.B);return t==="1"?hl.GRANTED:t==="0"?hl.DENIED:hl.PENDING}get q(){if(!this.H){var t=this.S.opt_out_capturing_persistence_type;this.H=t==="localStorage"?Rr:Pa;var n=t==="localStorage"?Pa:Rr;n.A(this.B)&&(this.H.A(this.B)||this.optInOut(n.A(this.B)==="1"),n.L(this.B,this.S.cross_subdomain_cookie))}return this.H}N(){return!!this.S.respect_dnt&&!!jD([co==null?void 0:co.doNotTrack,co==null?void 0:co.msDoNotTrack,Gt.doNotTrack],t=>sn([!0,1,"1","yes"],t))}}var _g=gi("[Dead Clicks]"),dce=()=>!0,fce=e=>{var t,n=!((t=e.instance.persistence)==null||!t.get_property(AD)),r=e.instance.config.capture_dead_clicks;return Ca(r)?r:n};class WD{get lazyLoadedDeadClicksAutocapture(){return this.W}constructor(t,n,r){this.instance=t,this.isEnabled=n,this.onCapture=r,this.startIfEnabled()}onRemoteConfig(t){this.instance.persistence&&this.instance.persistence.register({[AD]:t==null?void 0:t.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.G(()=>{this.J()})}G(t){var n,r;(n=Gt.__PosthogExtensions__)!=null&&n.initDeadClicksAutocapture&&t(),(r=Gt.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this.instance,"dead-clicks-autocapture",i=>{i?_g.error("failed to load script",i):t()})}J(){var t;if(bt){if(!this.W&&(t=Gt.__PosthogExtensions__)!=null&&t.initDeadClicksAutocapture){var n=ar(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};n.__onCapture=this.onCapture,this.W=Gt.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,n),this.W.start(bt),_g.info("starting...")}}else _g.error("`document` not found. Cannot start.")}stop(){this.W&&(this.W.stop(),this.W=void 0,_g.info("stopping..."))}}var Fb=gi("[ExceptionAutocapture]");class hce{constructor(t){var n;this.V=()=>{var r;if(Me&&this.isEnabled&&(r=Gt.__PosthogExtensions__)!=null&&r.errorWrappingFunctions){var i=Gt.__PosthogExtensions__.errorWrappingFunctions.wrapOnError,o=Gt.__PosthogExtensions__.errorWrappingFunctions.wrapUnhandledRejection,s=Gt.__PosthogExtensions__.errorWrappingFunctions.wrapConsoleError;try{!this.K&&this.S.capture_unhandled_errors&&(this.K=i(this.captureException.bind(this))),!this.Y&&this.S.capture_unhandled_rejections&&(this.Y=o(this.captureException.bind(this))),!this.X&&this.S.capture_console_errors&&(this.X=s(this.captureException.bind(this)))}catch(a){Fb.error("failed to start",a),this.Z()}}},this._instance=t,this.tt=!((n=this._instance.persistence)==null||!n.props[_3]),this.S=this.it(),this.startIfEnabled()}it(){var t=this._instance.config.capture_exceptions,n={capture_unhandled_errors:!1,capture_unhandled_rejections:!1,capture_console_errors:!1};return ar(t)?n=xt({},n,t):(vt(t)?this.tt:t)&&(n=xt({},n,{capture_unhandled_errors:!0,capture_unhandled_rejections:!0})),n}get isEnabled(){return this.S.capture_console_errors||this.S.capture_unhandled_errors||this.S.capture_unhandled_rejections}startIfEnabled(){this.isEnabled&&(Fb.info("enabled"),this.G(this.V))}G(t){var n,r;(n=Gt.__PosthogExtensions__)!=null&&n.errorWrappingFunctions&&t(),(r=Gt.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"exception-autocapture",i=>{if(i)return Fb.error("failed to load script",i);t()})}Z(){var t,n,r;(t=this.K)==null||t.call(this),this.K=void 0,(n=this.Y)==null||n.call(this),this.Y=void 0,(r=this.X)==null||r.call(this),this.X=void 0}onRemoteConfig(t){var n=t.autocaptureExceptions;this.tt=!!n||!1,this.S=this.it(),this._instance.persistence&&this._instance.persistence.register({[_3]:this.tt}),this.startIfEnabled()}captureException(t){var n=this._instance.requestRouter.endpointFor("ui");t.$exception_personURL=n+"/project/"+this._instance.config.token+"/person/"+this._instance.get_distinct_id(),this._instance.exceptions.sendExceptionEvent(t)}}function UD(e){return!vt(Event)&&VD(e,Event)}function VD(e,t){try{return e instanceof t}catch(n){return!1}}function qD(e){switch(Object.prototype.toString.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":case"[object DOMError]":return!0;default:return VD(e,Error)}}function fv(e,t){return Object.prototype.toString.call(e)==="[object "+t+"]"}function Lb(e){return fv(e,"DOMError")}var L3=/\(error: (.*)\)/,B3=50,Qu="?";function Bb(e,t,n,r){var i={platform:"web:javascript",filename:e,function:t==="<anonymous>"?Qu:t,in_app:!0};return vt(n)||(i.lineno=n),vt(r)||(i.colno=r),i}var pce=/^\s*at (\S+?)(?::(\d+))(?::(\d+))\s*$/i,mce=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,gce=/\((\S*)(?::(\d+))(?::(\d+))\)/,vce=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,yce=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,xce=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.sort((i,o)=>i[0]-o[0]).map(i=>i[1]);return function(i,o){o===void 0&&(o=0);for(var s=[],a=i.split("\n"),l=o;l<a.length;l++){var c=a[l];if(!(c.length>1024)){var u=L3.test(c)?c.replace(L3,"$1"):c;if(!u.match(/\S*Error: /)){for(var f of r){var h=f(u);if(h){s.push(h);break}}if(s.length>=B3)break}}}return function(p){if(!p.length)return[];var v=Array.from(p);return v.reverse(),v.slice(0,B3).map(g=>xt({},g,{filename:g.filename||wce(v).filename,function:g.function||Qu}))}(s)}}([30,e=>{var t=pce.exec(e);if(t){var[,n,r,i]=t;return Bb(n,Qu,+r,+i)}var o=mce.exec(e);if(o){if(o[2]&&o[2].indexOf("eval")===0){var s=gce.exec(o[2]);s&&(o[2]=s[1],o[3]=s[2],o[4]=s[3])}var[a,l]=H3(o[1]||Qu,o[2]);return Bb(l,a,o[3]?+o[3]:void 0,o[4]?+o[4]:void 0)}}],[50,e=>{var t=vce.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){var n=yce.exec(t[3]);n&&(t[1]=t[1]||"eval",t[3]=n[1],t[4]=n[2],t[5]="")}var r=t[3],i=t[1]||Qu;return[i,r]=H3(i,r),Bb(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}]);function wce(e){return e[e.length-1]||{}}var kg,z3,zb,H3=(e,t)=>{var n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:Qu,n?"safari-extension:"+t:"safari-web-extension:"+t]:[e,t]},bce=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;function SE(e,t){t===void 0&&(t=0);var n=e.stacktrace||e.stack||"",r=function(s){return s&&_ce.test(s.message)?1:0}(e);try{var i=xce,o=function(s,a){var l=function(c){var u=globalThis._posthogChunkIds;if(!u)return{};var f=Object.keys(u);return zb&&f.length===z3||(z3=f.length,zb=f.reduce((h,p)=>{kg||(kg={});var v=kg[p];if(v)h[v[0]]=v[1];else for(var g=c(p),b=g.length-1;b>=0;b--){var m=g[b],y=m==null?void 0:m.filename,x=u[p];if(y&&x){h[y]=x,kg[p]=[y,x];break}}return h},{})),zb}(a);return s.forEach(c=>{c.filename&&(c.chunk_id=l[c.filename])}),s}(i(n,r),i);return o.slice(0,o.length-t)}catch(s){}return[]}var _ce=/Minified React error #\d+;/i;function kce(e,t){var n,r,i=SE(e),o=(n=t==null?void 0:t.handled)===null||n===void 0||n,s=(r=t==null?void 0:t.synthetic)!==null&&r!==void 0&&r;return{type:t!=null&&t.overrideExceptionType?t.overrideExceptionType:e.name,value:function(a){var l=a.message;return l.error&&typeof l.error.message=="string"?String(l.error.message):String(l)}(e),stacktrace:{frames:i,type:"raw"},mechanism:{handled:o,synthetic:s}}}function KD(e,t){var n=kce(e,t);return e.cause&&qD(e.cause)&&e.cause!==e?[n,...KD(e.cause,{handled:t==null?void 0:t.handled,synthetic:t==null?void 0:t.synthetic})]:[n]}function Hb(e,t){return{$exception_list:KD(e,t),$exception_level:"error"}}function Wb(e,t){var n,r,i,o=(n=t==null?void 0:t.handled)===null||n===void 0||n,s=(r=t==null?void 0:t.synthetic)===null||r===void 0||r,a={type:t!=null&&t.overrideExceptionType?t.overrideExceptionType:(i=t==null?void 0:t.defaultExceptionType)!==null&&i!==void 0?i:"Error",value:e||(t==null?void 0:t.defaultExceptionMessage),mechanism:{handled:o,synthetic:s}};if(t!=null&&t.syntheticException){var l=SE(t.syntheticException,1);l.length&&(a.stacktrace={frames:l,type:"raw"})}return{$exception_list:[a],$exception_level:"error"}}function Sce(e){return Sr(e)&&!bk(e)&&Ple.indexOf(e)>=0}function Ece(e,t){var n,r,i=(n=t==null?void 0:t.handled)===null||n===void 0||n,o=(r=t==null?void 0:t.synthetic)===null||r===void 0||r,s=t!=null&&t.overrideExceptionType?t.overrideExceptionType:UD(e)?e.constructor.name:"Error",a="Non-Error 'exception' captured with keys: "+function(u,f){f===void 0&&(f=40);var h=Object.keys(u);if(h.sort(),!h.length)return"[object has no keys]";for(var p=h.length;p>0;p--){var v=h.slice(0,p).join(", ");if(!(v.length>f))return p===h.length||v.length<=f?v:v.slice(0,f)+"..."}return""}(e),l={type:s,value:a,mechanism:{handled:i,synthetic:o}};if(t!=null&&t.syntheticException){var c=SE(t==null?void 0:t.syntheticException,1);c.length&&(l.stacktrace={frames:c,type:"raw"})}return{$exception_list:[l],$exception_level:Sce(e.level)?e.level:"error"}}function Cce(e,t){var{error:n,event:r}=e,i={$exception_list:[]},o=n||r;if(Lb(o)||function(h){return fv(h,"DOMException")}(o)){var s=o;if(function(h){return"stack"in h}(o))i=Hb(o,t);else{var a=s.name||(Lb(s)?"DOMError":"DOMException"),l=s.message?a+": "+s.message:a;i=Wb(l,xt({},t,{overrideExceptionType:Lb(s)?"DOMError":"DOMException",defaultExceptionMessage:l}))}return"code"in s&&(i.$exception_DOMException_code=""+s.code),i}if(function(h){return fv(h,"ErrorEvent")}(o)&&o.error)return Hb(o.error,t);if(qD(o))return Hb(o,t);if(function(h){return fv(h,"Object")}(o)||UD(o))return Ece(o,t);if(vt(n)&&Sr(r)){var c="Error",u=r,f=r.match(bce);return f&&(c=f[1],u=f[2]),Wb(u,xt({},t,{overrideExceptionType:c,defaultExceptionMessage:u}))}return Wb(o,t)}function W3(e,t,n){try{if(!(t in e))return()=>{};var r=e[t],i=n(r);return Io(i)&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__posthog_wrapped__:{enumerable:!1,value:!0}})),e[t]=i,()=>{e[t]=r}}catch(o){return()=>{}}}class jce{constructor(t){var n;this._instance=t,this.et=(Me==null||(n=Me.location)==null?void 0:n.pathname)||""}get isEnabled(){return this._instance.config.capture_pageview==="history_change"}startIfEnabled(){this.isEnabled&&(jt.info("History API monitoring enabled, starting..."),this.monitorHistoryChanges())}stop(){this.rt&&this.rt(),this.rt=void 0,jt.info("History API monitoring stopped")}monitorHistoryChanges(){var t,n;if(Me&&Me.history){var r=this;(t=Me.history.pushState)!=null&&t.__posthog_wrapped__||W3(Me.history,"pushState",i=>function(o,s,a){i.call(this,o,s,a),r.st("pushState")}),(n=Me.history.replaceState)!=null&&n.__posthog_wrapped__||W3(Me.history,"replaceState",i=>function(o,s,a){i.call(this,o,s,a),r.st("replaceState")}),this.nt()}}st(t){try{var n,r=Me==null||(n=Me.location)==null?void 0:n.pathname;if(!r)return;r!==this.et&&this.isEnabled&&this._instance.capture("$pageview",{navigation_type:t}),this.et=r}catch(i){jt.error("Error capturing "+t+" pageview",i)}}nt(){if(!this.rt){var t=()=>{this.st("popstate")};Jn(Me,"popstate",t),this.rt=()=>{Me&&Me.removeEventListener("popstate",t)}}}}function $y(e){var t,n;return((t=JSON.stringify(e,(n=[],function(r,i){if(ar(i)){for(;n.length>0&&n[n.length-1]!==this;)n.pop();return n.includes(i)?"[Circular]":(n.push(i),i)}return i})))==null?void 0:t.length)||0}function Mk(e,t){if(t===void 0&&(t=66060288e-1),e.size>=t&&e.data.length>1){var n=Math.floor(e.data.length/2),r=e.data.slice(0,n),i=e.data.slice(n);return[Mk({size:$y(r),data:r,sessionId:e.sessionId,windowId:e.windowId}),Mk({size:$y(i),data:i,sessionId:e.sessionId,windowId:e.windowId})].flatMap(o=>o)}return[e]}var ma=(e=>(e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom",e[e.Plugin=6]="Plugin",e))(ma||{}),Yo=(e=>(e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag",e[e.StyleDeclaration=13]="StyleDeclaration",e[e.Selection=14]="Selection",e[e.AdoptedStyleSheet=15]="AdoptedStyleSheet",e[e.CustomElement=16]="CustomElement",e))(Yo||{}),$k="[SessionRecording]",Dk="redacted",Sg={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[".lr-ingest.io",".ingest.sentry.io",".clarity.ms","analytics.google.com"]},Nce=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],Ace=["password","secret","passwd","api_key","apikey","auth","credentials","mysql_pwd","privatekey","private_key","token"],Tce=["/s/","/e/","/i/"];function U3(e,t,n,r){if(xn(e))return e;var i=(t==null?void 0:t["content-length"])||function(o){return new Blob([o]).size}(e);return Sr(i)&&(i=parseInt(i)),i>n?$k+" "+r+" body too large to record ("+i+" bytes)":e}function V3(e,t){if(xn(e))return e;var n=e;return Bd(n,!1)||(n=$k+" "+t+" body "+Dk),Nn(Ace,r=>{var i,o;(i=n)!=null&&i.length&&((o=n)==null?void 0:o.indexOf(r))!==-1&&(n=$k+" "+t+" body "+Dk+" as might contain: "+r)}),n}var Rce=(e,t)=>{var n,r,i,o={payloadSizeLimitBytes:Sg.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...Sg.performanceEntryTypeToObserve],payloadHostDenyList:[...t.payloadHostDenyList||[],...Sg.payloadHostDenyList]},s=e.session_recording.recordHeaders!==!1&&t.recordHeaders,a=e.session_recording.recordBody!==!1&&t.recordBody,l=e.capture_performance!==!1&&t.recordPerformance,c=(n=o,i=Math.min(1e6,(r=n.payloadSizeLimitBytes)!==null&&r!==void 0?r:1e6),h=>(h!=null&&h.requestBody&&(h.requestBody=U3(h.requestBody,h.requestHeaders,i,"Request")),h!=null&&h.responseBody&&(h.responseBody=U3(h.responseBody,h.responseHeaders,i,"Response")),h)),u=h=>{return c(((g,b)=>{var m,y=zd(g.name),x=b.indexOf("http")===0?(m=zd(b))==null?void 0:m.pathname:b;x==="/"&&(x="");var k=y==null?void 0:y.pathname.replace(x||"","");if(!(y&&k&&Tce.some(S=>k.indexOf(S)===0)))return g})((v=(p=h).requestHeaders,xn(v)||Nn(Object.keys(v!=null?v:{}),g=>{Nce.includes(g.toLowerCase())&&(v[g]=Dk)}),p),e.api_host));var p,v},f=Io(e.session_recording.maskNetworkRequestFn);return f&&Io(e.session_recording.maskCapturedNetworkRequestFn)&&jt.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),f&&(e.session_recording.maskCapturedNetworkRequestFn=h=>{var p=e.session_recording.maskNetworkRequestFn({url:h.name});return xt({},h,{name:p==null?void 0:p.url})}),o.maskRequestFn=Io(e.session_recording.maskCapturedNetworkRequestFn)?h=>{var p,v=u(h);return v&&(p=e.session_recording.maskCapturedNetworkRequestFn==null?void 0:e.session_recording.maskCapturedNetworkRequestFn(v))!==null&&p!==void 0?p:void 0}:h=>function(p){if(!vt(p))return p.requestBody=V3(p.requestBody,"Request"),p.responseBody=V3(p.responseBody,"Response"),p}(u(h)),xt({},Sg,o,{recordHeaders:s,recordBody:a,recordPerformance:l,recordInitialRequests:l})};function To(e,t,n,r,i){return t>n&&(jt.warn("min cannot be greater than max."),t=n),li(e)?e>n?(r&&jt.warn(r+" cannot be  greater than max: "+n+". Using max value instead."),n):e<t?(r&&jt.warn(r+" cannot be less than min: "+t+". Using min value instead."),t):e:(r&&jt.warn(r+" must be a number. using max or fallback. max: "+n+", fallback: "+i),To(i||n,t,n,r))}class Ice{constructor(t,n){var r,i;n===void 0&&(n={}),this.ot=100,this.lt=10,this.ut={},this.ht={},this.dt=()=>{Object.keys(this.ut).forEach(o=>{this.ut[o]=this.ut[o]+this.lt,this.ut[o]>=this.ot&&delete this.ut[o]})},this.vt=o=>{var s=this._rrweb.mirror.getNode(o);if((s==null?void 0:s.nodeName)!=="svg"&&s instanceof Element){var a=s.closest("svg");if(a)return[this._rrweb.mirror.getId(a),a]}return[o,s]},this.ct=o=>{var s,a,l,c,u,f,h,p;return((s=(a=o.removes)==null?void 0:a.length)!==null&&s!==void 0?s:0)+((l=(c=o.attributes)==null?void 0:c.length)!==null&&l!==void 0?l:0)+((u=(f=o.texts)==null?void 0:f.length)!==null&&u!==void 0?u:0)+((h=(p=o.adds)==null?void 0:p.length)!==null&&h!==void 0?h:0)},this.throttleMutations=o=>{if(o.type!==3||o.data.source!==0)return o;var s=o.data,a=this.ct(s);s.attributes&&(s.attributes=s.attributes.filter(c=>{var u,f,h,[p,v]=this.vt(c.id);return this.ut[p]===0?!1:(this.ut[p]=(u=this.ut[p])!==null&&u!==void 0?u:this.ot,this.ut[p]=Math.max(this.ut[p]-1,0),this.ut[p]===0&&(this.ht[p]||(this.ht[p]=!0,(f=(h=this.ft).onBlockedNode)==null||f.call(h,p,v))),c)}));var l=this.ct(s);return l!==0||a===l?o:void 0},this._rrweb=t,this.ft=n,this.lt=To((r=this.ft.refillRate)!==null&&r!==void 0?r:this.lt,0,100,"mutation throttling refill rate"),this.ot=To((i=this.ft.bucketSize)!==null&&i!==void 0?i:this.ot,0,100,"mutation throttling bucket size"),setInterval(()=>{this.dt()},1e3)}}var Po=Uint8Array,Ui=Uint16Array,Hd=Uint32Array,EE=new Po([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),CE=new Po([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),q3=new Po([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),YD=function(e,t){for(var n=new Ui(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var i=new Hd(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},GD=YD(EE,2),Pce=GD[0],Fk=GD[1];Pce[28]=258,Fk[258]=28;for(var K3=YD(CE,0)[1],XD=new Ui(32768),Ln=0;Ln<32768;++Ln){var sc=(43690&Ln)>>>1|(21845&Ln)<<1;sc=(61680&(sc=(52428&sc)>>>2|(13107&sc)<<2))>>>4|(3855&sc)<<4,XD[Ln]=((65280&sc)>>>8|(255&sc)<<8)>>>1}var Th=function(e,t,n){for(var r=e.length,i=0,o=new Ui(t);i<r;++i)++o[e[i]-1];var s,a=new Ui(t);for(i=0;i<t;++i)a[i]=a[i-1]+o[i-1]<<1;for(s=new Ui(r),i=0;i<r;++i)s[i]=XD[a[e[i]-1]++]>>>15-e[i];return s},Jc=new Po(288);for(Ln=0;Ln<144;++Ln)Jc[Ln]=8;for(Ln=144;Ln<256;++Ln)Jc[Ln]=9;for(Ln=256;Ln<280;++Ln)Jc[Ln]=7;for(Ln=280;Ln<288;++Ln)Jc[Ln]=8;var Dy=new Po(32);for(Ln=0;Ln<32;++Ln)Dy[Ln]=5;var Oce=Th(Jc,9),Mce=Th(Dy,5),JD=function(e){return(e/8>>0)+(7&e&&1)},QD=function(e,t,n){(n==null||n>e.length)&&(n=e.length);var r=new(e instanceof Ui?Ui:e instanceof Hd?Hd:Po)(n-t);return r.set(e.subarray(t,n)),r},ua=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8},Hf=function(e,t,n){n<<=7&t;var r=t/8>>0;e[r]|=n,e[r+1]|=n>>>8,e[r+2]|=n>>>16},Ub=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return[new Po(0),0];if(i==1){var s=new Po(n[0].s+1);return s[n[0].s]=1,[s,1]}n.sort(function(S,E){return S.f-E.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],c=0,u=1,f=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=i-1;)a=n[n[c].f<n[f].f?c++:f++],l=n[c!=u&&n[c].f<n[f].f?c++:f++],n[u++]={s:-1,f:a.f+l.f,l:a,r:l};var h=o[0].s;for(r=1;r<i;++r)o[r].s>h&&(h=o[r].s);var p=new Ui(h+1),v=Lk(n[u-1],p,0);if(v>t){r=0;var g=0,b=v-t,m=1<<b;for(o.sort(function(S,E){return p[E.s]-p[S.s]||S.f-E.f});r<i;++r){var y=o[r].s;if(!(p[y]>t))break;g+=m-(1<<v-p[y]),p[y]=t}for(g>>>=b;g>0;){var x=o[r].s;p[x]<t?g-=1<<t-p[x]++-1:++r}for(;r>=0&&g;--r){var k=o[r].s;p[k]==t&&(--p[k],++g)}v=t}return[new Po(p),v]},Lk=function(e,t,n){return e.s==-1?Math.max(Lk(e.l,t,n+1),Lk(e.r,t,n+1)):t[e.s]=n},Y3=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Ui(++t),r=0,i=e[0],o=1,s=function(l){n[r++]=l},a=1;a<=t;++a)if(e[a]==i&&a!=t)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=e[a]}return[n.subarray(0,r),t]},Wf=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Bk=function(e,t,n){var r=n.length,i=JD(t+2);e[i]=255&r,e[i+1]=r>>>8,e[i+2]=255^e[i],e[i+3]=255^e[i+1];for(var o=0;o<r;++o)e[i+o+4]=n[o];return 8*(i+4+r)},G3=function(e,t,n,r,i,o,s,a,l,c,u){ua(t,u++,n),++i[256];for(var f=Ub(i,15),h=f[0],p=f[1],v=Ub(o,15),g=v[0],b=v[1],m=Y3(h),y=m[0],x=m[1],k=Y3(g),S=k[0],E=k[1],T=new Ui(19),M=0;M<y.length;++M)T[31&y[M]]++;for(M=0;M<S.length;++M)T[31&S[M]]++;for(var W=Ub(T,7),F=W[0],L=W[1],G=19;G>4&&!F[q3[G-1]];--G);var z,H,J,I,U=c+5<<3,O=Wf(i,Jc)+Wf(o,Dy)+s,D=Wf(i,h)+Wf(o,g)+s+14+3*G+Wf(T,F)+(2*T[16]+3*T[17]+7*T[18]);if(U<=O&&U<=D)return Bk(t,u,e.subarray(l,l+c));if(ua(t,u,1+(D<O)),u+=2,D<O){z=Th(h,p),H=h,J=Th(g,b),I=g;var $=Th(F,L);for(ua(t,u,x-257),ua(t,u+5,E-1),ua(t,u+10,G-4),u+=14,M=0;M<G;++M)ua(t,u+3*M,F[q3[M]]);u+=3*G;for(var Y=[y,S],ie=0;ie<2;++ie){var ae=Y[ie];for(M=0;M<ae.length;++M){var xe=31&ae[M];ua(t,u,$[xe]),u+=F[xe],xe>15&&(ua(t,u,ae[M]>>>5&127),u+=ae[M]>>>12)}}}else z=Oce,H=Jc,J=Mce,I=Dy;for(M=0;M<a;++M)if(r[M]>255){xe=r[M]>>>18&31,Hf(t,u,z[xe+257]),u+=H[xe+257],xe>7&&(ua(t,u,r[M]>>>23&31),u+=EE[xe]);var ke=31&r[M];Hf(t,u,J[ke]),u+=I[ke],ke>3&&(Hf(t,u,r[M]>>>5&8191),u+=CE[ke])}else Hf(t,u,z[r[M]]),u+=H[r[M]];return Hf(t,u,z[256]),u+H[256]},$ce=new Hd([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Dce=function(){for(var e=new Hd(256),t=0;t<256;++t){for(var n=t,r=9;--r;)n=(1&n&&3988292384)^n>>>1;e[t]=n}return e}(),Fce=function(){var e=4294967295;return{p:function(t){for(var n=e,r=0;r<t.length;++r)n=Dce[255&n^t[r]]^n>>>8;e=n},d:function(){return 4294967295^e}}},Lce=function(e,t,n,r,i){return function(o,s,a,l,c,u){var f=o.length,h=new Po(l+f+5*(1+Math.floor(f/7e3))+c),p=h.subarray(l,h.length-c),v=0;if(!s||f<8)for(var g=0;g<=f;g+=65535){var b=g+65535;b<f?v=Bk(p,v,o.subarray(g,b)):(p[g]=u,v=Bk(p,v,o.subarray(g,f)))}else{for(var m=$ce[s-1],y=m>>>13,x=8191&m,k=(1<<a)-1,S=new Ui(32768),E=new Ui(k+1),T=Math.ceil(a/3),M=2*T,W=function(qe){return(o[qe]^o[qe+1]<<T^o[qe+2]<<M)&k},F=new Hd(25e3),L=new Ui(288),G=new Ui(32),z=0,H=0,J=(g=0,0),I=0,U=0;g<f;++g){var O=W(g),D=32767&g,$=E[O];if(S[D]=$,E[O]=D,I<=g){var Y=f-g;if((z>7e3||J>24576)&&Y>423){v=G3(o,p,0,F,L,G,H,J,U,g-U,v),J=z=H=0,U=g;for(var ie=0;ie<286;++ie)L[ie]=0;for(ie=0;ie<30;++ie)G[ie]=0}var ae=2,xe=0,ke=x,Ne=D-$&32767;if(Y>2&&O==W(g-Ne))for(var V=Math.min(y,Y)-1,Q=Math.min(32767,g),re=Math.min(258,Y);Ne<=Q&&--ke&&D!=$;){if(o[g+ae]==o[g+ae-Ne]){for(var Pe=0;Pe<re&&o[g+Pe]==o[g+Pe-Ne];++Pe);if(Pe>ae){if(ae=Pe,xe=Ne,Pe>V)break;var Ye=Math.min(Ne,Pe-2),ze=0;for(ie=0;ie<Ye;++ie){var se=g-Ne+ie+32768&32767,fe=se-S[se]+32768&32767;fe>ze&&(ze=fe,$=se)}}}Ne+=(D=$)-($=S[D])+32768&32767}if(xe){F[J++]=268435456|Fk[ae]<<18|K3[xe];var je=31&Fk[ae],Ve=31&K3[xe];H+=EE[je]+CE[Ve],++L[257+je],++G[Ve],I=g+ae,++z}else F[J++]=o[g],++L[o[g]]}}v=G3(o,p,u,F,L,G,H,J,U,g-U,v)}return QD(h,0,l+JD(v)+c)}(e,t.level==null?6:t.level,t.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,n,r,!0)},zk=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Bce=function(e,t){var n=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:t.level==9?2:0,e[9]=3,t.mtime!=0&&zk(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),n){e[3]=8;for(var r=0;r<=n.length;++r)e[r+10]=n.charCodeAt(r)}},zce=function(e){return 10+(e.filename&&e.filename.length+1||0)};function ZD(e,t){t===void 0&&(t={});var n=Fce(),r=e.length;n.p(e);var i=Lce(e,t,zce(t),8),o=i.length;return Bce(i,t),zk(i,o-8,n.d()),zk(i,o-4,r),i}function e6(e,t){var n=e.length;if(typeof TextEncoder<"u")return new TextEncoder().encode(e);for(var r=new Po(e.length+(e.length>>>1)),i=0,o=function(c){r[i++]=c},s=0;s<n;++s){if(i+5>r.length){var a=new Po(i+8+(n-s<<1));a.set(r),r=a}var l=e.charCodeAt(s);l<128||t?o(l):l<2048?(o(192|l>>>6),o(128|63&l)):l>55295&&l<57344?(o(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++s))>>>18),o(128|l>>>12&63),o(128|l>>>6&63),o(128|63&l)):(o(224|l>>>12),o(128|l>>>6&63),o(128|63&l))}return QD(r,0,i)}function Hce(e,t){return function(n){for(var r=0,i=0;i<n.length;i++)r=(r<<5)-r+n.charCodeAt(i),r|=0;return Math.abs(r)}(e)%100<To(100*t,0,100)}var Hl="disabled",jE="sampled",Fy="active",Qc="buffering",NE="paused",AE="trigger",Vs=AE+"_activated",fi=AE+"_pending",Zs=AE+"_"+Hl;function X3(e,t){return t.some(n=>n.matching==="regex"&&new RegExp(n.url).test(e))}class t6{constructor(t){this.gt=t}triggerStatus(t){var n=this.gt.map(r=>r.triggerStatus(t));return n.includes(Vs)?Vs:n.includes(fi)?fi:Zs}stop(){this.gt.forEach(t=>t.stop())}}class n6{constructor(t){this.gt=t}triggerStatus(t){var n=new Set;for(var r of this.gt)n.add(r.triggerStatus(t));switch(n.delete(Zs),n.size){case 0:return Zs;case 1:return Array.from(n)[0];default:return fi}}stop(){this.gt.forEach(t=>t.stop())}}class Wce{triggerStatus(){return fi}stop(){}}class Uce{constructor(t){this._t=[],this.bt=[],this.urlBlocked=!1,this._instance=t}onRemoteConfig(t){var n,r;this._t=((n=t.sessionRecording)==null?void 0:n.urlTriggers)||[],this.bt=((r=t.sessionRecording)==null?void 0:r.urlBlocklist)||[]}wt(t){var n;return this._t.length===0?Zs:((n=this._instance)==null?void 0:n.get_property(Sk))===t?Vs:fi}triggerStatus(t){var n=this.wt(t),r=n===Vs?Vs:n===fi?fi:Zs;return this._instance.register_for_session({$sdk_debug_replay_url_trigger_status:r}),r}checkUrlTriggerConditions(t,n,r){if(Me!==void 0&&Me.location.href){var i=Me.location.href,o=this.urlBlocked,s=X3(i,this.bt);o&&s||(s&&!o?t():!s&&o&&n(),X3(i,this._t)&&r("url"))}}stop(){}}class Vce{constructor(t){this.linkedFlag=null,this.linkedFlagSeen=!1,this.yt=()=>{},this._instance=t}triggerStatus(){var t=fi;return xn(this.linkedFlag)&&(t=Zs),this.linkedFlagSeen&&(t=Vs),this._instance.register_for_session({$sdk_debug_replay_linked_flag_trigger_status:t}),t}onRemoteConfig(t,n){var r;if(this.linkedFlag=((r=t.sessionRecording)==null?void 0:r.linkedFlag)||null,!xn(this.linkedFlag)&&!this.linkedFlagSeen){var i=Sr(this.linkedFlag)?this.linkedFlag:this.linkedFlag.flag,o=Sr(this.linkedFlag)?null:this.linkedFlag.variant;this.yt=this._instance.onFeatureFlags((s,a)=>{var l=ar(a)&&i in a&&(o?a[i]===o:a[i]===!0);l&&n(i,o),this.linkedFlagSeen=l})}}stop(){this.yt()}}class qce{constructor(t){this.St=[],this._instance=t}onRemoteConfig(t){var n;this.St=((n=t.sessionRecording)==null?void 0:n.eventTriggers)||[]}$t(t){var n;return this.St.length===0?Zs:((n=this._instance)==null?void 0:n.get_property(Ek))===t?Vs:fi}triggerStatus(t){var n=this.$t(t),r=n===Vs?Vs:n===fi?fi:Zs;return this._instance.register_for_session({$sdk_debug_replay_event_trigger_status:r}),r}stop(){}}function Kce(e){return e.isRecordingEnabled?Qc:Hl}function Yce(e){if(!e.receivedDecide)return Qc;if(!e.isRecordingEnabled)return Hl;if(e.urlTriggerMatching.urlBlocked)return NE;var t=e.isSampled===!0,n=new t6([e.eventTriggerMatching,e.urlTriggerMatching,e.linkedFlagMatching]).triggerStatus(e.sessionId);return t?jE:n===Vs?Fy:n===fi?Qc:e.isSampled===!1?Hl:Fy}function Gce(e){if(!e.receivedDecide)return Qc;if(!e.isRecordingEnabled)return Hl;if(e.urlTriggerMatching.urlBlocked)return NE;var t=new n6([e.eventTriggerMatching,e.urlTriggerMatching,e.linkedFlagMatching]).triggerStatus(e.sessionId),n=t!==Zs,r=Ca(e.isSampled);return n&&t===fi?Qc:n&&t===Zs||r&&!e.isSampled?Hl:e.isSampled===!0?jE:Fy}var fh="[SessionRecording]",ii=gi(fh);function Eg(){var e,t;return Gt==null||(e=Gt.__PosthogExtensions__)==null||(t=e.rrweb)==null?void 0:t.record}var Xce=3e5,Jce=[Yo.MouseMove,Yo.MouseInteraction,Yo.Scroll,Yo.ViewportResize,Yo.Input,Yo.TouchMove,Yo.MediaInteraction,Yo.Drag],J3=e=>({rrwebMethod:e,enqueuedAt:Date.now(),attempt:1});function ac(e){return function(t,n){for(var r="",i=0;i<t.length;){var o=t[i++];r+=String.fromCharCode(o)}return r}(ZD(e6(JSON.stringify(e))))}function Q3(e){return e.type===ma.Custom&&e.data.tag==="sessionIdle"}class Qce{get sessionId(){return this.kt}get xt(){return this._instance.config.session_recording.session_idle_threshold_ms||3e5}get started(){return this.Et}get It(){if(!this._instance.sessionManager)throw new Error(fh+" must be started with a valid sessionManager.");return this._instance.sessionManager}get Pt(){var t,n;return this.Rt.triggerStatus(this.sessionId)===fi?6e4:(t=(n=this._instance.config.session_recording)==null?void 0:n.full_snapshot_interval_millis)!==null&&t!==void 0?t:Xce}get Tt(){var t=this._instance.get_property(uh);return Ca(t)?t:null}get Mt(){var t,n,r=(t=this.M)==null?void 0:t.data[((n=this.M)==null?void 0:n.data.length)-1],{sessionStartTimestamp:i}=this.It.checkAndGetSessionAndWindowId(!0);return r?r.timestamp-i:null}get Ct(){var t=!!this._instance.get_property(kk),n=!this._instance.config.disable_session_recording;return Me&&t&&n}get Ot(){var t=!!this._instance.get_property(E3),n=this._instance.config.enable_recording_console_log;return n!=null?n:t}get Ft(){var t,n,r,i,o,s,a=this._instance.config.session_recording.captureCanvas,l=this._instance.get_property(N3),c=(t=(n=a==null?void 0:a.recordCanvas)!==null&&n!==void 0?n:l==null?void 0:l.enabled)!==null&&t!==void 0&&t,u=(r=(i=a==null?void 0:a.canvasFps)!==null&&i!==void 0?i:l==null?void 0:l.fps)!==null&&r!==void 0?r:4,f=(o=(s=a==null?void 0:a.canvasQuality)!==null&&s!==void 0?s:l==null?void 0:l.quality)!==null&&o!==void 0?o:.4;if(typeof f=="string"){var h=parseFloat(f);f=isNaN(h)?.4:h}return{enabled:c,fps:To(u,0,12,"canvas recording fps",4),quality:To(f,0,1,"canvas recording quality",.4)}}get At(){var t,n,r=this._instance.get_property(C3),i={recordHeaders:(t=this._instance.config.session_recording)==null?void 0:t.recordHeaders,recordBody:(n=this._instance.config.session_recording)==null?void 0:n.recordBody},o=(i==null?void 0:i.recordHeaders)||(r==null?void 0:r.recordHeaders),s=(i==null?void 0:i.recordBody)||(r==null?void 0:r.recordBody),a=ar(this._instance.config.capture_performance)?this._instance.config.capture_performance.network_timing:this._instance.config.capture_performance,l=!!(Ca(a)?a:r!=null&&r.capturePerformance);return o||s||l?{recordHeaders:o,recordBody:s,recordPerformance:l}:void 0}get Dt(){var t,n,r,i,o,s,a=this._instance.get_property(j3),l={maskAllInputs:(t=this._instance.config.session_recording)==null?void 0:t.maskAllInputs,maskTextSelector:(n=this._instance.config.session_recording)==null?void 0:n.maskTextSelector,blockSelector:(r=this._instance.config.session_recording)==null?void 0:r.blockSelector},c=(i=l==null?void 0:l.maskAllInputs)!==null&&i!==void 0?i:a==null?void 0:a.maskAllInputs,u=(o=l==null?void 0:l.maskTextSelector)!==null&&o!==void 0?o:a==null?void 0:a.maskTextSelector,f=(s=l==null?void 0:l.blockSelector)!==null&&s!==void 0?s:a==null?void 0:a.blockSelector;return vt(c)&&vt(u)&&vt(f)?void 0:{maskAllInputs:c==null||c,maskTextSelector:u,blockSelector:f}}get jt(){var t=this._instance.get_property(A3);return li(t)?t:null}get Lt(){var t=this._instance.get_property(T3);return li(t)?t:null}get status(){return this.Nt?this.zt({receivedDecide:this.Nt,isRecordingEnabled:this.Ct,isSampled:this.Tt,urlTriggerMatching:this.Ut,eventTriggerMatching:this.qt,linkedFlagMatching:this.Bt,sessionId:this.sessionId}):Qc}constructor(t){if(this.zt=Kce,this.Nt=!1,this.Ht=[],this.Wt="unknown",this.Gt=Date.now(),this.Rt=new Wce,this.Jt=void 0,this.Vt=void 0,this.Kt=void 0,this.Yt=void 0,this.Xt=void 0,this._forceAllowLocalhostNetworkCapture=!1,this.Qt=()=>{this.Zt()},this.ti=()=>{this.ii("browser offline",{})},this.ei=()=>{this.ii("browser online",{})},this.ri=()=>{if(bt!=null&&bt.visibilityState){var i="window "+bt.visibilityState;this.ii(i,{})}},this._instance=t,this.Et=!1,this.si="/s/",this.ni=void 0,this.Nt=!1,!this._instance.sessionManager)throw ii.error("started without valid sessionManager"),new Error(fh+" started without valid sessionManager. This is a bug.");if(this._instance.config.__preview_experimental_cookieless_mode)throw new Error(fh+" cannot be used with __preview_experimental_cookieless_mode.");this.Bt=new Vce(this._instance),this.Ut=new Uce(this._instance),this.qt=new qce(this._instance);var{sessionId:n,windowId:r}=this.It.checkAndGetSessionAndWindowId();this.kt=n,this.oi=r,this.M=this.ai(),this.xt>=this.It.sessionTimeoutMs&&ii.warn("session_idle_threshold_ms ("+this.xt+") is greater than the session timeout ("+this.It.sessionTimeoutMs+"). Session will never be detected as idle")}startIfEnabledOrStop(t){this.Ct?(this.li(t),Jn(Me,"beforeunload",this.Qt),Jn(Me,"offline",this.ti),Jn(Me,"online",this.ei),Jn(Me,"visibilitychange",this.ri),this.ui(),this.hi(),xn(this.Jt)&&(this.Jt=this._instance.on("eventCaptured",n=>{try{if(n.event==="$pageview"){var r=n!=null&&n.properties.$current_url?this.di(n==null?void 0:n.properties.$current_url):"";if(!r)return;this.ii("$pageview",{href:r})}}catch(i){ii.error("Could not add $pageview to rrweb session",i)}})),this.Vt||(this.Vt=this.It.onSessionId((n,r,i)=>{var o,s,a,l;i&&(this.ii("$session_id_change",{sessionId:n,windowId:r,changeReason:i}),(o=this._instance)==null||(s=o.persistence)==null||s.unregister(Ek),(a=this._instance)==null||(l=a.persistence)==null||l.unregister(Sk))}))):this.stopRecording()}stopRecording(){var t,n,r,i;this.Et&&this.ni&&(this.ni(),this.ni=void 0,this.Et=!1,Me==null||Me.removeEventListener("beforeunload",this.Qt),Me==null||Me.removeEventListener("offline",this.ti),Me==null||Me.removeEventListener("online",this.ei),Me==null||Me.removeEventListener("visibilitychange",this.ri),this.ai(),clearInterval(this.vi),(t=this.Jt)==null||t.call(this),this.Jt=void 0,(n=this.Xt)==null||n.call(this),this.Xt=void 0,(r=this.Vt)==null||r.call(this),this.Vt=void 0,(i=this.Yt)==null||i.call(this),this.Yt=void 0,this.qt.stop(),this.Ut.stop(),this.Bt.stop(),ii.info("stopped"))}ci(){var t;(t=this._instance.persistence)==null||t.unregister(uh)}fi(t){var n,r=this.kt!==t,i=this.jt;if(li(i)){var o=this.Tt,s=r||!Ca(o),a=s?Hce(t,i):o;s&&(a?this.pi(jE):ii.warn("Sample rate ("+i+") has determined that this sessionId ("+t+") will not be sent to the server."),this.ii("samplingDecisionMade",{sampleRate:i,isSampled:a})),(n=this._instance.persistence)==null||n.register({[uh]:a})}else this.ci()}onRemoteConfig(t){var n,r,i,o;this.ii("$remote_config_received",t),this.gi(t),(n=t.sessionRecording)!=null&&n.endpoint&&(this.si=(o=t.sessionRecording)==null?void 0:o.endpoint),this.ui(),((r=t.sessionRecording)==null?void 0:r.triggerMatchType)==="any"?(this.zt=Yce,this.Rt=new t6([this.qt,this.Ut])):(this.zt=Gce,this.Rt=new n6([this.qt,this.Ut])),this._instance.register_for_session({$sdk_debug_replay_remote_trigger_matching_config:(i=t.sessionRecording)==null?void 0:i.triggerMatchType}),this.Ut.onRemoteConfig(t),this.qt.onRemoteConfig(t),this.Bt.onRemoteConfig(t,(s,a)=>{this.pi("linked_flag_matched",{flag:s,variant:a})}),this.Nt=!0,this.startIfEnabledOrStop()}ui(){li(this.jt)&&xn(this.Yt)&&(this.Yt=this.It.onSessionId(t=>{this.fi(t)}))}gi(t){if(this._instance.persistence){var n,r=this._instance.persistence,i=()=>{var o,s,a,l,c,u,f,h,p,v=(o=t.sessionRecording)==null?void 0:o.sampleRate,g=xn(v)?null:parseFloat(v);xn(g)&&this.ci();var b=(s=t.sessionRecording)==null?void 0:s.minimumDurationMilliseconds;r.register({[kk]:!!t.sessionRecording,[E3]:(a=t.sessionRecording)==null?void 0:a.consoleLogRecordingEnabled,[C3]:xt({capturePerformance:t.capturePerformance},(l=t.sessionRecording)==null?void 0:l.networkPayloadCapture),[j3]:(c=t.sessionRecording)==null?void 0:c.masking,[N3]:{enabled:(u=t.sessionRecording)==null?void 0:u.recordCanvas,fps:(f=t.sessionRecording)==null?void 0:f.canvasFps,quality:(h=t.sessionRecording)==null?void 0:h.canvasQuality},[A3]:g,[T3]:vt(b)?null:b,[R3]:(p=t.sessionRecording)==null?void 0:p.scriptConfig})};i(),(n=this.Kt)==null||n.call(this),this.Kt=this.It.onSessionId(i)}}log(t,n){var r;n===void 0&&(n="log"),(r=this._instance.sessionRecording)==null||r.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:n,trace:[],payload:[JSON.stringify(t)]}},timestamp:Date.now()})}li(t){if(!vt(Object.assign)&&!vt(Array.from)&&!(this.Et||this._instance.config.disable_session_recording||this._instance.consent.isOptedOut())){var n;this.Et=!0,this.It.checkAndGetSessionAndWindowId(),Eg()?this.mi():(n=Gt.__PosthogExtensions__)==null||n.loadExternalDependency==null||n.loadExternalDependency(this._instance,this.bi,r=>{if(r)return ii.error("could not load recorder",r);this.mi()}),ii.info("starting"),this.status===Fy&&this.pi(t||"recording_initialized")}}get bi(){var t,n,r;return((t=this._instance)==null||(n=t.persistence)==null||(r=n.get_property(R3))==null?void 0:r.script)||"recorder"}wi(t){var n;return t.type===3&&Jce.indexOf((n=t.data)==null?void 0:n.source)!==-1}yi(t){var n=this.wi(t);n||this.Wt||t.timestamp-this.Gt>this.xt&&(this.Wt=!0,clearInterval(this.vi),this.ii("sessionIdle",{eventTimestamp:t.timestamp,lastActivityTimestamp:this.Gt,threshold:this.xt,bufferLength:this.M.data.length,bufferSize:this.M.size}),this.Zt());var r=!1;if(n&&(this.Gt=t.timestamp,this.Wt)){var i=this.Wt==="unknown";this.Wt=!1,i||(this.ii("sessionNoLongerIdle",{reason:"user activity",type:t.type}),r=!0)}if(!this.Wt){var{windowId:o,sessionId:s}=this.It.checkAndGetSessionAndWindowId(!n,t.timestamp),a=this.kt!==s,l=this.oi!==o;this.oi=o,this.kt=s,a||l?(this.stopRecording(),this.startIfEnabledOrStop("session_id_changed")):r&&this.Si()}}$i(t){try{return t.rrwebMethod(),!0}catch(n){return this.Ht.length<10?this.Ht.push({enqueuedAt:t.enqueuedAt||Date.now(),attempt:t.attempt++,rrwebMethod:t.rrwebMethod}):ii.warn("could not emit queued rrweb event.",n,t),!1}}ii(t,n){return this.$i(J3(()=>Eg().addCustomEvent(t,n)))}ki(){return this.$i(J3(()=>Eg().takeFullSnapshot()))}mi(){var t,n,r,i,o={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},s=this._instance.config.session_recording;for(var[a,l]of Object.entries(s||{}))a in o&&(a==="maskInputOptions"?o.maskInputOptions=xt({password:!0},l):o[a]=l);this.Ft&&this.Ft.enabled&&(o.recordCanvas=!0,o.sampling={canvas:this.Ft.fps},o.dataURLOptions={type:"image/webp",quality:this.Ft.quality}),this.Dt&&(o.maskAllInputs=(n=this.Dt.maskAllInputs)===null||n===void 0||n,o.maskTextSelector=(r=this.Dt.maskTextSelector)!==null&&r!==void 0?r:void 0,o.blockSelector=(i=this.Dt.blockSelector)!==null&&i!==void 0?i:void 0);var c=Eg();if(c){this.xi=(t=this.xi)!==null&&t!==void 0?t:new Ice(c,{refillRate:this._instance.config.session_recording.__mutationRateLimiterRefillRate,bucketSize:this._instance.config.session_recording.__mutationRateLimiterBucketSize,onBlockedNode:(f,h)=>{var p="Too many mutations on node '"+f+"'. Rate limiting. This could be due to SVG animations or something similar";ii.info(p,{node:h}),this.log(fh+" "+p,"warn")}});var u=this.Ei();this.ni=c(xt({emit:f=>{this.onRRwebEmit(f)},plugins:u},o)),this.Gt=Date.now(),this.Wt=Ca(this.Wt)?this.Wt:"unknown",this.ii("$session_options",{sessionRecordingOptions:o,activePlugins:u.map(f=>f==null?void 0:f.name)}),this.ii("$posthog_config",{config:this._instance.config})}else ii.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}Si(){if(this.vi&&clearInterval(this.vi),this.Wt!==!0){var t=this.Pt;t&&(this.vi=setInterval(()=>{this.ki()},t))}}Ei(){var t,n,r,i,o=[],s=(t=Gt.__PosthogExtensions__)==null||(n=t.rrwebPlugins)==null?void 0:n.getRecordConsolePlugin;s&&this.Ot&&o.push(s());var a=(r=Gt.__PosthogExtensions__)==null||(i=r.rrwebPlugins)==null?void 0:i.getRecordNetworkPlugin;return this.At&&Io(a)&&(!Xle.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?o.push(a(Rce(this._instance.config,this.At))):ii.info("NetworkCapture not started because we are on localhost.")),o}onRRwebEmit(t){var n;if(this.Ii(),t&&ar(t)){if(t.type===ma.Meta){var r=this.di(t.data.href);if(this.Pi=r,!r)return;t.data.href=r}else this.Ri();if(this.Ut.checkUrlTriggerConditions(()=>this.Ti(),()=>this.Mi(),h=>this.Ci(h)),!this.Ut.urlBlocked||(i=t).type===ma.Custom&&i.data.tag==="recording paused"){var i;t.type===ma.FullSnapshot&&this.Si(),t.type===ma.FullSnapshot&&this.Nt&&this.Rt.triggerStatus(this.sessionId)===fi&&this.ai();var o=this.xi?this.xi.throttleMutations(t):t;if(o){var s=function(h){var p=h;if(p&&ar(p)&&p.type===6&&ar(p.data)&&p.data.plugin==="rrweb/console@1"){p.data.payload.payload.length>10&&(p.data.payload.payload=p.data.payload.payload.slice(0,10),p.data.payload.payload.push("...[truncated]"));for(var v=[],g=0;g<p.data.payload.payload.length;g++)p.data.payload.payload[g]&&p.data.payload.payload[g].length>2e3?v.push(p.data.payload.payload[g].slice(0,2e3)+"...[truncated]"):v.push(p.data.payload.payload[g]);return p.data.payload.payload=v,h}return h}(o);if(this.yi(s),this.Wt!==!0||Q3(s)){if(Q3(s)){var a=s.data.payload;if(a){var l=a.lastActivityTimestamp,c=a.threshold;s.timestamp=l+c}}var u=(n=this._instance.config.session_recording.compress_events)===null||n===void 0||n?function(h){if($y(h)<1024)return h;try{if(h.type===ma.FullSnapshot)return xt({},h,{data:ac(h.data),cv:"2024-10"});if(h.type===ma.IncrementalSnapshot&&h.data.source===Yo.Mutation)return xt({},h,{cv:"2024-10",data:xt({},h.data,{texts:ac(h.data.texts),attributes:ac(h.data.attributes),removes:ac(h.data.removes),adds:ac(h.data.adds)})});if(h.type===ma.IncrementalSnapshot&&h.data.source===Yo.StyleSheetRule)return xt({},h,{cv:"2024-10",data:xt({},h.data,{adds:h.data.adds?ac(h.data.adds):void 0,removes:h.data.removes?ac(h.data.removes):void 0})})}catch(p){ii.error("could not compress event - will use uncompressed event",p)}return h}(s):s,f={$snapshot_bytes:$y(u),$snapshot_data:u,$session_id:this.kt,$window_id:this.oi};this.status!==Hl?this.Oi(f):this.ai()}}}}}Ri(){if(!this._instance.config.capture_pageview&&Me){var t=this.di(Me.location.href);this.Pi!==t&&(this.ii("$url_changed",{href:t}),this.Pi=t)}}Ii(){if(this.Ht.length){var t=[...this.Ht];this.Ht=[],t.forEach(n=>{Date.now()-n.enqueuedAt<=2e3&&this.$i(n)})}}di(t){var n=this._instance.config.session_recording;if(n.maskNetworkRequestFn){var r,i={url:t};return(r=i=n.maskNetworkRequestFn(i))==null?void 0:r.url}return t}ai(){return this.M={size:0,data:[],sessionId:this.kt,windowId:this.oi},this.M}Zt(){this.Fi&&(clearTimeout(this.Fi),this.Fi=void 0);var t=this.Lt,n=this.Mt,r=li(n)&&n>=0,i=li(t)&&r&&n<t;return this.status===Qc||this.status===NE||this.status===Hl||i?(this.Fi=setTimeout(()=>{this.Zt()},2e3),this.M):(this.M.data.length>0&&Mk(this.M).forEach(o=>{this.Ai({$snapshot_bytes:o.size,$snapshot_data:o.data,$session_id:o.sessionId,$window_id:o.windowId,$lib:"web",$lib_version:_a.LIB_VERSION})}),this.ai())}Oi(t){var n,r=2+(((n=this.M)==null?void 0:n.data.length)||0);!this.Wt&&(this.M.size+t.$snapshot_bytes+r>943718.4||this.M.sessionId!==this.kt)&&(this.M=this.Zt()),this.M.size+=t.$snapshot_bytes,this.M.data.push(t.$snapshot_data),this.Fi||this.Wt||(this.Fi=setTimeout(()=>{this.Zt()},2e3))}Ai(t){this._instance.capture("$snapshot",t,{_url:this._instance.requestRouter.endpointFor("api",this.si),_noTruncate:!0,_batchKey:"recordings",skip_client_rate_limiting:!0})}Ci(t){var n,r;this.Rt.triggerStatus(this.sessionId)===fi&&((n=this._instance)==null||(r=n.persistence)==null||r.register({[t==="url"?Sk:Ek]:this.kt}),this.Zt(),this.pi(t+"_trigger_matched"))}Ti(){this.Ut.urlBlocked||(this.Ut.urlBlocked=!0,clearInterval(this.vi),ii.info("recording paused due to URL blocker"),this.ii("recording paused",{reason:"url blocker"}))}Mi(){this.Ut.urlBlocked&&(this.Ut.urlBlocked=!1,this.ki(),this.Si(),this.ii("recording resumed",{reason:"left blocked url"}),ii.info("recording resumed"))}hi(){this.qt.St.length!==0&&xn(this.Xt)&&(this.Xt=this._instance.on("eventCaptured",t=>{try{this.qt.St.includes(t.event)&&this.Ci("event")}catch(n){ii.error("Could not activate event trigger",n)}}))}overrideLinkedFlag(){this.Bt.linkedFlagSeen=!0,this.ki(),this.pi("linked_flag_overridden")}overrideSampling(){var t;(t=this._instance.persistence)==null||t.register({[uh]:!0}),this.ki(),this.pi("sampling_overridden")}overrideTrigger(t){this.Ci(t)}pi(t,n){this._instance.register_for_session({$session_recording_start_reason:t}),ii.info(t.replace("_"," "),n),sn(["recording_initialized","session_id_changed"],t)||this.ii(t,n)}get sdkDebugProperties(){var{sessionStartTimestamp:t}=this.It.checkAndGetSessionAndWindowId(!0);return{$recording_status:this.status,$sdk_debug_replay_internal_buffer_length:this.M.data.length,$sdk_debug_replay_internal_buffer_size:this.M.size,$sdk_debug_current_session_duration:this.Mt,$sdk_debug_session_start:t}}}var Vb=gi("[SegmentIntegration]");function Zce(e,t){var n=e.config.segment;if(!n)return t();(function(r,i){var o=r.config.segment;if(!o)return i();var s=l=>{var c=()=>l.anonymousId()||wl();r.config.get_device_id=c,l.id()&&(r.register({distinct_id:l.id(),$device_id:c()}),r.persistence.set_property(pa,"identified")),i()},a=o.user();"then"in a&&Io(a.then)?a.then(l=>s(l)):s(a)})(e,()=>{n.register((r=>{Promise&&Promise.resolve||Vb.warn("This browser does not have Promise support, and can not use the segment integration");var i=(o,s)=>{var a;if(!s)return o;o.event.userId||o.event.anonymousId===r.get_distinct_id()||(Vb.info("No userId set, resetting PostHog"),r.reset()),o.event.userId&&o.event.userId!==r.get_distinct_id()&&(Vb.info("UserId set, identifying with PostHog"),r.identify(o.event.userId));var l=r.Di(s,(a=o.event.properties)!==null&&a!==void 0?a:{},new Date);return o.event.properties=Object.assign({},l,o.event.properties),o};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:()=>!0,load:()=>Promise.resolve(),track:o=>i(o,o.event.event),page:o=>i(o,"$pageview"),identify:o=>i(o,"$identify"),screen:o=>i(o,"$screen")}})(e)).then(()=>{t()})})}var r6="posthog-js";function i6(e,t){var{organization:n,projectId:r,prefix:i,severityAllowList:o=["error"]}=t===void 0?{}:t;return s=>{var a,l,c,u,f;if(!(o==="*"||o.includes(s.level))||!e.__loaded)return s;s.tags||(s.tags={});var h=e.requestRouter.endpointFor("ui","/project/"+e.config.token+"/person/"+e.get_distinct_id());s.tags["PostHog Person URL"]=h,e.sessionRecordingStarted()&&(s.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var p=((a=s.exception)==null?void 0:a.values)||[],v=p.map(b=>xt({},b,{stacktrace:b.stacktrace?xt({},b.stacktrace,{type:"raw",frames:(b.stacktrace.frames||[]).map(m=>xt({},m,{platform:"web:javascript"}))}):void 0})),g={$exception_message:((l=p[0])==null?void 0:l.value)||s.message,$exception_type:(c=p[0])==null?void 0:c.type,$exception_personURL:h,$exception_level:s.level,$exception_list:v,$sentry_event_id:s.event_id,$sentry_exception:s.exception,$sentry_exception_message:((u=p[0])==null?void 0:u.value)||s.message,$sentry_exception_type:(f=p[0])==null?void 0:f.type,$sentry_tags:s.tags};return n&&r&&(g.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+s.event_id),e.exceptions.sendExceptionEvent(g),s}}class eue{constructor(t,n,r,i,o){this.name=r6,this.setupOnce=function(s){s(i6(t,{organization:n,projectId:r,prefix:i,severityAllowList:o}))}}}var ga,tue=Me!=null&&Me.location?Oy(Me.location.hash,"__posthog")||Oy(location.hash,"state"):null,Z3="_postHogToolbarParams",e4=gi("[Toolbar]");(function(e){e[e.UNINITIALIZED=0]="UNINITIALIZED",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED"})(ga||(ga={}));class nue{constructor(t){this.instance=t}ji(t){Gt.ph_toolbar_state=t}Li(){var t;return(t=Gt.ph_toolbar_state)!==null&&t!==void 0?t:ga.UNINITIALIZED}maybeLoadToolbar(t,n,r){var i,o;if(t===void 0&&(t=void 0),n===void 0&&(n=void 0),r===void 0&&(r=void 0),!Me||!bt)return!1;t=(i=t)!==null&&i!==void 0?i:Me.location,r=(o=r)!==null&&o!==void 0?o:Me.history;try{if(!n){try{Me.localStorage.setItem("test","test"),Me.localStorage.removeItem("test")}catch(c){return!1}n=Me==null?void 0:Me.localStorage}var s,a=tue||Oy(t.hash,"__posthog")||Oy(t.hash,"state"),l=a?w3(()=>JSON.parse(atob(decodeURIComponent(a))))||w3(()=>JSON.parse(decodeURIComponent(a))):null;return l&&l.action==="ph_authorize"?((s=l).source="url",s&&Object.keys(s).length>0&&(l.desiredHash?t.hash=l.desiredHash:r?r.replaceState(r.state,"",t.pathname+t.search):t.hash="")):((s=JSON.parse(n.getItem(Z3)||"{}")).source="localstorage",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch(c){return!1}}Ni(t){var n=Gt.ph_load_toolbar||Gt.ph_load_editor;!xn(n)&&Io(n)?n(t,this.instance):e4.warn("No toolbar load function found")}loadToolbar(t){var n=!(bt==null||!bt.getElementById(TD));if(!Me||n)return!1;var r=this.instance.requestRouter.region==="custom"&&this.instance.config.advanced_disable_toolbar_metrics,i=xt({token:this.instance.config.token},t,{apiURL:this.instance.requestRouter.endpointFor("ui")},r?{instrument:!1}:{});if(Me.localStorage.setItem(Z3,JSON.stringify(xt({},i,{source:void 0}))),this.Li()===ga.LOADED)this.Ni(i);else if(this.Li()===ga.UNINITIALIZED){var o;this.ji(ga.LOADING),(o=Gt.__PosthogExtensions__)==null||o.loadExternalDependency==null||o.loadExternalDependency(this.instance,"toolbar",s=>{if(s)return e4.error("[Toolbar] Failed to load",s),void this.ji(ga.UNINITIALIZED);this.ji(ga.LOADED),this.Ni(i)}),Jn(Me,"turbolinks:load",()=>{this.ji(ga.UNINITIALIZED),this.loadToolbar(i)})}return!0}zi(t){return this.loadToolbar(t)}maybeLoadEditor(t,n,r){return t===void 0&&(t=void 0),n===void 0&&(n=void 0),r===void 0&&(r=void 0),this.maybeLoadToolbar(t,n,r)}}var rue=gi("[TracingHeaders]");class iue{constructor(t){this.Ui=void 0,this.qi=void 0,this.V=()=>{var n,r,i,o;vt(this.Ui)&&((n=Gt.__PosthogExtensions__)==null||(r=n.tracingHeadersPatchFns)==null||r._patchXHR(this._instance.sessionManager)),vt(this.qi)&&((i=Gt.__PosthogExtensions__)==null||(o=i.tracingHeadersPatchFns)==null||o._patchFetch(this._instance.sessionManager))},this._instance=t}G(t){var n,r;(n=Gt.__PosthogExtensions__)!=null&&n.tracingHeadersPatchFns&&t(),(r=Gt.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"tracing-headers",i=>{if(i)return rue.error("failed to load script",i);t()})}startIfEnabledOrStop(){var t,n;this._instance.config.__add_tracing_headers?this.G(this.V):((t=this.Ui)==null||t.call(this),(n=this.qi)==null||n.call(this),this.Ui=void 0,this.qi=void 0)}}var sl=gi("[Web Vitals]"),t4=9e5;class oue{constructor(t){var n;this.Bi=!1,this.i=!1,this.M={url:void 0,metrics:[],firstMetricTimestamp:void 0},this.Hi=()=>{clearTimeout(this.Wi),this.M.metrics.length!==0&&(this._instance.capture("$web_vitals",this.M.metrics.reduce((r,i)=>xt({},r,{["$web_vitals_"+i.name+"_event"]:xt({},i),["$web_vitals_"+i.name+"_value"]:i.value}),{})),this.M={url:void 0,metrics:[],firstMetricTimestamp:void 0})},this.Gi=r=>{var i,o=(i=this._instance.sessionManager)==null?void 0:i.checkAndGetSessionAndWindowId(!0);if(vt(o))sl.error("Could not read session ID. Dropping metrics!");else{this.M=this.M||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var s=this.Ji();vt(s)||(xn(r==null?void 0:r.name)||xn(r==null?void 0:r.value)?sl.error("Invalid metric received",r):this.Vi&&r.value>=this.Vi?sl.error("Ignoring metric with value >= "+this.Vi,r):(this.M.url!==s&&(this.Hi(),this.Wi=setTimeout(this.Hi,this.flushToCaptureTimeoutMs)),vt(this.M.url)&&(this.M.url=s),this.M.firstMetricTimestamp=vt(this.M.firstMetricTimestamp)?Date.now():this.M.firstMetricTimestamp,r.attribution&&r.attribution.interactionTargetElement&&(r.attribution.interactionTargetElement=void 0),this.M.metrics.push(xt({},r,{$current_url:s,$session_id:o.sessionId,$window_id:o.windowId,timestamp:Date.now()})),this.M.metrics.length===this.allowedMetrics.length&&this.Hi()))}},this.V=()=>{var r,i,o,s,a=Gt.__PosthogExtensions__;vt(a)||vt(a.postHogWebVitalsCallbacks)||({onLCP:r,onCLS:i,onFCP:o,onINP:s}=a.postHogWebVitalsCallbacks),r&&i&&o&&s?(this.allowedMetrics.indexOf("LCP")>-1&&r(this.Gi.bind(this)),this.allowedMetrics.indexOf("CLS")>-1&&i(this.Gi.bind(this)),this.allowedMetrics.indexOf("FCP")>-1&&o(this.Gi.bind(this)),this.allowedMetrics.indexOf("INP")>-1&&s(this.Gi.bind(this)),this.i=!0):sl.error("web vitals callbacks not loaded - not starting")},this._instance=t,this.Bi=!((n=this._instance.persistence)==null||!n.props[k3]),this.startIfEnabled()}get allowedMetrics(){var t,n,r=ar(this._instance.config.capture_performance)?(t=this._instance.config.capture_performance)==null?void 0:t.web_vitals_allowed_metrics:void 0;return vt(r)?((n=this._instance.persistence)==null?void 0:n.props[S3])||["CLS","FCP","INP","LCP"]:r}get flushToCaptureTimeoutMs(){return(ar(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get Vi(){var t=ar(this._instance.config.capture_performance)&&li(this._instance.config.capture_performance.__web_vitals_max_value)?this._instance.config.capture_performance.__web_vitals_max_value:t4;return 0<t&&t<=6e4?t4:t}get isEnabled(){var t=Fi==null?void 0:Fi.protocol;if(t!=="http:"&&t!=="https:")return sl.info("Web Vitals are disabled on non-http/https protocols"),!1;var n=ar(this._instance.config.capture_performance)?this._instance.config.capture_performance.web_vitals:Ca(this._instance.config.capture_performance)?this._instance.config.capture_performance:void 0;return Ca(n)?n:this.Bi}startIfEnabled(){this.isEnabled&&!this.i&&(sl.info("enabled, starting..."),this.G(this.V))}onRemoteConfig(t){var n=ar(t.capturePerformance)&&!!t.capturePerformance.web_vitals,r=ar(t.capturePerformance)?t.capturePerformance.web_vitals_allowed_metrics:void 0;this._instance.persistence&&(this._instance.persistence.register({[k3]:n}),this._instance.persistence.register({[S3]:r})),this.Bi=n,this.startIfEnabled()}G(t){var n,r;(n=Gt.__PosthogExtensions__)!=null&&n.postHogWebVitalsCallbacks&&t(),(r=Gt.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"web-vitals",i=>{i?sl.error("failed to load script",i):t()})}Ji(){var t=Me?Me.location.href:void 0;return t||sl.error("Could not determine current URL"),t}}var sue=gi("[Heatmaps]");function n4(e){return ar(e)&&"clientX"in e&&"clientY"in e&&li(e.clientX)&&li(e.clientY)}class aue{constructor(t){var n;this.rageclicks=new zD,this.Bi=!1,this.i=!1,this.Ki=null,this.instance=t,this.Bi=!((n=this.instance.persistence)==null||!n.props[_k])}get flushIntervalMilliseconds(){var t=5e3;return ar(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(t=this.instance.config.capture_heatmaps.flush_interval_milliseconds),t}get isEnabled(){return vt(this.instance.config.capture_heatmaps)?vt(this.instance.config.enable_heatmaps)?this.Bi:this.instance.config.enable_heatmaps:this.instance.config.capture_heatmaps!==!1}startIfEnabled(){if(this.isEnabled){if(this.i)return;sue.info("starting..."),this.Yi(),this.Ki=setInterval(this.Xi.bind(this),this.flushIntervalMilliseconds)}else{var t,n;clearInterval((t=this.Ki)!==null&&t!==void 0?t:void 0),(n=this.Qi)==null||n.stop(),this.getAndClearBuffer()}}onRemoteConfig(t){var n=!!t.heatmaps;this.instance.persistence&&this.instance.persistence.register({[_k]:n}),this.Bi=n,this.startIfEnabled()}getAndClearBuffer(){var t=this.M;return this.M=void 0,t}Zi(t){this.te(t.originalEvent,"deadclick")}Yi(){Me&&bt&&(Jn(Me,"beforeunload",this.Xi.bind(this)),Jn(bt,"click",t=>this.te(t||(Me==null?void 0:Me.event)),{capture:!0}),Jn(bt,"mousemove",t=>this.ie(t||(Me==null?void 0:Me.event)),{capture:!0}),this.Qi=new WD(this.instance,dce,this.Zi.bind(this)),this.Qi.startIfEnabled(),this.i=!0)}ee(t,n){var r=this.instance.scrollManager.scrollY(),i=this.instance.scrollManager.scrollX(),o=this.instance.scrollManager.scrollElement(),s=function(a,l,c){for(var u=a;u&&_x(u)&&!Rl(u,"body");){if(u===c)return!1;if(sn(l,Me==null?void 0:Me.getComputedStyle(u).position))return!0;u=MD(u)}return!1}(OD(t),["fixed","sticky"],o);return{x:t.clientX+(s?0:i),y:t.clientY+(s?0:r),target_fixed:s,type:n}}te(t,n){var r;if(n===void 0&&(n="click"),!P3(t.target)&&n4(t)){var i=this.ee(t,n);(r=this.rageclicks)!=null&&r.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this.re(xt({},i,{type:"rageclick"})),this.re(i)}}ie(t){!P3(t.target)&&n4(t)&&(clearTimeout(this.se),this.se=setTimeout(()=>{this.re(this.ee(t,"mousemove"))},500))}re(t){if(Me){var n=Me.location.href;this.M=this.M||{},this.M[n]||(this.M[n]=[]),this.M[n].push(t)}}Xi(){this.M&&!Xu(this.M)&&this.instance.capture("$$heatmap",{$heatmap_data:this.getAndClearBuffer()})}}class lue{constructor(t){this._instance=t}doPageView(t,n){var r,i=this.ne(t,n);return this.oe={pathname:(r=Me==null?void 0:Me.location.pathname)!==null&&r!==void 0?r:"",pageViewId:n,timestamp:t},this._instance.scrollManager.resetContext(),i}doPageLeave(t){var n;return this.ne(t,(n=this.oe)==null?void 0:n.pageViewId)}doEvent(){var t;return{$pageview_id:(t=this.oe)==null?void 0:t.pageViewId}}ne(t,n){var r=this.oe;if(!r)return{$pageview_id:n};var i={$pageview_id:n,$prev_pageview_id:r.pageViewId},o=this._instance.scrollManager.getContext();if(o&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:s,lastScrollY:a,maxScrollY:l,maxContentHeight:c,lastContentY:u,maxContentY:f}=o;if(!(vt(s)||vt(a)||vt(l)||vt(c)||vt(u)||vt(f))){s=Math.ceil(s),a=Math.ceil(a),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u),f=Math.ceil(f);var h=s<=1?1:To(a/s,0,1),p=s<=1?1:To(l/s,0,1),v=c<=1?1:To(u/c,0,1),g=c<=1?1:To(f/c,0,1);i=br(i,{$prev_pageview_last_scroll:a,$prev_pageview_last_scroll_percentage:h,$prev_pageview_max_scroll:l,$prev_pageview_max_scroll_percentage:p,$prev_pageview_last_content:u,$prev_pageview_last_content_percentage:v,$prev_pageview_max_content:f,$prev_pageview_max_content_percentage:g})}}return r.pathname&&(i.$prev_pageview_pathname=r.pathname),r.timestamp&&(i.$prev_pageview_duration=(t.getTime()-r.timestamp.getTime())/1e3),i}}class cue{constructor(t){this._instance=t}sendExceptionEvent(t){this._instance.capture("$exception",t,{_noTruncate:!0,_batchKey:"exceptionEvent"})}}var Oo="Mobile",Ly="iOS",Ls="Android",Mp="Tablet",o6=Ls+" "+Mp,s6="iPad",a6="Apple",l6=a6+" Watch",$p="Safari",Wd="BlackBerry",c6="Samsung",u6=c6+"Browser",d6=c6+" Internet",Zc="Chrome",uue=Zc+" OS",f6=Zc+" "+Ly,TE="Internet Explorer",h6=TE+" "+Oo,RE="Opera",due=RE+" Mini",IE="Edge",p6="Microsoft "+IE,cd="Firefox",m6=cd+" "+Ly,Dp="Nintendo",Fp="PlayStation",ud="Xbox",g6=Ls+" "+Oo,v6=Oo+" "+$p,hh="Windows",Hk=hh+" Phone",r4="Nokia",Wk="Ouya",y6="Generic",fue=y6+" "+Oo.toLowerCase(),x6=y6+" "+Mp.toLowerCase(),Uk="Konqueror",_i="(\\d+(\\.\\d+)?)",qb=new RegExp("Version/"+_i),hue=new RegExp(ud,"i"),pue=new RegExp(Fp+" \\w+","i"),mue=new RegExp(Dp+" \\w+","i"),PE=new RegExp(Wd+"|PlayBook|BB10","i"),gue={"NT3.51":"NT 3.11","NT4.0":"NT 4.0","5.0":"2000",5.1:"XP",5.2:"XP","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"},vue=(e,t)=>t&&sn(t,a6)||function(n){return sn(n,$p)&&!sn(n,Zc)&&!sn(n,Ls)}(e),w6=function(e,t){return t=t||"",sn(e," OPR/")&&sn(e,"Mini")?due:sn(e," OPR/")?RE:PE.test(e)?Wd:sn(e,"IE"+Oo)||sn(e,"WPDesktop")?h6:sn(e,u6)?d6:sn(e,IE)||sn(e,"Edg/")?p6:sn(e,"FBIOS")?"Facebook "+Oo:sn(e,"UCWEB")||sn(e,"UCBrowser")?"UC Browser":sn(e,"CriOS")?f6:sn(e,"CrMo")||sn(e,Zc)?Zc:sn(e,Ls)&&sn(e,$p)?g6:sn(e,"FxiOS")?m6:sn(e.toLowerCase(),Uk.toLowerCase())?Uk:vue(e,t)?sn(e,Oo)?v6:$p:sn(e,cd)?cd:sn(e,"MSIE")||sn(e,"Trident/")?TE:sn(e,"Gecko")?cd:""},yue={[h6]:[new RegExp("rv:"+_i)],[p6]:[new RegExp(IE+"?\\/"+_i)],[Zc]:[new RegExp("("+Zc+"|CrMo)\\/"+_i)],[f6]:[new RegExp("CriOS\\/"+_i)],"UC Browser":[new RegExp("(UCBrowser|UCWEB)\\/"+_i)],[$p]:[qb],[v6]:[qb],[RE]:[new RegExp("(Opera|OPR)\\/"+_i)],[cd]:[new RegExp(cd+"\\/"+_i)],[m6]:[new RegExp("FxiOS\\/"+_i)],[Uk]:[new RegExp("Konqueror[:/]?"+_i,"i")],[Wd]:[new RegExp(Wd+" "+_i),qb],[g6]:[new RegExp("android\\s"+_i,"i")],[d6]:[new RegExp(u6+"\\/"+_i)],[TE]:[new RegExp("(rv:|MSIE )"+_i)],Mozilla:[new RegExp("rv:"+_i)]},xue=function(e,t){var n=w6(e,t),r=yue[n];if(vt(r))return null;for(var i=0;i<r.length;i++){var o=r[i],s=e.match(o);if(s)return parseFloat(s[s.length-2])}return null},i4=[[new RegExp(ud+"; "+ud+" (.*?)[);]","i"),e=>[ud,e&&e[1]||""]],[new RegExp(Dp,"i"),[Dp,""]],[new RegExp(Fp,"i"),[Fp,""]],[PE,[Wd,""]],[new RegExp(hh,"i"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[Hk,""];if(new RegExp(Oo).test(t)&&!/IEMobile\b/.test(t))return[hh+" "+Oo,""];var n=/Windows NT ([0-9.]+)/i.exec(t);if(n&&n[1]){var r=n[1],i=gue[r]||"";return/arm/i.test(t)&&(i="RT"),[hh,i]}return[hh,""]}],[/((iPhone|iPad|iPod).*?OS (\d+)_(\d+)_?(\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||"0"];return[Ly,t.join(".")]}return[Ly,""]}],[/(watch.*\/(\d+\.\d+\.\d+)|watch os,(\d+\.\d+),)/i,e=>{var t="";return e&&e.length>=3&&(t=vt(e[2])?e[3]:e[2]),["watchOS",t]}],[new RegExp("("+Ls+" (\\d+)\\.(\\d+)\\.?(\\d+)?|"+Ls+")","i"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||"0"];return[Ls,t.join(".")]}return[Ls,""]}],[/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i,e=>{var t=["Mac OS X",""];if(e&&e[1]){var n=[e[1],e[2],e[3]||"0"];t[1]=n.join(".")}return t}],[/Mac/i,["Mac OS X",""]],[/CrOS/,[uue,""]],[/Linux|debian/i,["Linux",""]]],o4=function(e){return mue.test(e)?Dp:pue.test(e)?Fp:hue.test(e)?ud:new RegExp(Wk,"i").test(e)?Wk:new RegExp("("+Hk+"|WPDesktop)","i").test(e)?Hk:/iPad/.test(e)?s6:/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(watch)(?: ?os[,/]|\d,\d\/)[\d.]+/i.test(e)?l6:PE.test(e)?Wd:/(kobo)\s(ereader|touch)/i.test(e)?"Kobo":new RegExp(r4,"i").test(e)?r4:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\))/i.test(e)||/(kf[a-z]+)( bui|\)).+silk\//i.test(e)?"Kindle Fire":/(Android|ZTE)/i.test(e)?!new RegExp(Oo).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?Ls:o6:Ls:new RegExp("(pda|"+Oo+")","i").test(e)?fue:new RegExp(Mp,"i").test(e)&&!new RegExp(Mp+" pc","i").test(e)?x6:""},Cg="https?://(.*)",Sx=["gclid","gclsrc","dclid","gbraid","wbraid","fbclid","msclkid","twclid","li_fat_id","igshid","ttclid","rdt_cid","epik","qclid","sccid","irclid","_kx"],wue=bx(["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gad_source","mc_cid"],Sx),OE="<masked>";function b6(e,t,n){if(!bt)return{};var r=t?bx([],Sx,n||[]):[];return _6(kE(bt.URL,r,OE),e)}function _6(e,t){var n=wue.concat(t||[]),r={};return Nn(n,function(i){var o=Py(e,i);r[i]=o||null}),r}function k6(e){var t=function(o){return o?o.search(Cg+"google.([^/?]*)")===0?"google":o.search(Cg+"bing.com")===0?"bing":o.search(Cg+"yahoo.com")===0?"yahoo":o.search(Cg+"duckduckgo.com")===0?"duckduckgo":null:null}(e),n=t!="yahoo"?"q":"p",r={};if(!Xl(t)){r.$search_engine=t;var i=bt?Py(bt.referrer,n):"";i.length&&(r.ph_keyword=i)}return r}function s4(){return navigator.language||navigator.userLanguage}function S6(){return(bt==null?void 0:bt.referrer)||"$direct"}function E6(e,t){var n=e?bx([],Sx,t||[]):[],r=Fi==null?void 0:Fi.href.substring(0,1e3);return{r:S6().substring(0,1e3),u:r?kE(r,n,OE):void 0}}function C6(e){var t,{r:n,u:r}=e,i={$referrer:n,$referring_domain:n==null?void 0:n=="$direct"?"$direct":(t=zd(n))==null?void 0:t.host};if(r){i.$current_url=r;var o=zd(r);i.$host=o==null?void 0:o.host,i.$pathname=o==null?void 0:o.pathname;var s=_6(r);br(i,s)}if(n){var a=k6(n);br(i,a)}return i}function j6(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return}}function bue(){try{return new Date().getTimezoneOffset()}catch(e){return}}function _ue(e,t){if(!$i)return{};var n,r,i,o=e?bx([],Sx,t||[]):[],[s,a]=function(l){for(var c=0;c<i4.length;c++){var[u,f]=i4[c],h=u.exec(l),p=h&&(Io(f)?f(h,l):f);if(p)return p}return["",""]}($i);return br(bE({$os:s,$os_version:a,$browser:w6($i,navigator.vendor),$device:o4($i),$device_type:(r=$i,i=o4(r),i===s6||i===o6||i==="Kobo"||i==="Kindle Fire"||i===x6?Mp:i===Dp||i===ud||i===Fp||i===Wk?"Console":i===l6?"Wearable":i?Oo:"Desktop"),$timezone:j6(),$timezone_offset:bue()}),{$current_url:kE(Fi==null?void 0:Fi.href,o,OE),$host:Fi==null?void 0:Fi.host,$pathname:Fi==null?void 0:Fi.pathname,$raw_user_agent:$i.length>1e3?$i.substring(0,997)+"...":$i,$browser_version:xue($i,navigator.vendor),$browser_language:s4(),$browser_language_prefix:(n=s4(),typeof n=="string"?n.split("-")[0]:void 0),$screen_height:Me==null?void 0:Me.screen.height,$screen_width:Me==null?void 0:Me.screen.width,$viewport_height:Me==null?void 0:Me.innerHeight,$viewport_width:Me==null?void 0:Me.innerWidth,$lib:"web",$lib_version:_a.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})}var Vk,Os=gi("[FeatureFlags]"),Kb="$active_feature_flags",Eu="$override_feature_flags",a4="$feature_flag_payloads",Uf="$override_feature_flag_payloads",l4="$feature_flag_request_id",c4=e=>{var t={};for(var[n,r]of uv(e||{}))r&&(t[n]=r);return t},kue=e=>{var t=e.flags;return t?(e.featureFlags=Object.fromEntries(Object.keys(t).map(n=>{var r;return[n,(r=t[n].variant)!==null&&r!==void 0?r:t[n].enabled]})),e.featureFlagPayloads=Object.fromEntries(Object.keys(t).filter(n=>t[n].enabled).filter(n=>{var r;return(r=t[n].metadata)==null?void 0:r.payload}).map(n=>{var r;return[n,(r=t[n].metadata)==null?void 0:r.payload]}))):Os.warn("Using an older version of the feature flags endpoint. Please upgrade your PostHog server to the latest version"),e};(function(e){e.FeatureFlags="feature_flags",e.Recordings="recordings"})(Vk||(Vk={}));class Sue{constructor(t){this.ae=!1,this.le=!1,this.ue=!1,this.he=!1,this.de=!1,this.ve=!1,this.ce=!1,this._instance=t,this.featureFlagEventHandlers=[]}decide(){if(this._instance.config.__preview_remote_config)this.ve=!0;else{var t=!this.fe&&(this._instance.config.advanced_disable_feature_flags||this._instance.config.advanced_disable_feature_flags_on_first_load);this.pe({disableFlags:t})}}get hasLoadedFlags(){return this.le}getFlags(){return Object.keys(this.getFlagVariants())}getFlagsWithDetails(){var t=this._instance.get_property(Ck),n=this._instance.get_property(Eu),r=this._instance.get_property(Uf);if(!r&&!n)return t||{};var i=br({},t||{}),o=[...new Set([...Object.keys(r||{}),...Object.keys(n||{})])];for(var s of o){var a,l,c=i[s],u=n==null?void 0:n[s],f=vt(u)?(a=c==null?void 0:c.enabled)!==null&&a!==void 0&&a:!!u,h=vt(u)?c.variant:typeof u=="string"?u:void 0,p=r==null?void 0:r[s],v=xt({},c,{enabled:f,variant:f?h!=null?h:c==null?void 0:c.variant:void 0});f!==(c==null?void 0:c.enabled)&&(v.original_enabled=c==null?void 0:c.enabled),h!==(c==null?void 0:c.variant)&&(v.original_variant=c==null?void 0:c.variant),p&&(v.metadata=xt({},c==null?void 0:c.metadata,{payload:p,original_payload:c==null||(l=c.metadata)==null?void 0:l.payload})),i[s]=v}return this.ae||(Os.warn(" Overriding feature flag details!",{flagDetails:t,overriddenPayloads:r,finalDetails:i}),this.ae=!0),i}getFlagVariants(){var t=this._instance.get_property(Ju),n=this._instance.get_property(Eu);if(!n)return t||{};for(var r=br({},t),i=Object.keys(n),o=0;o<i.length;o++)r[i[o]]=n[i[o]];return this.ae||(Os.warn(" Overriding feature flags!",{enabledFlags:t,overriddenFlags:n,finalFlags:r}),this.ae=!0),r}getFlagPayloads(){var t=this._instance.get_property(a4),n=this._instance.get_property(Uf);if(!n)return t||{};for(var r=br({},t||{}),i=Object.keys(n),o=0;o<i.length;o++)r[i[o]]=n[i[o]];return this.ae||(Os.warn(" Overriding feature flag payloads!",{flagPayloads:t,overriddenPayloads:n,finalPayloads:r}),this.ae=!0),r}reloadFeatureFlags(){this.he||this._instance.config.advanced_disable_feature_flags||this.fe||(this.fe=setTimeout(()=>{this.pe()},5))}ge(){clearTimeout(this.fe),this.fe=void 0}ensureFlagsLoaded(){this.le||this.ue||this.fe||this.reloadFeatureFlags()}setAnonymousDistinctId(t){this.$anon_distinct_id=t}setReloadingPaused(t){this.he=t}pe(t){var n;if(this.ge(),!this._instance.config.advanced_disable_decide)if(this.ue)this.de=!0;else{var r={token:this._instance.config.token,distinct_id:this._instance.get_distinct_id(),groups:this._instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:xt({},((n=this._instance.persistence)==null?void 0:n.get_initial_props())||{},this._instance.get_property(dh)||{}),group_properties:this._instance.get_property(vc)};(t!=null&&t.disableFlags||this._instance.config.advanced_disable_feature_flags)&&(r.disable_flags=!0);var i=this._instance.config.__preview_flags_v2&&this._instance.config.__preview_remote_config;i&&(r.timezone=j6()),this.ue=!0,this._instance._e({method:"POST",url:this._instance.requestRouter.endpointFor("api",i?"/flags/?v=2":"/decide/?v=4"),data:r,compression:this._instance.config.disable_compression?void 0:ts.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:o=>{var s,a,l,c=!0;o.statusCode===200&&(this.de||(this.$anon_distinct_id=void 0),c=!1),this.ue=!1,this.ve||(this.ve=!0,this._instance.me((l=o.json)!==null&&l!==void 0?l:{})),r.disable_flags&&!this.de||(this.ce=!c,o.json&&(s=o.json.quotaLimited)!=null&&s.includes(Vk.FeatureFlags)?Os.warn("You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more."):(this.receivedFeatureFlags((a=o.json)!==null&&a!==void 0?a:{},c),this.de&&(this.de=!1,this.pe())))}})}}getFeatureFlag(t,n){if(n===void 0&&(n={}),this.le||this.getFlags()&&this.getFlags().length>0){var r=this.getFlagVariants()[t],i=""+r,o=this._instance.get_property(l4)||void 0,s=this._instance.get_property(Ty)||{};if((n.send_event||!("send_event"in n))&&(!(t in s)||!s[t].includes(i))){var a,l,c,u,f,h,p,v,g,b,m;sr(s[t])?s[t].push(i):s[t]=[i],(a=this._instance.persistence)==null||a.register({[Ty]:s});var y=this.getFeatureFlagDetails(t),x={$feature_flag:t,$feature_flag_response:r,$feature_flag_payload:this.getFeatureFlagPayload(t)||null,$feature_flag_request_id:o,$feature_flag_bootstrapped_response:((l=this._instance.config.bootstrap)==null||(c=l.featureFlags)==null?void 0:c[t])||null,$feature_flag_bootstrapped_payload:((u=this._instance.config.bootstrap)==null||(f=u.featureFlagPayloads)==null?void 0:f[t])||null,$used_bootstrap_value:!this.ce};vt(y==null||(h=y.metadata)==null?void 0:h.version)||(x.$feature_flag_version=y.metadata.version);var k,S=(p=y==null||(v=y.reason)==null?void 0:v.description)!==null&&p!==void 0?p:y==null||(g=y.reason)==null?void 0:g.code;S&&(x.$feature_flag_reason=S),y!=null&&(b=y.metadata)!=null&&b.id&&(x.$feature_flag_id=y.metadata.id),vt(y==null?void 0:y.original_variant)&&vt(y==null?void 0:y.original_enabled)||(x.$feature_flag_original_response=vt(y.original_variant)?y.original_enabled:y.original_variant),y!=null&&(m=y.metadata)!=null&&m.original_payload&&(x.$feature_flag_original_payload=y==null||(k=y.metadata)==null?void 0:k.original_payload),this._instance.capture("$feature_flag_called",x)}return r}Os.warn('getFeatureFlag for key "'+t+"\" failed. Feature flags didn't load in time.")}getFeatureFlagDetails(t){return this.getFlagsWithDetails()[t]}getFeatureFlagPayload(t){return this.getFlagPayloads()[t]}getRemoteConfigPayload(t,n){var r=this._instance.config.token;this._instance._e({method:"POST",url:this._instance.requestRouter.endpointFor("api","/decide/?v=4"),data:{distinct_id:this._instance.get_distinct_id(),token:r},compression:this._instance.config.disable_compression?void 0:ts.Base64,timeout:this._instance.config.feature_flag_request_timeout_ms,callback:i=>{var o,s=(o=i.json)==null?void 0:o.featureFlagPayloads;n((s==null?void 0:s[t])||void 0)}})}isFeatureEnabled(t,n){if(n===void 0&&(n={}),this.le||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(t,n);Os.warn('isFeatureEnabled for key "'+t+"\" failed. Feature flags didn't load in time.")}addFeatureFlagsHandler(t){this.featureFlagEventHandlers.push(t)}removeFeatureFlagsHandler(t){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(n=>n!==t)}receivedFeatureFlags(t,n){if(this._instance.persistence){this.le=!0;var r=this.getFlagVariants(),i=this.getFlagPayloads(),o=this.getFlagsWithDetails();(function(s,a,l,c,u){l===void 0&&(l={}),c===void 0&&(c={}),u===void 0&&(u={});var f=kue(s),h=f.flags,p=f.featureFlags,v=f.featureFlagPayloads;if(p){var g=s.requestId;if(sr(p)){Os.warn("v1 of the feature flags endpoint is deprecated. Please use the latest version.");var b={};if(p)for(var m=0;m<p.length;m++)b[p[m]]=!0;a&&a.register({[Kb]:p,[Ju]:b})}else{var y=p,x=v,k=h;s.errorsWhileComputingFlags&&(y=xt({},l,y),x=xt({},c,x),k=xt({},u,k)),a&&a.register(xt({[Kb]:Object.keys(c4(y)),[Ju]:y||{},[a4]:x||{},[Ck]:k||{}},g?{[l4]:g}:{}))}}})(t,this._instance.persistence,r,i,o),this.be(n)}}override(t,n){n===void 0&&(n=!1),Os.warn("override is deprecated. Please use overrideFeatureFlags instead."),this.overrideFeatureFlags({flags:t,suppressWarning:n})}overrideFeatureFlags(t){if(!this._instance.__loaded||!this._instance.persistence)return Os.uninitializedWarning("posthog.featureFlags.overrideFeatureFlags");if(t===!1)return this._instance.persistence.unregister(Eu),this._instance.persistence.unregister(Uf),void this.be();if(t&&typeof t=="object"&&("flags"in t||"payloads"in t)){var n,r=t;if(this.ae=!!((n=r.suppressWarning)!==null&&n!==void 0&&n),"flags"in r){if(r.flags===!1)this._instance.persistence.unregister(Eu);else if(r.flags)if(sr(r.flags)){for(var i={},o=0;o<r.flags.length;o++)i[r.flags[o]]=!0;this._instance.persistence.register({[Eu]:i})}else this._instance.persistence.register({[Eu]:r.flags})}return"payloads"in r&&(r.payloads===!1?this._instance.persistence.unregister(Uf):r.payloads&&this._instance.persistence.register({[Uf]:r.payloads})),void this.be()}this.be()}onFeatureFlags(t){if(this.addFeatureFlagsHandler(t),this.le){var{flags:n,flagVariants:r}=this.we();t(n,r)}return()=>this.removeFeatureFlagsHandler(t)}updateEarlyAccessFeatureEnrollment(t,n){var r,i=(this._instance.get_property(dv)||[]).find(l=>l.flagKey===t),o={["$feature_enrollment/"+t]:n},s={$feature_flag:t,$feature_enrollment:n,$set:o};i&&(s.$early_access_feature_name=i.name),this._instance.capture("$feature_enrollment_update",s),this.setPersonPropertiesForFlags(o,!1);var a=xt({},this.getFlagVariants(),{[t]:n});(r=this._instance.persistence)==null||r.register({[Kb]:Object.keys(c4(a)),[Ju]:a}),this.be()}getEarlyAccessFeatures(t,n,r){n===void 0&&(n=!1);var i=this._instance.get_property(dv),o=r?"&"+r.map(s=>"stage="+s).join("&"):"";if(i&&!n)return t(i);this._instance._e({url:this._instance.requestRouter.endpointFor("api","/api/early_access_features/?token="+this._instance.config.token+o),method:"GET",callback:s=>{var a;if(s.json){var l=s.json.earlyAccessFeatures;return(a=this._instance.persistence)==null||a.register({[dv]:l}),t(l)}}})}we(){var t=this.getFlags(),n=this.getFlagVariants();return{flags:t.filter(r=>n[r]),flagVariants:Object.keys(n).filter(r=>n[r]).reduce((r,i)=>(r[i]=n[i],r),{})}}be(t){var{flags:n,flagVariants:r}=this.we();this.featureFlagEventHandlers.forEach(i=>i(n,r,{errorsLoading:t}))}setPersonPropertiesForFlags(t,n){n===void 0&&(n=!0);var r=this._instance.get_property(dh)||{};this._instance.register({[dh]:xt({},r,t)}),n&&this._instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this._instance.unregister(dh)}setGroupPropertiesForFlags(t,n){n===void 0&&(n=!0);var r=this._instance.get_property(vc)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(i=>{r[i]=xt({},r[i],t[i]),delete t[i]}),this._instance.register({[vc]:xt({},r,t)}),n&&this._instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(t){if(t){var n=this._instance.get_property(vc)||{};this._instance.register({[vc]:xt({},n,{[t]:{}})})}else this._instance.unregister(vc)}}var Eue=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"];class Yb{constructor(t){this.S=t,this.props={},this.ye=!1,this.Se=(n=>{var r="";return n.token&&(r=n.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),n.persistence_name?"ph_"+n.persistence_name:"ph_"+r+"_posthog"})(t),this.q=this.$e(t),this.load(),t.debug&&jt.info("Persistence loaded",t.persistence,xt({},this.props)),this.update_config(t,t),this.save()}$e(t){Eue.indexOf(t.persistence.toLowerCase())===-1&&(jt.critical("Unknown persistence type "+t.persistence+"; falling back to localStorage+cookie"),t.persistence="localStorage+cookie");var n=t.persistence.toLowerCase();return n==="localstorage"&&Rr.O()?Rr:n==="localstorage+cookie"&&wg.O()?wg:n==="sessionstorage"&&Vr.O()?Vr:n==="memory"?cce:n==="cookie"?Pa:wg.O()?wg:Pa}properties(){var t={};return Nn(this.props,function(n,r){if(r===Ju&&ar(n))for(var i=Object.keys(n),o=0;o<i.length;o++)t["$feature/"+i[o]]=n[i[o]];else a=r,l=!1,(Xl(s=Hle)?l:v3&&s.indexOf===v3?s.indexOf(a)!=-1:(Nn(s,function(c){if(l||(l=c===a))return Ny}),l))||(t[r]=n);var s,a,l}),t}load(){if(!this.ke){var t=this.q.D(this.Se);t&&(this.props=br({},t))}}save(){this.ke||this.q.j(this.Se,this.props,this.xe,this.Ee,this.Ie,this.S.debug)}remove(){this.q.L(this.Se,!1),this.q.L(this.Se,!0)}clear(){this.remove(),this.props={}}register_once(t,n,r){if(ar(t)){vt(n)&&(n="None"),this.xe=vt(r)?this.Pe:r;var i=!1;if(Nn(t,(o,s)=>{this.props.hasOwnProperty(s)&&this.props[s]!==n||(this.props[s]=o,i=!0)}),i)return this.save(),!0}return!1}register(t,n){if(ar(t)){this.xe=vt(n)?this.Pe:n;var r=!1;if(Nn(t,(i,o)=>{t.hasOwnProperty(o)&&this.props[o]!==i&&(this.props[o]=i,r=!0)}),r)return this.save(),!0}return!1}unregister(t){t in this.props&&(delete this.props[t],this.save())}update_campaign_params(){if(!this.ye){var t=b6(this.S.custom_campaign_params,this.S.mask_personal_data_properties,this.S.custom_personal_data_properties);Xu(bE(t))||this.register(t),this.ye=!0}}update_search_keyword(){var t;this.register((t=bt==null?void 0:bt.referrer)?k6(t):{})}update_referrer_info(){var t;this.register_once({$referrer:S6(),$referring_domain:bt!=null&&bt.referrer&&((t=zd(bt.referrer))==null?void 0:t.host)||"$direct"},void 0)}set_initial_person_info(){this.props[Tk]||this.props[Rk]||this.register_once({[Ik]:E6(this.S.mask_personal_data_properties,this.S.custom_personal_data_properties)},void 0)}get_initial_props(){var t={};Nn([Rk,Tk],s=>{var a=this.props[s];a&&Nn(a,function(l,c){t["$initial_"+wk(c)]=l})});var n,r,i=this.props[Ik];if(i){var o=(n=C6(i),r={},Nn(n,function(s,a){r["$initial_"+wk(a)]=s}),r);br(t,o)}return t}safe_merge(t){return Nn(this.props,function(n,r){r in t||(t[r]=n)}),t}update_config(t,n){if(this.Pe=this.xe=t.cookie_expiration,this.set_disabled(t.disable_persistence),this.set_cross_subdomain(t.cross_subdomain_cookie),this.set_secure(t.secure_cookie),t.persistence!==n.persistence){var r=this.$e(t),i=this.props;this.clear(),this.q=r,this.props=i,this.save()}}set_disabled(t){this.ke=t,this.ke?this.remove():this.save()}set_cross_subdomain(t){t!==this.Ee&&(this.Ee=t,this.remove(),this.save())}set_secure(t){t!==this.Ie&&(this.Ie=t,this.remove(),this.save())}set_event_timer(t,n){var r=this.props[ch]||{};r[t]=n,this.props[ch]=r,this.save()}remove_event_timer(t){var n=(this.props[ch]||{})[t];return vt(n)||(delete this.props[ch][t],this.save()),n}get_property(t){return this.props[t]}set_property(t,n){this.props[t]=n,this.save()}}class N6{constructor(){this.Re={},this.Re={}}on(t,n){return this.Re[t]||(this.Re[t]=[]),this.Re[t].push(n),()=>{this.Re[t]=this.Re[t].filter(r=>r!==n)}}emit(t,n){for(var r of this.Re[t]||[])r(n);for(var i of this.Re["*"]||[])i(t,n)}}var By=function(e,t){if(!function(n){try{new RegExp(n)}catch(r){return!1}return!0}(t))return!1;try{return new RegExp(t).test(e)}catch(n){return!1}};class yc{constructor(t){this.Te=new N6,this.Me=(n,r)=>this.Ce(n,r)&&this.Oe(n,r)&&this.Fe(n,r),this.Ce=(n,r)=>r==null||!r.event||(n==null?void 0:n.event)===(r==null?void 0:r.event),this._instance=t,this.Ae=new Set,this.De=new Set}init(){var t;if(!vt((t=this._instance)==null?void 0:t.je)){var n;(n=this._instance)==null||n.je((r,i)=>{this.on(r,i)})}}register(t){var n,r;if(!vt((n=this._instance)==null?void 0:n.je)&&(t.forEach(s=>{var a,l;(a=this.De)==null||a.add(s),(l=s.steps)==null||l.forEach(c=>{var u;(u=this.Ae)==null||u.add((c==null?void 0:c.event)||"")})}),(r=this._instance)!=null&&r.autocapture)){var i,o=new Set;t.forEach(s=>{var a;(a=s.steps)==null||a.forEach(l=>{l!=null&&l.selector&&o.add(l==null?void 0:l.selector)})}),(i=this._instance)==null||i.autocapture.setElementSelectors(o)}}on(t,n){var r;n!=null&&t.length!=0&&(this.Ae.has(t)||this.Ae.has(n==null?void 0:n.event))&&this.De&&((r=this.De)==null?void 0:r.size)>0&&this.De.forEach(i=>{this.Le(n,i)&&this.Te.emit("actionCaptured",i.name)})}Ne(t){this.onAction("actionCaptured",n=>t(n))}Le(t,n){if((n==null?void 0:n.steps)==null)return!1;for(var r of n.steps)if(this.Me(t,r))return!0;return!1}onAction(t,n){return this.Te.on(t,n)}Oe(t,n){if(n!=null&&n.url){var r,i=t==null||(r=t.properties)==null?void 0:r.$current_url;if(!i||typeof i!="string"||!yc.ze(i,n==null?void 0:n.url,(n==null?void 0:n.url_matching)||"contains"))return!1}return!0}static ze(t,n,r){switch(r){case"regex":return!!Me&&By(t,n);case"exact":return n===t;case"contains":var i=yc.Ue(n).replace(/_/g,".").replace(/%/g,".*");return By(t,i);default:return!1}}static Ue(t){return t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}Fe(t,n){if((n!=null&&n.href||n!=null&&n.tag_name||n!=null&&n.text)&&!this.qe(t).some(o=>!(n!=null&&n.href&&!yc.ze(o.href||"",n==null?void 0:n.href,(n==null?void 0:n.href_matching)||"exact"))&&(n==null||!n.tag_name||o.tag_name===(n==null?void 0:n.tag_name))&&!(n!=null&&n.text&&!yc.ze(o.text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact")&&!yc.ze(o.$el_text||"",n==null?void 0:n.text,(n==null?void 0:n.text_matching)||"exact"))))return!1;if(n!=null&&n.selector){var r,i=t==null||(r=t.properties)==null?void 0:r.$element_selectors;if(!i||!i.includes(n==null?void 0:n.selector))return!1}return!0}qe(t){return(t==null?void 0:t.properties.$elements)==null?[]:t==null?void 0:t.properties.$elements}}var jr=gi("[Surveys]");class Cue{constructor(t){this._instance=t,this.Be=new Map,this.He=new Map}register(t){var n;vt((n=this._instance)==null?void 0:n.je)||(this.We(t),this.Ge(t))}Ge(t){var n=t.filter(r=>{var i,o,s,a;return((i=r.conditions)==null?void 0:i.actions)&&((o=r.conditions)==null||(s=o.actions)==null||(a=s.values)==null?void 0:a.length)>0});n.length!==0&&(this.Je==null&&(this.Je=new yc(this._instance),this.Je.init(),this.Je.Ne(r=>{this.onAction(r)})),n.forEach(r=>{var i,o,s,a,l,c,u,f,h,p;r.conditions&&(i=r.conditions)!=null&&i.actions&&(o=r.conditions)!=null&&(s=o.actions)!=null&&s.values&&((a=r.conditions)==null||(l=a.actions)==null||(c=l.values)==null?void 0:c.length)>0&&((u=this.Je)==null||u.register(r.conditions.actions.values),(f=r.conditions)==null||(h=f.actions)==null||(p=h.values)==null||p.forEach(v=>{if(v&&v.name){var g=this.He.get(v.name);g&&g.push(r.id),this.He.set(v.name,g||[r.id])}}))}))}We(t){var n;t.filter(r=>{var i,o,s,a;return((i=r.conditions)==null?void 0:i.events)&&((o=r.conditions)==null||(s=o.events)==null||(a=s.values)==null?void 0:a.length)>0}).length!==0&&((n=this._instance)==null||n.je((r,i)=>{this.onEvent(r,i)}),t.forEach(r=>{var i,o,s;(i=r.conditions)==null||(o=i.events)==null||(s=o.values)==null||s.forEach(a=>{if(a&&a.name){var l=this.Be.get(a.name);l&&l.push(r.id),this.Be.set(a.name,l||[r.id])}})}))}onEvent(t,n){var r,i,o=((r=this._instance)==null||(i=r.persistence)==null?void 0:i.props[xg])||[];if(t==="survey shown"&&n&&o.length>0){var s;jr.info("survey event matched, removing survey from activated surveys",{event:t,eventPayload:n,existingActivatedSurveys:o});var a=n==null||(s=n.properties)==null?void 0:s.$survey_id;if(a){var l=o.indexOf(a);l>=0&&(o.splice(l,1),this.Ve(o))}}else this.Be.has(t)&&(jr.info("survey event matched, updating activated surveys",{event:t,surveys:this.Be.get(t)}),this.Ve(o.concat(this.Be.get(t)||[])))}onAction(t){var n,r,i=((n=this._instance)==null||(r=n.persistence)==null?void 0:r.props[xg])||[];this.He.has(t)&&this.Ve(i.concat(this.He.get(t)||[]))}Ve(t){var n,r;(n=this._instance)==null||(r=n.persistence)==null||r.register({[xg]:[...new Set(t)]})}getSurveys(){var t,n,r=(t=this._instance)==null||(n=t.persistence)==null?void 0:n.props[xg];return r||[]}getEventToSurveys(){return this.Be}Ke(){return this.Je}}class jue{constructor(t){this.Ye=null,this.Xe=!1,this.Qe=!1,this.Ze=[],this._instance=t,this._surveyEventReceiver=null}onRemoteConfig(t){var n=t.surveys;if(xn(n))return jr.warn("Decide not loaded yet. Not loading surveys.");var r=sr(n);this.tr=r?n.length>0:n,jr.info("decide response received, hasSurveys: "+this.tr),this.tr&&this.loadIfEnabled()}reset(){localStorage.removeItem("lastSeenSurveyDate");for(var t=[],n=0;n<localStorage.length;n++){var r=localStorage.key(n);(r!=null&&r.startsWith("seenSurvey_")||r!=null&&r.startsWith("inProgressSurvey_"))&&t.push(r)}t.forEach(i=>localStorage.removeItem(i))}loadIfEnabled(){if(!this.Ye)if(this.Qe)jr.info("Already initializing surveys, skipping...");else if(this._instance.config.disable_surveys)jr.info("Disabled. Not loading surveys.");else if(this.tr){var t=Gt==null?void 0:Gt.__PosthogExtensions__;if(t){this.Qe=!0;try{var n=t.generateSurveys;if(n)return void this.ir(n);var r=t.loadExternalDependency;if(!r)return void this.er("PostHog loadExternalDependency extension not found.");r(this._instance,"surveys",i=>{i||!t.generateSurveys?this.er("Could not load surveys script",i):this.ir(t.generateSurveys)})}catch(i){throw this.er("Error initializing surveys",i),i}finally{this.Qe=!1}}else jr.error("PostHog Extensions not found.")}else jr.info("No surveys to load.")}ir(t){this.Ye=t(this._instance),this._surveyEventReceiver=new Cue(this._instance),jr.info("Surveys loaded successfully"),this.rr({isLoaded:!0})}er(t,n){jr.error(t,n),this.rr({isLoaded:!1,error:t})}onSurveysLoaded(t){return this.Ze.push(t),this.Ye&&this.rr({isLoaded:!0}),()=>{this.Ze=this.Ze.filter(n=>n!==t)}}getSurveys(t,n){if(n===void 0&&(n=!1),this._instance.config.disable_surveys)return jr.info("Disabled. Not loading surveys."),t([]);var r=this._instance.get_property(jk);if(r&&!n)return t(r,{isLoaded:!0});if(this.Xe)return t([],{isLoaded:!1,error:"Surveys are already being loaded"});try{this.Xe=!0,this._instance._e({url:this._instance.requestRouter.endpointFor("api","/api/surveys/?token="+this._instance.config.token),method:"GET",timeout:this._instance.config.surveys_request_timeout_ms,callback:i=>{var o;this.Xe=!1;var s=i.statusCode;if(s!==200||!i.json){var a="Surveys API could not be loaded, status: "+s;return jr.error(a),t([],{isLoaded:!1,error:a})}var l,c=i.json.surveys||[],u=c.filter(f=>function(h){return!(!h.start_date||h.end_date)}(f)&&(function(h){var p,v,g;return!((p=h.conditions)==null||(v=p.events)==null||(g=v.values)==null||!g.length)}(f)||function(h){var p,v,g;return!((p=h.conditions)==null||(v=p.actions)==null||(g=v.values)==null||!g.length)}(f)));return u.length>0&&((l=this._surveyEventReceiver)==null||l.register(u)),(o=this._instance.persistence)==null||o.register({[jk]:c}),t(c,{isLoaded:!0})}})}catch(i){throw this.Xe=!1,i}}rr(t){for(var n of this.Ze)try{t.isLoaded?this.getSurveys(n):n([],t)}catch(r){jr.error("Error in survey callback",r)}}getActiveMatchingSurveys(t,n){if(n===void 0&&(n=!1),!xn(this.Ye))return this.Ye.getActiveMatchingSurveys(t,n);jr.warn("init was not called")}sr(t){var n=null;return this.getSurveys(r=>{var i;n=(i=r.find(o=>o.id===t))!==null&&i!==void 0?i:null}),n}nr(t){if(xn(this.Ye))return{eligible:!1,reason:"SDK is not enabled or survey functionality is not yet loaded"};var n=typeof t=="string"?this.sr(t):t;return n?this.Ye.checkSurveyEligibility(n):{eligible:!1,reason:"Survey not found"}}canRenderSurvey(t){if(xn(this.Ye))return jr.warn("init was not called"),{visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"};var n=this.nr(t);return{visible:n.eligible,disabledReason:n.reason}}canRenderSurveyAsync(t,n){return xn(this.Ye)?(jr.warn("init was not called"),Promise.resolve({visible:!1,disabledReason:"SDK is not enabled or survey functionality is not yet loaded"})):new Promise(r=>{this.getSurveys(i=>{var o,s=(o=i.find(l=>l.id===t))!==null&&o!==void 0?o:null;if(s){var a=this.nr(s);r({visible:a.eligible,disabledReason:a.reason})}else r({visible:!1,disabledReason:"Survey not found"})},n)})}renderSurvey(t,n){if(xn(this.Ye))jr.warn("init was not called");else{var r=this.sr(t),i=bt==null?void 0:bt.querySelector(n);r?i?this.Ye.renderSurvey(r,i):jr.warn("Survey element not found"):jr.warn("Survey not found")}}}var u4=gi("[RateLimiter]");class Nue{constructor(t){var n,r;this.serverLimits={},this.lastEventRateLimited=!1,this.checkForLimiting=i=>{var o=i.text;if(o&&o.length)try{(JSON.parse(o).quota_limited||[]).forEach(s=>{u4.info((s||"events")+" is quota limited."),this.serverLimits[s]=new Date().getTime()+6e4})}catch(s){return void u4.warn('could not rate limit - continuing. Error: "'+(s==null?void 0:s.message)+'"',{text:o})}},this.instance=t,this.captureEventsPerSecond=((n=t.config.rate_limiting)==null?void 0:n.events_per_second)||10,this.captureEventsBurstLimit=Math.max(((r=t.config.rate_limiting)==null?void 0:r.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(t){var n,r,i;t===void 0&&(t=!1);var o=new Date().getTime(),s=(n=(r=this.instance.persistence)==null?void 0:r.get_property(Ak))!==null&&n!==void 0?n:{tokens:this.captureEventsBurstLimit,last:o};s.tokens+=(o-s.last)/1e3*this.captureEventsPerSecond,s.last=o,s.tokens>this.captureEventsBurstLimit&&(s.tokens=this.captureEventsBurstLimit);var a=s.tokens<1;return a||t||(s.tokens=Math.max(0,s.tokens-1)),!a||this.lastEventRateLimited||t||this.instance.capture("$$client_ingestion_warning",{$$client_ingestion_warning_message:"posthog-js client rate limited. Config is set to "+this.captureEventsPerSecond+" events per second and "+this.captureEventsBurstLimit+" events burst limit."},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=a,(i=this.instance.persistence)==null||i.set_property(Ak,s),{isRateLimited:a,remainingTokens:s.tokens}}isServerRateLimited(t){var n=this.serverLimits[t||"events"]||!1;return n!==!1&&new Date().getTime()<n}}var lc=gi("[RemoteConfig]");class Aue{constructor(t){this._instance=t}get remoteConfig(){var t,n;return(t=Gt._POSTHOG_REMOTE_CONFIG)==null||(n=t[this._instance.config.token])==null?void 0:n.config}ar(t){var n,r;(n=Gt.__PosthogExtensions__)!=null&&n.loadExternalDependency?(r=Gt.__PosthogExtensions__)==null||r.loadExternalDependency==null||r.loadExternalDependency(this._instance,"remote-config",()=>t(this.remoteConfig)):(lc.error("PostHog Extensions not found. Cannot load remote config."),t())}lr(t){this._instance._e({method:"GET",url:this._instance.requestRouter.endpointFor("assets","/array/"+this._instance.config.token+"/config"),callback:n=>{t(n.json)}})}load(){try{if(this.remoteConfig)return lc.info("Using preloaded remote config",this.remoteConfig),void this.me(this.remoteConfig);if(this._instance.config.advanced_disable_decide)return void lc.warn("Remote config is disabled. Falling back to local config.");this.ar(t=>{if(!t)return lc.info("No config found after loading remote JS config. Falling back to JSON."),void this.lr(n=>{this.me(n)});this.me(t)})}catch(t){lc.error("Error loading remote config",t)}}me(t){t?this._instance.config.__preview_remote_config?(this._instance.me(t),t.hasFeatureFlags!==!1&&this._instance.featureFlags.ensureFlagsLoaded()):lc.info("__preview_remote_config is disabled. Logging config instead",t):lc.error("Failed to fetch remote config from PostHog.")}}var Tue=function(e){var t,n,r,i,o="";for(t=n=0,r=(e=(e+"").replace(/\r\n/g,"\n").replace(/\r/g,"\n")).length,i=0;i<r;i++){var s=e.charCodeAt(i),a=null;s<128?n++:a=s>127&&s<2048?String.fromCharCode(s>>6|192,63&s|128):String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128),Xl(a)||(n>t&&(o+=e.substring(t,n)),o+=a,t=n=i+1)}return n>t&&(o+=e.substring(t,e.length)),o},Rue=!!xk||!!yk,d4="text/plain",zy=(e,t)=>{var[n,r]=e.split("?"),i=xt({},t);r==null||r.split("&").forEach(s=>{var[a]=s.split("=");delete i[a]});var o=Jle(i);return n+"?"+(o=o?(r?r+"&":"")+o:r)},ph=(e,t)=>JSON.stringify(e,(n,r)=>typeof r=="bigint"?r.toString():r,t),Gb=e=>{var{data:t,compression:n}=e;if(t){if(n===ts.GZipJS){var r=ZD(e6(ph(t)),{mtime:0}),i=new Blob([r],{type:d4});return{contentType:d4,body:i,estimatedSize:i.size}}if(n===ts.Base64){var o=function(l){var c,u,f,h,p,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",g=0,b=0,m="",y=[];if(!l)return l;l=Tue(l);do c=(p=l.charCodeAt(g++)<<16|l.charCodeAt(g++)<<8|l.charCodeAt(g++))>>18&63,u=p>>12&63,f=p>>6&63,h=63&p,y[b++]=v.charAt(c)+v.charAt(u)+v.charAt(f)+v.charAt(h);while(g<l.length);switch(m=y.join(""),l.length%3){case 1:m=m.slice(0,-2)+"==";break;case 2:m=m.slice(0,-1)+"="}return m}(ph(t)),s=(l=>"data="+encodeURIComponent(typeof l=="string"?l:ph(l)))(o);return{contentType:"application/x-www-form-urlencoded",body:s,estimatedSize:new Blob([s]).size}}var a=ph(t);return{contentType:"application/json",body:a,estimatedSize:new Blob([a]).size}}},Rh=[];yk&&Rh.push({transport:"fetch",method:e=>{var t,n,{contentType:r,body:i,estimatedSize:o}=(t=Gb(e))!==null&&t!==void 0?t:{},s=new Headers;Nn(e.headers,function(u,f){s.append(f,u)}),r&&s.append("Content-Type",r);var a=e.url,l=null;if(y3){var c=new y3;l={signal:c.signal,timeout:setTimeout(()=>c.abort(),e.timeout)}}yk(a,xt({method:(e==null?void 0:e.method)||"GET",headers:s,keepalive:e.method==="POST"&&(o||0)<52428.8,body:i,signal:(n=l)==null?void 0:n.signal},e.fetchOptions)).then(u=>u.text().then(f=>{var h={statusCode:u.status,text:f};if(u.status===200)try{h.json=JSON.parse(f)}catch(p){jt.error(p)}e.callback==null||e.callback(h)})).catch(u=>{jt.error(u),e.callback==null||e.callback({statusCode:0,text:u})}).finally(()=>l?clearTimeout(l.timeout):null)}}),xk&&Rh.push({transport:"XHR",method:e=>{var t,n=new xk;n.open(e.method||"GET",e.url,!0);var{contentType:r,body:i}=(t=Gb(e))!==null&&t!==void 0?t:{};Nn(e.headers,function(o,s){n.setRequestHeader(s,o)}),r&&n.setRequestHeader("Content-Type",r),e.timeout&&(n.timeout=e.timeout),n.withCredentials=!0,n.onreadystatechange=()=>{if(n.readyState===4){var o={statusCode:n.status,text:n.responseText};if(n.status===200)try{o.json=JSON.parse(n.responseText)}catch(s){}e.callback==null||e.callback(o)}},n.send(i)}}),co!=null&&co.sendBeacon&&Rh.push({transport:"sendBeacon",method:e=>{var t=zy(e.url,{beacon:"1"});try{var n,{contentType:r,body:i}=(n=Gb(e))!==null&&n!==void 0?n:{},o=typeof i=="string"?new Blob([i],{type:r}):i;co.sendBeacon(t,o)}catch(s){}}});var qk=3e3;class Iue{constructor(t,n){this.ur=!0,this.hr=[],this.dr=To((n==null?void 0:n.flush_interval_ms)||qk,250,5e3,"flush interval",qk),this.vr=t}enqueue(t){this.hr.push(t),this.cr||this.pr()}unload(){this.gr();var t=this.hr.length>0?this._r():{},n=Object.values(t);[...n.filter(r=>r.url.indexOf("/e")===0),...n.filter(r=>r.url.indexOf("/e")!==0)].map(r=>{this.vr(xt({},r,{transport:"sendBeacon"}))})}enable(){this.ur=!1,this.pr()}pr(){var t=this;this.ur||(this.cr=setTimeout(()=>{if(this.gr(),this.hr.length>0){var n=this._r(),r=function(o){var s=n[o],a=new Date().getTime();s.data&&sr(s.data)&&Nn(s.data,l=>{l.offset=Math.abs(l.timestamp-a),delete l.timestamp}),t.vr(s)};for(var i in n)r(i)}},this.dr))}gr(){clearTimeout(this.cr),this.cr=void 0}_r(){var t={};return Nn(this.hr,n=>{var r,i=n,o=(i?i.batchKey:null)||i.url;vt(t[o])&&(t[o]=xt({},i,{data:[]})),(r=t[o].data)==null||r.push(i.data)}),this.hr=[],t}}var Pue=["retriesPerformedSoFar"];class Oue{constructor(t){this.mr=!1,this.br=3e3,this.hr=[],this._instance=t,this.hr=[],this.wr=!0,!vt(Me)&&"onLine"in Me.navigator&&(this.wr=Me.navigator.onLine,Jn(Me,"online",()=>{this.wr=!0,this.Xi()}),Jn(Me,"offline",()=>{this.wr=!1}))}get length(){return this.hr.length}retriableRequest(t){var{retriesPerformedSoFar:n}=t,r=CD(t,Pue);li(n)&&n>0&&(r.url=zy(r.url,{retry_count:n})),this._instance._e(xt({},r,{callback:i=>{i.statusCode!==200&&(i.statusCode<400||i.statusCode>=500)&&(n!=null?n:0)<10?this.yr(xt({retriesPerformedSoFar:n},r)):r.callback==null||r.callback(i)}}))}yr(t){var n=t.retriesPerformedSoFar||0;t.retriesPerformedSoFar=n+1;var r=function(s){var a=3e3*Math.pow(2,s),l=a/2,c=Math.min(18e5,a),u=(Math.random()-.5)*(c-l);return Math.ceil(c+u)}(n),i=Date.now()+r;this.hr.push({retryAt:i,requestOptions:t});var o="Enqueued failed request for retry in "+r;navigator.onLine||(o+=" (Browser is offline)"),jt.warn(o),this.mr||(this.mr=!0,this.Sr())}Sr(){this.$r&&clearTimeout(this.$r),this.$r=setTimeout(()=>{this.wr&&this.hr.length>0&&this.Xi(),this.Sr()},this.br)}Xi(){var t=Date.now(),n=[],r=this.hr.filter(o=>o.retryAt<t||(n.push(o),!1));if(this.hr=n,r.length>0)for(var{requestOptions:i}of r)this.retriableRequest(i)}unload(){for(var{requestOptions:t}of(this.$r&&(clearTimeout(this.$r),this.$r=void 0),this.hr))try{this._instance._e(xt({},t,{transport:"sendBeacon"}))}catch(n){jt.error(n)}this.hr=[]}}class Mue{constructor(t){this.kr=()=>{var n,r,i,o;this.Er||(this.Er={});var s=this.scrollElement(),a=this.scrollY(),l=s?Math.max(0,s.scrollHeight-s.clientHeight):0,c=a+((s==null?void 0:s.clientHeight)||0),u=(s==null?void 0:s.scrollHeight)||0;this.Er.lastScrollY=Math.ceil(a),this.Er.maxScrollY=Math.max(a,(n=this.Er.maxScrollY)!==null&&n!==void 0?n:0),this.Er.maxScrollHeight=Math.max(l,(r=this.Er.maxScrollHeight)!==null&&r!==void 0?r:0),this.Er.lastContentY=c,this.Er.maxContentY=Math.max(c,(i=this.Er.maxContentY)!==null&&i!==void 0?i:0),this.Er.maxContentHeight=Math.max(u,(o=this.Er.maxContentHeight)!==null&&o!==void 0?o:0)},this._instance=t}getContext(){return this.Er}resetContext(){var t=this.Er;return setTimeout(this.kr,0),t}startMeasuringScrollPosition(){Jn(Me,"scroll",this.kr,{capture:!0}),Jn(Me,"scrollend",this.kr,{capture:!0}),Jn(Me,"resize",this.kr)}scrollElement(){if(!this._instance.config.scroll_root_selector)return Me==null?void 0:Me.document.documentElement;var t=sr(this._instance.config.scroll_root_selector)?this._instance.config.scroll_root_selector:[this._instance.config.scroll_root_selector];for(var n of t){var r=Me==null?void 0:Me.document.querySelector(n);if(r)return r}}scrollY(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollTop||0}return Me&&(Me.scrollY||Me.pageYOffset||Me.document.documentElement.scrollTop)||0}scrollX(){if(this._instance.config.scroll_root_selector){var t=this.scrollElement();return t&&t.scrollLeft||0}return Me&&(Me.scrollX||Me.pageXOffset||Me.document.documentElement.scrollLeft)||0}}var $ue=e=>E6(e==null?void 0:e.config.mask_personal_data_properties,e==null?void 0:e.config.custom_personal_data_properties);class Due{constructor(t,n,r,i){this.Ir=o=>{var s=this.Pr();if(!s||s.sessionId!==o){var a={sessionId:o,props:this.Rr(this._instance)};this.Tr.register({[Nk]:a})}},this._instance=t,this.Mr=n,this.Tr=r,this.Rr=i||$ue,this.Mr.onSessionId(this.Ir)}Pr(){return this.Tr.props[Nk]}getSetOnceProps(){var t,n=(t=this.Pr())==null?void 0:t.props;return n?"r"in n?C6(n):{$referring_domain:n.referringDomain,$pathname:n.initialPathName,utm_source:n.utm_source,utm_campaign:n.utm_campaign,utm_medium:n.utm_medium,utm_content:n.utm_content,utm_term:n.utm_term}:{}}getSessionProps(){var t={};return Nn(bE(this.getSetOnceProps()),(n,r)=>{r==="$current_url"&&(r="url"),t["$session_entry_"+wk(r)]=n}),t}}var f4=gi("[SessionId]");class Fue{constructor(t,n,r){var i;if(this.Cr=[],!t.persistence)throw new Error("SessionIdManager requires a PostHogPersistence instance");if(t.config.__preview_experimental_cookieless_mode)throw new Error("SessionIdManager cannot be used with __preview_experimental_cookieless_mode");this.S=t.config,this.Tr=t.persistence,this.oi=void 0,this.kt=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this.Or=n||wl,this.Fr=r||wl;var o=this.S.persistence_name||this.S.token,s=this.S.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*To(s,60,36e3,"session_idle_timeout_seconds",1800),t.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.Ar(),this.Dr="ph_"+o+"_window_id",this.jr="ph_"+o+"_primary_window_exists",this.Lr()){var a=Vr.D(this.Dr),l=Vr.D(this.jr);a&&!l?this.oi=a:Vr.L(this.Dr),Vr.j(this.jr,!0)}if((i=this.S.bootstrap)!=null&&i.sessionID)try{var c=(u=>{var f=u.replace(/-/g,"");if(f.length!==32)throw new Error("Not a valid UUID");if(f[12]!=="7")throw new Error("Not a UUIDv7");return parseInt(f.substring(0,12),16)})(this.S.bootstrap.sessionID);this.Nr(this.S.bootstrap.sessionID,new Date().getTime(),c)}catch(u){f4.error("Invalid sessionID in bootstrap",u)}this.zr()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(t){return vt(this.Cr)&&(this.Cr=[]),this.Cr.push(t),this.kt&&t(this.kt,this.oi),()=>{this.Cr=this.Cr.filter(n=>n!==t)}}Lr(){return this.S.persistence!=="memory"&&!this.Tr.ke&&Vr.O()}Ur(t){t!==this.oi&&(this.oi=t,this.Lr()&&Vr.j(this.Dr,t))}qr(){return this.oi?this.oi:this.Lr()?Vr.D(this.Dr):null}Nr(t,n,r){t===this.kt&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this.kt=t,this.Tr.register({[Ay]:[n,t,r]}))}Br(){if(this.kt&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this.kt,this._sessionStartTimestamp];var t=this.Tr.props[Ay];return sr(t)&&t.length===2&&t.push(t[0]),t||[0,null,0]}resetSessionId(){this.Nr(null,null,null)}zr(){Jn(Me,"beforeunload",()=>{this.Lr()&&Vr.L(this.jr)},{capture:!1})}checkAndGetSessionAndWindowId(t,n){if(t===void 0&&(t=!1),n===void 0&&(n=null),this.S.__preview_experimental_cookieless_mode)throw new Error("checkAndGetSessionAndWindowId should not be called in __preview_experimental_cookieless_mode");var r=n||new Date().getTime(),[i,o,s]=this.Br(),a=this.qr(),l=li(s)&&s>0&&Math.abs(r-s)>864e5,c=!1,u=!o,f=!t&&Math.abs(r-i)>this.sessionTimeoutMs;u||f||l?(o=this.Or(),a=this.Fr(),f4.info("new session ID generated",{sessionId:o,windowId:a,changeReason:{noSessionId:u,activityTimeout:f,sessionPastMaximumLength:l}}),s=r,c=!0):a||(a=this.Fr(),c=!0);var h=i===0||!t||l?r:i,p=s===0?new Date().getTime():s;return this.Ur(a),this.Nr(o,h,p),t||this.Ar(),c&&this.Cr.forEach(v=>v(o,a,c?{noSessionId:u,activityTimeout:f,sessionPastMaximumLength:l}:void 0)),{sessionId:o,windowId:a,sessionStartTimestamp:p,changeReason:c?{noSessionId:u,activityTimeout:f,sessionPastMaximumLength:l}:void 0,lastActivityTimestamp:i}}Ar(){clearTimeout(this.Hr),this.Hr=setTimeout(()=>{this.resetSessionId()},1.1*this.sessionTimeoutMs)}}var Lue=["$set_once","$set"],al=gi("[SiteApps]");class Bue{constructor(t){this._instance=t,this.Wr=[],this.apps={}}get isEnabled(){return!!this._instance.config.opt_in_site_apps}Gr(t,n){if(n){var r=this.globalsForEvent(n);this.Wr.push(r),this.Wr.length>1e3&&(this.Wr=this.Wr.slice(10))}}get siteAppLoaders(){var t,n;return(t=Gt._POSTHOG_REMOTE_CONFIG)==null||(n=t[this._instance.config.token])==null?void 0:n.siteApps}init(){if(this.isEnabled){var t=this._instance.je(this.Gr.bind(this));this.Jr=()=>{t(),this.Wr=[],this.Jr=void 0}}}globalsForEvent(t){var n,r,i,o,s,a,l;if(!t)throw new Error("Event payload is required");var c={},u=this._instance.get_property("$groups")||[],f=this._instance.get_property("$stored_group_properties")||{};for(var[h,p]of Object.entries(f))c[h]={id:u[h],type:h,properties:p};var{$set_once:v,$set:g}=t;return{event:xt({},CD(t,Lue),{properties:xt({},t.properties,g?{$set:xt({},(n=(r=t.properties)==null?void 0:r.$set)!==null&&n!==void 0?n:{},g)}:{},v?{$set_once:xt({},(i=(o=t.properties)==null?void 0:o.$set_once)!==null&&i!==void 0?i:{},v)}:{}),elements_chain:(s=(a=t.properties)==null?void 0:a.$elements_chain)!==null&&s!==void 0?s:"",distinct_id:(l=t.properties)==null?void 0:l.distinct_id}),person:{properties:this._instance.get_property("$stored_person_properties")},groups:c}}setupSiteApp(t){var n=this.apps[t.id],r=()=>{var a;!n.errored&&this.Wr.length&&(al.info("Processing "+this.Wr.length+" events for site app with id "+t.id),this.Wr.forEach(l=>n.processEvent==null?void 0:n.processEvent(l)),n.processedBuffer=!0),Object.values(this.apps).every(l=>l.processedBuffer||l.errored)&&((a=this.Jr)==null||a.call(this))},i=!1,o=a=>{n.errored=!a,n.loaded=!0,al.info("Site app with id "+t.id+" "+(a?"loaded":"errored")),i&&r()};try{var{processEvent:s}=t.init({posthog:this._instance,callback:a=>{o(a)}});s&&(n.processEvent=s),i=!0}catch(a){al.error("Error while initializing PostHog app with config id "+t.id,a),o(!1)}if(i&&n.loaded)try{r()}catch(a){al.error("Error while processing buffered events PostHog app with config id "+t.id,a),n.errored=!0}}Vr(){var t=this.siteAppLoaders||[];for(var n of t)this.apps[n.id]={id:n.id,loaded:!1,errored:!1,processedBuffer:!1};for(var r of t)this.setupSiteApp(r)}Kr(t){if(Object.keys(this.apps).length!==0){var n=this.globalsForEvent(t);for(var r of Object.values(this.apps))try{r.processEvent==null||r.processEvent(n)}catch(i){al.error("Error while processing event "+t.event+" for site app "+r.id,i)}}}onRemoteConfig(t){var n,r,i,o=this;if((n=this.siteAppLoaders)!=null&&n.length)return this.isEnabled?(this.Vr(),void this._instance.on("eventCaptured",c=>this.Kr(c))):void al.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.');if((r=this.Jr)==null||r.call(this),(i=t.siteApps)!=null&&i.length)if(this.isEnabled){var s=function(c,u){var f;Gt["__$$ph_site_app_"+c]=o._instance,(f=Gt.__PosthogExtensions__)==null||f.loadSiteApp==null||f.loadSiteApp(o._instance,u,h=>{if(h)return al.error("Error while initializing PostHog app with config id "+c,h)})};for(var{id:a,url:l}of t.siteApps)s(a,l)}else al.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}}var Ec,zue=["amazonbot","amazonproductbot","app.hypefactors.com","applebot","archive.org_bot","awariobot","backlinksextendedbot","baiduspider","bingbot","bingpreview","chrome-lighthouse","dataforseobot","deepscan","duckduckbot","facebookexternal","facebookcatalog","http://yandex.com/bots","hubspot","ia_archiver","linkedinbot","meta-externalagent","mj12bot","msnbot","nessus","petalbot","pinterest","prerender","rogerbot","screaming frog","sebot-wa","sitebulb","slackbot","slurp","trendictionbot","turnitin","twitterbot","vercelbot","yahoo! slurp","yandexbot","zoombot","bot.htm","bot.php","(bot;","bot/","crawler","ahrefsbot","ahrefssiteaudit","semrushbot","siteauditbot","splitsignalbot","gptbot","oai-searchbot","chatgpt-user","perplexitybot","better uptime bot","sentryuptimebot","uptimerobot","headlesschrome","cypress","google-hoteladsverifier","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google","bytespider"],h4=function(e,t){if(!e)return!1;var n=e.toLowerCase();return zue.concat(t||[]).some(r=>{var i=r.toLowerCase();return n.indexOf(i)!==-1})},A6=function(e,t){if(!e)return!1;var n=e.userAgent;if(n&&h4(n,t))return!0;try{var r=e==null?void 0:e.userAgentData;if(r!=null&&r.brands&&r.brands.some(i=>h4(i==null?void 0:i.brand,t)))return!0}catch(i){}return!!e.webdriver};function p4(e,t,n){return ph({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:n})}(function(e){e.US="us",e.EU="eu",e.CUSTOM="custom"})(Ec||(Ec={}));var m4="i.posthog.com";class Hue{constructor(t){this.Yr={},this.instance=t}get apiHost(){var t=this.instance.config.api_host.trim().replace(/\/$/,"");return t==="https://app.posthog.com"?"https://us.i.posthog.com":t}get uiHost(){var t,n=(t=this.instance.config.ui_host)==null?void 0:t.replace(/\/$/,"");return n||(n=this.apiHost.replace("."+m4,".posthog.com")),n==="https://app.posthog.com"?"https://us.posthog.com":n}get region(){return this.Yr[this.apiHost]||(/https:\/\/(app|us|us-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Yr[this.apiHost]=Ec.US:/https:\/\/(eu|eu-assets)(\.i)?\.posthog\.com/i.test(this.apiHost)?this.Yr[this.apiHost]=Ec.EU:this.Yr[this.apiHost]=Ec.CUSTOM),this.Yr[this.apiHost]}endpointFor(t,n){if(n===void 0&&(n=""),n&&(n=n[0]==="/"?n:"/"+n),t==="ui")return this.uiHost+n;if(this.region===Ec.CUSTOM)return this.apiHost+n;var r=m4+n;switch(t){case"assets":return"https://"+this.region+"-assets."+r;case"api":return"https://"+this.region+"."+r}}}var Wue={icontains:(e,t)=>!!Me&&t.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,t)=>!!Me&&t.href.toLowerCase().indexOf(e.toLowerCase())===-1,regex:(e,t)=>!!Me&&By(t.href,e),not_regex:(e,t)=>!!Me&&!By(t.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class si{constructor(t){var n=this;this.getWebExperimentsAndEvaluateDisplayLogic=function(r){r===void 0&&(r=!1),n.getWebExperiments(i=>{si.Xr("retrieved web experiments from the server"),n.Qr=new Map,i.forEach(o=>{if(o.feature_flag_key){var s;n.Qr&&(si.Xr("setting flag key ",o.feature_flag_key," to web experiment ",o),(s=n.Qr)==null||s.set(o.feature_flag_key,o));var a=n._instance.getFeatureFlag(o.feature_flag_key);Sr(a)&&o.variants[a]&&n.Zr(o.name,a,o.variants[a].transforms)}else if(o.variants)for(var l in o.variants){var c=o.variants[l];si.ts(c)&&n.Zr(o.name,l,c.transforms)}})},r)},this._instance=t,this._instance.onFeatureFlags(r=>{this.onFeatureFlags(r)})}onFeatureFlags(t){if(this._is_bot())si.Xr("Refusing to render web experiment since the viewer is a likely bot");else if(!this._instance.config.disable_web_experiments){if(xn(this.Qr))return this.Qr=new Map,this.loadIfEnabled(),void this.previewWebExperiment();si.Xr("applying feature flags",t),t.forEach(n=>{var r;if(this.Qr&&(r=this.Qr)!=null&&r.has(n)){var i,o=this._instance.getFeatureFlag(n),s=(i=this.Qr)==null?void 0:i.get(n);o&&s!=null&&s.variants[o]&&this.Zr(s.name,o,s.variants[o].transforms)}})}}previewWebExperiment(){var t=si.getWindowLocation();if(t!=null&&t.search){var n=Py(t==null?void 0:t.search,"__experiment_id"),r=Py(t==null?void 0:t.search,"__experiment_variant");n&&r&&(si.Xr("previewing web experiments "+n+" && "+r),this.getWebExperiments(i=>{this.es(parseInt(n),r,i)},!1,!0))}}loadIfEnabled(){this._instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(t,n,r){if(this._instance.config.disable_web_experiments&&!r)return t([]);var i=this._instance.get_property("$web_experiments");if(i&&!n)return t(i);this._instance._e({url:this._instance.requestRouter.endpointFor("api","/api/web_experiments/?token="+this._instance.config.token),method:"GET",callback:o=>{if(o.statusCode!==200||!o.json)return t([]);var s=o.json.experiments||[];return t(s)}})}es(t,n,r){var i=r.filter(o=>o.id===t);i&&i.length>0&&(si.Xr("Previewing web experiment ["+i[0].name+"] with variant ["+n+"]"),this.Zr(i[0].name,n,i[0].variants[n].transforms))}static ts(t){return!xn(t.conditions)&&si.rs(t)&&si.ss(t)}static rs(t){var n;if(xn(t.conditions)||xn((n=t.conditions)==null?void 0:n.url))return!0;var r,i,o,s=si.getWindowLocation();return!!s&&((r=t.conditions)==null||!r.url||Wue[(i=(o=t.conditions)==null?void 0:o.urlMatchType)!==null&&i!==void 0?i:"icontains"](t.conditions.url,s))}static getWindowLocation(){return Me==null?void 0:Me.location}static ss(t){var n;if(xn(t.conditions)||xn((n=t.conditions)==null?void 0:n.utm))return!0;var r=b6();if(r.utm_source){var i,o,s,a,l,c,u,f,h,p,v,g,b,m,y,x,k=(i=t.conditions)==null||(o=i.utm)==null||!o.utm_campaign||((s=t.conditions)==null||(a=s.utm)==null?void 0:a.utm_campaign)==r.utm_campaign,S=(l=t.conditions)==null||(c=l.utm)==null||!c.utm_source||((u=t.conditions)==null||(f=u.utm)==null?void 0:f.utm_source)==r.utm_source,E=(h=t.conditions)==null||(p=h.utm)==null||!p.utm_medium||((v=t.conditions)==null||(g=v.utm)==null?void 0:g.utm_medium)==r.utm_medium,T=(b=t.conditions)==null||(m=b.utm)==null||!m.utm_term||((y=t.conditions)==null||(x=y.utm)==null?void 0:x.utm_term)==r.utm_term;return k&&E&&T&&S}return!1}static Xr(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];jt.info("[WebExperiments] "+t,r)}Zr(t,n,r){this._is_bot()?si.Xr("Refusing to render web experiment since the viewer is a likely bot"):n!=="control"?r.forEach(i=>{if(i.selector){var o;si.Xr("applying transform of variant "+n+" for experiment "+t+" ",i);var s=(o=document)==null?void 0:o.querySelectorAll(i.selector);s==null||s.forEach(a=>{var l=a;i.html&&(l.innerHTML=i.html),i.css&&l.setAttribute("style",i.css)})}}):si.Xr("Control variants leave the page unmodified.")}_is_bot(){return co&&this._instance?A6(co,this._instance.config.custom_blocked_useragents):void 0}}var Ih={},Kk=()=>{},Iu="posthog",T6=!Rue&&($i==null?void 0:$i.indexOf("MSIE"))===-1&&($i==null?void 0:$i.indexOf("Mozilla"))===-1,g4=()=>{var e;return{api_host:"https://us.i.posthog.com",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:zle(bt==null?void 0:bt.location),persistence:"localStorage+cookie",persistence_name:"",loaded:Kk,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:"if_capture_pageview",debug:Fi&&Sr(Fi==null?void 0:Fi.search)&&Fi.search.indexOf("__posthog_debug=true")!==-1||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:(Me==null||(e=Me.location)==null?void 0:e.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:t=>{var n="Bad HTTP status: "+t.statusCode+" "+t.text;jt.error(n)},get_device_id:t=>t,capture_performance:void 0,name:"posthog",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:"identified_only",before_send:void 0,request_queue_config:{flush_interval_ms:qk},_onCapture:Kk}},v4=e=>{var t={};vt(e.process_person)||(t.person_profiles=e.process_person),vt(e.xhr_headers)||(t.request_headers=e.xhr_headers),vt(e.cookie_name)||(t.persistence_name=e.cookie_name),vt(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),vt(e.store_google)||(t.save_campaign_params=e.store_google),vt(e.verbose)||(t.debug=e.verbose);var n=br({},t,e);return sr(e.property_blacklist)&&(vt(e.property_denylist)?n.property_denylist=e.property_blacklist:sr(e.property_denylist)?n.property_denylist=[...e.property_blacklist,...e.property_denylist]:jt.error("Invalid value for property_denylist config: "+e.property_denylist)),n};class Uue{constructor(){this.__forceAllowLocalhost=!1}get ns(){return this.__forceAllowLocalhost}set ns(t){jt.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=t}}class Ex{get decideEndpointWasHit(){var t,n;return(t=(n=this.featureFlags)==null?void 0:n.hasLoadedFlags)!==null&&t!==void 0&&t}constructor(){this.webPerformance=new Uue,this.os=!1,this.version=_a.LIB_VERSION,this.ls=new N6,this.config=g4(),this.SentryIntegration=eue,this.sentryIntegration=t=>function(n,r){var i=i6(n,r);return{name:r6,processEvent:o=>i(o)}}(this,t),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint="/e/",this.us=!1,this.hs=null,this.ds=null,this.vs=null,this.featureFlags=new Sue(this),this.toolbar=new nue(this),this.scrollManager=new Mue(this),this.pageViewManager=new lue(this),this.surveys=new jue(this),this.experiments=new si(this),this.exceptions=new cue(this),this.rateLimiter=new Nue(this),this.requestRouter=new Hue(this),this.consent=new uce(this),this.people={set:(t,n,r)=>{var i=Sr(t)?{[t]:n}:t;this.setPersonProperties(i),r==null||r({})},set_once:(t,n,r)=>{var i=Sr(t)?{[t]:n}:t;this.setPersonProperties(void 0,i),r==null||r({})}},this.on("eventCaptured",t=>jt.info('send "'+(t==null?void 0:t.event)+'"',t))}init(t,n,r){if(r&&r!==Iu){var i,o=(i=Ih[r])!==null&&i!==void 0?i:new Ex;return o._init(t,n,r),Ih[r]=o,Ih[Iu][r]=o,o}return this._init(t,n,r)}_init(t,n,r){var i,o;if(n===void 0&&(n={}),vt(t)||bk(t))return jt.critical("PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()"),this;if(this.__loaded)return jt.warn("You have already initialized PostHog! Re-initializing is a no-op"),this;this.__loaded=!0,this.config={},this.cs=[],n.person_profiles&&(this.ds=n.person_profiles),this.set_config(br({},g4(),v4(n),{name:r,token:t})),this.config.on_xhr_error&&jt.error("on_xhr_error is deprecated. Use on_request_error instead"),this.compression=n.disable_compression?void 0:ts.GZipJS,this.persistence=new Yb(this.config),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Yb(xt({},this.config,{persistence:"sessionStorage"}));var s=xt({},this.persistence.props),a=xt({},this.sessionPersistence.props);if(this.fs=new Iue(m=>this.ps(m),this.config.request_queue_config),this.gs=new Oue(this),this.__request_queue=[],this.config.__preview_experimental_cookieless_mode||(this.sessionManager=new Fue(this),this.sessionPropsManager=new Due(this,this.sessionManager,this.persistence)),new iue(this).startIfEnabledOrStop(),this.siteApps=new Bue(this),(i=this.siteApps)==null||i.init(),this.config.__preview_experimental_cookieless_mode||(this.sessionRecording=new Qce(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new tce(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new aue(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new oue(this),this.exceptionObserver=new hce(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new WD(this,fce),this.deadClicksAutocapture.startIfEnabled(),this.historyAutocapture=new jce(this),this.historyAutocapture.startIfEnabled(),_a.DEBUG=_a.DEBUG||this.config.debug,_a.DEBUG&&jt.info("Starting in debug mode",{this:this,config:n,thisC:xt({},this.config),p:s,s:a}),this._s(),((o=n.bootstrap)==null?void 0:o.distinctID)!==void 0){var l,c,u=this.config.get_device_id(wl()),f=(l=n.bootstrap)!=null&&l.isIdentifiedID?u:n.bootstrap.distinctID;this.persistence.set_property(pa,(c=n.bootstrap)!=null&&c.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:n.bootstrap.distinctID,$device_id:f})}if(this.bs()){var h,p,v=Object.keys(((h=n.bootstrap)==null?void 0:h.featureFlags)||{}).filter(m=>{var y,x;return!((y=n.bootstrap)==null||(x=y.featureFlags)==null||!x[m])}).reduce((m,y)=>{var x,k;return m[y]=((x=n.bootstrap)==null||(k=x.featureFlags)==null?void 0:k[y])||!1,m},{}),g=Object.keys(((p=n.bootstrap)==null?void 0:p.featureFlagPayloads)||{}).filter(m=>v[m]).reduce((m,y)=>{var x,k,S,E;return(x=n.bootstrap)!=null&&(k=x.featureFlagPayloads)!=null&&k[y]&&(m[y]=(S=n.bootstrap)==null||(E=S.featureFlagPayloads)==null?void 0:E[y]),m},{});this.featureFlags.receivedFeatureFlags({featureFlags:v,featureFlagPayloads:g})}if(this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:I3,$device_id:null},"");else if(!this.get_distinct_id()){var b=this.config.get_device_id(wl());this.register_once({distinct_id:b,$device_id:b},""),this.persistence.set_property(pa,"anonymous")}return Jn(Me,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),n.segment?Zce(this,()=>this.ws()):this.ws(),Io(this.config._onCapture)&&this.config._onCapture!==Kk&&(jt.warn("onCapture is deprecated. Please use `before_send` instead"),this.on("eventCaptured",m=>this.config._onCapture(m.event,m))),this}me(t){var n,r,i,o,s,a,l,c;if(!bt||!bt.body)return jt.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(()=>{this.me(t)},500);this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=sn(t.supportedCompression,ts.GZipJS)?ts.GZipJS:sn(t.supportedCompression,ts.Base64)?ts.Base64:void 0),(n=t.analytics)!=null&&n.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this.ds?this.ds:"identified_only"}),(r=this.siteApps)==null||r.onRemoteConfig(t),(i=this.sessionRecording)==null||i.onRemoteConfig(t),(o=this.autocapture)==null||o.onRemoteConfig(t),(s=this.heatmaps)==null||s.onRemoteConfig(t),this.surveys.onRemoteConfig(t),(a=this.webVitalsAutocapture)==null||a.onRemoteConfig(t),(l=this.exceptionObserver)==null||l.onRemoteConfig(t),(c=this.deadClicksAutocapture)==null||c.onRemoteConfig(t)}ws(){try{this.config.loaded(this)}catch(t){jt.critical("`loaded` function failed",t)}this.ys(),this.config.capture_pageview&&setTimeout(()=>{this.consent.isOptedIn()&&this.Ss()},1),new Aue(this).load(),this.featureFlags.decide()}ys(){var t;this.has_opted_out_capturing()||this.config.request_batching&&((t=this.fs)==null||t.enable())}_dom_loaded(){this.has_opted_out_capturing()||Tl(this.__request_queue,t=>this.ps(t)),this.__request_queue=[],this.ys()}_handle_unload(){var t,n;this.config.request_batching?(this.$s()&&this.capture("$pageleave"),(t=this.fs)==null||t.unload(),(n=this.gs)==null||n.unload()):this.$s()&&this.capture("$pageleave",null,{transport:"sendBeacon"})}_e(t){this.__loaded&&(T6?this.__request_queue.push(t):this.rateLimiter.isServerRateLimited(t.batchKey)||(t.transport=t.transport||this.config.api_transport,t.url=zy(t.url,{ip:this.config.ip?1:0}),t.headers=xt({},this.config.request_headers),t.compression=t.compression==="best-available"?this.compression:t.compression,t.fetchOptions=t.fetchOptions||this.config.fetch_options,(n=>{var r,i,o,s=xt({},n);s.timeout=s.timeout||6e4,s.url=zy(s.url,{_:new Date().getTime().toString(),ver:_a.LIB_VERSION,compression:s.compression});var a=(r=s.transport)!==null&&r!==void 0?r:"fetch",l=(i=(o=jD(Rh,c=>c.transport===a))==null?void 0:o.method)!==null&&i!==void 0?i:Rh[0].method;if(!l)throw new Error("No available transport method");l(s)})(xt({},t,{callback:n=>{var r,i;this.rateLimiter.checkForLimiting(n),n.statusCode>=400&&((r=(i=this.config).on_request_error)==null||r.call(i,n)),t.callback==null||t.callback(n)}}))))}ps(t){this.gs?this.gs.retriableRequest(t):this._e(t)}_execute_array(t){var n,r=[],i=[],o=[];Tl(t,a=>{a&&(n=a[0],sr(n)?o.push(a):Io(a)?a.call(this):sr(a)&&n==="alias"?r.push(a):sr(a)&&n.indexOf("capture")!==-1&&Io(this[n])?o.push(a):i.push(a))});var s=function(a,l){Tl(a,function(c){if(sr(c[0])){var u=l;Nn(c,function(f){u=u[f[0]].apply(u,f.slice(1))})}else this[c[0]].apply(this,c.slice(1))},l)};s(r,this),s(i,this),s(o,this)}bs(){var t,n;return((t=this.config.bootstrap)==null?void 0:t.featureFlags)&&Object.keys((n=this.config.bootstrap)==null?void 0:n.featureFlags).length>0||!1}push(t){this._execute_array([t])}capture(t,n,r){var i;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this.fs){if(!this.consent.isOptedOut())if(!vt(t)&&Sr(t)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var o=r!=null&&r.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(o==null||!o.isRateLimited){n!=null&&n.$current_url&&!Sr(n==null?void 0:n.$current_url)&&(jt.error("Invalid `$current_url` property provided to `posthog.capture`. Input must be a string. Ignoring provided value."),n==null||delete n.$current_url),this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var s=new Date,a=(r==null?void 0:r.timestamp)||s,l=wl(),c={uuid:l,event:t,properties:this.Di(t,n||{},a,l)};o&&(c.properties.$lib_rate_limit_remaining_tokens=o.remainingTokens),r!=null&&r.$set&&(c.$set=r==null?void 0:r.$set);var u=this.ks(r==null?void 0:r.$set_once);u&&(c.$set_once=u),(c=Lle(c,r!=null&&r._noTruncate?null:this.config.properties_string_max_length)).timestamp=a,vt(r==null?void 0:r.timestamp)||(c.properties.$event_time_override_provided=!0,c.properties.$event_time_override_system_time=s);var f=xt({},c.properties.$set,c.$set);if(Xu(f)||this.setPersonPropertiesForFlags(f),!xn(this.config.before_send)){var h=this.xs(c);if(!h)return;c=h}this.ls.emit("eventCaptured",c);var p={method:"POST",url:(i=r==null?void 0:r._url)!==null&&i!==void 0?i:this.requestRouter.endpointFor("api",this.analyticsDefaultEndpoint),data:c,compression:"best-available",batchKey:r==null?void 0:r._batchKey};return!this.config.request_batching||r&&(r==null||!r._batchKey)||r!=null&&r.send_instantly?this.ps(p):this.fs.enqueue(p),c}jt.critical("This capture call is ignored due to client rate limiting.")}}else jt.error("No event name provided to posthog.capture")}else jt.uninitializedWarning("posthog.capture")}je(t){return this.on("eventCaptured",n=>t(n.event,n))}Di(t,n,r,i){if(r=r||new Date,!this.persistence||!this.sessionPersistence)return n;var o=this.persistence.remove_event_timer(t),s=xt({},n);if(s.token=this.config.token,this.config.__preview_experimental_cookieless_mode&&(s.$cookieless_mode=!0),t==="$snapshot"){var a=xt({},this.persistence.properties(),this.sessionPersistence.properties());return s.distinct_id=a.distinct_id,(!Sr(s.distinct_id)&&!li(s.distinct_id)||bk(s.distinct_id))&&jt.error("Invalid distinct_id for replay event. This indicates a bug in your implementation"),s}var l,c=_ue(this.config.mask_personal_data_properties,this.config.custom_personal_data_properties);if(this.sessionManager){var{sessionId:u,windowId:f}=this.sessionManager.checkAndGetSessionAndWindowId();s.$session_id=u,s.$window_id=f}this.sessionPropsManager&&br(s,this.sessionPropsManager.getSessionProps());try{var h;this.sessionRecording&&br(s,this.sessionRecording.sdkDebugProperties),s.$sdk_debug_retry_queue_size=(h=this.gs)==null?void 0:h.length}catch(b){s.$sdk_debug_error_capturing_properties=String(b)}if(this.requestRouter.region===Ec.CUSTOM&&(s.$lib_custom_api_host=this.config.api_host),l=t==="$pageview"?this.pageViewManager.doPageView(r,i):t==="$pageleave"?this.pageViewManager.doPageLeave(r):this.pageViewManager.doEvent(),s=br(s,l),t==="$pageview"&&bt&&(s.title=bt.title),!vt(o)){var p=r.getTime()-o;s.$duration=parseFloat((p/1e3).toFixed(3))}$i&&this.config.opt_out_useragent_filter&&(s.$browser_type=this._is_bot()?"bot":"browser"),(s=br({},c,this.persistence.properties(),this.sessionPersistence.properties(),s)).$is_identified=this._isIdentified(),sr(this.config.property_denylist)?Nn(this.config.property_denylist,function(b){delete s[b]}):jt.error("Invalid value for property_denylist config: "+this.config.property_denylist+" or property_blacklist config: "+this.config.property_blacklist);var v=this.config.sanitize_properties;v&&(jt.error("sanitize_properties is deprecated. Use before_send instead"),s=v(s,t));var g=this.Es();return s.$process_person_profile=g,g&&this.Is("_calculate_event_properties"),s}ks(t){var n;if(!this.persistence||!this.Es()||this.os)return t;var r=this.persistence.get_initial_props(),i=(n=this.sessionPropsManager)==null?void 0:n.getSetOnceProps(),o=br({},r,i||{},t||{}),s=this.config.sanitize_properties;return s&&(jt.error("sanitize_properties is deprecated. Use before_send instead"),o=s(o,"$set_once")),this.os=!0,Xu(o)?void 0:o}register(t,n){var r;(r=this.persistence)==null||r.register(t,n)}register_once(t,n,r){var i;(i=this.persistence)==null||i.register_once(t,n,r)}register_for_session(t){var n;(n=this.sessionPersistence)==null||n.register(t)}unregister(t){var n;(n=this.persistence)==null||n.unregister(t)}unregister_for_session(t){var n;(n=this.sessionPersistence)==null||n.unregister(t)}Ps(t,n){this.register({[t]:n})}getFeatureFlag(t,n){return this.featureFlags.getFeatureFlag(t,n)}getFeatureFlagPayload(t){var n=this.featureFlags.getFeatureFlagPayload(t);try{return JSON.parse(n)}catch(r){return n}}isFeatureEnabled(t,n){return this.featureFlags.isFeatureEnabled(t,n)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(t,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(t,n)}getEarlyAccessFeatures(t,n,r){return n===void 0&&(n=!1),this.featureFlags.getEarlyAccessFeatures(t,n,r)}on(t,n){return this.ls.on(t,n)}onFeatureFlags(t){return this.featureFlags.onFeatureFlags(t)}onSurveysLoaded(t){return this.surveys.onSurveysLoaded(t)}onSessionId(t){var n,r;return(n=(r=this.sessionManager)==null?void 0:r.onSessionId(t))!==null&&n!==void 0?n:()=>{}}getSurveys(t,n){n===void 0&&(n=!1),this.surveys.getSurveys(t,n)}getActiveMatchingSurveys(t,n){n===void 0&&(n=!1),this.surveys.getActiveMatchingSurveys(t,n)}renderSurvey(t,n){this.surveys.renderSurvey(t,n)}canRenderSurvey(t){return this.surveys.canRenderSurvey(t)}canRenderSurveyAsync(t,n){return n===void 0&&(n=!1),this.surveys.canRenderSurveyAsync(t,n)}identify(t,n,r){if(!this.__loaded||!this.persistence)return jt.uninitializedWarning("posthog.identify");if(li(t)&&(t=t.toString(),jt.warn("The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.")),t){if(["distinct_id","distinctid"].includes(t.toLowerCase()))jt.critical('The string "'+t+'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.');else if(this.Is("posthog.identify")){var i=this.get_distinct_id();if(this.register({$user_id:t}),!this.get_property("$device_id")){var o=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:o},"")}t!==i&&t!==this.get_property(lh)&&(this.unregister(lh),this.register({distinct_id:t}));var s=(this.persistence.get_property(pa)||"anonymous")==="anonymous";t!==i&&s?(this.persistence.set_property(pa,"identified"),this.setPersonPropertiesForFlags(xt({},r||{},n||{}),!1),this.capture("$identify",{distinct_id:t,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.vs=p4(t,n,r),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),t!==i&&(this.reloadFeatureFlags(),this.unregister(Ty))}}else jt.error("Unique user id has not been set in posthog.identify")}setPersonProperties(t,n){if((t||n)&&this.Is("posthog.setPersonProperties")){var r=p4(this.get_distinct_id(),t,n);this.vs!==r?(this.setPersonPropertiesForFlags(xt({},n||{},t||{})),this.capture("$set",{$set:t||{},$set_once:n||{}}),this.vs=r):jt.info("A duplicate setPersonProperties call was made with the same properties. It has been ignored.")}}group(t,n,r){if(t&&n){if(this.Is("posthog.group")){var i=this.getGroups();i[t]!==n&&this.resetGroupPropertiesForFlags(t),this.register({$groups:xt({},i,{[t]:n})}),r&&(this.capture("$groupidentify",{$group_type:t,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags({[t]:r})),i[t]===n||r||this.reloadFeatureFlags()}}else jt.error("posthog.group requires a group type and group key")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(t,n){n===void 0&&(n=!0),this.featureFlags.setPersonPropertiesForFlags(t,n)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(t,n){n===void 0&&(n=!0),this.Is("posthog.setGroupPropertiesForFlags")&&this.featureFlags.setGroupPropertiesForFlags(t,n)}resetGroupPropertiesForFlags(t){this.featureFlags.resetGroupPropertiesForFlags(t)}reset(t){var n,r,i,o;if(jt.info("reset"),!this.__loaded)return jt.uninitializedWarning("posthog.reset");var s=this.get_property("$device_id");if(this.consent.reset(),(n=this.persistence)==null||n.clear(),(r=this.sessionPersistence)==null||r.clear(),this.surveys.reset(),(i=this.persistence)==null||i.set_property(pa,"anonymous"),(o=this.sessionManager)==null||o.resetSessionId(),this.vs=null,this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:I3,$device_id:null},"");else{var a=this.config.get_device_id(wl());this.register_once({distinct_id:a,$device_id:t?a:s},"")}this.register({$last_posthog_reset:new Date().toISOString()},1)}get_distinct_id(){return this.get_property("distinct_id")}getGroups(){return this.get_property("$groups")||{}}get_session_id(){var t,n;return(t=(n=this.sessionManager)==null?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&t!==void 0?t:""}get_session_replay_url(t){if(!this.sessionManager)return"";var{sessionId:n,sessionStartTimestamp:r}=this.sessionManager.checkAndGetSessionAndWindowId(!0),i=this.requestRouter.endpointFor("ui","/project/"+this.config.token+"/replay/"+n);if(t!=null&&t.withTimestamp&&r){var o,s=(o=t.timestampLookBack)!==null&&o!==void 0?o:10;if(!r)return i;i+="?t="+Math.max(Math.floor((new Date().getTime()-r)/1e3)-s,0)}return i}alias(t,n){return t===this.get_property(ND)?(jt.critical("Attempting to create alias for existing People user - aborting."),-2):this.Is("posthog.alias")?(vt(n)&&(n=this.get_distinct_id()),t!==n?(this.Ps(lh,t),this.capture("$create_alias",{alias:t,distinct_id:n})):(jt.warn("alias matches current distinct_id - skipping api call."),this.identify(t),-1)):void 0}set_config(t){var n,r,i,o,s=xt({},this.config);ar(t)&&(br(this.config,v4(t)),(n=this.persistence)==null||n.update_config(this.config,s),this.sessionPersistence=this.config.persistence==="sessionStorage"||this.config.persistence==="memory"?this.persistence:new Yb(xt({},this.config,{persistence:"sessionStorage"})),Rr.O()&&Rr.A("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(_a.DEBUG=!0,jt.info("set_config",JSON.stringify({config:t,oldConfig:s,newConfig:xt({},this.config)},null,2))),(r=this.sessionRecording)==null||r.startIfEnabledOrStop(),(i=this.autocapture)==null||i.startIfEnabled(),(o=this.heatmaps)==null||o.startIfEnabled(),this.surveys.loadIfEnabled(),this._s())}startSessionRecording(t){var n=t===!0,r={sampling:n||!(t==null||!t.sampling),linked_flag:n||!(t==null||!t.linked_flag),url_trigger:n||!(t==null||!t.url_trigger),event_trigger:n||!(t==null||!t.event_trigger)};if(Object.values(r).some(Boolean)){var i,o,s,a,l;(i=this.sessionManager)==null||i.checkAndGetSessionAndWindowId(),r.sampling&&((o=this.sessionRecording)==null||o.overrideSampling()),r.linked_flag&&((s=this.sessionRecording)==null||s.overrideLinkedFlag()),r.url_trigger&&((a=this.sessionRecording)==null||a.overrideTrigger("url")),r.event_trigger&&((l=this.sessionRecording)==null||l.overrideTrigger("event"))}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var t;return!((t=this.sessionRecording)==null||!t.started)}captureException(t,n){var r=new Error("PostHog syntheticException");this.exceptions.sendExceptionEvent(xt({},Cce((i=>i instanceof Error)(t)?{error:t,event:t.message}:{event:t},{syntheticException:r}),n))}loadToolbar(t){return this.toolbar.loadToolbar(t)}get_property(t){var n;return(n=this.persistence)==null?void 0:n.props[t]}getSessionProperty(t){var n;return(n=this.sessionPersistence)==null?void 0:n.props[t]}toString(){var t,n=(t=this.config.name)!==null&&t!==void 0?t:Iu;return n!==Iu&&(n=Iu+"."+n),n}_isIdentified(){var t,n;return((t=this.persistence)==null?void 0:t.get_property(pa))==="identified"||((n=this.sessionPersistence)==null?void 0:n.get_property(pa))==="identified"}Es(){var t,n,r,i;return!(this.config.person_profiles==="never"||this.config.person_profiles==="identified_only"&&!this._isIdentified()&&Xu(this.getGroups())&&((t=this.persistence)==null||(n=t.props)==null||!n[lh])&&((r=this.persistence)==null||(i=r.props)==null||!i[Ry]))}$s(){return this.config.capture_pageleave===!0||this.config.capture_pageleave==="if_capture_pageview"&&(this.config.capture_pageview===!0||this.config.capture_pageview==="history_change")}createPersonProfile(){this.Es()||this.Is("posthog.createPersonProfile")&&this.setPersonProperties({},{})}Is(t){return this.config.person_profiles==="never"?(jt.error(t+' was called, but process_person is set to "never". This call will be ignored.'),!1):(this.Ps(Ry,!0),!0)}_s(){var t,n,r,i,o=this.consent.isOptedOut(),s=this.config.opt_out_persistence_by_default,a=this.config.disable_persistence||o&&!!s;((t=this.persistence)==null?void 0:t.ke)!==a&&((r=this.persistence)==null||r.set_disabled(a)),((n=this.sessionPersistence)==null?void 0:n.ke)!==a&&((i=this.sessionPersistence)==null||i.set_disabled(a))}opt_in_capturing(t){var n;this.consent.optInOut(!0),this._s(),(vt(t==null?void 0:t.captureEventName)||t!=null&&t.captureEventName)&&this.capture((n=t==null?void 0:t.captureEventName)!==null&&n!==void 0?n:"$opt_in",t==null?void 0:t.captureProperties,{send_instantly:!0}),this.config.capture_pageview&&this.Ss()}opt_out_capturing(){this.consent.optInOut(!1),this._s()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this._s()}_is_bot(){return co?A6(co,this.config.custom_blocked_useragents):void 0}Ss(){bt&&(bt.visibilityState==="visible"?this.us||(this.us=!0,this.capture("$pageview",{title:bt.title},{send_instantly:!0}),this.hs&&(bt.removeEventListener("visibilitychange",this.hs),this.hs=null)):this.hs||(this.hs=this.Ss.bind(this),Jn(bt,"visibilitychange",this.hs)))}debug(t){t===!1?(Me==null||Me.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(Me==null||Me.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}xs(t){if(xn(this.config.before_send))return t;var n=sr(this.config.before_send)?this.config.before_send:[this.config.before_send],r=t;for(var i of n){if(r=i(r),xn(r)){var o="Event '"+t.event+"' was rejected in beforeSend function";return $le(t.event)?jt.warn(o+". This can cause unexpected behavior."):jt.info(o),null}r.properties&&!Xu(r.properties)||jt.warn("Event '"+t.event+"' has no properties after beforeSend function, this is likely an error.")}return r}getPageViewId(){var t;return(t=this.pageViewManager.oe)==null?void 0:t.pageViewId}captureTraceFeedback(t,n){this.capture("$ai_feedback",{$ai_trace_id:String(t),$ai_feedback_text:n})}captureTraceMetric(t,n,r){this.capture("$ai_metric",{$ai_trace_id:String(t),$ai_metric_name:n,$ai_metric_value:String(r)})}}(function(e,t){for(var n=0;n<t.length;n++)e.prototype[t[n]]=Fle(e.prototype[t[n]])})(Ex,["identify"]);var y4,x4,w4,b4,_4,k4;(function(e){e.Button="button",e.Tab="tab",e.Selector="selector"})(y4||(y4={})),function(e){e.Left="left",e.Center="center",e.Right="right",e.NextToTrigger="next_to_trigger"}(x4||(x4={})),function(e){e.Popover="popover",e.API="api",e.Widget="widget"}(w4||(w4={})),function(e){e.Open="open",e.MultipleChoice="multiple_choice",e.SingleChoice="single_choice",e.Rating="rating",e.Link="link"}(b4||(b4={})),function(e){e.NextQuestion="next_question",e.End="end",e.ResponseBased="response_based",e.SpecificQuestion="specific_question"}(_4||(_4={})),function(e){e.Once="once",e.Recurring="recurring",e.Always="always"}(k4||(k4={}));var S4,Pu=(S4=Ih[Iu]=new Ex,function(){function e(){e.done||(e.done=!0,T6=!1,Nn(Ih,function(t){t._dom_loaded()}))}bt!=null&&bt.addEventListener?bt.readyState==="complete"?e():Jn(bt,"DOMContentLoaded",e,{capture:!1}):Me&&jt.error("Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized")}(),S4),ME=N.createContext({client:Pu});function R6(e,t,n){if(n===void 0&&(n=new WeakMap),e===t)return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(n.has(e)&&n.get(e)===t)return!0;n.set(e,t);var r=Object.keys(e),i=Object.keys(t);if(r.length!==i.length)return!1;for(var o=0,s=r;o<s.length;o++){var a=s[o];if(!i.includes(a)||!R6(e[a],t[a],n))return!1}return!0}function Vue(e){var t=e.children,n=e.client,r=e.apiKey,i=e.options,o=N.useRef(null),s=N.useMemo(function(){return n?(r&&console.warn("[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`."),i&&console.warn("[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`."),n):(r||console.warn("[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior."),Pu)},[n,r,JSON.stringify(i)]);return N.useEffect(function(){if(!n){var a=o.current;a?(r!==a.apiKey&&console.warn("[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop."),i&&!R6(i,a.options)&&Pu.set_config(i),o.current={apiKey:r,options:i!=null?i:{}}):(Pu.__loaded&&console.warn("[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues."),Pu.init(r,i),o.current={apiKey:r,options:i!=null?i:{}})}},[n,r,JSON.stringify(i)]),$t.createElement(ME.Provider,{value:{client:s}},t)}var que=function(){var e=N.useContext(ME).client;return e},Yk=function(e,t){return Yk=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},Yk(e,t)};function Kue(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");Yk(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Xb=function(e){return typeof e=="function"},Yue={componentStack:null,error:null},Gue={INVALID_FALLBACK:"[PostHog.js][PostHogErrorBoundary] Invalid fallback prop, provide a valid React element or a function that returns a valid React element."};(function(e){Kue(t,e);function t(n){var r=e.call(this,n)||this;return r.state=Yue,r}return t.prototype.componentDidCatch=function(n,r){var i=r.componentStack,o=this.props.additionalProperties;this.setState({error:n,componentStack:i});var s;Xb(o)?s=o(n):typeof o=="object"&&(s=o);var a=this.context.client;a.captureException(n,s)},t.prototype.render=function(){var n=this.props,r=n.children,i=n.fallback,o=this.state;if(o.componentStack==null)return Xb(r)?r():r;var s=Xb(i)?$t.createElement(i,{error:o.error,componentStack:o.componentStack}):i;return $t.isValidElement(s)?s:(console.warn(Gue.INVALID_FALLBACK),$t.createElement($t.Fragment,null))},t.contextType=ME,t})($t.Component);const ms=e=>e.slice(-10);function Cx(){return typeof window<"u"}function ff(e){return I6(e)?(e.nodeName||"").toLowerCase():"#document"}function ho(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ia(e){var t;return(t=(I6(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function I6(e){return Cx()?e instanceof Node||e instanceof ho(e).Node:!1}function gr(e){return Cx()?e instanceof Element||e instanceof ho(e).Element:!1}function Ji(e){return Cx()?e instanceof HTMLElement||e instanceof ho(e).HTMLElement:!1}function Gk(e){return!Cx()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof ho(e).ShadowRoot}function fm(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Lo(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Xue(e){return["table","td","th"].includes(ff(e))}function jx(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch(n){return!1}})}function $E(e){const t=Nx(),n=gr(e)?Lo(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Jue(e){let t=Wa(e);for(;Ji(t)&&!Oa(t);){if($E(t))return t;if(jx(t))return null;t=Wa(t)}return null}function Nx(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Oa(e){return["html","body","#document"].includes(ff(e))}function Lo(e){return ho(e).getComputedStyle(e)}function Ax(e){return gr(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Wa(e){if(ff(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Gk(e)&&e.host||ia(e);return Gk(t)?t.host:t}function P6(e){const t=Wa(e);return Oa(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ji(t)&&fm(t)?t:P6(t)}function Il(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=P6(e),o=i===((r=e.ownerDocument)==null?void 0:r.body),s=ho(i);if(o){const a=Xk(s);return t.concat(s,s.visualViewport||[],fm(i)?i:[],a&&n?Il(a):[])}return t.concat(i,Il(i,[],n))}function Xk(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}const Ud=Math.min,ro=Math.max,Hy=Math.round,jg=Math.floor,qs=e=>({x:e,y:e}),Que={left:"right",right:"left",bottom:"top",top:"bottom"},Zue={start:"end",end:"start"};function E4(e,t,n){return ro(e,Ud(t,n))}function hm(e,t){return typeof e=="function"?e(t):e}function Wl(e){return e.split("-")[0]}function pm(e){return e.split("-")[1]}function O6(e){return e==="x"?"y":"x"}function M6(e){return e==="y"?"height":"width"}function Pl(e){return["top","bottom"].includes(Wl(e))?"y":"x"}function $6(e){return O6(Pl(e))}function ede(e,t,n){n===void 0&&(n=!1);const r=pm(e),i=$6(e),o=M6(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(s=Wy(s)),[s,Wy(s)]}function tde(e){const t=Wy(e);return[Jk(e),t,Jk(t)]}function Jk(e){return e.replace(/start|end/g,t=>Zue[t])}function nde(e,t,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?o:s;default:return[]}}function rde(e,t,n,r){const i=pm(e);let o=nde(Wl(e),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),t&&(o=o.concat(o.map(Jk)))),o}function Wy(e){return e.replace(/left|right|bottom|top/g,t=>Que[t])}function ide(e){return{top:0,right:0,bottom:0,left:0,...e}}function ode(e){return typeof e!="number"?ide(e):{top:e,right:e,bottom:e,left:e}}function Uy(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}const C4="data-floating-ui-focusable",sde="input:not([type='hidden']):not([disabled]),[contenteditable]:not([contenteditable='false']),textarea:not([disabled])";function j4(e,t){if(!e||!t)return!1;const n=t.getRootNode==null?void 0:t.getRootNode();if(e.contains(t))return!0;if(n&&Gk(n)){let r=t;for(;r;){if(e===r)return!0;r=r.parentNode||r.host}}return!1}function Vf(e){return"composedPath"in e?e.composedPath()[0]:e.target}function Jb(e,t){if(t==null)return!1;if("composedPath"in e)return e.composedPath().includes(t);const n=e;return n.target!=null&&t.contains(n.target)}function ade(e){return e.matches("html,body")}function N4(e){return(e==null?void 0:e.ownerDocument)||document}function lde(e){return Ji(e)&&e.matches(sde)}function cde(e){return e?e.hasAttribute(C4)?e:e.querySelector("["+C4+"]")||e:null}function Qb(e,t,n){n===void 0&&(n=!0);let r=e.filter(o=>{var s;return o.parentId===t&&((s=o.context)==null?void 0:s.open)}),i=r;for(;i.length;)i=n?e.filter(o=>{var s;return(s=i)==null?void 0:s.some(a=>{var l;return o.parentId===a.id&&((l=o.context)==null?void 0:l.open)})}):e,r=r.concat(i);return r}function ude(e){return"nativeEvent"in e}function A4(e,t){return["mouse","pen"].includes(e)}var Qk=typeof document<"u"?N.useLayoutEffect:N.useEffect;const dde={...dR},fde=dde.useInsertionEffect,hde=fde||(e=>e());function Ou(e){const t=N.useRef(()=>{});return hde(()=>{t.current=e}),N.useCallback(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return t.current==null?void 0:t.current(...r)},[])}function T4(e,t,n){let{reference:r,floating:i}=e;const o=Pl(t),s=$6(t),a=M6(s),l=Wl(t),c=o==="y",u=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:u,y:r.y-i.height};break;case"bottom":p={x:u,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(pm(t)){case"start":p[s]-=h*(n&&c?-1:1);break;case"end":p[s]+=h*(n&&c?-1:1);break}return p}const pde=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(t));let c=await s.getElementRects({reference:e,floating:t,strategy:i}),{x:u,y:f}=T4(c,r,l),h=r,p={},v=0;for(let g=0;g<a.length;g++){const{name:b,fn:m}=a[g],{x:y,y:x,data:k,reset:S}=await m({x:u,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:c,platform:s,elements:{reference:e,floating:t}});u=y!=null?y:u,f=x!=null?x:f,p={...p,[b]:{...p[b],...k}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(h=S.placement),S.rects&&(c=S.rects===!0?await s.getElementRects({reference:e,floating:t,strategy:i}):S.rects),{x:u,y:f}=T4(c,h,l)),g=-1)}return{x:u,y:f,placement:h,strategy:i,middlewareData:p}};async function DE(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=hm(t,e),v=ode(p),b=a[h?f==="floating"?"reference":"floating":f],m=Uy(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:u,strategy:l})),y=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,x=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),k=await(o.isElement==null?void 0:o.isElement(x))?await(o.getScale==null?void 0:o.getScale(x))||{x:1,y:1}:{x:1,y:1},S=Uy(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:x,strategy:l}):y);return{top:(m.top-S.top+v.top)/k.y,bottom:(S.bottom-m.bottom+v.bottom)/k.y,left:(m.left-S.left+v.left)/k.x,right:(S.right-m.right+v.right)/k.x}}const mde=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:u=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:g=!0,...b}=hm(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const m=Wl(i),y=Pl(a),x=Wl(a)===a,k=await(l.isRTL==null?void 0:l.isRTL(c.floating)),S=h||(x||!g?[Wy(a)]:tde(a)),E=v!=="none";!h&&E&&S.push(...rde(a,g,v,k));const T=[a,...S],M=await DE(t,b),W=[];let F=((r=o.flip)==null?void 0:r.overflows)||[];if(u&&W.push(M[m]),f){const J=ede(i,s,k);W.push(M[J[0]],M[J[1]])}if(F=[...F,{placement:i,overflows:W}],!W.every(J=>J<=0)){var L,G;const J=(((L=o.flip)==null?void 0:L.index)||0)+1,I=T[J];if(I){var z;const O=f==="alignment"?y!==Pl(I):!1,D=((z=F[0])==null?void 0:z.overflows[0])>0;if(!O||D)return{data:{index:J,overflows:F},reset:{placement:I}}}let U=(G=F.filter(O=>O.overflows[0]<=0).sort((O,D)=>O.overflows[1]-D.overflows[1])[0])==null?void 0:G.placement;if(!U)switch(p){case"bestFit":{var H;const O=(H=F.filter(D=>{if(E){const $=Pl(D.placement);return $===y||$==="y"}return!0}).map(D=>[D.placement,D.overflows.filter($=>$>0).reduce(($,Y)=>$+Y,0)]).sort((D,$)=>D[1]-$[1])[0])==null?void 0:H[0];O&&(U=O);break}case"initialPlacement":U=a;break}if(i!==U)return{reset:{placement:U}}}return{}}}};async function gde(e,t){const{placement:n,platform:r,elements:i}=e,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=Wl(n),a=pm(n),l=Pl(n)==="y",c=["left","top"].includes(s)?-1:1,u=o&&l?-1:1,f=hm(t,e);let{mainAxis:h,crossAxis:p,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof v=="number"&&(p=a==="end"?v*-1:v),l?{x:p*u,y:h*c}:{x:h*c,y:p*u}}const vde=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=t,l=await gde(t,e);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},yde=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:b=>{let{x:m,y}=b;return{x:m,y}}},...l}=hm(e,t),c={x:n,y:r},u=await DE(t,l),f=Pl(Wl(i)),h=O6(f);let p=c[h],v=c[f];if(o){const b=h==="y"?"top":"left",m=h==="y"?"bottom":"right",y=p+u[b],x=p-u[m];p=E4(y,p,x)}if(s){const b=f==="y"?"top":"left",m=f==="y"?"bottom":"right",y=v+u[b],x=v-u[m];v=E4(y,v,x)}const g=a.fn({...t,[h]:p,[f]:v});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[h]:o,[f]:s}}}}}},xde=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:o,platform:s,elements:a}=t,{apply:l=()=>{},...c}=hm(e,t),u=await DE(t,c),f=Wl(i),h=pm(i),p=Pl(i)==="y",{width:v,height:g}=o.floating;let b,m;f==="top"||f==="bottom"?(b=f,m=h===(await(s.isRTL==null?void 0:s.isRTL(a.floating))?"start":"end")?"left":"right"):(m=f,b=h==="end"?"top":"bottom");const y=g-u.top-u.bottom,x=v-u.left-u.right,k=Ud(g-u[b],y),S=Ud(v-u[m],x),E=!t.middlewareData.shift;let T=k,M=S;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(M=x),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=y),E&&!h){const F=ro(u.left,0),L=ro(u.right,0),G=ro(u.top,0),z=ro(u.bottom,0);p?M=v-2*(F!==0||L!==0?F+L:ro(u.left,u.right)):T=g-2*(G!==0||z!==0?G+z:ro(u.top,u.bottom))}await l({...t,availableWidth:M,availableHeight:T});const W=await s.getDimensions(a.floating);return v!==W.width||g!==W.height?{reset:{rects:!0}}:{}}}};function D6(e){const t=Lo(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Ji(e),o=i?e.offsetWidth:n,s=i?e.offsetHeight:r,a=Hy(n)!==o||Hy(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function FE(e){return gr(e)?e:e.contextElement}function dd(e){const t=FE(e);if(!Ji(t))return qs(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:o}=D6(t);let s=(o?Hy(n.width):n.width)/r,a=(o?Hy(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const wde=qs(0);function F6(e){const t=ho(e);return!Nx()||!t.visualViewport?wde:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function bde(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==ho(e)?!1:t}function eu(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=FE(e);let s=qs(1);t&&(r?gr(r)&&(s=dd(r)):s=dd(e));const a=bde(o,n,r)?F6(o):qs(0);let l=(i.left+a.x)/s.x,c=(i.top+a.y)/s.y,u=i.width/s.x,f=i.height/s.y;if(o){const h=ho(o),p=r&&gr(r)?ho(r):r;let v=h,g=Xk(v);for(;g&&r&&p!==v;){const b=dd(g),m=g.getBoundingClientRect(),y=Lo(g),x=m.left+(g.clientLeft+parseFloat(y.paddingLeft))*b.x,k=m.top+(g.clientTop+parseFloat(y.paddingTop))*b.y;l*=b.x,c*=b.y,u*=b.x,f*=b.y,l+=x,c+=k,v=ho(g),g=Xk(v)}}return Uy({width:u,height:f,x:l,y:c})}function LE(e,t){const n=Ax(e).scrollLeft;return t?t.left+n:eu(ia(e)).left+n}function L6(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:LE(e,r)),o=r.top+t.scrollTop;return{x:i,y:o}}function _de(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const o=i==="fixed",s=ia(r),a=t?jx(t.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=qs(1);const u=qs(0),f=Ji(r);if((f||!f&&!o)&&((ff(r)!=="body"||fm(s))&&(l=Ax(r)),Ji(r))){const p=eu(r);c=dd(r),u.x=p.x+r.clientLeft,u.y=p.y+r.clientTop}const h=s&&!f&&!o?L6(s,l,!0):qs(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+h.x,y:n.y*c.y-l.scrollTop*c.y+u.y+h.y}}function kde(e){return Array.from(e.getClientRects())}function Sde(e){const t=ia(e),n=Ax(e),r=e.ownerDocument.body,i=ro(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=ro(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+LE(e);const a=-n.scrollTop;return Lo(r).direction==="rtl"&&(s+=ro(t.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function Ede(e,t){const n=ho(e),r=ia(e),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const c=Nx();(!c||c&&t==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function Cde(e,t){const n=eu(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,o=Ji(e)?dd(e):qs(1),s=e.clientWidth*o.x,a=e.clientHeight*o.y,l=i*o.x,c=r*o.y;return{width:s,height:a,x:l,y:c}}function R4(e,t,n){let r;if(t==="viewport")r=Ede(e,n);else if(t==="document")r=Sde(ia(e));else if(gr(t))r=Cde(t,n);else{const i=F6(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Uy(r)}function B6(e,t){const n=Wa(e);return n===t||!gr(n)||Oa(n)?!1:Lo(n).position==="fixed"||B6(n,t)}function jde(e,t){const n=t.get(e);if(n)return n;let r=Il(e,[],!1).filter(a=>gr(a)&&ff(a)!=="body"),i=null;const o=Lo(e).position==="fixed";let s=o?Wa(e):e;for(;gr(s)&&!Oa(s);){const a=Lo(s),l=$E(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||fm(s)&&!l&&B6(e,s))?r=r.filter(u=>u!==s):i=a,s=Wa(s)}return t.set(e,r),r}function Nde(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const s=[...n==="clippingAncestors"?jx(t)?[]:jde(t,this._c):[].concat(n),r],a=s[0],l=s.reduce((c,u)=>{const f=R4(t,u,i);return c.top=ro(f.top,c.top),c.right=Ud(f.right,c.right),c.bottom=Ud(f.bottom,c.bottom),c.left=ro(f.left,c.left),c},R4(t,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Ade(e){const{width:t,height:n}=D6(e);return{width:t,height:n}}function Tde(e,t,n){const r=Ji(t),i=ia(t),o=n==="fixed",s=eu(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=qs(0);function c(){l.x=LE(i)}if(r||!r&&!o)if((ff(t)!=="body"||fm(i))&&(a=Ax(t)),r){const p=eu(t,!0,o,t);l.x=p.x+t.clientLeft,l.y=p.y+t.clientTop}else i&&c();o&&!r&&i&&c();const u=i&&!r&&!o?L6(i,a):qs(0),f=s.left+a.scrollLeft-l.x-u.x,h=s.top+a.scrollTop-l.y-u.y;return{x:f,y:h,width:s.width,height:s.height}}function Zb(e){return Lo(e).position==="static"}function I4(e,t){if(!Ji(e)||Lo(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ia(e)===n&&(n=n.ownerDocument.body),n}function z6(e,t){const n=ho(e);if(jx(e))return n;if(!Ji(e)){let i=Wa(e);for(;i&&!Oa(i);){if(gr(i)&&!Zb(i))return i;i=Wa(i)}return n}let r=I4(e,t);for(;r&&Xue(r)&&Zb(r);)r=I4(r,t);return r&&Oa(r)&&Zb(r)&&!$E(r)?n:r||Jue(e)||n}const Rde=async function(e){const t=this.getOffsetParent||z6,n=this.getDimensions,r=await n(e.floating);return{reference:Tde(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Ide(e){return Lo(e).direction==="rtl"}const Pde={convertOffsetParentRelativeRectToViewportRelativeRect:_de,getDocumentElement:ia,getClippingRect:Nde,getOffsetParent:z6,getElementRects:Rde,getClientRects:kde,getDimensions:Ade,getScale:dd,isElement:gr,isRTL:Ide};function H6(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Ode(e,t){let n=null,r;const i=ia(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:u,top:f,width:h,height:p}=c;if(a||t(),!h||!p)return;const v=jg(f),g=jg(i.clientWidth-(u+h)),b=jg(i.clientHeight-(f+p)),m=jg(u),x={rootMargin:-v+"px "+-g+"px "+-b+"px "+-m+"px",threshold:ro(0,Ud(1,l))||1};let k=!0;function S(E){const T=E[0].intersectionRatio;if(T!==l){if(!k)return s();T?s(!1,T):r=setTimeout(()=>{s(!1,1e-7)},1e3)}T===1&&!H6(c,e.getBoundingClientRect())&&s(),k=!1}try{n=new IntersectionObserver(S,{...x,root:i.ownerDocument})}catch(E){n=new IntersectionObserver(S,x)}n.observe(e)}return s(!0),o}function Mde(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=FE(e),u=i||o?[...c?Il(c):[],...Il(t)]:[];u.forEach(m=>{i&&m.addEventListener("scroll",n,{passive:!0}),o&&m.addEventListener("resize",n)});const f=c&&a?Ode(c,n):null;let h=-1,p=null;s&&(p=new ResizeObserver(m=>{let[y]=m;y&&y.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var x;(x=p)==null||x.observe(t)})),n()}),c&&!l&&p.observe(c),p.observe(t));let v,g=l?eu(e):null;l&&b();function b(){const m=eu(e);g&&!H6(g,m)&&n(),g=m,v=requestAnimationFrame(b)}return n(),()=>{var m;u.forEach(y=>{i&&y.removeEventListener("scroll",n),o&&y.removeEventListener("resize",n)}),f==null||f(),(m=p)==null||m.disconnect(),p=null,l&&cancelAnimationFrame(v)}}const $de=vde,Dde=yde,Fde=mde,Lde=xde,Bde=(e,t,n)=>{const r=new Map,i={platform:Pde,...n},o={...i.platform,_c:r};return pde(e,t,{...i,platform:o})};var hv=typeof document<"u"?N.useLayoutEffect:N.useEffect;function Vy(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Vy(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&e.$$typeof)&&!Vy(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function W6(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function P4(e,t){const n=W6(e);return Math.round(t*n)/n}function e1(e){const t=N.useRef(e);return hv(()=>{t.current=e}),t}function zde(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[u,f]=N.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[h,p]=N.useState(r);Vy(h,r)||p(r);const[v,g]=N.useState(null),[b,m]=N.useState(null),y=N.useCallback(O=>{O!==E.current&&(E.current=O,g(O))},[]),x=N.useCallback(O=>{O!==T.current&&(T.current=O,m(O))},[]),k=o||v,S=s||b,E=N.useRef(null),T=N.useRef(null),M=N.useRef(u),W=l!=null,F=e1(l),L=e1(i),G=e1(c),z=N.useCallback(()=>{if(!E.current||!T.current)return;const O={placement:t,strategy:n,middleware:h};L.current&&(O.platform=L.current),Bde(E.current,T.current,O).then(D=>{const $={...D,isPositioned:G.current!==!1};H.current&&!Vy(M.current,$)&&(M.current=$,S0.flushSync(()=>{f($)}))})},[h,t,n,L,G]);hv(()=>{c===!1&&M.current.isPositioned&&(M.current.isPositioned=!1,f(O=>({...O,isPositioned:!1})))},[c]);const H=N.useRef(!1);hv(()=>(H.current=!0,()=>{H.current=!1}),[]),hv(()=>{if(k&&(E.current=k),S&&(T.current=S),k&&S){if(F.current)return F.current(k,S,z);z()}},[k,S,z,F,W]);const J=N.useMemo(()=>({reference:E,floating:T,setReference:y,setFloating:x}),[y,x]),I=N.useMemo(()=>({reference:k,floating:S}),[k,S]),U=N.useMemo(()=>{const O={position:n,left:0,top:0};if(!I.floating)return O;const D=P4(I.floating,u.x),$=P4(I.floating,u.y);return a?{...O,transform:"translate("+D+"px, "+$+"px)",...W6(I.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:D,top:$}},[n,a,I.floating,u.x,u.y]);return N.useMemo(()=>({...u,update:z,refs:J,elements:I,floatingStyles:U}),[u,z,J,I,U])}const BE=(e,t)=>({...$de(e),options:[e,t]}),zE=(e,t)=>({...Dde(e),options:[e,t]}),HE=(e,t)=>({...Fde(e),options:[e,t]}),Hde=(e,t)=>({...Lde(e),options:[e,t]}),Wde="data-floating-ui-focusable",O4="active",M4="selected",Ude={...dR};let $4=!1,Vde=0;const D4=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Vde++;function qde(){const[e,t]=N.useState(()=>$4?D4():void 0);return Qk(()=>{e==null&&t(D4())},[]),N.useEffect(()=>{$4=!0},[]),e}const Kde=Ude.useId,U6=Kde||qde;function Yde(){const e=new Map;return{emit(t,n){var r;(r=e.get(t))==null||r.forEach(i=>i(n))},on(t,n){e.has(t)||e.set(t,new Set),e.get(t).add(n)},off(t,n){var r;(r=e.get(t))==null||r.delete(n)}}}const Gde=N.createContext(null),Xde=N.createContext(null),V6=()=>{var e;return((e=N.useContext(Gde))==null?void 0:e.id)||null},q6=()=>N.useContext(Xde);function Jde(e){return"data-floating-ui-"+e}function F4(e){return Ji(e.target)&&e.target.tagName==="BUTTON"}function Qde(e){return Ji(e.target)&&e.target.tagName==="A"}function L4(e){return lde(e)}function K6(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,dataRef:i,elements:{domReference:o}}=e,{enabled:s=!0,event:a="click",toggle:l=!0,ignoreMouse:c=!1,keyboardHandlers:u=!0,stickIfOpen:f=!0}=t,h=N.useRef(),p=N.useRef(!1),v=N.useMemo(()=>({onPointerDown(g){h.current=g.pointerType},onMouseDown(g){const b=h.current;g.button===0&&a!=="click"&&(A4(b)&&c||(n&&l&&(!(i.current.openEvent&&f)||i.current.openEvent.type==="mousedown")?r(!1,g.nativeEvent,"click"):(g.preventDefault(),r(!0,g.nativeEvent,"click"))))},onClick(g){const b=h.current;if(a==="mousedown"&&h.current){h.current=void 0;return}A4(b)&&c||(n&&l&&(!(i.current.openEvent&&f)||i.current.openEvent.type==="click")?r(!1,g.nativeEvent,"click"):r(!0,g.nativeEvent,"click"))},onKeyDown(g){h.current=void 0,!(g.defaultPrevented||!u||F4(g))&&(g.key===" "&&!L4(o)&&(g.preventDefault(),p.current=!0),!Qde(g)&&g.key==="Enter"&&r(!(n&&l),g.nativeEvent,"click"))},onKeyUp(g){g.defaultPrevented||!u||F4(g)||L4(o)||g.key===" "&&p.current&&(p.current=!1,r(!(n&&l),g.nativeEvent,"click"))}}),[i,o,a,c,u,r,n,f,l]);return N.useMemo(()=>s?{reference:v}:{},[s,v])}const Zde={pointerdown:"onPointerDown",mousedown:"onMouseDown",click:"onClick"},efe={pointerdown:"onPointerDownCapture",mousedown:"onMouseDownCapture",click:"onClickCapture"},B4=e=>{var t,n;return{escapeKey:typeof e=="boolean"?e:(t=e==null?void 0:e.escapeKey)!=null?t:!1,outsidePress:typeof e=="boolean"?e:(n=e==null?void 0:e.outsidePress)!=null?n:!0}};function Y6(e,t){t===void 0&&(t={});const{open:n,onOpenChange:r,elements:i,dataRef:o}=e,{enabled:s=!0,escapeKey:a=!0,outsidePress:l=!0,outsidePressEvent:c="pointerdown",referencePress:u=!1,referencePressEvent:f="pointerdown",ancestorScroll:h=!1,bubbles:p,capture:v}=t,g=q6(),b=Ou(typeof l=="function"?l:()=>!1),m=typeof l=="function"?b:l,y=N.useRef(!1),x=N.useRef(!1),{escapeKey:k,outsidePress:S}=B4(p),{escapeKey:E,outsidePress:T}=B4(v),M=N.useRef(!1),W=Ou(J=>{var I;if(!n||!s||!a||J.key!=="Escape"||M.current)return;const U=(I=o.current.floatingContext)==null?void 0:I.nodeId,O=g?Qb(g.nodesRef.current,U):[];if(!k&&(J.stopPropagation(),O.length>0)){let D=!0;if(O.forEach($=>{var Y;if((Y=$.context)!=null&&Y.open&&!$.context.dataRef.current.__escapeKeyBubbles){D=!1;return}}),!D)return}r(!1,ude(J)?J.nativeEvent:J,"escape-key")}),F=Ou(J=>{var I;const U=()=>{var O;W(J),(O=Vf(J))==null||O.removeEventListener("keydown",U)};(I=Vf(J))==null||I.addEventListener("keydown",U)}),L=Ou(J=>{var I;const U=y.current;y.current=!1;const O=x.current;if(x.current=!1,c==="click"&&O||U||typeof m=="function"&&!m(J))return;const D=Vf(J),$="["+Jde("inert")+"]",Y=N4(i.floating).querySelectorAll($);let ie=gr(D)?D:null;for(;ie&&!Oa(ie);){const Ne=Wa(ie);if(Oa(Ne)||!gr(Ne))break;ie=Ne}if(Y.length&&gr(D)&&!ade(D)&&!j4(D,i.floating)&&Array.from(Y).every(Ne=>!j4(ie,Ne)))return;if(Ji(D)&&H){const Ne=Oa(D),V=Lo(D),Q=/auto|scroll/,re=Ne||Q.test(V.overflowX),Pe=Ne||Q.test(V.overflowY),Ye=re&&D.clientWidth>0&&D.scrollWidth>D.clientWidth,ze=Pe&&D.clientHeight>0&&D.scrollHeight>D.clientHeight,se=V.direction==="rtl",fe=ze&&(se?J.offsetX<=D.offsetWidth-D.clientWidth:J.offsetX>D.clientWidth),je=Ye&&J.offsetY>D.clientHeight;if(fe||je)return}const ae=(I=o.current.floatingContext)==null?void 0:I.nodeId,xe=g&&Qb(g.nodesRef.current,ae).some(Ne=>{var V;return Jb(J,(V=Ne.context)==null?void 0:V.elements.floating)});if(Jb(J,i.floating)||Jb(J,i.domReference)||xe)return;const ke=g?Qb(g.nodesRef.current,ae):[];if(ke.length>0){let Ne=!0;if(ke.forEach(V=>{var Q;if((Q=V.context)!=null&&Q.open&&!V.context.dataRef.current.__outsidePressBubbles){Ne=!1;return}}),!Ne)return}r(!1,J,"outside-press")}),G=Ou(J=>{var I;const U=()=>{var O;L(J),(O=Vf(J))==null||O.removeEventListener(c,U)};(I=Vf(J))==null||I.addEventListener(c,U)});N.useEffect(()=>{if(!n||!s)return;o.current.__escapeKeyBubbles=k,o.current.__outsidePressBubbles=S;let J=-1;function I(Y){r(!1,Y,"ancestor-scroll")}function U(){window.clearTimeout(J),M.current=!0}function O(){J=window.setTimeout(()=>{M.current=!1},Nx()?5:0)}const D=N4(i.floating);a&&(D.addEventListener("keydown",E?F:W,E),D.addEventListener("compositionstart",U),D.addEventListener("compositionend",O)),m&&D.addEventListener(c,T?G:L,T);let $=[];return h&&(gr(i.domReference)&&($=Il(i.domReference)),gr(i.floating)&&($=$.concat(Il(i.floating))),!gr(i.reference)&&i.reference&&i.reference.contextElement&&($=$.concat(Il(i.reference.contextElement)))),$=$.filter(Y=>{var ie;return Y!==((ie=D.defaultView)==null?void 0:ie.visualViewport)}),$.forEach(Y=>{Y.addEventListener("scroll",I,{passive:!0})}),()=>{a&&(D.removeEventListener("keydown",E?F:W,E),D.removeEventListener("compositionstart",U),D.removeEventListener("compositionend",O)),m&&D.removeEventListener(c,T?G:L,T),$.forEach(Y=>{Y.removeEventListener("scroll",I)}),window.clearTimeout(J)}},[o,i,a,m,c,n,r,h,s,k,S,W,E,F,L,T,G]),N.useEffect(()=>{y.current=!1},[m,c]);const z=N.useMemo(()=>({onKeyDown:W,...u&&{[Zde[f]]:J=>{r(!1,J.nativeEvent,"reference-press")},...f!=="click"&&{onClick(J){r(!1,J.nativeEvent,"reference-press")}}}}),[W,r,u,f]),H=N.useMemo(()=>({onKeyDown:W,onMouseDown(){x.current=!0},onMouseUp(){x.current=!0},[efe[c]]:()=>{y.current=!0}}),[W,c]);return N.useMemo(()=>s?{reference:z,floating:H}:{},[s,z,H])}function tfe(e){const{open:t=!1,onOpenChange:n,elements:r}=e,i=U6(),o=N.useRef({}),[s]=N.useState(()=>Yde()),a=V6()!=null,[l,c]=N.useState(r.reference),u=Ou((p,v,g)=>{o.current.openEvent=p?v:void 0,s.emit("openchange",{open:p,event:v,reason:g,nested:a}),n==null||n(p,v,g)}),f=N.useMemo(()=>({setPositionReference:c}),[]),h=N.useMemo(()=>({reference:l||r.reference||null,floating:r.floating||null,domReference:r.reference}),[l,r.reference,r.floating]);return N.useMemo(()=>({dataRef:o,open:t,onOpenChange:u,elements:h,events:s,floatingId:i,refs:f}),[t,u,h,s,i,f])}function WE(e){e===void 0&&(e={});const{nodeId:t}=e,n=tfe({...e,elements:{reference:null,floating:null,...e.elements}}),r=e.rootContext||n,i=r.elements,[o,s]=N.useState(null),[a,l]=N.useState(null),u=(i==null?void 0:i.domReference)||o,f=N.useRef(null),h=q6();Qk(()=>{u&&(f.current=u)},[u]);const p=zde({...e,elements:{...i,...a&&{reference:a}}}),v=N.useCallback(x=>{const k=gr(x)?{getBoundingClientRect:()=>x.getBoundingClientRect(),getClientRects:()=>x.getClientRects(),contextElement:x}:x;l(k),p.refs.setReference(k)},[p.refs]),g=N.useCallback(x=>{(gr(x)||x===null)&&(f.current=x,s(x)),(gr(p.refs.reference.current)||p.refs.reference.current===null||x!==null&&!gr(x))&&p.refs.setReference(x)},[p.refs]),b=N.useMemo(()=>({...p.refs,setReference:g,setPositionReference:v,domReference:f}),[p.refs,g,v]),m=N.useMemo(()=>({...p.elements,domReference:u}),[p.elements,u]),y=N.useMemo(()=>({...p,...r,refs:b,elements:m,nodeId:t}),[p,b,m,t,r]);return Qk(()=>{r.dataRef.current.floatingContext=y;const x=h==null?void 0:h.nodesRef.current.find(k=>k.id===t);x&&(x.context=y)}),N.useMemo(()=>({...p,context:y,refs:b,elements:m}),[p,b,m,y])}function t1(e,t,n){const r=new Map,i=n==="item";let o=e;if(i&&e){const{[O4]:s,[M4]:a,...l}=e;o=l}return{...n==="floating"&&{tabIndex:-1,[Wde]:""},...o,...t.map(s=>{const a=s?s[n]:null;return typeof a=="function"?e?a(e):null:a}).concat(e).reduce((s,a)=>(a&&Object.entries(a).forEach(l=>{let[c,u]=l;if(!(i&&[O4,M4].includes(c)))if(c.indexOf("on")===0){if(r.has(c)||r.set(c,[]),typeof u=="function"){var f;(f=r.get(c))==null||f.push(u),s[c]=function(){for(var h,p=arguments.length,v=new Array(p),g=0;g<p;g++)v[g]=arguments[g];return(h=r.get(c))==null?void 0:h.map(b=>b(...v)).find(b=>b!==void 0)}}}else s[c]=u}),s),{})}}function G6(e){e===void 0&&(e=[]);const t=e.map(a=>a==null?void 0:a.reference),n=e.map(a=>a==null?void 0:a.floating),r=e.map(a=>a==null?void 0:a.item),i=N.useCallback(a=>t1(a,e,"reference"),t),o=N.useCallback(a=>t1(a,e,"floating"),n),s=N.useCallback(a=>t1(a,e,"item"),r);return N.useMemo(()=>({getReferenceProps:i,getFloatingProps:o,getItemProps:s}),[i,o,s])}const nfe=new Map([["select","listbox"],["combobox","listbox"],["label",!1]]);function X6(e,t){var n,r;t===void 0&&(t={});const{open:i,elements:o,floatingId:s}=e,{enabled:a=!0,role:l="dialog"}=t,c=U6(),u=((n=o.domReference)==null?void 0:n.id)||c,f=N.useMemo(()=>{var y;return((y=cde(o.floating))==null?void 0:y.id)||s},[o.floating,s]),h=(r=nfe.get(l))!=null?r:l,v=V6()!=null,g=N.useMemo(()=>h==="tooltip"||l==="label"?{["aria-"+(l==="label"?"labelledby":"describedby")]:i?f:void 0}:{"aria-expanded":i?"true":"false","aria-haspopup":h==="alertdialog"?"dialog":h,"aria-controls":i?f:void 0,...h==="listbox"&&{role:"combobox"},...h==="menu"&&{id:u},...h==="menu"&&v&&{role:"menuitem"},...l==="select"&&{"aria-autocomplete":"none"},...l==="combobox"&&{"aria-autocomplete":"list"}},[h,f,v,i,u,l]),b=N.useMemo(()=>{const y={id:f,...h&&{role:h}};return h==="tooltip"||l==="label"?y:{...y,...h==="menu"&&{"aria-labelledby":u}}},[h,f,u,l]),m=N.useCallback(y=>{let{active:x,selected:k}=y;const S={role:"option",...x&&{id:f+"-fui-option"}};switch(l){case"select":return{...S,"aria-selected":x&&k};case"combobox":return{...S,"aria-selected":k}}return{}},[f,l]);return N.useMemo(()=>a?{reference:g,floating:b,item:m}:{},[a,g,b,m])}const rfe=({options:e=[],value:t=[],onChange:n=()=>{},placeholder:r="Select options...",searchable:i=!0,maxHeight:o=200,className:s=""})=>{const[a,l]=N.useState(!1),[c,u]=N.useState(""),f=N.useRef(null),{refs:h,floatingStyles:p,context:v}=WE({open:a,onOpenChange:l,middleware:[BE(4),HE(),zE({padding:8}),Hde({apply({rects:k,elements:S}){Object.assign(S.floating.style,{width:"".concat(Math.max(k.reference.width,200),"px"),maxHeight:"".concat(o,"px")})}})],whileElementsMounted:Mde}),g=e.filter(k=>k.label.toLowerCase().includes(c.toLowerCase())),b=k=>{const S=t.includes(k.value)?t.filter(E=>E!==k.value):[...t,k.value];n(S)},m=(k,S)=>{S.stopPropagation();const E=t.filter(T=>T!==k);n(E)},y=()=>e.filter(k=>t.includes(k.value)).map(k=>k.label);N.useEffect(()=>{a&&i&&f.current&&f.current.focus()},[a,i]),N.useEffect(()=>{const k=S=>{h.floating.current&&!h.floating.current.contains(S.target)&&h.domReference.current&&!h.domReference.current.contains(S.target)&&l(!1)};if(a)return document.addEventListener("mousedown",k),()=>document.removeEventListener("mousedown",k)},[a,h]);const x=y();return d.jsxs("div",{className:"relative ".concat(s),children:[d.jsx("div",{ref:h.setReference,onClick:()=>l(!a),className:"min-h-[40px] px-3 py-2 border border-fantasy-border rounded-md bg-fantasy-dark cursor-pointer hover:border-fantasy-border/40 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("div",{className:"flex-1 flex flex-wrap gap-1",children:x.length===0?d.jsx("span",{className:"text-fantasy-text-muted",children:r}):x.map((k,S)=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-fantasy-accent/40 text-fantasy-text rounded text-sm",children:[k,d.jsx("button",{onClick:E=>{const T=e.find(M=>M.label===k);T&&m(T.value,E)},className:"hover:bg-fantasy-accent-dark rounded-full p-0.5 transition-colors",children:d.jsx(LP,{size:12})})]},S))}),d.jsx(SS,{size:20,className:"text-fantasy-text-muted transition-transform ".concat(a?"rotate-180":"")})]})}),a&&d.jsxs("div",{ref:h.setFloating,style:p,className:"z-50 bg-fantasy-dark border border-fantasy-border rounded-md shadow-lg overflow-hidden",children:[i&&d.jsx("div",{className:"p-2 border-b border-fantasy-border",children:d.jsx("input",{ref:f,type:"text",value:c,onChange:k=>u(k.target.value),placeholder:"Search options...",className:"w-full px-2 py-1 border border-fantasy-border rounded text-sm focus:outline-none focus:ring-1 focus:ring-fantasy-accent"})}),d.jsx("div",{className:"overflow-y-auto",style:{maxHeight:o-(i?50:0)},children:g.length===0?d.jsx("div",{className:"px-3 py-2 text-fantasy-text-muted text-sm",children:c?"No options found":"No options available"}):g.map(k=>{const S=t.includes(k.value);return d.jsxs("div",{onClick:()=>b(k),className:"px-3 py-2 cursor-pointer hover:bg-fantasy-light flex items-center gap-2 ".concat(S?"bg-fantasy-glass":""),children:[d.jsx("div",{className:"w-4 h-4 border rounded flex items-center justify-center ".concat(S?"bg-fantasy-accent border-fantasy-border":"border-fantasy-border"),children:S&&d.jsx(w9,{size:12,className:"text-fantasy-text"})}),d.jsx("span",{className:"text-sm ".concat(S?"text-fantasy-accent-dark font-medium":"text-fantasy-text"),children:k.label})]},k.value)})})]})]})},Cc=async e=>{try{return await it.versions.get(e)}catch(t){console.log("Error getting subscription:",t);return}},ife=async e=>{try{return await it.datapacks.get(e)}catch(t){console.log("Error getting datapack:",t)}},ofe=async e=>{try{return await it.systems.get(e)}catch(t){console.log("Error deleting system:",t)}},J6=async(e,t)=>{switch(e){case"system":return await ofe(t);case"datapack":return await ife(t)}},Tx=(e=[])=>{const t=na(async()=>{const n=await it.subscriptions.toArray();if(!n)return[];const r=n.filter(s=>!s.deleted_at&&!e.includes(s.resource_type)).sort((s,a)=>new Date(s.subscribed_at)>new Date(a.subscribed_at)?-1:1),i={},o={};for(let s=0;s<r.length;s++){const a=r[s];if(o[a.resource_id])continue;if(!i[a.resource_id]){const u=await J6(a.resource_type,a.resource_id);if(!u){o[a.resource_id]=!0;continue}i[a.resource_id]={item_id:a.resource_id,item:u,type:a.resource_type,versions:[],subscriptions:[],hashes:{}}}const l=await Cc(a.version_id),c=await it.typeHashes.get(a.version_id);i[a.resource_id].subscriptions.push(a),l&&i[a.resource_id].versions.push(l),c&&(i[a.resource_id].hashes[a.version_id]=c.hashes)}return Object.values(i).map(s=>({...s,versions:s.versions.sort((a,l)=>{if(!a||!l)return 0;const c=new Date(a.created_at),u=new Date(l.created_at);return c>u?1:0})}))},[]);return{subscriptions:t,isLoading:t===void 0}};function sfe({id:e}){var m,y;const{characters:t}=wD(),{subscriptions:n}=Tx(["theme"]),r=N.useMemo(()=>(n||[]).filter(x=>x.type==="system"),[n]),i=que(),[o,s]=N.useState(),[a,l]=N.useState(),[c,u]=N.useState([]),f=N.useMemo(()=>(n||[]).filter(x=>!(!(x.type==="datapack")||!o||!a)).map(x=>({label:x.item.name,value:x.versions.filter(k=>{if(!o||!a)return!1;const S=o.hashes[a.local_id],E=x.hashes[k.local_id];for(let T=0;T<E.length;T++){const M=E[T],W=S.find(F=>F.name===M.name);if(!W||M.hash!==W.hash)return!1}return!0})[0]})),[n,o]),[h,p]=N.useState(0),[v,g]=N.useState({local_id:"",user_id:"none",name:"",data:(m=a==null?void 0:a.data.defaultCharacterData)!=null?m:{},system:{local_id:"",version_id:""},datapacks:[],created_at:new Date().toISOString(),updated_at:new Date().toISOString()});N.useEffect(()=>{const x=r[0];if(!x||x.item_id===(o==null?void 0:o.item_id))return;s(x);let k=x.versions[0];!k||k.local_id===(a==null?void 0:a.local_id)||(l(k),g({...v,data:structuredClone(k.data.defaultCharacterData),system:{local_id:x.item_id,version_id:k.local_id},datapacks:[]}))},[r]);const b=N.useCallback(()=>cr(e),[e]);return o?d.jsxs(Vn,{isOpen:!0,onClose:b,children:[d.jsx(Kn,{title:"Create Character",onClose:b}),d.jsx(qn,{children:h===0&&d.jsxs(d.Fragment,{children:[d.jsx(en,{id:"character-name",label:"Character Name",placeholder:"Aliza Cartwight",value:v.name,onChange:x=>g({...v,name:x}),isValid:!t.find(x=>x.name===v.name),errorMessage:"Names must be unique"}),d.jsx(ft,{id:"character-system",label:"Tabletop System",value:o.item_id,onChange:x=>{const k=r.find(E=>E.item_id===x);if(!k)return;const S=k.versions[0];S&&(s(k),l(S),g({...v,data:structuredClone(S.data.defaultCharacterData),system:{local_id:k.item_id,version_id:S.local_id}}))},children:r.map(x=>d.jsx("option",{value:x.item_id,children:x.item.name},x.item_id))}),d.jsx(ft,{id:"character-system-version",label:"System Version",value:(y=a==null?void 0:a.local_id)!=null?y:"",onChange:x=>{const k=o.versions.find(S=>S.local_id===x);k&&(l(k),g({...v,data:structuredClone(k.data.defaultCharacterData),system:{local_id:o.item_id,version_id:k.local_id}}))},children:o.versions.map(x=>d.jsx("option",{value:x.local_id,children:ms(x.local_id)},x.local_id))}),d.jsx("p",{children:"Datapacks"}),d.jsx(rfe,{options:f,value:c,onChange:x=>u(x)})]})}),d.jsxs(yr,{children:[d.jsx("nav",{className:"flex flex-grow mr-4","aria-label":"Breadcrumb",children:d.jsxs("ol",{className:"inline-flex items-center space-x-1 md:space-x-2 rtl:space-x-reverse",children:[d.jsx("li",{className:"inline-flex items-center cursor-pointer",onClick:()=>p(0),children:d.jsxs("p",{className:"inline-flex items-center text-sm font-medium text-fantasy-text-muted hover:text-fantasy-text",children:[d.jsx("svg",{className:"w-3 h-3 me-2.5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20",children:d.jsx("path",{d:"m19.707 9.293-2-2-7-7a1 1 0 0 0-1.414 0l-7 7-2 2a1 1 0 0 0 1.414 1.414L2 10.414V18a2 2 0 0 0 2 2h3a1 1 0 0 0 1-1v-4a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v4a1 1 0 0 0 1 1h3a2 2 0 0 0 2-2v-7.586l.293.293a1 1 0 0 0 1.414-1.414Z"})}),"Basics"]})}),a==null?void 0:a.data.creator.map((x,k)=>h<k+1?d.jsx(d.Fragment,{}):d.jsx("li",{className:"cursor-pointer",onClick:()=>p(k+1),children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("svg",{className:"rtl:rotate-180 w-3 h-3 text-fantasy-text-muted mx-1","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 6 10",children:d.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"m1 9 4-4-4-4"})}),d.jsx("p",{className:"ms-1 text-sm font-medium text-fantasy-text-muted hover:bg-fantasy-text",children:x.name})]})},k))]})}),d.jsx(kt,{id:"create-character-button",color:"primary",disabled:v.name.length===0,onClick:async()=>{await jle(v.name,v.data,v.system,c.map(x=>({pack_id:x.reference_id,version_id:x.local_id}))),s(r[0]),b(),i.capture("character_created",{character_name:v.name})},children:"Create"})]})]}):d.jsxs(Vn,{isOpen:!0,onClose:b,children:[d.jsx(Kn,{title:"Error grabbing system",onClose:b}),d.jsx(qn,{children:d.jsx("h3",{children:"There was an error grabbing a default system, please subscribe to a system from the marketplace or import something!"})}),d.jsx(yr,{children:d.jsx(kt,{color:"primary",onClick:b,children:"Close"})})]})}const Lp=(e,t,n)=>{const r=new Blob([JSON.stringify({type:e,...t},null,2)],{type:"application/json"}),i=URL.createObjectURL(r),o=document.createElement("a");o.href=i,o.download="".concat(n,".json"),o.click(),URL.revokeObjectURL(i),o.remove()},afe=e=>e>=200,mm=({label:e,options:t,containerClassName:n=""})=>{const[r,i]=N.useState(!1),{refs:o,floatingStyles:s,context:a}=WE({open:r,onOpenChange:i,middleware:[BE(4),HE(),zE()]}),l=K6(a),c=Y6(a),u=X6(a,{role:"menu"}),{getReferenceProps:f,getFloatingProps:h}=G6([l,c,u]),p=v=>{v.onClick(),i(!1)};return d.jsxs("div",{className:"inline-flex relative",children:[d.jsx("button",{ref:o.setReference,...f(),className:"bg-white/10 text-fantasy-text border border-white/20 px-4 py-2 rounded-lg text-xs font-medium transition-all duration-300 hover:bg-white/20 ".concat(n),children:e}),r&&d.jsx("div",{ref:o.setFloating,style:s,...h(),className:"absolute z-50 mt-1 flex flex-col w-48 rounded-lg shadow-lg bg-fantasy-medium border border-fantasy-border",children:t.map((v,g)=>d.jsx("div",{onClick:()=>p(v),className:"text-fantasy-text hover:bg-fantasy-dark rounded-lg px-4 py-2 text-sm font-medium cursor-pointer",children:v.label},g))})]})},Q6=async e=>{nN(e);const t=await Yn.post("/characters/change-synced",{characterIds:e});return nN(e),t.data},Ul=({id:e,title:t,type:n,message:r,onConfirm:i})=>{const o=N.useCallback(()=>cr(e),[e]);return d.jsxs(Vn,{isOpen:!0,onClose:o,children:[d.jsx(Kn,{title:t,onClose:o}),d.jsx(qn,{className:"text-center",children:d.jsxs("div",{className:"p-4",children:[d.jsx("p",{className:"text-lg font-medium mb-2",children:r}),d.jsx("p",{className:"text-sm font-semibold text-red-500",children:"This action cannot be undone."})]})}),d.jsx(yr,{children:d.jsx(kt,{color:n,onClick:()=>{i(),o()},children:"Confirm"})})]})},lfe=({id:e,label:t,onChange:n})=>{const[r,i]=N.useState(""),o=s=>{var l;const a=(l=s.target.files)==null?void 0:l[0];if(a){const c=new FileReader;c.onload=u=>{var h;const f=(h=u.target)==null?void 0:h.result;i(a.name),n(f)},c.readAsText(a)}};return d.jsxs("div",{children:[d.jsx("label",{htmlFor:e,className:"block mb-2 text-sm font-medium text-neutral-900 dark:text-white",children:"".concat(t," - ").concat(r!=null?r:"none")}),d.jsx("input",{type:"file",id:"file-upload",name:"file-name",onChange:o})]})},Z6=({id:e,title:t,onSave:n})=>{const[r,i]=N.useState(""),o=N.useCallback(()=>cr(e),[e]);return d.jsxs(Vn,{isOpen:!0,onClose:o,children:[d.jsx(Kn,{title:t,onClose:o}),d.jsx(qn,{children:d.jsx(lfe,{id:"upload",label:"Upload file",onChange:i})}),d.jsxs(yr,{children:[d.jsx(kt,{color:"danger",onClick:o,children:"Cancel"}),d.jsx(kt,{color:"primary",disabled:!1,onClick:()=>{n(r),o()},children:"Update"})]})]})};function cfe({id:e,type:t,ImportModal:n,CreateModal:r}){const i=N.useCallback(()=>cr(e),[e]);return d.jsxs(Vn,{isOpen:!0,onClose:i,children:[d.jsx(Kn,{title:"Import Or Create?",onClose:i}),d.jsx(qn,{children:d.jsxs("p",{children:["Would you like to import or create a ",t,"?"]})}),d.jsxs(yr,{children:[d.jsx(kt,{color:"light",onClick:()=>{Rt("import-".concat(t),({id:o})=>d.jsx(n,{id:o})),i()},children:"Import"}),d.jsx(kt,{color:"light",onClick:()=>{Rt("create-".concat(t),({id:o})=>d.jsx(r,{id:o})),i()},children:"Create"})]})]})}const z4={synced:"bg-green-400 shadow-green-400/60",notsynced:"bg-red-400 shadow-red-400/60"},ufe=()=>{const{characters:e,isLoading:t}=wD(),{isLoggedIn:n,user:r,synced_characters:i}=Er.useValue(),o=su();if(t)return d.jsx(d.Fragment,{});const s=a=>{var u;const l=[{label:"export",onClick:()=>Lp("character",a,"".concat(a.name,"-export"))},{label:"rename",onClick:()=>Rt("edit-string",({id:f})=>d.jsx(Js,{id:f,title:"Rename Character",data:a.name,onSave:h=>Nle(a.local_id,h)}))},{label:"delete",onClick:()=>Rt("confirm",({id:f})=>d.jsx(Ul,{id:f,title:"Delete Character",type:"danger",message:"Are you sure you want to delete this character?",onConfirm:()=>Tle(a.local_id)}))}];if(afe((u=r==null?void 0:r.role)!=null?u:0)||!n)return l;const c=i.includes(a.local_id);return l.unshift({label:c?"UnSync":"Sync",onClick:()=>{let f=[];i.includes(a.local_id)?f=i.filter(h=>h!==a.local_id):length<3&&(f=[...i,a.local_id]),Q6(f)}}),l};return d.jsxs("div",{children:[d.jsx(Xs,{title:"Your Adventuring Party",subtitle:"Manage your heroes and their epic journeys"}),d.jsx("div",{className:"p-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"fantasy-add-gradient border-2 border-dashed border-fantasy-accent/30 rounded-2xl p-10 text-center cursor-pointer transition-all duration-300 min-h-[200px] flex flex-col justify-center items-center hover:border-fantasy-accent/60 hover:fantasy-add-gradient hover:-translate-y-1",onClick:()=>Rt("import-or-create",({id:a})=>d.jsx(cfe,{id:a,type:"character",ImportModal:({id:l})=>d.jsx(Z6,{id:l,title:"Import Character",onSave:async c=>{try{const u=JSON.parse(c);u&&await Rle(u),Un("Unable to parse character.","error")}catch(u){Un("Error parsing / importing character.","error"),console.error(u)}}}),CreateModal:({id:l})=>d.jsx(sfe,{id:l})})),children:[d.jsx("div",{className:"text-5xl text-fantasy-accent/60 mb-4",children:"⚔️"}),d.jsx("div",{className:"text-fantasy-accent/80 text-base font-medium",children:"Create New Hero"})]}),e&&e.map((a,l)=>d.jsxs("div",{style:{zIndex:"".concat(e.length-l)},className:"fantasy-card-gradient card-top-border border border-fantasy-border rounded-2xl p-6 cursor-pointer transition-all duration-500 backdrop-blur-lg shadow-2xl hover:-translate-y-2 hover:shadow-fantasy-accent/20 hover:shadow-xl hover:border-fantasy-accent/40 relative",children:[d.jsx("div",{className:"absolute top-4 right-4 w-2 h-2 rounded-full shadow-lg ".concat(i.includes(a.local_id)?z4.synced:z4.notsynced)}),d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("div",{className:"w-12 h-12 fantasy-accent-gradient rounded-xl flex items-center justify-center text-xl font-bold text-fantasy-dark mr-4 shadow-lg shadow-fantasy-accent/30",children:a.name[0]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-fantasy-text mb-1",children:a.name}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-fantasy-accent/70",children:[d.jsx("span",{children:"🏹 Ranger"}),d.jsx("span",{className:"bg-fantasy-accent/20 px-1.5 py-0.5 rounded text-[10px]",children:ms(a.system.local_id)})]})]})]}),d.jsxs("div",{className:"flex gap-4 my-4",children:[d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("div",{className:"text-lg font-bold text-fantasy-accent",children:"12"}),d.jsx("div",{className:"text-[10px] text-white/60 uppercase tracking-wider",children:"Level"})]}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("div",{className:"text-lg font-bold text-fantasy-accent",children:"347"}),d.jsx("div",{className:"text-[10px] text-white/60 uppercase tracking-wider",children:"XP"})]}),d.jsxs("div",{className:"text-center flex-1",children:[d.jsx("div",{className:"text-lg font-bold text-fantasy-accent",children:"5"}),d.jsx("div",{className:"text-[10px] text-white/60 uppercase tracking-wider",children:"Quests"})]})]}),d.jsxs("div",{className:"flex gap-2 mt-4",children:[d.jsx("button",{className:"flex-1 fantasy-accent-gradient text-fantasy-dark px-4 py-2 rounded-lg text-xs font-medium transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-fantasy-accent/40",onClick:()=>o(a.local_id),children:"Continue Adventure"}),d.jsx(mm,{label:"⚙️",options:s(a)})]})]},a.local_id))]})})]})};function dfe(e){return na(()=>it.characters.get(e||""),[e])}var ffe=Object.getOwnPropertyNames,hfe=Object.getOwnPropertySymbols,pfe=Object.prototype.hasOwnProperty;function H4(e,t){return function(r,i,o){return e(r,i,o)&&t(r,i,o)}}function Ng(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var o=i.cache,s=o.get(n),a=o.get(r);if(s&&a)return s===r&&a===n;o.set(n,r),o.set(r,n);var l=e(n,r,i);return o.delete(n),o.delete(r),l}}function W4(e){return ffe(e).concat(hfe(e))}var mfe=Object.hasOwn||function(e,t){return pfe.call(e,t)};function fu(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var gfe="__v",vfe="__o",yfe="_owner",U4=Object.getOwnPropertyDescriptor,V4=Object.keys;function xfe(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function wfe(e,t){return fu(e.getTime(),t.getTime())}function bfe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function _fe(e,t){return e===t}function q4(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),o=e.entries(),s,a,l=0;(s=o.next())&&!s.done;){for(var c=t.entries(),u=!1,f=0;(a=c.next())&&!a.done;){if(i[f]){f++;continue}var h=s.value,p=a.value;if(n.equals(h[0],p[0],l,f,e,t,n)&&n.equals(h[1],p[1],h[0],p[0],e,t,n)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}var kfe=fu;function Sfe(e,t,n){var r=V4(e),i=r.length;if(V4(t).length!==i)return!1;for(;i-- >0;)if(!e8(e,t,n,r[i]))return!1;return!0}function qf(e,t,n){var r=W4(e),i=r.length;if(W4(t).length!==i)return!1;for(var o,s,a;i-- >0;)if(o=r[i],!e8(e,t,n,o)||(s=U4(e,o),a=U4(t,o),(s||a)&&(!s||!a||s.configurable!==a.configurable||s.enumerable!==a.enumerable||s.writable!==a.writable)))return!1;return!0}function Efe(e,t){return fu(e.valueOf(),t.valueOf())}function Cfe(e,t){return e.source===t.source&&e.flags===t.flags}function K4(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),o=e.values(),s,a;(s=o.next())&&!s.done;){for(var l=t.values(),c=!1,u=0;(a=l.next())&&!a.done;){if(!i[u]&&n.equals(s.value,a.value,s.value,a.value,e,t,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function jfe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function Nfe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function e8(e,t,n,r){return(r===yfe||r===vfe||r===gfe)&&(e.$$typeof||t.$$typeof)?!0:mfe(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var Afe="[object Arguments]",Tfe="[object Boolean]",Rfe="[object Date]",Ife="[object Error]",Pfe="[object Map]",Ofe="[object Number]",Mfe="[object Object]",$fe="[object RegExp]",Dfe="[object Set]",Ffe="[object String]",Lfe="[object URL]",Bfe=Array.isArray,Y4=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,G4=Object.assign,zfe=Object.prototype.toString.call.bind(Object.prototype.toString);function Hfe(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,o=e.areMapsEqual,s=e.areNumbersEqual,a=e.areObjectsEqual,l=e.arePrimitiveWrappersEqual,c=e.areRegExpsEqual,u=e.areSetsEqual,f=e.areTypedArraysEqual,h=e.areUrlsEqual;return function(v,g,b){if(v===g)return!0;if(v==null||g==null)return!1;var m=typeof v;if(m!==typeof g)return!1;if(m!=="object")return m==="number"?s(v,g,b):m==="function"?i(v,g,b):!1;var y=v.constructor;if(y!==g.constructor)return!1;if(y===Object)return a(v,g,b);if(Bfe(v))return t(v,g,b);if(Y4!=null&&Y4(v))return f(v,g,b);if(y===Date)return n(v,g,b);if(y===RegExp)return c(v,g,b);if(y===Map)return o(v,g,b);if(y===Set)return u(v,g,b);var x=zfe(v);return x===Rfe?n(v,g,b):x===$fe?c(v,g,b):x===Pfe?o(v,g,b):x===Dfe?u(v,g,b):x===Mfe?typeof v.then!="function"&&typeof g.then!="function"&&a(v,g,b):x===Lfe?h(v,g,b):x===Ife?r(v,g,b):x===Afe?a(v,g,b):x===Tfe||x===Ofe||x===Ffe?l(v,g,b):!1}}function Wfe(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?qf:xfe,areDatesEqual:wfe,areErrorsEqual:bfe,areFunctionsEqual:_fe,areMapsEqual:r?H4(q4,qf):q4,areNumbersEqual:kfe,areObjectsEqual:r?qf:Sfe,arePrimitiveWrappersEqual:Efe,areRegExpsEqual:Cfe,areSetsEqual:r?H4(K4,qf):K4,areTypedArraysEqual:r?qf:jfe,areUrlsEqual:Nfe};if(n&&(i=G4({},i,n(i))),t){var o=Ng(i.areArraysEqual),s=Ng(i.areMapsEqual),a=Ng(i.areObjectsEqual),l=Ng(i.areSetsEqual);i=G4({},i,{areArraysEqual:o,areMapsEqual:s,areObjectsEqual:a,areSetsEqual:l})}return i}function Ufe(e){return function(t,n,r,i,o,s,a){return e(t,n,a)}}function Vfe(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,o=e.strict;if(r)return function(l,c){var u=r(),f=u.cache,h=f===void 0?t?new WeakMap:void 0:f,p=u.meta;return n(l,c,{cache:h,equals:i,meta:p,strict:o})};if(t)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:o})};var s={cache:void 0,equals:i,meta:void 0,strict:o};return function(l,c){return n(l,c,s)}}var Ag=Jl();Jl({strict:!0});Jl({circular:!0});Jl({circular:!0,strict:!0});Jl({createInternalComparator:function(){return fu}});Jl({strict:!0,createInternalComparator:function(){return fu}});Jl({circular:!0,createInternalComparator:function(){return fu}});Jl({circular:!0,createInternalComparator:function(){return fu},strict:!0});function Jl(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,o=e.strict,s=o===void 0?!1:o,a=Wfe(e),l=Hfe(a),c=r?r(l):Ufe(l);return Vfe({circular:n,comparator:l,createState:i,equals:c,strict:s})}const qfe=({actions:e,system:t,character:n,updateState:r})=>d.jsx("aside",{className:"bg-fantasy-glass backdrop-blur-lg border-l border-fantasy-border shadow-2xl fixed top-0 right-0 z-40 w-64 h-screen transition-transform translate-x-full lg:-translate-x-0","aria-label":"Character Sidebar",children:d.jsxs("div",{className:"h-full flex flex-col px-3 py-4 overflow-y-auto",children:[d.jsx("div",{className:"py-4 mb-4 border-b border-neutral-200 dark:border-neutral-700",children:d.jsx("span",{className:"self-center text-xl font-semibold whitespace-nowrap dark:text-white",children:"Quick Actions"})}),d.jsx("div",{className:"flex flex-col gap-2",children:e==null?void 0:e.map(i=>d.jsxs("div",{className:"fantasy-card-gradient border border-fantasy-border rounded px-4 py-2 cursor-pointer transition-all duration-500 backdrop-blur-lg shadow-2xl hover:shadow-fantasy-accent/20 hover:shadow-xl hover:border-fantasy-accent/40 relative",onClick:()=>{const o=new cs(i.blueprint),s={name:"null page",blueprint:{nodes:[],edges:[]},lexical:"",state:[]};o.processBlueprint({},{system:t,character:n,page:s},r)},children:[d.jsx("p",{className:"text-neutral-100",children:i.name}),d.jsx("p",{className:"text-sm text-neutral-300",children:i.description})]},i.name))})]})}),Kfe=()=>{const{id:e}=vS(),t=dfe(e),[n,r]=N.useState(null),i=N.useCallback(o=>{if(!t||!n)return;const s=o.system.pages.findIndex(a=>a.name===o.page.name);Ag(t,o.character)&&Ag(n,o.system)&&Ag(o.system.pages[s],o.page)||(Ale(t.local_id,o.character.data),r({...o.system,pages:o.system.pages.map(a=>a.name===o.page.name?o.page:a)}))},[t,n]);return N.useEffect(()=>{(async()=>{if(!t)return;const s=await Cc(t.system.version_id);if(!s)return Un("Error grabbing system, version: ".concat(t.system.version_id),"error");if(Ag(n,s.data))return;let a=[];for(let c=0;c<t.datapacks.length;c++){const u=t.datapacks[c],f=await Cc(u.version_id);if(!f)return Un("Error grabbing datapack, version: ".concat(u.version_id),"error");a=[...a,...f.data.packData]}const l=s.data.data.map(c=>{const u=a.flat().filter(f=>f.name===c.name).flatMap(f=>f.data);return{...c,data:[...c.data,...u]}});r({...s.data,data:l})})()},[t]),t?n?d.jsxs("div",{className:"flex flex-col h-full w-full",children:[d.jsx("p",{id:"loading-text",className:"hidden",children:"loading..."}),d.jsx(Xs,{title:t.name,subtitle:"Chaotic / Neutral",hasSidebar:!0}),d.jsxs("div",{className:"lg:mr-64 flex flex-col flex-grow overflow-hidden xl:grid grid-cols-2",children:[d.jsx("div",{className:"relative xl:p-4 w-full h-full flex flex-col flex-grow overflow-hidden",children:d.jsx("div",{className:"overflow-y-scroll max-h-full",children:d.jsx(X4,{className:"first-tab-selector",system:n,character:t,updateState:i})})}),d.jsx("div",{className:"relative xl:p-4 hidden flex-col xl:flex flex-grow overflow-hidden",children:d.jsx("div",{className:"overflow-y-scroll max-h-full",children:d.jsx(X4,{className:"second-tab-selector",system:n,character:t,updateState:i})})})]}),d.jsx(qfe,{actions:n.actions,system:n,character:t,updateState:i})]}):d.jsx("p",{id:"loading-text",className:"text-center text-2xl",children:"loading system data..."}):d.jsx("p",{id:"loading-text",className:"text-center text-2xl",children:"loading character data..."})},X4=({system:e,character:t,updateState:n,className:r})=>{const[i,o]=N.useState(e.pages[0].name);return d.jsxs(d.Fragment,{children:[d.jsx(ft,{className:r,id:"tab-selector",label:"",value:i,onChange:o,children:e.pages.map(s=>d.jsx("option",{value:s.name,children:s.name},s.name))}),e.pages.map(s=>d.jsx(Yfe,{character:t,system:e,page:s,currentTab:i,updateState:n},s.name))]})};function Yfe({page:e,character:t,system:n,currentTab:r,updateState:i}){const o=N.useMemo(()=>e.lexical?JSON.parse(Fo.decompress(Fo.decodeBase64(e.lexical))):{},[e.lexical]);return r!==e.name?d.jsx(d.Fragment,{}):d.jsx(yD,{data:o,state:{character:t,system:n,page:e},updateState:i})}const gm=Xe.object({id:Xe.string({invalid_type_error:"id must be a string"}).optional(),local_id:Xe.string({invalid_type_error:"local_id must be a string"}).max(73,"local_id must be 73 characters or less"),user_id:Xe.string(),data:Xe.any(),reference_id:Xe.string({invalid_type_error:"reference_id must be a string"}),reference_type:Xe.enum(["system","datapack"]),version:Xe.string().optional(),created_at:Xe.string().datetime({offset:!0}),updated_at:Xe.string().datetime({offset:!0}),deleted_at:Xe.string().datetime({offset:!0}).nullable().optional()}),Gfe=async(e,t=!1)=>{try{return t?await it.datapacks.delete(e):await it.datapacks.update(e,{updated_at:new Date().toISOString()})}catch(n){console.log("Error deleting datapack:",n)}},Xfe=async e=>{try{let t=await _n();for(;!await Ni(t);)t=await _n();const{user:n}=Er.get(),r=n?n.id:"none",i={...e,local_id:t,user_id:r,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),deleted_at:null},o=nx.safeParse(i);if(!o.success){console.log("Invalid character data:",o.error.format());return}return await it.systems.add(i),i}catch(t){console.log("Error creating system:",t)}},Jfe=async(e,t=!1)=>{try{return t?await it.systems.delete(e):await it.systems.update(e,{updated_at:new Date().toISOString()})}catch(n){console.log("Error deleting system:",n)}},Ph=async(e,t,n=!1)=>{switch(e){case"system":return await Jfe(t,n);case"datapack":return await Gfe(t,n)}},hu=async(e,t)=>{try{return await it.typeHashes.put({local_id:e,hashes:t})}catch(n){console.log("Error creating system:",n)}},Qfe=async(e,t)=>{try{let n=await _n();for(;!await Ni(n);)n=await _n();const{user:r}=Er.get(),i=r?r.id:"none",o={...e,local_id:n,user_id:i,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),deleted_at:null},s=nx.safeParse(o);if(!s.success){console.log("Invalid system data:",s.error.format());return}await it.systems.add(o);let a=await _n();for(;!await Ni(a);)a=await _n();const l={...t,local_id:a,reference_id:n,user_id:i,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),deleted_at:null},c=gm.safeParse(l);if(!c.success){Ph("system",n,!0),console.log("Invalid Version data:",c.error.format());return}await it.versions.add(l),hu(l.local_id,l.data.types);let u=await _n();for(;!await Ni(u);)u=await _n();await it.subscriptions.add({local_id:u,user_id:i,resource_type:"system",resource_id:n,version_id:a,auto_update:!1,subscribed_at:new Date().toISOString(),updated_at:new Date().toISOString(),deleted_at:null})}catch(n){console.log("Error importing system or version or creating subscription:",n)}},Zfe=Xe.object({id:Xe.string({invalid_type_error:"id must be a string"}).optional(),local_id:Xe.string({invalid_type_error:"local_id must be a string"}).max(73,"local_id must be 73 characters or less"),user_id:Xe.string({invalid_type_error:"user_id must be a string"}),resource_type:Xe.enum(["system","theme","datapack"]),resource_id:Xe.string({invalid_type_error:"resource_id must be a string"}),version_id:Xe.string(),auto_update:Xe.boolean().optional().default(!0),version:Xe.string().optional(),subscribed_at:Xe.string().datetime({offset:!0}),updated_at:Xe.string().datetime({offset:!0}),deleted_at:Xe.string().datetime({offset:!0}).nullable().optional()}),UE=async(e,t,n,r)=>{try{const{user:i}=Er.get(),o=(i==null?void 0:i.id)||"none";let s=await _n();for(;!await Ni(s);)s=await _n();const a={local_id:s,user_id:o,resource_type:e,resource_id:t,version_id:n,auto_update:r,subscribed_at:new Date().toISOString(),updated_at:new Date().toISOString(),deleted_at:null},l=Zfe.safeParse(a);if(!l.success){console.log("Invalid subscription data:",l.error.format());return}return await it.subscriptions.add(a),a}catch(i){console.log("Error creating subscription:",i)}},ehe=async(e,t,n)=>{try{let r=await _n();for(;!await Ni(r);)r=await _n();const{user:i}=Er.get(),o=(i==null?void 0:i.id)||"none",s={local_id:r,user_id:o,data:n,reference_id:t,reference_type:e,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),deleted_at:null},a=gm.safeParse(s);if(!a.success){console.log("Invalid subscription data:",a.error.format());return}return await it.versions.add(s),s}catch(r){console.log("Error creating subscription:",r)}},qy=async(e,t=!1)=>{try{return t?await it.versions.delete(e):await it.versions.delete(e)}catch(n){console.log("Error deleting version:",n)}},the=async e=>{try{let t=await _n();for(;!await Ni(t);)t=await _n();const{user:n}=Er.get(),r=n?n.id:"none",i={...e,local_id:t,user_id:r,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString()},o=NS.safeParse(i);if(!o.success){console.log("Invalid datapack data:",o.error.format());return}return await it.datapacks.add(i),i}catch(t){console.log("Error creating datapack:",t)}},nhe=async(e,t)=>{switch(e){case"system":return await Xfe(t);case"datapack":return await the(t)}},t8=({label:e,options:t,onClick:n,containerClassName:r=""})=>{const[i,o]=N.useState(!1),{refs:s,floatingStyles:a,context:l}=WE({open:i,onOpenChange:o,middleware:[BE(4),HE(),zE()]}),c=K6(l),u=Y6(l),f=X6(l,{role:"menu"}),{getReferenceProps:h,getFloatingProps:p}=G6([c,u,f]),v=()=>{n()},g=b=>{b.onClick(),o(!1)};return d.jsxs("div",{className:"inline-flex relative",children:[d.jsx("button",{onClick:v,className:"px-4 py-2 bg-white/10 text-fantasy-text border border-white/60 rounded-l-lg text-xs font-medium transition-all duration-300 hover:bg-white/20 ".concat(r),children:e}),d.jsx("button",{ref:s.setReference,...h(),className:"px-2 py-2 bg-white/10 text-fantasy-text rounded-r-lg border border-white/20 text-xs font-medium transition-all duration-300 hover:bg-white/20",children:d.jsx(SS,{size:16})}),i&&d.jsx("div",{ref:s.setFloating,style:a,...p(),className:"absolute z-50 mt-1 flex flex-col w-48 bg-white dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none",children:t.map((b,m)=>d.jsx("div",{onClick:()=>g(b),className:"bg-neutral-50 text-neutral-950 dark:bg-neutral-800 dark:text-neutral-50 hover:bg-neutral-200 dark:hover:bg-neutral-700 rounded-lg px-4 py-2 text-sm font-medium cursor-pointer",children:b.label},m))})]})},J4=async e=>{try{return await it.subscriptions.update(e,{deleted_at:new Date().toISOString(),updated_at:new Date().toISOString()})}catch(t){console.log("Error deleting subscription:",t)}};var n8={exports:{}};const rhe={},ihe=Object.freeze(Object.defineProperty({__proto__:null,default:rhe},Symbol.toStringTag,{value:"Module"})),Q4=GF(ihe);/**
 * [js-sha256]{@link https://github.com/emn178/js-sha256}
 *
 * @version 0.11.1
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2025
 * @license MIT
 */(function(e){(function(){var t="input is invalid type",n=typeof window=="object",r=n?window:{};r.JS_SHA256_NO_WINDOW&&(n=!1);var i=!n&&typeof self=="object",o=!r.JS_SHA256_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node&&process.type!="renderer";o?r=ao:i&&(r=self);var s=!r.JS_SHA256_NO_COMMON_JS&&!0&&e.exports,a=!r.JS_SHA256_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),c=[-2147483648,8388608,32768,128],u=[24,16,8,0],f=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],h=["hex","array","digest","arrayBuffer"],p=[];(r.JS_SHA256_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(E){return Object.prototype.toString.call(E)==="[object Array]"}),a&&(r.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(E){return typeof E=="object"&&E.buffer&&E.buffer.constructor===ArrayBuffer});var v=function(E,T){return function(M){return new x(T,!0).update(M)[E]()}},g=function(E){var T=v("hex",E);o&&(T=b(T,E)),T.create=function(){return new x(E)},T.update=function(F){return T.create().update(F)};for(var M=0;M<h.length;++M){var W=h[M];T[W]=v(W,E)}return T},b=function(E,T){var M=Q4,W=Q4.Buffer,F=T?"sha224":"sha256",L;W.from&&!r.JS_SHA256_NO_BUFFER_FROM?L=W.from:L=function(z){return new W(z)};var G=function(z){if(typeof z=="string")return M.createHash(F).update(z,"utf8").digest("hex");if(z==null)throw new Error(t);return z.constructor===ArrayBuffer&&(z=new Uint8Array(z)),Array.isArray(z)||ArrayBuffer.isView(z)||z.constructor===W?M.createHash(F).update(L(z)).digest("hex"):E(z)};return G},m=function(E,T){return function(M,W){return new k(M,T,!0).update(W)[E]()}},y=function(E){var T=m("hex",E);T.create=function(F){return new k(F,E)},T.update=function(F,L){return T.create(F).update(L)};for(var M=0;M<h.length;++M){var W=h[M];T[W]=m(W,E)}return T};function x(E,T){T?(p[0]=p[16]=p[1]=p[2]=p[3]=p[4]=p[5]=p[6]=p[7]=p[8]=p[9]=p[10]=p[11]=p[12]=p[13]=p[14]=p[15]=0,this.blocks=p):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],E?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=E}x.prototype.update=function(E){if(!this.finalized){var T,M=typeof E;if(M!=="string"){if(M==="object"){if(E===null)throw new Error(t);if(a&&E.constructor===ArrayBuffer)E=new Uint8Array(E);else if(!Array.isArray(E)&&(!a||!ArrayBuffer.isView(E)))throw new Error(t)}else throw new Error(t);T=!0}for(var W,F=0,L,G=E.length,z=this.blocks;F<G;){if(this.hashed&&(this.hashed=!1,z[0]=this.block,this.block=z[16]=z[1]=z[2]=z[3]=z[4]=z[5]=z[6]=z[7]=z[8]=z[9]=z[10]=z[11]=z[12]=z[13]=z[14]=z[15]=0),T)for(L=this.start;F<G&&L<64;++F)z[L>>>2]|=E[F]<<u[L++&3];else for(L=this.start;F<G&&L<64;++F)W=E.charCodeAt(F),W<128?z[L>>>2]|=W<<u[L++&3]:W<2048?(z[L>>>2]|=(192|W>>>6)<<u[L++&3],z[L>>>2]|=(128|W&63)<<u[L++&3]):W<55296||W>=57344?(z[L>>>2]|=(224|W>>>12)<<u[L++&3],z[L>>>2]|=(128|W>>>6&63)<<u[L++&3],z[L>>>2]|=(128|W&63)<<u[L++&3]):(W=65536+((W&1023)<<10|E.charCodeAt(++F)&1023),z[L>>>2]|=(240|W>>>18)<<u[L++&3],z[L>>>2]|=(128|W>>>12&63)<<u[L++&3],z[L>>>2]|=(128|W>>>6&63)<<u[L++&3],z[L>>>2]|=(128|W&63)<<u[L++&3]);this.lastByteIndex=L,this.bytes+=L-this.start,L>=64?(this.block=z[16],this.start=L-64,this.hash(),this.hashed=!0):this.start=L}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},x.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var E=this.blocks,T=this.lastByteIndex;E[16]=this.block,E[T>>>2]|=c[T&3],this.block=E[16],T>=56&&(this.hashed||this.hash(),E[0]=this.block,E[16]=E[1]=E[2]=E[3]=E[4]=E[5]=E[6]=E[7]=E[8]=E[9]=E[10]=E[11]=E[12]=E[13]=E[14]=E[15]=0),E[14]=this.hBytes<<3|this.bytes>>>29,E[15]=this.bytes<<3,this.hash()}},x.prototype.hash=function(){var E=this.h0,T=this.h1,M=this.h2,W=this.h3,F=this.h4,L=this.h5,G=this.h6,z=this.h7,H=this.blocks,J,I,U,O,D,$,Y,ie,ae,xe,ke;for(J=16;J<64;++J)D=H[J-15],I=(D>>>7|D<<25)^(D>>>18|D<<14)^D>>>3,D=H[J-2],U=(D>>>17|D<<15)^(D>>>19|D<<13)^D>>>10,H[J]=H[J-16]+I+H[J-7]+U<<0;for(ke=T&M,J=0;J<64;J+=4)this.first?(this.is224?(ie=300032,D=H[0]-1413257819,z=D-150054599<<0,W=D+24177077<<0):(ie=704751109,D=H[0]-210244248,z=D-1521486534<<0,W=D+143694565<<0),this.first=!1):(I=(E>>>2|E<<30)^(E>>>13|E<<19)^(E>>>22|E<<10),U=(F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7),ie=E&T,O=ie^E&M^ke,Y=F&L^~F&G,D=z+U+Y+f[J]+H[J],$=I+O,z=W+D<<0,W=D+$<<0),I=(W>>>2|W<<30)^(W>>>13|W<<19)^(W>>>22|W<<10),U=(z>>>6|z<<26)^(z>>>11|z<<21)^(z>>>25|z<<7),ae=W&E,O=ae^W&T^ie,Y=z&F^~z&L,D=G+U+Y+f[J+1]+H[J+1],$=I+O,G=M+D<<0,M=D+$<<0,I=(M>>>2|M<<30)^(M>>>13|M<<19)^(M>>>22|M<<10),U=(G>>>6|G<<26)^(G>>>11|G<<21)^(G>>>25|G<<7),xe=M&W,O=xe^M&E^ae,Y=G&z^~G&F,D=L+U+Y+f[J+2]+H[J+2],$=I+O,L=T+D<<0,T=D+$<<0,I=(T>>>2|T<<30)^(T>>>13|T<<19)^(T>>>22|T<<10),U=(L>>>6|L<<26)^(L>>>11|L<<21)^(L>>>25|L<<7),ke=T&M,O=ke^T&W^xe,Y=L&G^~L&z,D=F+U+Y+f[J+3]+H[J+3],$=I+O,F=E+D<<0,E=D+$<<0,this.chromeBugWorkAround=!0;this.h0=this.h0+E<<0,this.h1=this.h1+T<<0,this.h2=this.h2+M<<0,this.h3=this.h3+W<<0,this.h4=this.h4+F<<0,this.h5=this.h5+L<<0,this.h6=this.h6+G<<0,this.h7=this.h7+z<<0},x.prototype.hex=function(){this.finalize();var E=this.h0,T=this.h1,M=this.h2,W=this.h3,F=this.h4,L=this.h5,G=this.h6,z=this.h7,H=l[E>>>28&15]+l[E>>>24&15]+l[E>>>20&15]+l[E>>>16&15]+l[E>>>12&15]+l[E>>>8&15]+l[E>>>4&15]+l[E&15]+l[T>>>28&15]+l[T>>>24&15]+l[T>>>20&15]+l[T>>>16&15]+l[T>>>12&15]+l[T>>>8&15]+l[T>>>4&15]+l[T&15]+l[M>>>28&15]+l[M>>>24&15]+l[M>>>20&15]+l[M>>>16&15]+l[M>>>12&15]+l[M>>>8&15]+l[M>>>4&15]+l[M&15]+l[W>>>28&15]+l[W>>>24&15]+l[W>>>20&15]+l[W>>>16&15]+l[W>>>12&15]+l[W>>>8&15]+l[W>>>4&15]+l[W&15]+l[F>>>28&15]+l[F>>>24&15]+l[F>>>20&15]+l[F>>>16&15]+l[F>>>12&15]+l[F>>>8&15]+l[F>>>4&15]+l[F&15]+l[L>>>28&15]+l[L>>>24&15]+l[L>>>20&15]+l[L>>>16&15]+l[L>>>12&15]+l[L>>>8&15]+l[L>>>4&15]+l[L&15]+l[G>>>28&15]+l[G>>>24&15]+l[G>>>20&15]+l[G>>>16&15]+l[G>>>12&15]+l[G>>>8&15]+l[G>>>4&15]+l[G&15];return this.is224||(H+=l[z>>>28&15]+l[z>>>24&15]+l[z>>>20&15]+l[z>>>16&15]+l[z>>>12&15]+l[z>>>8&15]+l[z>>>4&15]+l[z&15]),H},x.prototype.toString=x.prototype.hex,x.prototype.digest=function(){this.finalize();var E=this.h0,T=this.h1,M=this.h2,W=this.h3,F=this.h4,L=this.h5,G=this.h6,z=this.h7,H=[E>>>24&255,E>>>16&255,E>>>8&255,E&255,T>>>24&255,T>>>16&255,T>>>8&255,T&255,M>>>24&255,M>>>16&255,M>>>8&255,M&255,W>>>24&255,W>>>16&255,W>>>8&255,W&255,F>>>24&255,F>>>16&255,F>>>8&255,F&255,L>>>24&255,L>>>16&255,L>>>8&255,L&255,G>>>24&255,G>>>16&255,G>>>8&255,G&255];return this.is224||H.push(z>>>24&255,z>>>16&255,z>>>8&255,z&255),H},x.prototype.array=x.prototype.digest,x.prototype.arrayBuffer=function(){this.finalize();var E=new ArrayBuffer(this.is224?28:32),T=new DataView(E);return T.setUint32(0,this.h0),T.setUint32(4,this.h1),T.setUint32(8,this.h2),T.setUint32(12,this.h3),T.setUint32(16,this.h4),T.setUint32(20,this.h5),T.setUint32(24,this.h6),this.is224||T.setUint32(28,this.h7),E};function k(E,T,M){var W,F=typeof E;if(F==="string"){var L=[],G=E.length,z=0,H;for(W=0;W<G;++W)H=E.charCodeAt(W),H<128?L[z++]=H:H<2048?(L[z++]=192|H>>>6,L[z++]=128|H&63):H<55296||H>=57344?(L[z++]=224|H>>>12,L[z++]=128|H>>>6&63,L[z++]=128|H&63):(H=65536+((H&1023)<<10|E.charCodeAt(++W)&1023),L[z++]=240|H>>>18,L[z++]=128|H>>>12&63,L[z++]=128|H>>>6&63,L[z++]=128|H&63);E=L}else if(F==="object"){if(E===null)throw new Error(t);if(a&&E.constructor===ArrayBuffer)E=new Uint8Array(E);else if(!Array.isArray(E)&&(!a||!ArrayBuffer.isView(E)))throw new Error(t)}else throw new Error(t);E.length>64&&(E=new x(T,!0).update(E).array());var J=[],I=[];for(W=0;W<64;++W){var U=E[W]||0;J[W]=92^U,I[W]=54^U}x.call(this,T,M),this.update(I),this.oKeyPad=J,this.inner=!0,this.sharedMemory=M}k.prototype=new x,k.prototype.finalize=function(){if(x.prototype.finalize.call(this),this.inner){this.inner=!1;var E=this.array();x.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(E),x.prototype.finalize.call(this)}};var S=g();S.sha256=S,S.sha224=g(!0),S.sha256.hmac=y(),S.sha224.hmac=y(!0),s?e.exports=S:(r.sha256=S.sha256,r.sha224=S.sha224)})()})(n8);var ohe=n8.exports;const vm=e=>({name:e.name,hash:ohe.sha256(e.properties.sort((t,n)=>t.key.localeCompare(n.key)).map(t=>JSON.stringify(t)).join("/"))}),Z4=async(e,t)=>{const n=await nhe(t.reference_type,e);if(!n)return Un("Error creating forked content, try again.","error");const r=await ehe(t.reference_type,n.local_id,t.data);if(!r)return Ph(t.reference_type,n.local_id,!0),Un("Error creating new version data for forked content, cleaning up...","error");if(!await hu(r.local_id,r.data.types.map(vm)))return Ph(t.reference_type,n.local_id,!0),qy(r.local_id,!0),Un("Error creating hashes for forked content, cleaning up...","error");if(!await UE(t.reference_type,n.local_id,r.local_id,!1))return Ph(t.reference_type,n.local_id,!0),qy(r.local_id,!0),it.typeHashes.delete(r.local_id),Un("Error creating subscription for forked content, cleaning up...","error")},n1=({subs:e,itemData:t})=>{let n=su();const{user:r}=Er.useValue(),[i,o]=N.useState(!1),s=r&&t.user_id&&r.id===t.user_id||!r&&t.user_id==="none",a="bg-[#065f46] text-[#10b981]";return d.jsxs("div",{className:"fantasy-card-gradient card-top-border border border-fantasy-border rounded-2xl p-6 cursor-pointer transition-all duration-500 backdrop-blur-lg shadow-2xl hover:-translate-y-2 hover:shadow-fantasy-accent/20 hover:shadow-xl hover:border-fantasy-accent/40 relative",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-blue-500 to-fantasy-accent-dark rounded-lg flex items-center justify-center",children:d.jsx("span",{className:"text-xl font-bold text-fantasy-text",children:t.name[0]})}),d.jsx("div",{children:d.jsx("div",{className:"text-lg font-semibold text-fantasy-text",children:t.name})})]}),d.jsxs("div",{className:"bg-fantasy-dark border border-fantasy-medium text-fantasy-text rounded-md text-xs font-medium px-1 py-2",children:[e.length," versions"]})]}),d.jsxs("div",{className:"mb-4",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsxs("span",{className:"text-sm text-fantasy-text-muted",children:["Latest: ",new Date(e[0].subscribed_at).toLocaleDateString()," - ",new Date(e[0].subscribed_at).toLocaleTimeString()]}),d.jsx("button",{className:"bg-none border-none text-fantasy-accent cursor-pointer text-xs p-0 underline ml-auto",onClick:()=>o(!i),children:"Show all versions"})]}),d.jsx("div",{className:"transition-all overflow-hidden ".concat(i?"max-h-60 overflow-y-auto border border-fantasy-border mt-2 rounded-md":"max-h-12"),children:e.map((l,c)=>d.jsxs("div",{className:"flex items-center justify-between p-2 transition-all border-b border-solid border-fantasy-medium ".concat(i?"p-3":"h-12"," ").concat(c>0?"":"bg-gradient-to-r from-green-900 to-transparent"),children:[d.jsxs("div",{className:"flex flex-col gap-1",children:[d.jsx("div",{className:"text-sm text-neutral-200",children:ms(l.version_id)}),d.jsxs("div",{className:"text-xs text-neutral-400",children:[new Date(l.subscribed_at).toLocaleDateString()," - ",new Date(l.subscribed_at).toLocaleTimeString()]})]}),d.jsx("div",{className:"px-1 py-2 rounded text-xs font-medium ".concat(c>0?"":a," ").concat(i?"hidden":""),children:c>0?"Active":"Latest"}),d.jsx("div",{className:"".concat(i?"":"hidden"),children:d.jsx(mm,{label:"⚙️",options:[{label:s?"Edit":"Fork",onClick:async()=>{if(s)return n("/library/".concat(l.resource_type,"/").concat(l.version_id));const u=await Cc(l.version_id);return u?Z4(t,u):Un("Error grabbing data to fork.","error")}},{label:"Export",onClick:async()=>{const u=await Cc(l.version_id);if(!u)return Un("Error grabbing version data to export.","error");Lp(u.reference_type,{item:t,version:u},"".concat(t.name,"-").concat(u.local_id))}},{label:"Delete",onClick:()=>Rt("delete-subscription",({id:u})=>d.jsx(Ul,{id:u,title:"Delete Subscription",type:"danger",message:"Are you sure you want to delete this subscription?",onConfirm:()=>J4(l.local_id)}))}]})})]},c))})]}),d.jsx("div",{className:"flex transition-all ".concat(i?"h-0 w-0 overflow-hidden":""),children:d.jsx(t8,{label:s?"Edit":"Fork",onClick:async()=>{const l=await Cc(e[0].version_id);return l?s?n("/library/".concat(l.reference_type,"/").concat(l.local_id)):Z4(t,l):Un("Error grabbing version info.","error")},options:[{label:"Export",onClick:async()=>{const l=await Cc(e[0].version_id);if(!l)return Un("Error grabbing version info.","error");Lp(l.reference_type,{item:t,version:l},"".concat(t.name,"-").concat(l.local_id))}},{label:"Delete",onClick:()=>Rt("delete-subscription",({id:l})=>d.jsx(Ul,{id:l,title:"Delete Subscription",type:"danger",message:"Are you sure you want to delete this subscription?",onConfirm:()=>J4(e[0].local_id)}))}]})})]})},she=async(e,t,n)=>{try{let r=await _n();for(;!await Ni(r);)r=await _n();const{user:i}=Er.get(),o=i?i.id:"none",s={name:e,local_id:r,user_id:o,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),deleted_at:null},a=NS.safeParse(s);if(!a.success){console.log("Invalid pack data:",a.error.format());return}switch(t){case"system":await it.systems.add(s);break;case"datapack":await it.datapacks.add(s);break}let l=await _n();for(;!await Ni(l);)l=await _n();const c={data:n,local_id:l,reference_id:r,reference_type:t,user_id:o,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),deleted_at:null},u=gm.safeParse(c);if(!u.success){console.log("Invalid Version data:",u.error.format());return}await it.versions.add(c);let f=await _n();for(;!await Ni(f);)f=await _n();const h={local_id:f,user_id:o,resource_type:t,resource_id:r,version_id:l,auto_update:!1,subscribed_at:new Date().toISOString(),updated_at:new Date().toISOString(),deleted_at:null};return await it.subscriptions.add(h),h}catch(r){Un("Error creating subscription data. If this continues please post a issue in our discord.","error"),console.log("Error creating pack or version or creating subscription:",r)}},ahe=({id:e,onCreate:t})=>{const[n,r]=N.useState(""),[i,o]=N.useState("system"),{subscriptions:s}=Tx(),[a,l]=N.useState(),[c,u]=N.useState();N.useEffect(()=>{const h=s==null?void 0:s.find(v=>v.type==="system");if(!h)return console.log("no system.");let p=h.versions[0];if(!p)return console.log("no version.");if(h.item_id===(a==null?void 0:a.item_id)&&p.local_id===(p==null?void 0:p.local_id))return console.log("same version and system");l(h),u(p)},[s]);const f=N.useCallback(()=>cr(e),[e]);return d.jsxs(Vn,{isOpen:!0,onClose:f,children:[d.jsx(Kn,{title:"Create Subscription",onClose:f}),d.jsxs(qn,{children:[d.jsx(en,{id:"name",label:"Name",placeholder:"baba yaga",value:n,onChange:r,isValid:!0,errorMessage:""}),d.jsxs(ft,{id:"susbcription-type",label:"Type",value:i,onChange:h=>{o(h)},children:[d.jsx("option",{value:"system",children:"System"}),d.jsx("option",{value:"datapack",children:"Data Pack"}),d.jsx("option",{value:"theme",disabled:!0,children:"Theme"})]}),i==="datapack"?d.jsxs(d.Fragment,{children:[d.jsx(ft,{id:"basedOff-system",label:"System",value:(a==null?void 0:a.item_id)||"",onChange:h=>{const p=s==null?void 0:s.find(g=>g.item_id===h&&g.type==="system");if(!p)return console.log("could not find matching system");l(p);const v=p.versions[0];v&&u(v)},children:s==null?void 0:s.filter(h=>h.type==="system").map(h=>d.jsx("option",{value:h.item_id,children:h.item.name},h.item_id))}),d.jsx(ft,{id:"basedOff-version",label:"Version",value:(c==null?void 0:c.local_id)||"",onChange:h=>{const p=a==null?void 0:a.versions.find(v=>v.local_id===h);if(!p)return console.log("could not find matching version");u(p)},children:a==null?void 0:a.versions.map(h=>d.jsx("option",{value:h.local_id,children:ms(h.local_id)},h.local_id))})]}):null]}),d.jsx(yr,{children:d.jsx(kt,{color:"primary",onClick:async()=>{let h={},p=[];switch(i){case"system":h={creator:[],modals:[],pages:[],version:"",data:[],defaultCharacterData:{_type:{name:"CharacterData",properties:[]}},types:[],actions:[]};break;case"datapack":if(!c||!c.data)return console.log("no version data");h={types:c.data.types,packData:c.data.data.map(g=>{var b;return{...g,data:g.typeData.isArray?[]:Nd(c.data.types,(b=c.data)==null?void 0:b.types.find(m=>m.name===g.typeData.type))}})},p=c.data.types.map(vm);break}const v=await she(n,i,h);v&&["datapack","system"].includes(i)&&hu(v.version_id,p),t({name:n,type:i}),f()},children:"Update"})})]})},lhe=async(e,t)=>{try{let n=await _n();for(;!await Ni(n);)n=await _n();const{user:r}=Er.get(),i=r?r.id:"none",o={...e,local_id:n,user_id:i,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),deleted_at:null},s=NS.safeParse(o);if(!s.success){console.log("Invalid pack data:",s.error.format());return}await it.datapacks.add(o);let a=await _n();for(;!await Ni(a);)a=await _n();const l={...t,local_id:a,reference_id:n,user_id:i,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),deleted_at:null},c=gm.safeParse(l);if(!c.success){Ph("datapack",n,!0),console.log("Invalid Version data:",c.error.format());return}await it.versions.add(l),hu(l.local_id,l.data.types);let u=await _n();for(;!await Ni(u);)u=await _n();await it.subscriptions.add({local_id:u,user_id:i,resource_type:"datapack",resource_id:n,version_id:a,auto_update:!1,subscribed_at:new Date().toISOString(),updated_at:new Date().toISOString(),deleted_at:null})}catch(n){console.log("Error importing system or version or creating subscription:",n)}},che=()=>{const{subscriptions:e}=Tx(),[t,n]=N.useState(!1);return d.jsxs("div",{children:[d.jsx(Xs,{title:"Your Collection",subtitle:"Manage your extra content"}),d.jsxs("div",{className:"px-4",children:[e?d.jsxs("h5",{className:"flex flex-col gap-4",children:[d.jsxs("div",{children:[d.jsx("h4",{className:"mb-2 text-xl",children:"Subscribed Systems"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:e.filter(r=>r.type==="system").map(r=>d.jsx(n1,{itemData:r.item,subs:r.subscriptions},r.item_id))})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"mb-2 text-xl",children:"Subscribed Datapacks"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:e.filter(r=>r.type==="datapack").map(r=>d.jsx(n1,{itemData:r.item,subs:r.subscriptions},r.item_id))})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"mb-2 text-xl",children:"Subscribed Themes"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:e.filter(r=>r.type==="theme").map(r=>d.jsx(n1,{itemData:r.item,subs:r.subscriptions},r.item_id))})]})]}):d.jsx("h5",{className:"mb-4 text-xl",children:"Loading..."}),d.jsx(du,{isOpen:t,onClick:()=>n(!t),buttons:[{name:"Create",icon:"",onClick:()=>Rt("create-subscription",({id:r})=>d.jsx(ahe,{id:r,onCreate:()=>{}}))},{name:"Import",icon:"",onClick:()=>Rt("import-system",({id:r})=>d.jsx(Z6,{id:r,title:"Import System",onSave:async i=>{try{const o=JSON.parse(i);switch(o.type){case"system":return await Qfe(o.item,o.version);case"datapack":return await lhe(o.item,o.version)}}catch(o){console.error(o)}}}))}]})]})]})};function VE({id:e,types:t,onDelete:n,onSave:r,data:i}){const[o,s]=N.useState({name:"",typeData:{type:"string",useTextArea:!1,isArray:!1,options:[],outputType:"none",isOutputAnArray:!1,inputs:[]},data:"test"}),[a,l]=N.useState(t.find(f=>f.name===o.typeData.type)||null),c=(f,h,p)=>{s(En(h,v=>(IS(v,f,p),v)))};N.useEffect(()=>{const f=i||{name:"",typeData:{type:"string",useTextArea:!1,isArray:!1,options:[],outputType:"none",isOutputAnArray:!1,inputs:[]},data:"test"};s(f),l(t.find(h=>h.name===f.typeData.type)||null)},[i,s,l]);const u=N.useCallback(()=>cr(e),[e]);return i?d.jsxs(Vn,{isOpen:!0,onClose:u,children:[d.jsx(Kn,{title:"Edit ".concat(i.name),onClose:u}),d.jsxs(qn,{children:[d.jsx(en,{id:"data-name",label:"Name",isValid:!0,errorMessage:"",value:o.name,onChange:f=>s({...o,name:f})}),d.jsxs(ft,{id:"data-type",label:"Type",value:(a==null?void 0:a.name)||"",onChange:f=>{const h=t.find(p=>p.name===f)||null;l(h),s({...o,data:o.typeData.isArray?[]:Nd(t,h||f),typeData:{...o.typeData,type:f}})},children:[d.jsx("option",{value:"string",children:"string"}),d.jsx("option",{value:"number",children:"number"}),d.jsx("option",{value:"boolean",children:"boolean"}),d.jsx("option",{value:"enum",children:"enum"}),t.map(f=>d.jsx("option",{value:f.name,children:f.name},f.name))]}),a&&d.jsx("div",{children:d.jsx(vr,{id:"is-array",label:"Is Array?",checked:o.typeData.isArray,onChange:f=>{s(f?{...o,data:[],typeData:{...o.typeData,isArray:f}}:{...o,data:Nd(t,o.typeData.type),typeData:{...o.typeData,isArray:f}})}})}),d.jsx("div",{className:"h-2"}),a&&o.typeData.isArray?d.jsx(uhe,{types:t,type:a,title:"data",data:o.data,onAdd:f=>{c("data",o,[...o.data,f])},onChange:(f,h)=>c(f,o,h),onDelete:f=>c("data",o,o.data.filter(h=>h.name!==f))}):r8(a||{name:o.typeData.type,properties:[]},o.data||o,o,o.typeData,"value",c)]}),d.jsxs(yr,{children:[d.jsx(kt,{color:"danger",onClick:()=>{n&&n(),u()},children:n?"Delete":"Close"}),d.jsx(kt,{color:"primary",onClick:()=>{r(o),u()},children:"Update"})]})]}):d.jsx(d.Fragment,{})}function r8(e,t,n,r,i,o){var s;switch(e.name){case"string":return r.useTextArea?d.jsx(MS,{id:i,label:i,value:t,onChange:a=>o("data",n,a)}):d.jsx(en,{id:i,label:i,isValid:!0,errorMessage:"",value:t,onChange:a=>o("data",n,a)});case"number":return d.jsx(en,{id:i,label:i,isValid:!0,errorMessage:"",value:t,onChange:a=>o("data",n,+a)});case"boolean":return d.jsx(vr,{id:i,label:i,checked:t,onChange:a=>o("data",n,a)});case"enum":return d.jsx(ft,{id:i,label:i,value:t,onChange:a=>o("data",n,a),children:(s=r.options)==null?void 0:s.map(a=>d.jsx("option",{value:a,children:a},a))});case"blueprint":return d.jsx("div",{children:"TODO"});default:return d.jsx("div",{children:e.properties.map(a=>r8({name:a.typeData.type,properties:[]},t[a.key]||"",n,a.typeData,a.key,(l,c,u)=>{o("data/".concat(a.key),c,u)}))},i)}}function uhe({types:e,title:t,data:n,type:r,onAdd:i,onChange:o,onDelete:s}){return d.jsxs("div",{children:[d.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[d.jsx("p",{children:t}),d.jsx("p",{onClick:()=>i(Nd(e,r)),children:"Add"})]}),d.jsx("p",{style:{height:1,width:"100%",backgroundColor:"white",marginTop:4,marginBottom:4}}),d.jsx("div",{className:"flex flex-col gap-1 mt-3",children:n.map(a=>d.jsx("div",{className:"p-3 border border-neutral-600 dark:bg-neutral-800 hover:bg-neutral-700 cursor-pointer",onClick:()=>Rt("edit-object",({id:l})=>d.jsx(QS,{id:l,title:"Edit Data",types:e,onDelete:()=>s(a.name),onSave:c=>o("".concat(t,"/").concat(a.name),c),data:a})),children:d.jsx("p",{children:a.name})},a.name))})]})}const qE=async(e,t)=>En(e,n=>{const r=t==="character"?n.pages:t==="builder"?n.creator:n.modals;if(r.findIndex(s=>s.name==="New Page")!==-1)return;let o={name:"New Page",blueprint:{nodes:Mr(),edges:[]},lexical:"",state:[]};r.push(o)}),KE=async(e,t,n,r,i)=>En(e,o=>{const s=t==="character"?o.pages:t==="builder"?o.creator:o.modals,a=s.findIndex(c=>c.name===n);if(a===-1||s[a].state.find(c=>c.name===r))return;let l={name:r,type:i,value:void 0};s[a].state.push(l)}),dhe=async e=>En(e,t=>{t.data.findIndex(r=>r.name==="New Data")===-1&&t.data.push({name:"New Data",typeData:{type:"string",options:[],isArray:!1,useTextArea:!1,inputs:[],outputType:"none",isOutputAnArray:!1},data:"lorem ipsum"})}),fhe=async(e,t)=>En(e,n=>{n.types.findIndex(i=>i.name===t)===-1&&n.types.push({name:t,properties:[{key:"newProperty",typeData:{type:"string",options:[],isArray:!1,useTextArea:!1,inputs:[],outputType:"none",isOutputAnArray:!1}}]})}),hhe=async(e,t,n)=>En(e,r=>{const i=r.types.findIndex(s=>s.name===t);i===-1||r.types[i].properties.findIndex(s=>s.key===n.key)!==-1||r.types[i].properties.push(n)}),YE=(e,t,n)=>En(e,r=>{const i=t==="character"?r.pages:t==="builder"?r.creator:r.modals,o=i.findIndex(s=>s.name===n);o!==-1&&i.slice(o,1)}),phe=async(e,t)=>En(e,n=>{const r=n.data.findIndex(i=>i.name===t);r!==-1&&n.data.splice(r,1)}),mhe=async(e,t)=>En(e,n=>{const r=n.types.findIndex(i=>i.name===t);r!==-1&&n.types.splice(r,1)}),e5=async(e,t,n)=>En(e,r=>{for(let i=0;i<r.types.length;i++){const o=r.types[i];if(o.name!==t)continue;const s=o.properties.findIndex(a=>a.key===n);if(s===-1)return;o.properties.splice(s,1)}}),GE=async(e,t,n,r)=>En(e,i=>{const s=(t==="character"?i.pages:t==="builder"?i.creator:i.modals).find(a=>a.name===n);s&&(s.name=r)}),t5=async(e,t,n)=>En(e,r=>{const i=r.types.findIndex(o=>o.name===t);i!==-1&&(r.types[i].name=n)}),r1=async(e,t)=>En(e,n=>{n.defaultCharacterData=t}),XE=async(e,t,n,r)=>En(e,i=>{const o=t==="character"?i.pages:t==="builder"?i.creator:i.modals,s=o.findIndex(a=>a.name===n);s!==-1&&(o[s].blueprint=r)}),JE=async(e,t,n,r,i)=>En(e,o=>{const s=t==="character"?o.pages:t==="builder"?o.creator:o.modals;for(let a=0;a<s.length;a++){const l=s[a];if(l.name!==n)continue;const c=l.state.findIndex(u=>u.name===r);if(c===-1)return;r!==i.name?(l.state.splice(c,1),l.state.push(i)):l.state[c]=i}}),ghe=async(e,t)=>{if(t==="{}")return;const n=Fo.encodeBase64(Fo.compress(t)),r=vn.get(),i=await it.versions.get(e);if(i)return En(i.data,o=>{const s=r.tab==="editor"?o.pages:r.tab==="creator"?o.creator:o.modals,a=r.tab==="editor"?r.characterPage:r.tab==="creator"?r.creatorPage:r.modalsPage,l=s.findIndex(c=>c.name===a);l!==-1&&(s[l].lexical=n)})},vhe=async(e,t,n)=>En(e,r=>{const i=r.data.findIndex(o=>o.name===t);i!==-1&&(t!==n.name?(r.data.splice(i,1),r.data.push(n)):r.data[i]=n)}),n5=async(e,t,n,r)=>En(e,i=>{for(let o=0;o<i.types.length;o++){const s=i.types[o];if(s.name!==t)continue;const a=s.properties.findIndex(l=>l.key===n);if(a===-1)return;n!==r.key?(s.properties.splice(a,1),s.properties.push(r)):s.properties[a]=r}});async function Jt(e,t){if(!await it.versions.get(e)){console.warn("No doc found for ID:",e);return}const r=await t;if(!r){console.warn("No data returned from mutaiton");return}try{return await it.versions.update(e,{data:r})}catch(i){console.log("Error updating version resource:",i)}}const yhe=({editsId:e,versionedResource:t})=>d.jsx(d.Fragment,{children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[d.jsx("div",{className:"fantasy-add-gradient border-2 border-dashed border-fantasy-accent/30 rounded-2xl p-6 text-center cursor-pointer transition-all duration-300 flex flex-col justify-center items-center hover:border-fantasy-accent/60 hover:fantasy-add-gradient hover:-translate-y-1",onClick:()=>{const n={...t.data.defaultCharacterData,newKey:"new value",_type:{name:t.data.defaultCharacterData._type.name||"",properties:[{key:"newKey",typeData:{type:"string",useTextarea:!1,isArray:!1}},...t.data.defaultCharacterData._type.properties||[]]}};Jt(e,r1(t.data,n))},children:d.jsx("div",{className:"text-fantasy-accent/80 text-base font-medium",children:"Create New Property"})}),t.data.defaultCharacterData._type.properties.map(n=>{const r=n.key,i=t.data.defaultCharacterData[r],o=n.typeData;let s=i._type?void 0:o.type;return d.jsx("div",{className:"fantasy-card-gradient card-top-border border border-fantasy-border rounded-2xl p-6 cursor-pointer transition-all duration-500 backdrop-blur-lg shadow-2xl hover:-translate-y-2 hover:shadow-fantasy-accent/20 hover:shadow-xl hover:border-fantasy-accent/40 relative",onClick:()=>Rt("edit-character-schema",({id:a})=>{const l={name:r,typeData:o,data:i};return d.jsx(VE,{id:a,types:t.data.types,onDelete:()=>{const c=En(t.data.defaultCharacterData,u=>{delete u[l.name||""],u._type.properties=u._type.properties.filter(f=>f.key!==(l==null?void 0:l.name))});Jt(e,r1(t.data,c))},onSave:c=>{const u=c.name,f=c.typeData,h=c.data,p=En(t.data.defaultCharacterData,v=>{delete v[(l==null?void 0:l.name)||""],v[u]=h;for(let g=0;g<v._type.properties.length;g++){const b=v._type.properties[g];b.key===(l==null?void 0:l.name)&&(b.key=u,b.typeData=f)}});Jt(e,r1(t.data,p))},data:l})}),children:d.jsxs("p",{children:[r," - ",s," ",o.isArray?"(Array)":""]})},r)})]})}),xhe=({editsId:e,versionedResource:t})=>{const[n,r]=N.useState(null);return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"flex flex-col gap-1",children:t.data.data.map(i=>d.jsx("div",{className:"mb-4 block max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:bg-neutral-800 dark:border-neutral-700 dark:hover:bg-neutral-700 cursor-pointer",onClick:()=>Rt("edit-system-data",({id:o})=>d.jsx(VE,{id:o,types:t.data.types,onDelete:()=>Jt(e,phe(t.data,n.name)),onSave:s=>Jt(e,vhe(t.data,n.name,s)),data:n})),children:d.jsxs("p",{children:[i.name," - ",i.typeData.type," ",i.typeData.isArray?"(Array)":""]})},i.name))}),d.jsx(du,{onClick:()=>Jt(e,dhe(t.data))})]})};function whe({id:e,data:t,onSave:n,onDelete:r}){var c;const i=vn.useValue(),o=nr(i.versionId),[s,a]=N.useState({name:"New Param",type:"string",isArray:!1});N.useEffect(()=>{t&&a(t)},[t]);const l=N.useCallback(()=>cr(e),[e]);return d.jsxs(Vn,{isOpen:!0,onClose:l,children:[d.jsx(Kn,{title:"Edit Blueprint Param",onClose:l}),d.jsxs(qn,{children:[d.jsx(en,{id:"name",label:"Name",placeholder:"baba yaga",value:s.name,onChange:u=>a({...s,name:u}),isValid:!0,errorMessage:""}),d.jsxs(ft,{id:"type",label:"Type",value:s.type,onChange:u=>a({...s,type:u}),children:[d.jsx("option",{value:"none",children:"none"}),d.jsx("option",{value:"string",children:"string"}),d.jsx("option",{value:"number",children:"number"}),d.jsx("option",{value:"boolean",children:"boolean"}),d.jsx("option",{value:"enum",children:"enum"}),d.jsx("option",{value:"blueprint",children:"blueprint"}),(c=o==null?void 0:o.data)==null?void 0:c.types.map(u=>d.jsx("option",{value:u.name,children:u.name},u.name))]}),d.jsx(vr,{id:"is-array",label:"Is Array?",checked:s.isArray,onChange:u=>a({...s,isArray:u})})]}),d.jsxs(yr,{children:[d.jsx(kt,{color:"danger",onClick:()=>{r(),l()},children:"Delete"}),d.jsx(kt,{color:"primary",onClick:()=>{if(!t)return l();n(s),l()},children:"Update"})]})]})}const r5=({id:e,data:t,onSave:n,onDelete:r})=>{var h,p,v;const[i,o]=N.useState(""),[s,a]=N.useState({type:"",useTextArea:!1,isArray:!1,options:[],outputType:"none",isOutputAnArray:!1,inputs:[]}),l=vn.useValue(),c=nr(l.versionId),u=N.useMemo(()=>c==null?void 0:c.data.types.find(g=>g.name===(t==null?void 0:t.typeName)),[t,c]);N.useEffect(()=>{t&&(o(t.key),a({useTextArea:!1,isArray:!1,options:[],outputType:"none",isOutputAnArray:!1,inputs:[],...t.typeData}))},[t]);const f=N.useCallback(()=>cr(e),[e]);return d.jsxs(Vn,{isOpen:!0,onClose:f,children:[d.jsx(Kn,{title:"Edit Type Property",onClose:f}),d.jsxs(qn,{children:[d.jsx(en,{id:"key",label:"key",placeholder:"baba yaga",value:i,onChange:o,isValid:!0,errorMessage:""}),d.jsxs(ft,{id:"type",label:"Type",value:s.type,onChange:g=>a({...s,type:g}),children:[d.jsx("option",{value:"string",children:"string"}),d.jsx("option",{value:"number",children:"number"}),d.jsx("option",{value:"boolean",children:"boolean"}),d.jsx("option",{value:"enum",children:"enum"}),d.jsx("option",{value:"blueprint",children:"blueprint"}),c==null?void 0:c.data.types.map(g=>d.jsx("option",{value:g.name,children:g.name},g.name))]}),d.jsx(vr,{id:"is-array",label:"Is Array?",checked:s.isArray,onChange:g=>a({...s,isArray:g})}),s.type==="string"&&!s.isArray&&d.jsx(vr,{id:"use-textarea",label:"Use Textarea?",checked:s.useTextArea,onChange:g=>a({...s,useTextArea:g})}),s.type==="enum"&&d.jsxs("div",{children:[d.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[d.jsx("p",{children:"Options"}),d.jsx("div",{onClick:()=>{var b;((b=s.options)==null?void 0:b.findIndex(m=>m==="New Option"))===-1&&a({...s,options:[...s.options||[],"New Option"]})},children:d.jsx("p",{children:"Add"})})]}),d.jsx("p",{style:{height:1,width:"100%",backgroundColor:"white",marginTop:4,marginBottom:4}}),d.jsx("div",{children:(h=s.options)==null?void 0:h.map(g=>d.jsx("div",{onClick:()=>Rt("edit-string",({id:b})=>d.jsx(Js,{id:b,data:g,title:"Edit Property Name",onSave:m=>{let y=[...s.options||[]];const x=y.findIndex(k=>k===g);x!==-1&&(y[x]=m,a({...s,options:y}))}})),children:d.jsx("p",{children:g})},g))})]}),s.type==="blueprint"&&d.jsxs("div",{className:"mt-4",children:[d.jsxs("div",{className:"flex flex-col",children:[d.jsxs(ft,{id:"output-type",label:"Output Type",value:s.outputType||"none",onChange:g=>a({...s,outputType:g}),children:[d.jsx("option",{value:"none",children:"none"}),d.jsx("option",{value:"string",children:"string"}),d.jsx("option",{value:"number",children:"number"}),d.jsx("option",{value:"boolean",children:"boolean"}),d.jsx("option",{value:"enum",children:"enum"}),d.jsx("option",{value:"blueprint",children:"blueprint"}),(p=c==null?void 0:c.data)==null?void 0:p.types.map(g=>d.jsx("option",{value:g.name,children:g.name},g.name))]}),d.jsx(vr,{id:"is-output-an-array",label:"Is Array?",checked:s.isOutputAnArray,onChange:g=>a({...s,isOutputAnArray:g})})]}),d.jsxs("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:[d.jsx("p",{children:"Inputs"}),d.jsx("div",{onClick:()=>{var b;((b=s.inputs)==null?void 0:b.findIndex(m=>m.name==="New Input"))===-1&&a({...s,inputs:[...s.inputs||[],{name:"New Input",type:"string",isArray:!1}]})},children:d.jsx("p",{children:"Add"})})]}),d.jsx("p",{style:{height:1,width:"100%",backgroundColor:"white",marginTop:4,marginBottom:4}}),d.jsx("div",{children:(v=s.inputs)==null?void 0:v.map(g=>d.jsx("div",{className:"bg-neutral-50 border border-neutral-300 text-neutral-900 p-2.5 dark:bg-neutral-700 dark:border-neutral-600 dark:text-white",onClick:()=>Rt("edit-blueprint-param",({id:b})=>d.jsx(whe,{id:b,data:g,onSave:m=>{let y=[...s.inputs||[]];const x=y.findIndex(k=>k.name===g.name);x!==-1&&(y[x]=m,a({...s,inputs:y}))},onDelete:()=>{var y;const m=(y=s.inputs)==null?void 0:y.filter(x=>x.name!==g.name);a({...s,inputs:m})}})),children:d.jsxs("p",{children:[g.name," - ",g.type,g.isArray?"(Array)":""]})},g.name))})]})]}),d.jsxs(yr,{children:[d.jsx(kt,{color:"danger",onClick:()=>{r(),f()},disabled:(u==null?void 0:u.properties.length)===1,children:"Delete"}),d.jsx(kt,{color:"primary",onClick:()=>{if(!i||!s)return f();n({key:i,typeData:s}),f()},children:"Update"})]})]})},ym=({children:e})=>d.jsx("div",{children:e}),ci=({children:e,id:t,title:n,isOpen:r,toggleState:i})=>d.jsxs("div",{className:"bg-fantasy-glass",children:[d.jsx("h2",{children:d.jsxs("button",{type:"button",onClick:()=>i(!r),className:"flex items-center justify-between w-full p-5 font-medium rtl:text-right border border-fantasy-border hover:bg-fantasy-dark gap-3 ".concat(r?"bg-fantasy-dark text-fantasy-text":"text-fantasy-text-muted"),children:[d.jsx("span",{children:n}),d.jsx("svg",{"data-accordion-icon":!0,className:"".concat(r?"":"rotate-180"," w-3 h-3 shrink-0"),"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 10 6",children:d.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5 5 1 1 5"})})]})}),d.jsx("div",{className:"".concat(r?"flex":"hidden"," w-full"),children:d.jsx("div",{className:"p-5 w-full border border-t-0 border-fantasy-border",children:e})})]}),bhe=({editsId:e,versionedResource:t})=>{const[n,r]=N.useState(-1);return d.jsxs(d.Fragment,{children:[d.jsx(ym,{children:t.data.types.map((i,o)=>d.jsxs(ci,{id:i.name,title:i.name,isOpen:n===o,toggleState:s=>r(s?o:-1),children:[d.jsxs("div",{children:[d.jsx(kt,{color:"light",onClick:()=>Rt("edit-string",({id:s})=>d.jsx(Js,{id:s,data:i.name,onSave:a=>Jt(e,t5(t.data,i.name,a))})),children:"Edit Name"}),d.jsx(kt,{color:"light",onClick:async()=>{let s={key:"newProperty",typeData:{type:"string",options:[],isArray:!1,useTextArea:!1,inputs:[],outputType:"none",isOutputAnArray:!1}};await Jt(e,hhe(t.data,i.name,s)),Rt("edit-type",({id:a})=>d.jsx(r5,{id:a,data:{...s,typeName:i.name},onSave:l=>Jt(e,n5(t.data,i.name,s.key,l)),onDelete:()=>Jt(e,e5(t.data,i.name,s.key))}))},children:"Add Property"}),d.jsx(kt,{color:"danger",onClick:()=>Jt(e,mhe(t.data,i.name)),children:"Delete Type"})]}),d.jsx("div",{className:"flex flex-col gap-1 mt-3",children:i.properties.map(s=>{var a;return d.jsx("div",{className:"p-3 border border-neutral-600 dark:bg-neutral-800 hover:bg-neutral-700 cursor-pointer",onClick:()=>Rt("edit-type",({id:l})=>d.jsx(r5,{id:l,data:{...s,typeName:i.name},onSave:c=>Jt(e,n5(t.data,i.name,s.key,c)),onDelete:()=>Jt(e,e5(t.data,i.name,s.key))})),children:d.jsxs("p",{children:[s.key," - ",s.typeData.type," ",s.typeData.isArray?"(Array)":""," ",(a=s.typeData.options)==null?void 0:a.join(",")]})},s.key)})})]},i.name))}),d.jsx(du,{onClick:async()=>{await Jt(e,fhe(t.data,"New Type")),Rt("edit-string",({id:i})=>d.jsx(Js,{id:i,data:"New Type",onSave:o=>Jt(e,t5(t.data,"New Type",o))}))}})]})};function Rx(e){const{query:t}=ps();return i8(t,e)}function i8(e,t){const n=e.node(t).get();if(!n.data.parent)return[];const r=e.node(n.data.parent).get();return[...r.data.props.local||[],...i8(e,r.id)]}function _he(){const{id:e,actions:{setProp:t},showPlaceholder:n,isVisible:r,dynamicVisibility:i,visibilityBlueprint:o,isList:s,dataName:a,blueprint:l,isInteractive:c,onPress:u,display:f,position:h,top:p,right:v,bottom:g,left:b,flexDirection:m,alignItems:y,justifyContent:x,gap:k,rows:S,columns:E,marginTop:T,marginRight:M,marginBottom:W,marginLeft:F,paddingTop:L,paddingRight:G,paddingBottom:z,paddingLeft:H,height:J,width:I,maxHeight:U,maxWidth:O,minHeight:D,minWidth:$,background:Y,border:ie,hover:ae}=Oi(V=>({showPlaceholder:V.data.props.showPlaceholder,isVisible:V.data.props.isVisible,dynamicVisibility:V.data.props.dynamicVisibility,visibilityBlueprint:V.data.props.visibilityBlueprint,isList:V.data.props.isList,dataName:V.data.props.dataName,blueprint:V.data.props.blueprint,isInteractive:V.data.props.isInteractive,onPress:V.data.props.onPress,display:V.data.props.display,position:V.data.props.position,top:V.data.props.top,right:V.data.props.right,bottom:V.data.props.bottom,left:V.data.props.left,flexDirection:V.data.props.flexDirection,alignItems:V.data.props.alignItems,justifyContent:V.data.props.justifyContent,gap:V.data.props.gap,rows:V.data.props.rows,columns:V.data.props.columns,marginTop:V.data.props.marginTop,marginRight:V.data.props.marginRight,marginBottom:V.data.props.marginBottom,marginLeft:V.data.props.marginLeft,paddingTop:V.data.props.paddingTop,paddingRight:V.data.props.paddingRight,paddingBottom:V.data.props.paddingBottom,paddingLeft:V.data.props.paddingLeft,height:V.data.props.height,width:V.data.props.width,maxHeight:V.data.props.maxHeight,maxWidth:V.data.props.maxWidth,minHeight:V.data.props.minHeight,minWidth:V.data.props.minWidth,background:V.data.props.background,border:V.data.props.border,hover:V.data.props.hover})),[xe,ke]=N.useState(-1),Ne=Rx(e);return N.useEffect(()=>{t(V=>(V.blueprint={edges:V.blueprint.edges,nodes:is(V.blueprint.nodes,Ne)},V.visibilityBlueprint={edges:V.visibilityBlueprint.edges,nodes:is(V.visibilityBlueprint.nodes,Ne)},V.onPress={edges:V.onPress.edges,nodes:is(V.onPress.nodes,Ne)},V))},[Ne]),d.jsxs(ym,{children:[d.jsx(vr,{id:"show-placeholder",label:"Visible?",checked:n,onChange:V=>t(Q=>Q.showPlaceholder=V)}),d.jsxs(ci,{id:"visibility",title:"Visibility",isOpen:xe===0,toggleState:V=>ke(V?0:-1),children:[d.jsx(vr,{id:"dynamic-visiblity",label:"Dynamic Visibility?",checked:i,onChange:V=>t(Q=>Q.dynamicVisibility=V)}),i?d.jsx("p",{onClick:()=>Rt("blueprint",({id:V})=>d.jsx(Ai,{id:V,data:o,onSave:Q=>t(re=>re.visibilityBlueprint=Q)})),children:"Visibility Blueprint"}):d.jsx(vr,{id:"is-visible",label:"Visible?",checked:r,onChange:V=>t(Q=>Q.isVisible=V)})]}),d.jsxs(ci,{id:"list",title:"List",isOpen:xe===1,toggleState:V=>ke(V?1:-1),children:[d.jsx(vr,{id:"is-list",label:"Is Dynamic List",checked:s,onChange:V=>{t(Q=>(Q.isList=V,Q.local=V?[{name:a,type:vy(l),isArray:!1}]:[],Q))}}),d.jsx(en,{id:"variable-name",label:"Variable Name",isValid:!0,errorMessage:"",value:a,onChange:V=>{t(Q=>{Q.dataName=V;const re=Q.local.findIndex(Pe=>Pe.name===a);if(re!==-1)return Q.local[re].name=V,Q})}}),d.jsx(kt,{color:"light",onClick:()=>Rt("blueprint",({id:V})=>d.jsx(Ai,{id:V,data:l,onSave:Q=>{t(re=>{re.blueprint=Q;const Pe=re.local.findIndex(Ye=>Ye.name===a);if(Pe!==-1)return re.local[Pe].type=vy(Q),re})}})),children:"List Data Blueprint"})]}),d.jsxs(ci,{id:"input",title:"Input",isOpen:xe===2,toggleState:V=>ke(V?2:-1),children:[d.jsx(vr,{id:"is-interactive",label:"Is Interactive?",checked:c,onChange:V=>t(Q=>Q.isInteractive=V)}),d.jsx(kt,{color:"light",onClick:()=>Rt("blueprint",({id:V})=>d.jsx(Ai,{id:V,data:u,onSave:Q=>{t(re=>re.onPress=Q)}})),children:"On Press Blueprint"})]}),d.jsxs(ci,{id:"layout",title:"Layout",isOpen:xe===3,toggleState:V=>ke(V?3:-1),children:[d.jsxs(ft,{id:"display",label:"Display",value:f,onChange:V=>t(Q=>Q.display=V),children:[d.jsx("option",{value:"block",children:"Block"}),d.jsx("option",{value:"flex",children:"Flex"}),d.jsx("option",{value:"grid",children:"Grid"})]}),d.jsxs(ft,{id:"position",label:"Position",value:h,onChange:V=>t(Q=>Q.position=V),children:[d.jsx("option",{value:"static",children:"Static"}),d.jsx("option",{value:"relative",children:"Relative"}),d.jsx("option",{value:"absolute",children:"Absolute"}),d.jsx("option",{value:"fixed",children:"Fixed"}),d.jsx("option",{value:"sticky",children:"Sticky"})]}),h!=="static"?d.jsxs(d.Fragment,{children:[d.jsx(en,{id:"top",label:"Top",isValid:!0,errorMessage:"",value:p,onChange:V=>t(Q=>Q.top=V)}),d.jsx(en,{id:"right",label:"Right",isValid:!0,errorMessage:"",value:v,onChange:V=>t(Q=>Q.right=V)}),d.jsx(en,{id:"bottom",label:"Bottom",isValid:!0,errorMessage:"",value:g,onChange:V=>t(Q=>Q.bottom=V)}),d.jsx(en,{id:"left",label:"Left",isValid:!0,errorMessage:"",value:b,onChange:V=>t(Q=>Q.left=V)})]}):null,f==="grid"?d.jsxs(d.Fragment,{children:[d.jsx(en,{id:"columns",label:"Columns",isValid:!0,errorMessage:"",value:E,onChange:V=>t(Q=>Q.columns=V)}),d.jsx(en,{id:"rows",label:"Rows",isValid:!0,errorMessage:"",value:S,onChange:V=>t(Q=>Q.rows=V)})]}):null,["flex","grid"].includes(f)?d.jsxs(d.Fragment,{children:[d.jsxs(ft,{id:"flex-direction",label:"Flex Direction",value:m,onChange:V=>t(Q=>Q.flexDirection=V),children:[d.jsx("option",{value:"row",children:"Row"}),d.jsx("option",{value:"column",children:"Column"}),d.jsx("option",{value:"row-reverse",children:"Reverse Row"}),d.jsx("option",{value:"column-reverse",children:"Reverse Column"})]}),d.jsxs(ft,{id:"align-items",label:"Align Items",value:y,onChange:V=>t(Q=>Q.alignItems=V),children:[d.jsx("option",{value:"initial",children:"Initial"}),d.jsx("option",{value:"inherit",children:"Inherit"}),d.jsx("option",{value:"normal",children:"Normal"}),d.jsx("option",{value:"stretch",children:"Stretch"}),d.jsx("option",{value:"center",children:"Center"}),d.jsx("option",{value:"flex-start",children:"Flex-Start"}),d.jsx("option",{value:"flex-end",children:"Flex-End"}),d.jsx("option",{value:"start",children:"Start"}),d.jsx("option",{value:"end",children:"End"}),d.jsx("option",{value:"baseline",children:"Baseline"})]}),d.jsxs(ft,{id:"justify-content",label:"Justify Content",value:x,onChange:V=>t(Q=>Q.justifyContent=V),children:[d.jsx("option",{value:"initial",children:"Initial"}),d.jsx("option",{value:"inherit",children:"Inherit"}),d.jsx("option",{value:"stretch",children:"Stretch"}),d.jsx("option",{value:"center",children:"Center"}),d.jsx("option",{value:"flex-start",children:"Flex-Start"}),d.jsx("option",{value:"flex-end",children:"Flex-End"}),d.jsx("option",{value:"space-between",children:"Space-Between"}),d.jsx("option",{value:"space-around",children:"Space-Around"}),d.jsx("option",{value:"space-evenly",children:"Space-Evenly"})]}),d.jsx(ft,{id:"container-gap",label:"Gap",value:k,onChange:V=>t(Q=>Q.gap=V),children:Object.keys(Ke.spacing).map(V=>d.jsx("option",{value:V,children:V},V))})]}):null]}),d.jsxs(ci,{id:"spacing",title:"Spacing",isOpen:xe===4,toggleState:V=>ke(V?4:-1),children:[d.jsx(ft,{id:"margin-top",label:"Margin Top",value:T,onChange:V=>t(Q=>Q.marginTop=V),children:Object.keys(Ke.spacing).map(V=>d.jsx("option",{value:V,children:V},V))}),d.jsx(ft,{id:"margin-right",label:"Margin Right",value:M,onChange:V=>t(Q=>Q.marginRight=V),children:Object.keys(Ke.spacing).map(V=>d.jsx("option",{value:V,children:V},V))}),d.jsx(ft,{id:"margin-bottom",label:"Margin Bottom",value:W,onChange:V=>t(Q=>Q.marginBottom=V),children:Object.keys(Ke.spacing).map(V=>d.jsx("option",{value:V,children:V},V))}),d.jsx(ft,{id:"margin-left",label:"Margin Left",value:F,onChange:V=>t(Q=>Q.marginTop=V),children:Object.keys(Ke.spacing).map(V=>d.jsx("option",{value:V,children:V},V))}),d.jsx(ft,{id:"padding-top",label:"Padding Top",value:L,onChange:V=>t(Q=>Q.paddingTop=V),children:Object.keys(Ke.spacing).map(V=>d.jsx("option",{value:V,children:V},V))}),d.jsx(ft,{id:"padding-right",label:"Padding Right",value:G,onChange:V=>t(Q=>Q.paddingRight=V),children:Object.keys(Ke.spacing).map(V=>d.jsx("option",{value:V,children:V},V))}),d.jsx(ft,{id:"padding-bottom",label:"Padding Bottom",value:z,onChange:V=>t(Q=>Q.paddingBottom=V),children:Object.keys(Ke.spacing).map(V=>d.jsx("option",{value:V,children:V},V))}),d.jsx(ft,{id:"padding-left",label:"Padding Left",value:H,onChange:V=>t(Q=>Q.paddingLeft=V),children:Object.keys(Ke.spacing).map(V=>d.jsx("option",{value:V,children:V},V))}),d.jsx(ft,{id:"width",label:"Width",value:I,onChange:V=>t(Q=>Q.width=V),children:Object.keys(Ke.size).map(V=>d.jsx("option",{value:V,children:V},V))}),d.jsx(ft,{id:"height",label:"Height",value:J,onChange:V=>t(Q=>Q.height=V),children:Object.keys(Ke.size).map(V=>d.jsx("option",{value:V,children:V},V))}),d.jsx(ft,{id:"max-width",label:"Max Width",value:O,onChange:V=>t(Q=>Q.maxWidth=V),children:Object.keys(Ke.size).map(V=>d.jsx("option",{value:V,children:V},V))}),d.jsx(ft,{id:"max-height",label:"Max Height",value:U,onChange:V=>t(Q=>Q.maxHeight=V),children:Object.keys(Ke.size).map(V=>d.jsx("option",{value:V,children:V},V))}),d.jsx(ft,{id:"min-width",label:"Min Width",value:$,onChange:V=>t(Q=>Q.minWidth=V),children:Object.keys(Ke.size).map(V=>d.jsx("option",{value:V,children:V},V))}),d.jsx(ft,{id:"min-height",label:"Min Height",value:D,onChange:V=>t(Q=>Q.minHeight=V),children:Object.keys(Ke.size).map(V=>d.jsx("option",{value:V,children:V},V))})]}),d.jsxs(ci,{id:"styling",title:"Styling",isOpen:xe===5,toggleState:V=>ke(V?5:-1),children:[d.jsx(ft,{id:"container-background",label:"Background",value:Y,onChange:V=>t(Q=>Q.background=V),children:Object.keys(oo).map(V=>d.jsx("option",{value:V,children:V},V))}),d.jsx(ft,{id:"container-border",label:"Border",value:ie,onChange:V=>t(Q=>Q.border=V),children:Object.keys(oo).map(V=>d.jsx("option",{value:V,children:V},V))}),d.jsx(ft,{id:"container-hover",label:"Hover",value:ae,onChange:V=>t(Q=>Q.hover=V),children:Object.keys(oo).map(V=>d.jsx("option",{value:V,children:V},V))})]})]})}function Ua(e){const{connectors:{connect:t,drag:n}}=Oi(),r=N.useMemo(()=>{var s;return oo[e.background]?(s=oo[e.background])==null?void 0:s.background:""},[e.background]),i=N.useMemo(()=>{var s;return oo[e.border]?(s=oo[e.border])==null?void 0:s.border:""},[e.border]),o=N.useMemo(()=>{var s;return e.isInteractive?(s=oo[e.hover])==null?void 0:s.hover:""},[e.isInteractive]);return d.jsx("div",{ref:s=>t(n(s)),style:{display:e.display,position:e.position,top:e.top,right:e.right,bottom:e.bottom,left:e.left,flexDirection:e.flexDirection,alignItems:e.alignItems,justifyContent:e.justifyContent,rows:e.rows,columns:e.columns,gap:Ke.spacing[e.gap],marginTop:Ke.spacing[e.marginTop],marginRight:Ke.spacing[e.marginRight],marginBottom:Ke.spacing[e.marginBottom],marginLeft:Ke.spacing[e.marginLeft],paddingTop:Ke.spacing[e.paddingTop],paddingRight:Ke.spacing[e.paddingRight],paddingBottom:Ke.spacing[e.paddingBottom],paddingLeft:Ke.spacing[e.paddingLeft],height:Ke.size[e.height],width:Ke.size[e.width],maxHeight:Ke.size[e.maxHeight],maxWidth:Ke.size[e.maxWidth],minHeight:Ke.size[e.minHeight],minWidth:Ke.size[e.minWidth]},className:"".concat(r," ").concat(i," ").concat(o),children:e.children?e.children:e.showPlaceholder?d.jsx("div",{children:"Add An Item!"}):null})}const khe={defaultProps:{showPlaceholder:!0,dynamicVisibility:!1,visibilityBlueprint:{nodes:Mr([],{name:"isVisible",type:"boolean",isArray:!1}),edges:[]},isVisible:!0,isList:!1,dataName:"listItem",blueprint:{nodes:Mr([],{name:"listItem",type:"any",isArray:!0}),edges:[]},local:[],isInteractive:!1,onPress:{nodes:Mr([]),edges:[]},display:"flex",position:"static",top:"0px",right:"0px",bottom:"0px",left:"0px",flexDirection:"column",alignItems:"normal",justifyContent:"initial",gap:"0",rows:0,columns:0,marginTop:"0",marginRight:"0",marginBottom:"0",marginLeft:"0",paddingTop:"4",paddingRight:"4",paddingBottom:"4",paddingLeft:"4",height:"auto",width:"auto",maxHeight:"none",maxWidth:"none",minHeight:"none",minWidth:"none",background:"no style",border:"no style",hover:"no style"},rules:{canMoveIn:(e,t,n)=>t.data.props.isList?t.data.nodes.length===0:!0},related:{settings:_he}};Ua.craft=khe;function She(){const{id:e,actions:{setProp:t},useBlueprintValue:n,blueprint:r,text:i,color:o,fontSize:s,fontWeight:a,textAlign:l,textDecoration:c,textTransform:u,marginTop:f,marginRight:h,marginBottom:p,marginLeft:v,paddingTop:g,paddingRight:b,paddingBottom:m,paddingLeft:y}=Oi(E=>({useBlueprintValue:E.data.props.useBlueprintValue||!1,blueprint:E.data.props.blueprint,text:E.data.props.text||"",color:E.data.props.color,fontFamily:E.data.props.fontFamily,fontSize:E.data.props.fontSize,fontWeight:E.data.props.fontWeight,fontStyle:E.data.props.fontStyle,letterSpacing:E.data.props.letterSpacing,lineHeight:E.data.props.lineHeight,textAlign:E.data.props.textAlign||"left",textDecoration:E.data.props.textDecoration||"none",textTransform:E.data.props.textTransform||"none",marginTop:E.data.props.marginTop||"0px",marginRight:E.data.props.marginRight||"0px",marginBottom:E.data.props.marginBottom||"0px",marginLeft:E.data.props.marginLeft||"0px",paddingTop:E.data.props.paddingTop||"0px",paddingRight:E.data.props.paddingRight||"0px",paddingBottom:E.data.props.paddingBottom||"0px",paddingLeft:E.data.props.paddingLeft||"0px"})),[x,k]=N.useState(-1),S=Rx(e);return N.useEffect(()=>{t(E=>(E.blueprint={edges:E.blueprint.edges,nodes:is(E.blueprint.nodes,S)},E))},[]),d.jsxs(ym,{children:[d.jsxs(ci,{id:"content",title:"Content",isOpen:x===0,toggleState:E=>k(E?0:-1),children:[d.jsx(vr,{id:"use-blueprint-value",label:"Use Blueprint Value?",checked:n,onChange:E=>t(T=>T.useBlueprintValue=E)}),n?d.jsx(kt,{color:"primary",onClick:()=>Rt("blueprint",({id:E})=>d.jsx(Ai,{id:E,data:r,onSave:T=>{t(M=>M.blueprint=T)}})),children:"Edit Blueprint Value"}):d.jsx(en,{id:"text",label:"Text",placeholder:"lorem ipsum",value:i,onChange:E=>t(T=>T.text=E),isValid:!0,errorMessage:""})]}),d.jsxs(ci,{id:"content-styling",title:"Content Styling",isOpen:x===1,toggleState:E=>k(E?1:-1),children:[d.jsx(ft,{id:"color",label:"Color",value:o,onChange:E=>t(T=>T.color=E),children:Object.keys(so.colors).map(E=>d.jsx("option",{value:E,children:E},E))}),d.jsx(ft,{id:"font-size",label:"Font Size",value:s,onChange:E=>t(T=>T.fontSize=E),children:Object.keys(so.sizes).map(E=>d.jsx("option",{value:E,children:E},E))}),d.jsx(ft,{id:"font-weight",label:"Font Weight",value:a,onChange:E=>t(T=>T.fontWeight=E),children:Object.keys(so.weight).map(E=>d.jsx("option",{value:E,children:E},E))}),d.jsxs(ft,{id:"text-align",label:"Text Align",value:l,onChange:E=>t(T=>T.textAlign=E),children:[d.jsx("option",{value:"left",children:"Left"}),d.jsx("option",{value:"center",children:"Center"}),d.jsx("option",{value:"right",children:"Right"})]}),d.jsxs(ft,{id:"text-decoration",label:"Text Decoration",value:c,onChange:E=>t(T=>T.textDecoration=E),children:[d.jsx("option",{value:"none",children:"None"}),d.jsx("option",{value:"underline",children:"Underline"}),d.jsx("option",{value:"line-through",children:"Line-Through"})]}),d.jsxs(ft,{id:"text-transform",label:"Text Transform",value:u,onChange:E=>t(T=>T.textTransform=E),children:[d.jsx("option",{value:"none",children:"None"}),d.jsx("option",{value:"uppercase",children:"Uppercase"}),d.jsx("option",{value:"lowercase",children:"Lowercase"})]})]}),d.jsxs(ci,{id:"spacing",title:"Spacing",isOpen:x===2,toggleState:E=>k(E?2:-1),children:[d.jsx(ft,{id:"margin-top",label:"Margin Top",value:f,onChange:E=>t(T=>T.marginTop=E),children:Object.keys(Ke.spacing).map(E=>d.jsx("option",{value:E,children:E},E))}),d.jsx(ft,{id:"margin-right",label:"Margin Right",value:h,onChange:E=>t(T=>T.marginRight=E),children:Object.keys(Ke.spacing).map(E=>d.jsx("option",{value:E,children:E},E))}),d.jsx(ft,{id:"margin-bottom",label:"Margin Bottom",value:p,onChange:E=>t(T=>T.marginBottom=E),children:Object.keys(Ke.spacing).map(E=>d.jsx("option",{value:E,children:E},E))}),d.jsx(ft,{id:"margin-left",label:"Margin Left",value:v,onChange:E=>t(T=>T.marginTop=E),children:Object.keys(Ke.spacing).map(E=>d.jsx("option",{value:E,children:E},E))}),d.jsx(ft,{id:"padding-top",label:"Padding Top",value:g,onChange:E=>t(T=>T.paddingTop=E),children:Object.keys(Ke.spacing).map(E=>d.jsx("option",{value:E,children:E},E))}),d.jsx(ft,{id:"padding-right",label:"Padding Right",value:b,onChange:E=>t(T=>T.paddingRight=E),children:Object.keys(Ke.spacing).map(E=>d.jsx("option",{value:E,children:E},E))}),d.jsx(ft,{id:"padding-bottom",label:"Padding Bottom",value:m,onChange:E=>t(T=>T.paddingBottom=E),children:Object.keys(Ke.spacing).map(E=>d.jsx("option",{value:E,children:E},E))}),d.jsx(ft,{id:"padding-left",label:"Padding Left",value:y,onChange:E=>t(T=>T.paddingLeft=E),children:Object.keys(Ke.spacing).map(E=>d.jsx("option",{value:E,children:E},E))})]})]})}function Va(e){const{connectors:{connect:t,drag:n}}=Oi(),r=N.useMemo(()=>{var o;return so.colors[e.color]?(o=so.colors[e.color])==null?void 0:o.text:""},[e.color]),i=N.useMemo(()=>so.weight[e.fontWeight]?so.weight[e.fontWeight]:"",[e.fontWeight]);return d.jsx("p",{ref:o=>t(n(o)),style:{textAlign:e.textAlign,...so.sizes[e.fontSize]||{},textDecoration:e.textDecoration,textTransform:e.textTransform,marginTop:Ke.spacing[e.marginTop],marginRight:Ke.spacing[e.marginRight],marginBottom:Ke.spacing[e.marginBottom],marginLeft:Ke.spacing[e.marginLeft],paddingTop:Ke.spacing[e.paddingTop],paddingRight:Ke.spacing[e.paddingRight],paddingBottom:Ke.spacing[e.paddingBottom],paddingLeft:Ke.spacing[e.paddingLeft]},className:"".concat(r," ").concat(i),children:e.text})}const Ehe={defaultProps:{useBlueprintValue:!1,blueprint:{nodes:Mr([],{name:"output",type:"string",isArray:!1}),edges:[]},text:"hello world",color:"base",fontSize:"base",textAlign:"left",textDecoration:"none",textTransform:"none",marginTop:"0",marginRight:"0",marginBottom:"0",marginLeft:"0",paddingTop:"0",paddingRight:"0",paddingBottom:"0",paddingLeft:"0"},rules:{},related:{settings:She}};Va.craft=Ehe;const Che="eyJST09UIjp7InR5cGXECHJlc29sdmVkTmFtZSI6IkNvbnRhaW5lciJ9LCJpc0NhbnZhcyI6dHJ1ZSwicHJvcHPENXNob3dQbGFjZWhvbGRlcsggZHluYW1pY1Zpc2liaWxpdHkiOmZhbHNlLCJ2yRNCbHVlcHJpbnTESG5vZGVzIjpbeyJpZCI6IjEiLOcAmCJlbnRyeSIsImRhdGHEKnBhcmFtxCtdfSwicG9zaXRpb27EGXgiOjEwMCwiecUIfX0sx0wyykxvdXRwdXTQTcQJbuYA9Wlz5QCzbGXKNGJvb2xlYW4i5AEFQXJyYegAy33SfzI1y39dLCJlZGflANXkAKrKWucBI2lzTGlzdMdN5gCS5wF6bGlzdEl0ZW0iLCJi/wEk/wEk/wEk/wEk9wEk6wCfxzNhbsR96QEf5ADg/wEe8AEebG9jYWzEDMRHSW50ZXJhY3RpdmXpAR9vblByZXPlAnP/AQf/AQf1AQfvAI5kaXNwbOQAyiJmbGV4Isw8InN0YXRpY8R0b3AiOiIwcMQgcmlnaHTJDmJvdHRvbckPbGVmyhzEUURpcmVjx09jb2x1beQCXWFsaWdu5AFXcyI6Im5vcm1hbCIsImp1c3RpZnnkA4xl5AIFImluaXRpxRtnYeUAgMR+b3dzIjowLMdNxgxtYXJnaW5U5gClIsgQUugAqckSQukArckTTOcAseQA+WFkZGluZ8ZHNMoRyEjLE8lJyxTHSsQSaGXHM2F1dG8iLCJ3aWR0aMoPbWF4SMgibm9u5AOAbWF4V8clyBJpbtElaW7PJWJhY2tncm91buQCHW5vIHN0eeUDz2JvcuUEocwUaG92zhPqAf3xBQYsImN1c+UA4nt9LCJoaWRkZW7pAp/oApQiNnk0Si1UMzV1diJdLCJsaW5rZWROxh175AMUTmR2cFBQMVVzMvsFe1RleHTuBXbHZ+kFd3VzZekFP1ZhbHXqAyn/BDL/Ayv/Ayv/BDL4BDLJIccxc3RyaW5n/wVS/wQ0LCJ05AEm5AEtc3RpbmcgdGhlIHdvcmxk5AGqb2xv5AHYYmFz5AHnZm9udFNpesR7xxLEPEHkA3LkBNDkAqXGE0RlY29yYecDm+cCUMQYVHJhbnNmb3LkAt/HF/8DYP8DYPUDYMsRzEjwA2DLFMlK8QK45QJD7gKzcGFy5gRE5Qf5+QLD9QK36wLX/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3fQ==",jhe=({versionedResource:e})=>{const t=vn.useValue(),{actions:n}=ps();return N.useEffect(()=>{var i;let r=(i=e.data.pages.find(o=>o.name===t.characterPage))==null?void 0:i.lexical;r||(r=Che),n.deserialize(Fo.decompress(Fo.decodeBase64(r)))},[t.characterPage]),d.jsx("div",{className:"mt-3 border-2 border-neutral-200 border-dashed rounded-lg dark:border-neutral-700",children:d.jsx(xE,{children:d.jsx(Ja,{is:Ua,canvas:!0,children:d.jsx(Va,{text:"Testing the world"})})})})},Nhe=({})=>d.jsx(d.Fragment,{children:d.jsx("p",{children:"TODO"})});function QE({data:e,isOpen:t,requestClose:n,onSave:r,onDelete:i}){const o=vn.useValue(),s=nr(o.versionId),[a,l]=N.useState(""),[c,u]=N.useState(""),[f,h]=N.useState(!1);return N.useEffect(()=>{e&&(l(e.name),u(e.type.type),h(e.type.isArray||!1))},[e]),s?d.jsxs(Vn,{isOpen:t,onClose:n,children:[d.jsx(Kn,{title:"Add Page State",onClose:n}),d.jsxs(qn,{children:[d.jsx(en,{id:"var-name",label:"Variable Name",value:a,onChange:l,isValid:!0,errorMessage:""}),d.jsxs(ft,{id:"var-type",label:"Type",value:c,onChange:u,children:[d.jsx("option",{value:"string",children:"string"}),d.jsx("option",{value:"number",children:"number"}),d.jsx("option",{value:"boolean",children:"boolean"}),d.jsx("option",{value:"enum",children:"enum"}),s.data.types.map(p=>d.jsx("option",{value:p.name,children:p.name},p.name))]}),d.jsx(vr,{id:"is-array",label:"Is Array?",checked:f,onChange:h})]}),d.jsxs(yr,{children:[d.jsx(kt,{color:"danger",onClick:()=>{i(),n()},children:"Delete"}),d.jsx(kt,{color:"primary",onClick:()=>{if(!a||!c||!e)return n();r({name:a,type:{type:c,isArray:f,useTextArea:!1,options:[],outputType:"none",isOutputAnArray:!1,inputs:[]}}),n()},children:"Confirm"})]})]}):d.jsx(d.Fragment,{})}const ZE=()=>{const{nodes:e,actions:t,isActive:n}=ps(f=>({nodes:f.nodes,isActive:f.events.selected})),[r,i]=$t.useState({}),[o,s]=$t.useState(""),{connectors:{select:a}}=ps(),l=f=>{i(h=>({...h,[f]:!h[f]}))},c=f=>{var b;const h=e[f];if(!h)return null;const p=r[f],v=h.data.nodes&&h.data.nodes.length>0,g=n.has(f);return d.jsxs("div",{className:"select-none",children:[d.jsxs("div",{ref:m=>a(m,f),className:"\n            flex items-center gap-2 p-2 rounded-md cursor-pointer transition-colors duration-200 hover:bg-secondary/80\n            ".concat(g?"bg-blue-500/20 text-blue-700 dark:text-blue-300":"","\n            ").concat(o===f&&!g?"bg-secondary/50":"","\n          "),onMouseEnter:()=>s(f),onMouseLeave:()=>s(""),children:[v?d.jsx("button",{onClick:m=>{m.stopPropagation(),l(f)},className:"w-4 h-4 flex items-center justify-center hover:bg-secondary/80 rounded",children:p?d.jsx(SS,{className:"w-4 h-4"}):d.jsx(b9,{className:"w-4 h-4"})}):d.jsx("div",{className:"w-4"}),d.jsx("button",{onClick:m=>{m.stopPropagation(),t.setHidden(f,!h.data.hidden)},className:"text-foreground/80 hover:text-foreground",children:h.data.hidden?d.jsx(_9,{className:"w-4 h-4"}):d.jsx(k9,{className:"w-4 h-4"})}),d.jsx("span",{className:"text-sm font-medium",children:((b=h.data.custom)==null?void 0:b.displayName)||h.data.displayName||h.data.name})]}),v&&p&&d.jsx("div",{className:"ml-1.5 border-l border-border/50 pl-2 mt-1",children:h.data.nodes.map(m=>c(m))})]},f)},u=Object.keys(e).filter(f=>!e[f].data.parent);return d.jsxs("div",{className:"p-4 space-y-2",children:[d.jsxs("div",{className:"text-sm font-medium flex items-center gap-2 px-2",children:[d.jsx(S9,{className:"w-4 h-4"}),"Layers"]}),d.jsx("div",{className:"space-y-1",children:u.map(f=>c(f))})]})};function Ahe(){const e=vn.useValue(),t=nr(e.versionId),n=N.useMemo(()=>t==null?void 0:t.data.pages.find(u=>u.name===e.characterPage),[t,e.characterPage]),[r,i]=N.useState("components"),[o,s]=N.useState(null),{connectors:a}=ps(),{selected:l,actions:c}=ps((u,f)=>{const[h]=u.events.selected;let p;return h&&(p={id:h,name:u.nodes[h].data.name,settings:u.nodes[h].related&&u.nodes[h].related.settings,isDeletable:f.node(h).isDeletable()}),{selected:p}});return t?d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[d.jsx(ft,{id:"page",label:"Page",value:e.characterPage,onChange:PA,children:t.data.pages.map(u=>d.jsx("option",{value:u.name,children:u.name},u.name))}),d.jsxs("button",{type:"button",onClick:()=>Jt(e.versionId,qE(t.data,"character")),className:"ml-2 text-brand-700 border border-brand-700 hover:bg-brand-700 hover:text-white focus:ring-4 focus:outline-none focus:ring-brand-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center me-2 dark:border-brand-500 dark:text-brand-500 dark:hover:text-white dark:focus:ring-brand-800 dark:hover:bg-brand-500",children:[d.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 18",children:d.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 1v16M1 9h16"})}),d.jsx("span",{className:"sr-only",children:"Add Page"})]})]}),d.jsxs(ft,{id:"designer-tab",label:"",value:r,onChange:i,children:[d.jsx("option",{value:"components",children:"Components"}),d.jsx("option",{value:"details",children:"Details"}),d.jsx("option",{value:"state",children:"Page Info"})]}),d.jsx("p",{className:"mb-3",children:"This Tooling is still under heavy development, Please post any bugs on github or discord."}),r==="components"?d.jsxs(d.Fragment,{children:[d.jsx("h4",{className:"",children:"Components"}),d.jsxs("div",{className:"flex flex-col my-4",children:[d.jsxs("div",{className:"flex items-center p-4 border",ref:u=>a.create(u,d.jsx(Ja,{is:Ua,canvas:!0})),children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 mr-4",viewBox:"0 0 512 512",children:[d.jsx("path",{d:"M448 341.37V170.61A32 32 0 00432.11 143l-152-88.46a47.94 47.94 0 00-48.24 0L79.89 143A32 32 0 0064 170.61v170.76A32 32 0 0079.89 369l152 88.46a48 48 0 0048.24 0l152-88.46A32 32 0 00448 341.37z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}),d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M69 153.99l187 110 187-110M256 463.99v-200"})]}),d.jsx("p",{className:"text-sm font-medium capitalize font-body text-white lg:text-lg md:text-base",children:"Container"})]}),d.jsxs("div",{className:"flex items-center p-4 border",ref:u=>a.create(u,d.jsx(Va,{text:"Hi World"})),children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 mr-4",viewBox:"0 0 512 512",children:[d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M32 415.5l120-320 120 320M230 303.5H74M326 239.5c12.19-28.69 41-48 74-48h0c46 0 80 32 80 80v144"}),d.jsx("path",{d:"M320 358.5c0 36 26.86 58 60 58 54 0 100-27 100-106v-15c-20 0-58 1-92 5-32.77 3.86-68 19-68 58z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"})]}),d.jsx("p",{className:"text-sm font-medium capitalize font-body text-white lg:text-lg md:text-base",children:"Text"})]}),d.jsxs("div",{className:"flex items-center p-4 border",ref:u=>a.create(u,d.jsx(Fd,{placeholder:"Search...",blueprint:{nodes:Mr([{name:"searchText",type:"string",isArray:!1}]),edges:[]}})),children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 mr-4",viewBox:"0 0 512 512",children:[d.jsx("path",{d:"M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"32"}),d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M338.29 338.29L448 448"})]}),d.jsx("p",{className:"text-sm font-medium capitalize font-body text-white lg:text-lg md:text-base",children:"Searchbar"})]}),d.jsxs("div",{className:"flex items-center p-4 border",ref:u=>a.create(u,d.jsx(Dd,{})),children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 mr-4",viewBox:"0 0 512 512",children:d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M400 256H112"})}),d.jsx("p",{className:"text-sm font-medium capitalize font-body text-white lg:text-lg md:text-base",children:"Divider"})]}),d.jsxs("div",{className:"flex items-center p-4 border",ref:u=>a.create(u,d.jsx(Ld,{isList:!1,buttons:[],blueprint:{nodes:Mr(),edges:[]}})),children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 mr-4",viewBox:"0 0 512 512",children:[d.jsx("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"32"}),d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 176v160M336 256H176"})]}),d.jsx("p",{className:"text-sm font-medium capitalize font-body text-white lg:text-lg md:text-base",children:"FaB"})]})]})]}):r==="details"&&l?d.jsxs(d.Fragment,{children:[l.settings&&$t.createElement(l.settings),l.isDeletable?d.jsx(kt,{className:"mt-4",color:"danger",onClick:()=>{c.delete(l.id)},children:"Delete"}):null]}):r==="state"?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"inline-flex rounded-md shadow-sm my-2",children:[d.jsx(kt,{color:"danger",disabled:t.data.pages.length<=1,onClick:()=>{Jt(t.local_id,YE(t.data,"character",e.characterPage))},children:"Delete"}),d.jsx(kt,{color:"primary",onClick:()=>Rt("rename-modal",({id:u})=>d.jsx(Js,{id:u,title:"Rename Page",data:e.characterPage,onSave:async f=>{await Jt(e.versionId,GE(t.data,"character",e.characterPage,f)),PA(f)}})),children:"Rename"})]}),d.jsx(kt,{color:"light",onClick:()=>Rt("blueprint",({id:u})=>d.jsx(Ai,{id:u,data:n.blueprint,onSave:f=>Jt(t.local_id,XE(t.data,"character",e.characterPage,f))})),children:"Edit Page Blueprint"}),d.jsxs("div",{className:"flex items-center justify-between my-2 px-2",children:[d.jsx("div",{style:{display:"flex",alignItems:"center"},children:d.jsx("h5",{children:"Page State"})}),d.jsxs("button",{onClick:()=>Jt(t.local_id,KE(t.data,"character",e.characterPage,"newState",{type:"string",isArray:!1,useTextArea:!1,options:[],outputType:"string",isOutputAnArray:!1,inputs:[]})),type:"button",className:"text-brand-700 border border-brand-700 hover:bg-brand-700 hover:text-white focus:ring-4 focus:outline-none focus:ring-brand-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center me-2 dark:border-brand-500 dark:text-brand-500 dark:hover:text-white dark:focus:ring-brand-800 dark:hover:bg-brand-500",children:[d.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 18",children:d.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 1v16M1 9h16"})}),d.jsx("span",{className:"sr-only",children:"Add Page State"})]})]}),d.jsx(nf,{}),d.jsx("div",{children:n==null?void 0:n.state.map(u=>d.jsx("div",{onClick:()=>s(u),children:d.jsxs("p",{children:[u.name," | ",u.type.type,u.type.isArray?"(Array)":""]})},u.name))}),d.jsx(QE,{isOpen:o!==null,requestClose:()=>s(null),data:o,onSave:u=>Jt(t.local_id,JE(t.data,"character",e.characterPage,o.name,{...u,value:void 0})),onDelete:()=>{}})]}):null,r!=="state"?d.jsx(ZE,{}):null]}):d.jsx(d.Fragment,{})}function The(){const{id:e,actions:{setProp:t},label:n,dynamicOptions:r,optionsBlueprint:i,onChange:o,marginTop:s,marginRight:a,marginBottom:l,marginLeft:c,width:u,maxWidth:f,minWidth:h}=Oi(b=>({label:b.data.props.label,dynamicOptions:b.data.props.dynamicOptions,optionsBlueprint:b.data.props.optionsBlueprint,options:b.data.props.options,onChange:b.data.props.onChange,marginTop:b.data.props.marginTop,marginRight:b.data.props.marginRight,marginBottom:b.data.props.marginBottom,marginLeft:b.data.props.marginLeft,width:b.data.props.width,maxWidth:b.data.props.maxWidth,minWidth:b.data.props.minWidth})),[p,v]=N.useState(-1),g=Rx(e);return N.useEffect(()=>{t(b=>(b.optionsBlueprint={edges:b.optionsBlueprint.edges,nodes:is(b.optionsBlueprint.nodes,g)},b.onChange={edges:b.onChange.edges,nodes:is(b.onChange.nodes,g)},b))},[g]),d.jsxs(ym,{children:[d.jsx(ci,{id:"label",title:"Label",isOpen:p===0,toggleState:b=>v(b?0:-1),children:d.jsx(en,{id:"label",label:"Update Label",value:n,onChange:b=>t(m=>m.label=b),isValid:!0,errorMessage:""})}),d.jsxs(ci,{id:"options",title:"Options",isOpen:p===1,toggleState:b=>v(b?1:-1),children:[d.jsx(vr,{id:"dynamic-options",label:"Dynamic Options?",checked:r,onChange:b=>t(m=>m.dynamicOptions=b)}),r?d.jsx(kt,{color:"light",onClick:()=>Rt("blueprint",({id:b})=>d.jsx(Ai,{id:b,data:i,onSave:m=>{t(y=>(y.optionsBlueprint=m,y.onChange={edges:y.onChange.edges,nodes:is(y.onChange.nodes,[...g,{name:"selectedValue",type:vy(m),isArray:!1}])},y))}})),children:"Options Blueprint"}):d.jsx("p",{children:"TODO: handle options."}),d.jsx("div",{className:"h-2"}),d.jsx(kt,{color:"light",onClick:()=>Rt("blueprint",({id:b})=>d.jsx(Ai,{id:b,data:o,onSave:m=>{t(y=>y.onChange=m)}})),children:"onChange Blueprint"})]}),d.jsxs(ci,{id:"spacing",title:"Spacing",isOpen:p===2,toggleState:b=>v(b?2:-1),children:[d.jsx(ft,{id:"margin-top",label:"Margin Top",value:s,onChange:b=>t(m=>m.marginTop=b),children:Object.keys(Ke.spacing).map(b=>d.jsx("option",{value:b,children:b},b))}),d.jsx(ft,{id:"margin-right",label:"Margin Right",value:a,onChange:b=>t(m=>m.marginRight=b),children:Object.keys(Ke.spacing).map(b=>d.jsx("option",{value:b,children:b},b))}),d.jsx(ft,{id:"margin-bottom",label:"Margin Bottom",value:l,onChange:b=>t(m=>m.marginBottom=b),children:Object.keys(Ke.spacing).map(b=>d.jsx("option",{value:b,children:b},b))}),d.jsx(ft,{id:"margin-left",label:"Margin Left",value:c,onChange:b=>t(m=>m.marginTop=b),children:Object.keys(Ke.spacing).map(b=>d.jsx("option",{value:b,children:b},b))}),d.jsx(ft,{id:"width",label:"Width",value:u,onChange:b=>t(m=>m.width=b),children:Object.keys(Ke.size).map(b=>d.jsx("option",{value:b,children:b},b))}),d.jsx(ft,{id:"max-width",label:"Max Width",value:f,onChange:b=>t(m=>m.maxWidth=b),children:Object.keys(Ke.size).map(b=>d.jsx("option",{value:b,children:b},b))}),d.jsx(ft,{id:"min-width",label:"Min Width",value:h,onChange:b=>t(m=>m.minWidth=b),children:Object.keys(Ke.size).map(b=>d.jsx("option",{value:b,children:b},b))})]})]})}function Ky(e){var i;const{connectors:{connect:t,drag:n}}=Oi(),r=N.useMemo(()=>[],[]);return d.jsx(ft,{ref:o=>t(n(o)),style:{marginTop:Ke.spacing[e.marginTop],marginRight:Ke.spacing[e.marginRight],marginBottom:Ke.spacing[e.marginBottom],marginLeft:Ke.spacing[e.marginLeft],width:Ke.size[e.width],maxWidth:Ke.size[e.maxWidth],minWidth:Ke.size[e.minWidth]},id:e.label,label:e.label,value:(i=r[0])==null?void 0:i.name,onChange:()=>{},children:r.map(o=>d.jsx("option",{children:o.name},o.name))})}const Rhe={defaultProps:{label:"Select",dynamicOptions:!1,optionsBlueprint:{nodes:Mr([],{name:"options",type:"any",isArray:!0}),edges:[]},options:[],onChange:{nodes:Mr([{name:"selectedValue",type:"object",isArray:!1}]),edges:[]},marginTop:"0",marginRight:"0",marginBottom:"0",marginLeft:"0",width:"auto",maxWidth:"none",minWidth:"none",local:[]},rules:{},related:{settings:The}};Ky.craft=Rhe;function Ihe(){const{id:e,actions:{setProp:t},label:n,type:r,minNumber:i,maxNumber:o,getValue:s,onChange:a,marginTop:l,marginRight:c,marginBottom:u,marginLeft:f,width:h,maxWidth:p,minWidth:v}=Oi(y=>({label:y.data.props.label,type:y.data.props.type,minNumber:y.data.props.minNumber,maxNumber:y.data.props.maxNumber,getValue:y.data.props.getValue,onChange:y.data.props.onChange,marginTop:y.data.props.marginTop,marginRight:y.data.props.marginRight,marginBottom:y.data.props.marginBottom,marginLeft:y.data.props.marginLeft,width:y.data.props.width,maxWidth:y.data.props.maxWidth,minWidth:y.data.props.minWidth})),[g,b]=N.useState(-1),m=Rx(e);return N.useEffect(()=>{t(y=>{y.getValue={edges:y.getValue.edges,nodes:is(y.getValue.nodes,m,{name:"value",type:r==="text"?"string":"number",isArray:!1})},y.onChange={edges:y.onChange.edges,nodes:is(y.onChange.nodes,[...m,{name:"field value",type:r==="text"?"string":"number",isArray:!1}])}})},[m]),d.jsxs(ym,{children:[d.jsx(ci,{id:"label",title:"Label",isOpen:g===0,toggleState:y=>b(y?0:-1),children:d.jsx(en,{id:"label",label:"Update Label",value:n,onChange:y=>t(x=>x.label=y),isValid:!0,errorMessage:""})}),d.jsxs(ci,{id:"data",title:"Data",isOpen:g===1,toggleState:y=>b(y?1:-1),children:[d.jsx(ft,{id:"input-type",label:"Type",value:r,onChange:y=>{t(x=>(x.type=y,x.getValue.nodes=is(x.getValue.nodes,m,{name:"value",type:y==="text"?"string":"number",isArray:!1}),x.onChange.nodes=is(x.onChange.nodes,[...m,{name:"field value",type:y==="text"?"string":"number",isArray:!1}]),x))},children:["text","number"].map(y=>d.jsx("option",{value:y,children:y},y))}),r==="number"&&d.jsxs(d.Fragment,{children:[d.jsx(en,{id:"min-number",label:"Min Number",type:"number",value:i,onChange:y=>t(x=>x.minNumber=y),isValid:!0,errorMessage:""}),d.jsx(en,{id:"max-number",label:"Max Number",type:"number",value:o,onChange:y=>t(x=>x.maxNumber=y),isValid:!0,errorMessage:""})]}),d.jsx(kt,{color:"light",onClick:()=>Rt("blueprint",({id:y})=>d.jsx(Ai,{id:y,data:s,onSave:x=>{t(k=>k.getValue=x)}})),children:"Get Value Blueprint"}),d.jsx(kt,{color:"light",onClick:()=>Rt("blueprint",({id:y})=>d.jsx(Ai,{id:y,data:a,onSave:x=>{t(k=>k.onChange=x)}})),children:"onChange Blueprint"})]}),d.jsxs(ci,{id:"spacing",title:"Spacing",isOpen:g===2,toggleState:y=>b(y?2:-1),children:[d.jsx(ft,{id:"margin-top",label:"Margin Top",value:l,onChange:y=>t(x=>x.marginTop=y),children:Object.keys(Ke.spacing).map(y=>d.jsx("option",{value:y,children:y},y))}),d.jsx(ft,{id:"margin-right",label:"Margin Right",value:c,onChange:y=>t(x=>x.marginRight=y),children:Object.keys(Ke.spacing).map(y=>d.jsx("option",{value:y,children:y},y))}),d.jsx(ft,{id:"margin-bottom",label:"Margin Bottom",value:u,onChange:y=>t(x=>x.marginBottom=y),children:Object.keys(Ke.spacing).map(y=>d.jsx("option",{value:y,children:y},y))}),d.jsx(ft,{id:"margin-left",label:"Margin Left",value:f,onChange:y=>t(x=>x.marginTop=y),children:Object.keys(Ke.spacing).map(y=>d.jsx("option",{value:y,children:y},y))}),d.jsx(ft,{id:"width",label:"Width",value:h,onChange:y=>t(x=>x.width=y),children:Object.keys(Ke.size).map(y=>d.jsx("option",{value:y,children:y},y))}),d.jsx(ft,{id:"max-width",label:"Max Width",value:p,onChange:y=>t(x=>x.maxWidth=y),children:Object.keys(Ke.size).map(y=>d.jsx("option",{value:y,children:y},y))}),d.jsx(ft,{id:"min-width",label:"Min Width",value:v,onChange:y=>t(x=>x.minWidth=y),children:Object.keys(Ke.size).map(y=>d.jsx("option",{value:y,children:y},y))})]})]})}function Yy(e){const{connectors:{connect:t,drag:n}}=Oi();return d.jsx(en,{ref:r=>t(n(r)),style:{marginTop:Ke.spacing[e.marginTop],marginRight:Ke.spacing[e.marginRight],marginBottom:Ke.spacing[e.marginBottom],marginLeft:Ke.spacing[e.marginLeft],width:Ke.size[e.width],maxWidth:Ke.size[e.maxWidth],minWidth:Ke.size[e.minWidth]},type:e.type,minNumber:e.minNumber,maxNumber:e.maxNumber,isValid:!0,errorMessage:"",id:e.label,label:e.label,value:"",onChange:()=>{}})}const Phe={defaultProps:{label:"Select",type:"text",minNumber:0,maxNumber:100,getValue:{nodes:Mr([],{name:"value",type:"string",isArray:!1}),edges:[]},onChange:{nodes:Mr([{name:"field value",type:"string",isArray:!1}]),edges:[]},marginTop:"0",marginRight:"0",marginBottom:"0",marginLeft:"0",width:"auto",maxWidth:"none",minWidth:"none",local:[]},rules:{},related:{settings:Ihe}};Yy.craft=Phe;const Ohe=()=>{const e=vn.useValue(),t=nr(e.versionId),n=N.useMemo(()=>t==null?void 0:t.data.creator.find(h=>h.name===e.creatorPage),[t,e.creatorPage]),[r,i]=N.useState("components"),[o,s]=N.useState(null),[a,l]=N.useState(null),{connectors:c}=ps(),{selected:u,actions:f}=ps((h,p)=>{const[v]=h.events.selected;let g;return v&&(g={id:v,name:h.nodes[v].data.name,settings:h.nodes[v].related&&h.nodes[v].related.settings,isDeletable:p.node(v).isDeletable()}),{selected:g}});return t?d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[d.jsx(ft,{id:"page",label:"Page",value:e.creatorPage,onChange:IA,children:t.data.creator.map(h=>d.jsx("option",{value:h.name,children:h.name},h.name))}),d.jsxs("button",{type:"button",onClick:()=>Jt(t.local_id,qE(t.data,"builder")),className:"ml-2 text-fantasy-accent border border-fantasy-accent hover:bg-fantasy-accent hover:text-white focus:ring-4 focus:outline-none focus:ring-brand-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center me-2 dark:border-brand-500 dark:text-brand-500 dark:hover:text-white dark:focus:ring-brand-800 dark:hover:bg-brand-500",children:[d.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 18",children:d.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 1v16M1 9h16"})}),d.jsx("span",{className:"sr-only",children:"Add Page"})]})]}),d.jsxs(ft,{id:"designer-tab",label:"",value:r,onChange:i,children:[d.jsx("option",{value:"components",children:"Components"}),d.jsx("option",{value:"details",children:"Details"}),d.jsx("option",{value:"state",children:"Page Info"})]}),d.jsx("p",{className:"mb-3",children:"This Tooling is still under heavy development, Please post any bugs on github or discord."}),r==="components"?d.jsxs(d.Fragment,{children:[d.jsx("h4",{className:"",children:"Components"}),d.jsxs("div",{className:"flex flex-col my-4",children:[d.jsxs("div",{className:"flex items-center p-4 border",ref:h=>c.create(h,d.jsx(Ja,{is:Ua,canvas:!0})),children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 mr-4",viewBox:"0 0 512 512",children:[d.jsx("path",{d:"M448 341.37V170.61A32 32 0 00432.11 143l-152-88.46a47.94 47.94 0 00-48.24 0L79.89 143A32 32 0 0064 170.61v170.76A32 32 0 0079.89 369l152 88.46a48 48 0 0048.24 0l152-88.46A32 32 0 00448 341.37z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}),d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M69 153.99l187 110 187-110M256 463.99v-200"})]}),d.jsx("p",{className:"text-sm font-medium capitalize font-body text-white lg:text-lg md:text-base",children:"Container"})]}),d.jsxs("div",{className:"flex items-center p-4 border",ref:h=>c.create(h,d.jsx(Va,{text:"Hi World"})),children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 mr-4",viewBox:"0 0 512 512",children:[d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M32 415.5l120-320 120 320M230 303.5H74M326 239.5c12.19-28.69 41-48 74-48h0c46 0 80 32 80 80v144"}),d.jsx("path",{d:"M320 358.5c0 36 26.86 58 60 58 54 0 100-27 100-106v-15c-20 0-58 1-92 5-32.77 3.86-68 19-68 58z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"})]}),d.jsx("p",{className:"text-sm font-medium capitalize font-body text-white lg:text-lg md:text-base",children:"Text"})]}),d.jsxs("div",{className:"flex items-center p-4 border",ref:h=>c.create(h,d.jsx(Fd,{placeholder:"Search...",blueprint:{nodes:Mr([{name:"searchText",type:"string",isArray:!1}]),edges:[]}})),children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 mr-4",viewBox:"0 0 512 512",children:[d.jsx("path",{d:"M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"32"}),d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M338.29 338.29L448 448"})]}),d.jsx("p",{className:"text-sm font-medium capitalize font-body text-white lg:text-lg md:text-base",children:"Searchbar"})]}),d.jsxs("div",{className:"flex items-center p-4 border",ref:h=>c.create(h,d.jsx(Ky,{})),children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 mr-4",viewBox:"0 0 512 512",children:[d.jsx("path",{d:"M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"32"}),d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M338.29 338.29L448 448"})]}),d.jsx("p",{className:"text-sm font-medium capitalize font-body text-white lg:text-lg md:text-base",children:"Select"})]}),d.jsxs("div",{className:"flex items-center p-4 border",ref:h=>c.create(h,d.jsx(Yy,{})),children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 mr-4",viewBox:"0 0 512 512",children:[d.jsx("path",{d:"M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"32"}),d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M338.29 338.29L448 448"})]}),d.jsx("p",{className:"text-sm font-medium capitalize font-body text-white lg:text-lg md:text-base",children:"Text Input"})]}),d.jsxs("div",{className:"flex items-center p-4 border",ref:h=>c.create(h,d.jsx(Dd,{})),children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 mr-4",viewBox:"0 0 512 512",children:d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M400 256H112"})}),d.jsx("p",{className:"text-sm font-medium capitalize font-body text-white lg:text-lg md:text-base",children:"Divider"})]}),d.jsxs("div",{className:"flex items-center p-4 border",ref:h=>c.create(h,d.jsx(Ld,{isList:!1,buttons:[],blueprint:{nodes:Mr(),edges:[]}})),children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 mr-4",viewBox:"0 0 512 512",children:[d.jsx("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"32"}),d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 176v160M336 256H176"})]}),d.jsx("p",{className:"text-sm font-medium capitalize font-body text-white lg:text-lg md:text-base",children:"FaB"})]})]})]}):r==="details"&&u?d.jsxs(d.Fragment,{children:[u.settings&&$t.createElement(u.settings),u.isDeletable?d.jsx(kt,{className:"mt-4",color:"danger",onClick:()=>{f.delete(u.id)},children:"Delete"}):null]}):r==="state"?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"inline-flex rounded-md shadow-sm my-2",children:[d.jsx(kt,{color:"danger",disabled:t.data.pages.length<=1,onClick:()=>{Jt(t.local_id,YE(t.data,"builder",e.creatorPage))},children:"Delete"}),d.jsx(kt,{color:"light",onClick:()=>Rt("rename-page",({id:h})=>d.jsx(Js,{id:h,title:"Rename Page",data:e.characterPage,onSave:async p=>{await Jt(e.versionId,GE(t.data,"character",e.characterPage,p)),IA(p)}})),children:"Rename"})]}),d.jsx(kt,{color:"light",onClick:()=>Rt("blueprint",({id:h})=>d.jsx(Ai,{id:h,data:n.blueprint,onSave:p=>Jt(t.local_id,XE(t.data,"builder",e.creatorPage,p))})),children:"Edit Page Blueprint"}),d.jsxs("div",{className:"flex items-center justify-between my-2 px-2",children:[d.jsx("div",{style:{display:"flex",alignItems:"center"},children:d.jsx("h5",{children:"Page State"})}),d.jsxs("button",{onClick:()=>Jt(t.local_id,KE(t.data,"builder",e.creatorPage,"newState",{type:"string",isArray:!1,useTextArea:!1,options:[],inputs:[],outputType:"none",isOutputAnArray:!1})),type:"button",className:"text-brand-700 border border-brand-700 hover:bg-brand-700 hover:text-white focus:ring-4 focus:outline-none focus:ring-brand-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center me-2 dark:border-brand-500 dark:text-brand-500 dark:hover:text-white dark:focus:ring-brand-800 dark:hover:bg-brand-500",children:[d.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 18",children:d.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 1v16M1 9h16"})}),d.jsx("span",{className:"sr-only",children:"Add Page State"})]})]}),d.jsx(nf,{}),d.jsx("div",{className:"pt-2 flex flex-col gap-y-2",children:n==null?void 0:n.state.map(h=>d.jsx("div",{className:"bg-neutral-50 border border-neutral-300 text-neutral-900 p-2.5 dark:bg-neutral-700 dark:border-neutral-600 dark:text-white",onClick:()=>s(h),children:d.jsxs("p",{children:[h.name," | ",h.type.type,h.type.isArray?"(Array)":""]})},h.name))}),d.jsx(QE,{isOpen:o!==null,requestClose:()=>s(null),data:o,onSave:h=>Jt(t.local_id,JE(t.data,"builder",e.creatorPage,o.name,{...h,value:void 0})),onDelete:()=>{}})]}):null,r!=="state"?d.jsx(ZE,{}):null]}):d.jsx(d.Fragment,{})};function Mhe({versionEdits:e}){const t=vn.useValue(),n=N.useMemo(()=>e==null?void 0:e.data.modals.find(u=>u.name===t.modalsPage),[e,t.modalsPage]),[r,i]=N.useState("components"),[o,s]=N.useState(null),{selected:a,actions:l,connectors:c}=ps((u,f)=>{const[h]=u.events.selected;let p;return h&&(p={id:h,name:u.nodes[h].data.name,settings:u.nodes[h].related&&u.nodes[h].related.settings,isDeletable:f.node(h).isDeletable()}),{selected:p}});return e?d.jsxs(d.Fragment,{children:[d.jsxs("div",{style:{display:"flex",alignItems:"center"},children:[d.jsx(ft,{id:"page",label:"Page",value:t.modalsPage,onChange:OA,children:e.data.modals.map(u=>d.jsx("option",{value:u.name,children:u.name},u.name))}),d.jsxs("button",{type:"button",onClick:()=>Jt(t.versionId,qE(e.data,"modal")),className:"ml-2 text-fantasy-accent border border-fantasy-border hover:bg-fantasy-accent-dark focus:ring-4 focus:outline-none focus:ring-fantasy-accent font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center me-2",children:[d.jsx("svg",{className:"w-5 h-5","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 18",children:d.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 1v16M1 9h16"})}),d.jsx("span",{className:"sr-only",children:"Add Page"})]})]}),d.jsxs(ft,{id:"designer-tab",label:"",value:r,onChange:i,children:[d.jsx("option",{value:"components",children:"Components"}),d.jsx("option",{value:"details",children:"Details"}),d.jsx("option",{value:"state",children:"Page Info"})]}),d.jsx("p",{className:"mb-3",children:"This Tooling is still under heavy development, Please post any bugs on github or discord."}),r==="components"?d.jsxs(d.Fragment,{children:[d.jsx("h4",{className:"",children:"Components"}),d.jsxs("div",{className:"flex flex-col my-4",children:[d.jsxs("div",{className:"flex items-center p-4 border",ref:u=>c.create(u,d.jsx(Ja,{is:Ua,canvas:!0})),children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 mr-4",viewBox:"0 0 512 512",children:[d.jsx("path",{d:"M448 341.37V170.61A32 32 0 00432.11 143l-152-88.46a47.94 47.94 0 00-48.24 0L79.89 143A32 32 0 0064 170.61v170.76A32 32 0 0079.89 369l152 88.46a48 48 0 0048.24 0l152-88.46A32 32 0 00448 341.37z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"}),d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M69 153.99l187 110 187-110M256 463.99v-200"})]}),d.jsx("p",{className:"text-sm font-medium capitalize font-body text-white lg:text-lg md:text-base",children:"Container"})]}),d.jsxs("div",{className:"flex items-center p-4 border",ref:u=>c.create(u,d.jsx(Va,{text:"Hi World"})),children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 mr-4",viewBox:"0 0 512 512",children:[d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M32 415.5l120-320 120 320M230 303.5H74M326 239.5c12.19-28.69 41-48 74-48h0c46 0 80 32 80 80v144"}),d.jsx("path",{d:"M320 358.5c0 36 26.86 58 60 58 54 0 100-27 100-106v-15c-20 0-58 1-92 5-32.77 3.86-68 19-68 58z",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32"})]}),d.jsx("p",{className:"text-sm font-medium capitalize font-body text-white lg:text-lg md:text-base",children:"Text"})]}),d.jsxs("div",{className:"flex items-center p-4 border",ref:u=>c.create(u,d.jsx(Fd,{placeholder:"Search...",blueprint:{nodes:Mr([{name:"searchText",type:"string",isArray:!1}]),edges:[]}})),children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 mr-4",viewBox:"0 0 512 512",children:[d.jsx("path",{d:"M221.09 64a157.09 157.09 0 10157.09 157.09A157.1 157.1 0 00221.09 64z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"32"}),d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeMiterlimit:"10",strokeWidth:"32",d:"M338.29 338.29L448 448"})]}),d.jsx("p",{className:"text-sm font-medium capitalize font-body text-white lg:text-lg md:text-base",children:"Searchbar"})]}),d.jsxs("div",{className:"flex items-center p-4 border",ref:u=>c.create(u,d.jsx(Dd,{})),children:[d.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 mr-4",viewBox:"0 0 512 512",children:d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M400 256H112"})}),d.jsx("p",{className:"text-sm font-medium capitalize font-body text-white lg:text-lg md:text-base",children:"Divider"})]}),d.jsxs("div",{className:"flex items-center p-4 border",ref:u=>c.create(u,d.jsx(Ld,{isList:!1,buttons:[],blueprint:{nodes:Mr(),edges:[]}})),children:[d.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"w-8 h-8 mr-4",viewBox:"0 0 512 512",children:[d.jsx("path",{d:"M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z",fill:"none",stroke:"currentColor",strokeMiterlimit:"10",strokeWidth:"32"}),d.jsx("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"32",d:"M256 176v160M336 256H176"})]}),d.jsx("p",{className:"text-sm font-medium capitalize font-body text-white lg:text-lg md:text-base",children:"FaB"})]})]})]}):r==="details"&&a?d.jsxs(d.Fragment,{children:[a.settings&&$t.createElement(a.settings),a.isDeletable?d.jsx(kt,{className:"mt-4",color:"danger",onClick:()=>{l.delete(a.id)},children:"Delete"}):null]}):r==="state"?d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:"inline-flex rounded-md shadow-sm my-2",children:[d.jsx(kt,{color:"danger",disabled:e.data.pages.length<=1,onClick:()=>{Jt(t.versionId,YE(e.data,"modal",t.modalsPage))},children:"Delete"}),d.jsx(kt,{color:"primary",onClick:()=>Rt("rename-modal",({id:u})=>d.jsx(Js,{id:u,title:"Rename Page",data:t.modalsPage,onSave:async f=>{await Jt(t.versionId,GE(e.data,"modal",t.modalsPage,f)),OA(f)}})),children:"Rename"})]}),d.jsx(kt,{color:"light",onClick:()=>Rt("blueprint",({id:u})=>d.jsx(Ai,{id:u,data:n.blueprint,onSave:f=>Jt(e.local_id,XE(e.data,"modal",t.modalsPage,f))})),children:"Edit Page Blueprint"}),d.jsxs("div",{className:"flex items-center justify-between my-2 px-2",children:[d.jsx("div",{style:{display:"flex",alignItems:"center"},children:d.jsx("h5",{children:"Page State"})}),d.jsxs("button",{onClick:()=>Jt(e.local_id,KE(e.data,"modal",t.modalsPage,"newState",{type:"string",isArray:!1,useTextArea:!1,options:[],outputType:"string",isOutputAnArray:!1,inputs:[]})),type:"button",className:"text-brand-700 border border-brand-700 hover:bg-brand-700 hover:text-white focus:ring-4 focus:outline-none focus:ring-brand-300 font-medium rounded-lg text-sm p-2.5 text-center inline-flex items-center me-2 dark:border-brand-500 dark:text-brand-500 dark:hover:text-white dark:focus:ring-brand-800 dark:hover:bg-brand-500",children:[d.jsx("svg",{className:"w-4 h-4","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 18 18",children:d.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 1v16M1 9h16"})}),d.jsx("span",{className:"sr-only",children:"Add Page State"})]})]}),d.jsx(nf,{}),d.jsx("div",{children:n==null?void 0:n.state.map(u=>d.jsx("div",{onClick:()=>s(u),children:d.jsxs("p",{children:[u.name," | ",u.type.type,u.type.isArray?"(Array)":""]})},u.name))}),d.jsx(QE,{isOpen:o!==null,requestClose:()=>s(null),data:o,onSave:u=>Jt(e.local_id,JE(e.data,"modal",t.modalsPage,o.name,{...u,value:void 0})),onDelete:()=>{}})]}):null,r!=="state"?d.jsx(ZE,{}):null]}):d.jsx("p",{children:"loading..."})}function $he(){const e=vn.useValue(),t=nr(e.versionId);return t?d.jsx("aside",{className:"bg-fantasy-glass backdrop-blur-lg border-l border-fantasy-border shadow-2xl fixed top-0 right-0 z-40 w-64 h-screen transition-transform translate-x-full lg:-translate-x-0","aria-label":"Editor Sidebar",children:d.jsxs("div",{className:"h-full flex flex-col px-3 py-4 overflow-y-auto",children:[d.jsx("div",{className:"py-4 mb-4 border-b border-neutral-200 dark:border-neutral-700",children:d.jsx("span",{className:"self-center text-xl font-semibold whitespace-nowrap dark:text-white",children:"Details"})}),e.tab==="character"?d.jsx("p",{children:"Default Character data, used for types in GetCharacterData nodes and such."}):e.tab==="data"?d.jsx("p",{children:"Custom data for the system (Items, classes, etc.)"}):e.tab==="types"?d.jsx("p",{children:"The data types for everything in this system."}):e.tab==="editor"?d.jsx(Ahe,{}):e.tab==="creator"?d.jsx(Ohe,{}):e.tab==="modals"?d.jsx(Mhe,{versionEdits:t}):e.tab==="actions"&&d.jsx("p",{children:"Quick actions such as long rest, reset spell slots, ect."})]})}):d.jsx(d.Fragment,{})}const Dhe="eyJST09UIjp7InR5cGXECHJlc29sdmVkTmFtZSI6IkNvbnRhaW5lciJ9LCJpc0NhbnZhcyI6dHJ1ZSwicHJvcHPENXNob3dQbGFjZWhvbGRlcsggZHluYW1pY1Zpc2liaWxpdHkiOmZhbHNlLCJ2yRNCbHVlcHJpbnTESG5vZGVzIjpbeyJpZCI6IjEiLOcAmCJlbnRyeSIsImRhdGHEKnBhcmFtxCtdfSwicG9zaXRpb27EGXgiOjEwMCwiecUIfX0sx0wyykxvdXRwdXTQTcQJbuYA9Wlz5QCzbGXKNGJvb2xlYW4i5AEFQXJyYegAy33SfzI1y39dLCJlZGflANXkAKrKWucBI2lzTGlzdMdN5gCS5wF6bGlzdEl0ZW0iLCJi/wEk/wEk/wEk/wEk9wEk6wCfxzNhbsR96QEf5ADg/wEe8AEebG9jYWzEDMRHSW50ZXJhY3RpdmXpAR9vblByZXPlAnP/AQf/AQf1AQfvAI5kaXNwbOQAyiJmbGV4Isw8InN0YXRpY8R0b3AiOiIwcMQgcmlnaHTJDmJvdHRvbckPbGVmyhzEUURpcmVjx09jb2x1beQCXWFsaWdu5AFXcyI6Im5vcm1hbCIsImp1c3RpZnnkA4xl5AIFImluaXRpxRtnYeUAgMR+b3dzIjowLMdNxgxtYXJnaW5U5gClIsgQUugAqckSQukArckTTOcAseQA+WFkZGluZ8ZHNMoRyEjLE8lJyxTHSsQSaGXHM2F1dG8iLCJ3aWR0aMoPbWF4SMgibm9u5AOAbWF4V8clyBJpbtElaW7PJWJhY2tncm91buQCHW5vIHN0eeUDz2JvcuUEocwUaG92zhPqAf3xBQYsImN1c+UA4nt9LCJoaWRkZW7pAp/oApQiNnk0Si1UMzV1diJdLCJsaW5rZWROxh175AMUTmR2cFBQMVVzMvsFe1RleHTuBXbHZ+kFd3VzZekFP1ZhbHXqAyn/BDL/Ayv/Ayv/BDL4BDLJIccxc3RyaW5n/wVS/wQ0LCJ05AEm5AEtc3RpbmcgdGhlIHdvcmxk5AGqb2xv5AHYYmFz5AHnZm9udFNpesR7xxLEPEHkA3LkBNDkAqXGE0RlY29yYecDm+cCUMQYVHJhbnNmb3LkAt/HF/8DYP8DYPUDYMsRzEjwA2DLFMlK8QK45QJD7gKzcGFy5gRE5Qf5+QLD9QK36wLX/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3fQ==",Fhe=({versionedResource:e})=>{const t=vn.useValue(),{actions:n}=ps();return N.useEffect(()=>{var i;let r=(i=e.data.creator.find(o=>o.name===t.creatorPage))==null?void 0:i.lexical;r||(r=Dhe),n.deserialize(Fo.decompress(Fo.decodeBase64(r)))},[t.creatorPage]),d.jsx("div",{className:"mt-3 border-2 border-neutral-200 border-dashed rounded-lg dark:border-neutral-700",children:d.jsx(xE,{children:d.jsx(Ja,{is:Ua,canvas:!0,children:d.jsx(Va,{text:"Testing the world"})})})})};function Lhe(e){return na(()=>it.systems.get(e||""),[e])}function o8(e){const t=na(()=>it.versions.get(e||""),[e]);if(t)return{...t,data:t==null?void 0:t.data}}const Bhe="eyJST09UIjp7InR5cGXECHJlc29sdmVkTmFtZSI6IkNvbnRhaW5lciJ9LCJpc0NhbnZhcyI6dHJ1ZSwicHJvcHPENXNob3dQbGFjZWhvbGRlcsggZHluYW1pY1Zpc2liaWxpdHkiOmZhbHNlLCJ2yRNCbHVlcHJpbnTESG5vZGVzIjpbeyJpZCI6IjEiLOcAmCJlbnRyeSIsImRhdGHEKnBhcmFtxCtdfSwicG9zaXRpb27EGXgiOjEwMCwiecUIfX0sx0wyykxvdXRwdXTQTcQJbuYA9Wlz5QCzbGXKNGJvb2xlYW4i5AEFQXJyYegAy33SfzI1y39dLCJlZGflANXkAKrKWucBI2lzTGlzdMdN5gCS5wF6bGlzdEl0ZW0iLCJi/wEk/wEk/wEk/wEk9wEk6wCfxzNhbsR96QEf5ADg/wEe8AEebG9jYWzEDMRHSW50ZXJhY3RpdmXpAR9vblByZXPlAnP/AQf/AQf1AQfvAI5kaXNwbOQAyiJmbGV4Isw8InN0YXRpY8R0b3AiOiIwcMQgcmlnaHTJDmJvdHRvbckPbGVmyhzEUURpcmVjx09jb2x1beQCXWFsaWdu5AFXcyI6Im5vcm1hbCIsImp1c3RpZnnkA4xl5AIFImluaXRpxRtnYeUAgMR+b3dzIjowLMdNxgxtYXJnaW5U5gClIsgQUugAqckSQukArckTTOcAseQA+WFkZGluZ8ZHNMoRyEjLE8lJyxTHSsQSaGXHM2F1dG8iLCJ3aWR0aMoPbWF4SMgibm9u5AOAbWF4V8clyBJpbtElaW7PJWJhY2tncm91buQCHW5vIHN0eeUDz2JvcuUEocwUaG92zhPqAf3xBQYsImN1c+UA4nt9LCJoaWRkZW7pAp/oApQiNnk0Si1UMzV1diJdLCJsaW5rZWROxh175AMUTmR2cFBQMVVzMvsFe1RleHTuBXbHZ+kFd3VzZekFP1ZhbHXqAyn/BDL/Ayv/Ayv/BDL4BDLJIccxc3RyaW5n/wVS/wQ0LCJ05AEm5AEtc3RpbmcgdGhlIHdvcmxk5AGqb2xv5AHYYmFz5AHnZm9udFNpesR7xxLEPEHkA3LkBNDkAqXGE0RlY29yYecDm+cCUMQYVHJhbnNmb3LkAt/HF/8DYP8DYPUDYMsRzEjwA2DLFMlK8QK45QJD7gKzcGFy5gRE5Qf5+QLD9QK36wLX/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3/wK3fQ==",zhe=({versionedResource:e})=>{const t=vn.useValue(),{actions:n}=ps();return N.useEffect(()=>{var o;const r=e.data.modals.find(s=>s.name===t.modalsPage);if(!r){console.warn("Modal page not found:",t.modalsPage);return}let i=(o=r.lexical)!=null?o:Bhe;n.deserialize(Fo.decompress(Fo.decodeBase64(i)))},[t.modalsPage]),d.jsx("div",{className:"mt-3 border-2 border-neutral-200 border-dashed rounded-lg dark:border-neutral-700",children:d.jsx(xE,{children:d.jsx(Ja,{is:Ua,canvas:!0,children:d.jsx(Va,{text:"Testing the world"})})})})},Hhe=async(e,t)=>En(e,n=>{n.actions||(n.actions=[]),!n.actions.find(r=>r.name===t)&&n.actions.push({name:t,description:"A new action!",blueprint:{nodes:Mr(),edges:[]}})}),Whe=async(e,t)=>En(e,n=>{n.actions||(n.actions=[]);const r=n.actions.findIndex(i=>i.name===t);r!==-1&&n.actions.splice(r,1)}),Uhe=async(e,t,n)=>En(e,r=>{r.actions||(r.actions=[]);const i=r.actions.findIndex(o=>o.name===t);i!==-1&&(r.actions[i].blueprint=n)}),Vhe=async(e,t,n)=>En(e,r=>{r.actions||(r.actions=[]);const i=r.actions.findIndex(o=>o.name===t);i!==-1&&(r.actions[i].description=n)}),qhe=async(e,t,n)=>En(e,r=>{r.actions||(r.actions=[]);const i=r.actions.findIndex(o=>o.name===t);i!==-1&&(r.actions[i].name=n)}),Khe=({editsId:e,versionedResource:t})=>{var n;return d.jsxs(d.Fragment,{children:[d.jsx("div",{className:"flex flex-col gap-2",children:(n=t.data.actions)==null?void 0:n.map((r,i)=>d.jsxs("div",{className:"flex bg-neutral-700 rounded border border-neutral-600 p-3",children:[d.jsxs("div",{className:"flex flex-col flex-grow gap-1",children:[d.jsx("p",{children:r.name}),d.jsx("p",{children:r.description})]}),d.jsx(t8,{label:"Edit",onClick:()=>Rt("blueprint",({id:o})=>d.jsx(Ai,{id:o,data:r.blueprint,onSave:s=>Jt(e,Uhe(t.data,r.name,s))})),options:[{label:"Rename",onClick:()=>Rt("edit-string",({id:o})=>d.jsx(Js,{id:o,title:"Edit Action Name",data:r.name,onSave:s=>Jt(e,qhe(t.data,r.name,s))}))},{label:"Change Description",onClick:()=>Rt("edit-string",({id:o})=>d.jsx(Js,{id:o,title:"Edit Action Description",data:r.description,onSave:s=>Jt(e,Vhe(t.data,r.name,s))}))},{label:"delete",onClick:()=>Rt("confirm",({id:o})=>d.jsx(Ul,{id:o,title:"Delete Action",type:"danger",message:"Are you sure you want to delete this action?",onConfirm:()=>Jt(e,Whe(t.data,r.name))}))}]})]},i))}),d.jsx(du,{onClick:async()=>{await Jt(e,Hhe(t.data,"New Action"))}})]})},s8=({id:e,original:t,edits:n,edits_id:r})=>{const i=N.useCallback(()=>cr(e),[e]);let o=su();return d.jsxs(Vn,{isOpen:!0,onClose:i,children:[d.jsx(Kn,{title:"Save New Version",onClose:i}),d.jsxs(qn,{children:[d.jsx("p",{children:'All of your changes are saved to a hidden "edits" copy of this version as you make them. This only saves your changes to a new public copy so that characters can use them.'}),d.jsx("p",{children:"Are you sure you'd like to save your changes to a new version."})]}),d.jsxs(yr,{children:[d.jsx(kt,{color:"light",onClick:i,children:"Close"}),d.jsx(kt,{color:"primary",onClick:async()=>{const s=await J_(n);if(!s)return Un("Error creating new version from edits","error");if(!await UE(s.reference_type,s.reference_id,s.local_id,!1))return qy(s.local_id,!0),Un("Error creating subscription to new version, cleaning up...","error");t?await J_(t,r,!0):Un("Error finding original??? Please open a ticket for this :).","error"),Un("Success Creating "),o("/library"),i()},children:"Confirm"})]})]})},Yhe=()=>{const{id:e}=vS();su();const t=N.useMemo(()=>e?"".concat(e,"|edits"):void 0,[e]),n=o8(e),r=nr(t),i=Lhe(r==null?void 0:r.reference_id),o=vn.useValue();N.useEffect(()=>{if(!t||t===o.versionId)return;const l=(r==null?void 0:r.data.pages[0].name)||"",c=(r==null?void 0:r.data.creator[0].name)||"",u=(r==null?void 0:r.data.modals[0].name)||"";vn.set(f=>({...f,versionId:t,characterPage:l,creatorPage:c,modalsPage:u}))},[t,o,r]),N.useEffect(()=>{var u,f,h;let l=!1,c={characterPage:o.characterPage,creatorPage:o.creatorPage,modalsPage:o.modalsPage};r!=null&&r.data.pages.find(p=>p.name===o.characterPage)||(c.characterPage=((u=r==null?void 0:r.data.pages[0])==null?void 0:u.name)||"",l=!0),r!=null&&r.data.creator.find(p=>p.name===o.creatorPage)||(c.creatorPage=((f=r==null?void 0:r.data.creator[0])==null?void 0:f.name)||"",l=!0),r!=null&&r.data.modals.find(p=>p.name===o.modalsPage)||(c.modalsPage=((h=r==null?void 0:r.data.modals[0])==null?void 0:h.name)||"",l=!0),l&&vn.set(p=>({...p,...c}))},[o,r]);const s=N.useMemo(()=>({Container:Ua,Text:Va,Select:Ky,TextInput:Yy,FAB:Ld,Searchbar:Fd,DesignerDivider:Dd}),[Ua,Va,Ky,Yy,Ld,Fd,Dd]),a=l=>{r&&Jt(r.local_id,ghe(r.local_id,l.serialize()))};return t?n?r?i?d.jsx(gle,{resolver:s,onNodesChange:a,children:d.jsxs("div",{className:"flex flex-col h-full overflow-y-scroll",children:[d.jsx(Xs,{title:i.name,subtitle:"Version: ".concat(ms(n.local_id)),options:[{onClick:()=>Rt("save-new-version",({id:l})=>d.jsx(s8,{id:l,original:n,edits:r,edits_id:t})),Content:()=>d.jsx("p",{children:"Save Version"})}],hasSidebar:!0}),d.jsxs("div",{className:"p-4 sm:mr-64 relative flex flex-col flex-grow",children:[d.jsxs(ft,{id:"tab-selector",label:"",value:o.tab,onChange:OQ,children:[d.jsx("option",{value:"character",children:"Character Schema"}),d.jsx("option",{value:"data",children:"System Data"}),d.jsx("option",{value:"types",children:"Data Types"}),d.jsx("option",{value:"functions",children:"Blueprints"}),d.jsx("option",{value:"editor",children:"Editor UI"}),d.jsx("option",{value:"creator",children:"Builder UI"}),d.jsx("option",{value:"modals",children:"Modals"}),d.jsx("option",{value:"actions",children:"Character Actions"})]}),o.tab==="character"?d.jsx(yhe,{editsId:t,versionedResource:r}):o.tab==="data"?d.jsx(xhe,{editsId:t,versionedResource:r}):o.tab==="types"?d.jsx(bhe,{editsId:t,versionedResource:r}):o.tab==="functions"?d.jsx(Nhe,{versionedResource:r}):o.tab==="editor"?d.jsx(jhe,{versionedResource:r}):o.tab==="creator"?d.jsx(Fhe,{versionedResource:r}):o.tab==="modals"?d.jsx(zhe,{versionedResource:r}):o.tab==="actions"&&d.jsx(Khe,{editsId:t,versionedResource:r})]}),d.jsx($he,{})]})}):d.jsx(d.Fragment,{children:"Loading System..."}):d.jsx(d.Fragment,{children:"Loading Edits..."}):d.jsx(d.Fragment,{children:"Loading Original..."}):d.jsx(d.Fragment,{children:"id not defined..."})},a8=Ya([{name:"BardsBallad",light:{background:"#121217",brand:{50:"#fcf9f0",100:"#f9f2db",200:"#f2e1b6",300:"#eacc87",400:"#e3b667",500:"#d99736",600:"#cb802b",700:"#a86426",800:"#875025",900:"#6d4221",950:"#3b210f"},neutral:{50:"#f8f9fb",100:"#f0f1f5",200:"#d9dbe3",300:"#babdcf",400:"#9499b3",500:"#6e7499",600:"#575e7f",700:"#464d66",800:"#393d50",900:"#2e3240",950:"#191c27"},orange:{50:"#fff7eb",100:"#ffe9c6",200:"#ffcd87",300:"#ffac4a",400:"#ff8a16",500:"#e67300",600:"#c35e00",700:"#9e4c00",800:"#7a3b00",900:"#5e2f00",950:"#351a00"},red:{50:"#fff5f5",100:"#ffe5e5",200:"#ffbdbd",300:"#ff8f8f",400:"#ff5c5c",500:"#ff3030",600:"#e52626",700:"#b31f1f",800:"#8c1919",900:"#6a1414",950:"#410d0d"},blue:{50:"#f3faff",100:"#e2f3ff",200:"#bce1ff",300:"#82cbff",400:"#41b2ff",500:"#1f93e6",600:"#166eb3",700:"#125892",800:"#0f4776",900:"#0d3a5e",950:"#07233b"},green:{50:"#f3fcf5",100:"#e4f8e8",200:"#c3edcb",300:"#92d8a4",400:"#57be75",500:"#35a257",600:"#298548",700:"#236e3b",800:"#1c552f",900:"#164429",950:"#0b2617"}}},{name:"ValentinesDay",light:{background:"#442835",brand:{50:"#fff7f9",100:"#ffeef2",200:"#fed7e2",300:"#fbb6ce",400:"#f687b3",500:"#ed64a6",600:"#d53f8c",700:"#b83280",800:"#97266d",900:"#702459",950:"#521640"},neutral:{50:"#fdf7f9",100:"#faf0f3",200:"#f4d9e1",300:"#e8b8ca",400:"#d68aa8",500:"#b76d89",600:"#91536b",700:"#734256",800:"#5b3544",900:"#442835",950:"#2b1821"},orange:{50:"#fff8f1",100:"#ffe8d8",200:"#ffd0ae",300:"#ffaf7e",400:"#ff8552",500:"#f75e28",600:"#d9471a",700:"#b43716",800:"#8c2c13",900:"#6c2311",950:"#3e1409"},red:{50:"#fff5f5",100:"#ffe3e3",200:"#ffbaba",300:"#ff8989",400:"#ff5c5c",500:"#fc2626",600:"#d21f1f",700:"#aa1919",800:"#851515",900:"#661010",950:"#400909"},blue:{50:"#f5f8ff",100:"#ebf2ff",200:"#cbdcff",300:"#a2bfff",400:"#799fff",500:"#567dff",600:"#455fd4",700:"#394aa9",800:"#303b85",900:"#262e66",950:"#171a40"},green:{50:"#f5fdf7",100:"#e7f8eb",200:"#c6edcf",300:"#95dca7",400:"#5fc67d",500:"#3ca75e",600:"#2e8749",700:"#266e3d",800:"#205530",900:"#1a4226",950:"#0d2615"}}}]),Ghe=()=>{let e=document.createElement("script");e.id="eruda-script",e.src="https://cdn.jsdelivr.net/npm/eruda",document.body.append(e),e.onload=()=>{eruda.init()}},Xhe=()=>{const e=document.getElementById("eruda-script");e&&(eruda.destroy(),e.remove())};/**
 * @license bippy
 *
 * Copyright (c) Aiden Bai
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */const Jhe="0.3.17",l8="bippy-".concat(Jhe),i5=Object.defineProperty,Qhe=Object.prototype.hasOwnProperty,i1=()=>{},c8=e=>{try{Function.prototype.toString.call(e).indexOf("^_^")>-1&&setTimeout(()=>{throw new Error("React is running in production mode, but dead code elimination has not been applied. Read how to correctly configure React for production: https://reactjs.org/link/perf-use-production-build")})}catch(t){}},Zhe=(e=Ix())=>"getFiberRoots"in e;let u8=!1,Tg;const o5=(e=Ix())=>u8?!0:(typeof e.inject=="function"&&(Tg=e.inject.toString()),!!(Tg!=null&&Tg.includes("(injected)"))),Zk=new Set,e2=new Set,epe=e=>{const t=new Map;let n=0,r={checkDCE:c8,supportsFiber:!0,supportsFlight:!0,hasUnsupportedRendererAttached:!1,renderers:t,onCommitFiberRoot:i1,onCommitFiberUnmount:i1,onPostCommitFiberRoot:i1,inject(i){const o=++n;return t.set(o,i),e2.add(i),r._instrumentationIsActive||(r._instrumentationIsActive=!0,Zk.forEach(s=>s())),o},_instrumentationSource:l8,_instrumentationIsActive:!1};try{i5(globalThis,"__REACT_DEVTOOLS_GLOBAL_HOOK__",{get(){return r},set(s){if(s&&typeof s=="object"){const a=r.renderers;r=s,a.size>0&&(a.forEach((l,c)=>{e2.add(l),s.renderers.set(c,l)}),t2(e))}},configurable:!0,enumerable:!0});const i=window.hasOwnProperty;let o=!1;i5(window,"hasOwnProperty",{value:function(){try{if(!o&&arguments[0]==="__REACT_DEVTOOLS_GLOBAL_HOOK__")return globalThis.__REACT_DEVTOOLS_GLOBAL_HOOK__=void 0,o=!0,-0}catch(s){}return i.apply(this,arguments)},configurable:!0,writable:!0})}catch(i){t2(e)}return r},t2=e=>{try{const t=globalThis.__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!t)return;if(!t._instrumentationSource){if(t.checkDCE=c8,t.supportsFiber=!0,t.supportsFlight=!0,t.hasUnsupportedRendererAttached=!1,t._instrumentationSource=l8,t._instrumentationIsActive=!1,t.renderers.size){t._instrumentationIsActive=!0,Zk.forEach(r=>r());return}const n=t.inject;o5(t)&&!Zhe()&&(u8=!0,t.inject({scheduleRefresh(){}})&&(t._instrumentationIsActive=!0)),t.inject=r=>{const i=n(r);return e2.add(r),t._instrumentationIsActive=!0,Zk.forEach(o=>o()),i}}(t.renderers.size||t._instrumentationIsActive||o5())&&(e==null||e())}catch(t){}},tpe=()=>Qhe.call(globalThis,"__REACT_DEVTOOLS_GLOBAL_HOOK__"),Ix=e=>tpe()?(t2(e),globalThis.__REACT_DEVTOOLS_GLOBAL_HOOK__):epe(e),npe=()=>{var e,t;return!!(typeof window<"u"&&((e=window.document)!=null&&e.createElement||((t=window.navigator)==null?void 0:t.product)==="ReactNative"))},rpe=()=>{try{npe()&&Ix()}catch(e){}};/**
 * @license bippy
 *
 * Copyright (c) Aiden Bai
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */const d8=0,Px=1,ipe=5,f8=11,ope=13,eC=14,tC=15,spe=26,ape=27,h8=e=>{switch(e.tag){case ipe:case spe:case ape:return!0;default:return typeof e.type=="string"}},lpe=e=>{switch(e.tag){case d8:case Px:case tC:case eC:case f8:return!0;default:return!1}},p8=(e,t,n=!1)=>{if(!e)return null;if(t(e)===!0)return e;let r=n?e.return:e.child;for(;r;){const i=p8(r,t,n);if(i)return i;r=n?null:r.sibling}return null},mh=e=>{var i,o,s;const t=(i=e==null?void 0:e.actualDuration)!=null?i:0;let n=t,r=(o=e==null?void 0:e.child)!=null?o:null;for(;t>0&&r!=null;)n-=(s=r.actualDuration)!=null?s:0,r=r.sibling;return{selfTime:n,totalTime:t}},Gy=e=>{var t;return!!((t=e.updateQueue)!=null&&t.memoCache)},Ox=e=>{const t=e;return typeof t=="function"?t:typeof t=="object"&&t?Ox(t.type||t.render):null},Ci=e=>{const t=e;if(typeof t=="string")return t;if(typeof t!="function"&&!(typeof t=="object"&&t))return null;const n=t.displayName||t.name||null;if(n)return n;const r=Ox(t);return r&&(r.displayName||r.name)||null},cpe=e=>{try{if(typeof e.version=="string"&&e.bundleType>0)return"development"}catch(t){}return"production"};let m8=0;const n2=new WeakMap,upe=(e,t=m8++)=>{n2.set(e,t)},g8=e=>{let t=n2.get(e);return!t&&e.alternate&&(t=n2.get(e.alternate)),t||(t=m8++,upe(e,t)),t};/**
 * @license bippy
 *
 * Copyright (c) Aiden Bai
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */rpe();var Mx,Wt,v8,y8,xc,s5,x8,w8,b8,nC,r2,i2,_8,Bp={},k8=[],dpe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,xm=Array.isArray;function ja(e,t){for(var n in t)e[n]=t[n];return e}function rC(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function tu(e,t,n){var r,i,o,s={};for(o in t)o=="key"?r=t[o]:o=="ref"?i=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?Mx.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(o in e.defaultProps)s[o]==null&&(s[o]=e.defaultProps[o]);return pv(e,s,r,i,null)}function pv(e,t,n,r,i){var o={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i==null?++v8:i,__i:-1,__u:0};return i==null&&Wt.vnode!=null&&Wt.vnode(o),o}function fn(e){return e.children}function Mo(e,t){this.props=e,this.context=t}function Vd(e,t){if(t==null)return e.__?Vd(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?Vd(e):null}function S8(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return S8(e)}}function o2(e){(!e.__d&&(e.__d=!0)&&xc.push(e)&&!Xy.__r++||s5!=Wt.debounceRendering)&&((s5=Wt.debounceRendering)||x8)(Xy)}function Xy(){for(var e,t,n,r,i,o,s,a=1;xc.length;)xc.length>a&&xc.sort(w8),e=xc.shift(),a=xc.length,e.__d&&(n=void 0,i=(r=(t=e).__v).__e,o=[],s=[],t.__P&&((n=ja({},r)).__v=r.__v+1,Wt.vnode&&Wt.vnode(n),iC(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[i]:null,o,i==null?Vd(r):i,!!(32&r.__u),s),n.__v=r.__v,n.__.__k[n.__i]=n,j8(o,n,s),n.__e!=i&&S8(n)));Xy.__r=0}function E8(e,t,n,r,i,o,s,a,l,c,u){var f,h,p,v,g,b,m=r&&r.__k||k8,y=t.length;for(l=fpe(n,t,m,l,y),f=0;f<y;f++)(p=n.__k[f])!=null&&(h=p.__i==-1?Bp:m[p.__i]||Bp,p.__i=f,b=iC(e,p,h,i,o,s,a,l,c,u),v=p.__e,p.ref&&h.ref!=p.ref&&(h.ref&&oC(h.ref,null,p),u.push(p.ref,p.__c||v,p)),g==null&&v!=null&&(g=v),4&p.__u||h.__k===p.__k?l=C8(p,l,e):typeof p.type=="function"&&b!==void 0?l=b:v&&(l=v.nextSibling),p.__u&=-7);return n.__e=g,l}function fpe(e,t,n,r,i){var o,s,a,l,c,u=n.length,f=u,h=0;for(e.__k=new Array(i),o=0;o<i;o++)(s=t[o])!=null&&typeof s!="boolean"&&typeof s!="function"?(l=o+h,(s=e.__k[o]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?pv(null,s,null,null,null):xm(s)?pv(fn,{children:s},null,null,null):s.constructor==null&&s.__b>0?pv(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=e,s.__b=e.__b+1,a=null,(c=s.__i=hpe(s,n,l,f))!=-1&&(f--,(a=n[c])&&(a.__u|=2)),a==null||a.__v==null?(c==-1&&(i>u?h--:i<u&&h++),typeof s.type!="function"&&(s.__u|=4)):c!=l&&(c==l-1?h--:c==l+1?h++:(c>l?h--:h++,s.__u|=4))):e.__k[o]=null;if(f)for(o=0;o<u;o++)(a=n[o])!=null&&!(2&a.__u)&&(a.__e==r&&(r=Vd(a)),A8(a,a));return r}function C8(e,t,n){var r,i;if(typeof e.type=="function"){for(r=e.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=e,t=C8(r[i],t,n));return t}e.__e!=t&&(t&&e.type&&!n.contains(t)&&(t=Vd(e)),n.insertBefore(e.__e,t||null),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Jy(e,t){return t=t||[],e==null||typeof e=="boolean"||(xm(e)?e.some(function(n){Jy(n,t)}):t.push(e)),t}function hpe(e,t,n,r){var i,o,s=e.key,a=e.type,l=t[n];if(l===null&&e.key==null||l&&s==l.key&&a==l.type&&!(2&l.__u))return n;if(r>(l!=null&&!(2&l.__u)?1:0))for(i=n-1,o=n+1;i>=0||o<t.length;){if(i>=0){if((l=t[i])&&!(2&l.__u)&&s==l.key&&a==l.type)return i;i--}if(o<t.length){if((l=t[o])&&!(2&l.__u)&&s==l.key&&a==l.type)return o;o++}}return-1}function a5(e,t,n){t[0]=="-"?e.setProperty(t,n==null?"":n):e[t]=n==null?"":typeof n!="number"||dpe.test(t)?n:n+"px"}function Rg(e,t,n,r,i){var o;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||a5(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||a5(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")o=t!=(t=t.replace(b8,"$1")),t=t.toLowerCase()in e||t=="onFocusOut"||t=="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+o]=n,n?r?n.u=r.u:(n.u=nC,e.addEventListener(t,o?i2:r2,o)):e.removeEventListener(t,o?i2:r2,o);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n==null?"":n;break e}catch(s){}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function l5(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=nC++;else if(t.t<n.u)return;return n(Wt.event?Wt.event(t):t)}}}function iC(e,t,n,r,i,o,s,a,l,c){var u,f,h,p,v,g,b,m,y,x,k,S,E,T,M,W,F,L=t.type;if(t.constructor!=null)return null;128&n.__u&&(l=!!(32&n.__u),o=[a=t.__e=n.__e]),(u=Wt.__b)&&u(t);e:if(typeof L=="function")try{if(m=t.props,y="prototype"in L&&L.prototype.render,x=(u=L.contextType)&&r[u.__c],k=u?x?x.props.value:u.__:r,n.__c?b=(f=t.__c=n.__c).__=f.__E:(y?t.__c=f=new L(m,k):(t.__c=f=new Mo(m,k),f.constructor=L,f.render=mpe),x&&x.sub(f),f.props=m,f.state||(f.state={}),f.context=k,f.__n=r,h=f.__d=!0,f.__h=[],f._sb=[]),y&&f.__s==null&&(f.__s=f.state),y&&L.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=ja({},f.__s)),ja(f.__s,L.getDerivedStateFromProps(m,f.__s))),p=f.props,v=f.state,f.__v=t,h)y&&L.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),y&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(y&&L.getDerivedStateFromProps==null&&m!==p&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(m,k),!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(m,f.__s,k)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(f.props=m,f.state=f.__s,f.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(G){G&&(G.__=t)}),S=0;S<f._sb.length;S++)f.__h.push(f._sb[S]);f._sb=[],f.__h.length&&s.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(m,f.__s,k),y&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(p,v,g)})}if(f.context=k,f.props=m,f.__P=e,f.__e=!1,E=Wt.__r,T=0,y){for(f.state=f.__s,f.__d=!1,E&&E(t),u=f.render(f.props,f.state,f.context),M=0;M<f._sb.length;M++)f.__h.push(f._sb[M]);f._sb=[]}else do f.__d=!1,E&&E(t),u=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++T<25);f.state=f.__s,f.getChildContext!=null&&(r=ja(ja({},r),f.getChildContext())),y&&!h&&f.getSnapshotBeforeUpdate!=null&&(g=f.getSnapshotBeforeUpdate(p,v)),W=u,u!=null&&u.type===fn&&u.key==null&&(W=N8(u.props.children)),a=E8(e,xm(W)?W:[W],t,n,r,i,o,s,a,l,c),f.base=t.__e,t.__u&=-161,f.__h.length&&s.push(f),b&&(f.__E=f.__=null)}catch(G){if(t.__v=null,l||o!=null)if(G.then){for(t.__u|=l?160:128;a&&a.nodeType==8&&a.nextSibling;)a=a.nextSibling;o[o.indexOf(a)]=null,t.__e=a}else for(F=o.length;F--;)rC(o[F]);else t.__e=n.__e,t.__k=n.__k;Wt.__e(G,t,n)}else o==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):a=t.__e=ppe(n.__e,t,n,r,i,o,s,l,c);return(u=Wt.diffed)&&u(t),128&t.__u?void 0:a}function j8(e,t,n){for(var r=0;r<n.length;r++)oC(n[r],n[++r],n[++r]);Wt.__c&&Wt.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(o){o.call(i)})}catch(o){Wt.__e(o,i.__v)}})}function N8(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:xm(e)?e.map(N8):ja({},e)}function ppe(e,t,n,r,i,o,s,a,l){var c,u,f,h,p,v,g,b=n.props,m=t.props,y=t.type;if(y=="svg"?i="http://www.w3.org/2000/svg":y=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),o!=null){for(c=0;c<o.length;c++)if((p=o[c])&&"setAttribute"in p==!!y&&(y?p.localName==y:p.nodeType==3)){e=p,o[c]=null;break}}if(e==null){if(y==null)return document.createTextNode(m);e=document.createElementNS(i,y,m.is&&m),a&&(Wt.__m&&Wt.__m(t,o),a=!1),o=null}if(y==null)b===m||a&&e.data==m||(e.data=m);else{if(o=o&&Mx.call(e.childNodes),b=n.props||Bp,!a&&o!=null)for(b={},c=0;c<e.attributes.length;c++)b[(p=e.attributes[c]).name]=p.value;for(c in b)if(p=b[c],c!="children"){if(c=="dangerouslySetInnerHTML")f=p;else if(!(c in m)){if(c=="value"&&"defaultValue"in m||c=="checked"&&"defaultChecked"in m)continue;Rg(e,c,null,p,i)}}for(c in m)p=m[c],c=="children"?h=p:c=="dangerouslySetInnerHTML"?u=p:c=="value"?v=p:c=="checked"?g=p:a&&typeof p!="function"||b[c]===p||Rg(e,c,p,b[c],i);if(u)a||f&&(u.__html==f.__html||u.__html==e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(f&&(e.innerHTML=""),E8(t.type=="template"?e.content:e,xm(h)?h:[h],t,n,r,y=="foreignObject"?"http://www.w3.org/1999/xhtml":i,o,s,o?o[0]:n.__k&&Vd(n,0),a,l),o!=null)for(c=o.length;c--;)rC(o[c]);a||(c="value",y=="progress"&&v==null?e.removeAttribute("value"):v!=null&&(v!==e[c]||y=="progress"&&!v||y=="option"&&v!=b[c])&&Rg(e,c,v,b[c],i),c="checked",g!=null&&g!=e[c]&&Rg(e,c,g,b[c],i))}return e}function oC(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(i){Wt.__e(i,n)}}function A8(e,t,n){var r,i;if(Wt.unmount&&Wt.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||oC(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(o){Wt.__e(o,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&A8(r[i],t,n||typeof e.type!="function");n||rC(e.__e),e.__c=e.__=e.__e=void 0}function mpe(e,t,n){return this.constructor(e,n)}function Oh(e,t,n){var r,i,o,s;t==document&&(t=document.documentElement),Wt.__&&Wt.__(e,t),i=(r=!1)?null:t.__k,o=[],s=[],iC(t,e=t.__k=tu(fn,null,[e]),i||Bp,Bp,t.namespaceURI,i?null:t.firstChild?Mx.call(t.childNodes):null,o,i?i.__e:t.firstChild,r,s),j8(o,e,s)}function T8(e){function t(n){var r,i;return this.getChildContext||(r=new Set,(i={})[t.__c]=this,this.getChildContext=function(){return i},this.componentWillUnmount=function(){r=null},this.shouldComponentUpdate=function(o){this.props.value!=o.value&&r.forEach(function(s){s.__e=!0,o2(s)})},this.sub=function(o){r.add(o);var s=o.componentWillUnmount;o.componentWillUnmount=function(){r&&r.delete(o),s&&s.call(o)}}),n.children}return t.__c="__cC"+_8++,t.__=e,t.Provider=t.__l=(t.Consumer=function(n,r){return n.children(r)}).contextType=t,t}Mx=k8.slice,Wt={__e:function(e,t,n,r){for(var i,o,s;t=t.__;)if((i=t.__c)&&!i.__)try{if((o=i.constructor)&&o.getDerivedStateFromError!=null&&(i.setState(o.getDerivedStateFromError(e)),s=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),s=i.__d),s)return i.__E=i}catch(a){e=a}throw e}},v8=0,y8=function(e){return e!=null&&e.constructor==null},Mo.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=ja({},this.state),typeof e=="function"&&(e=e(ja({},n),this.props)),e&&ja(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),o2(this))},Mo.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),o2(this))},Mo.prototype.render=fn,xc=[],x8=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,w8=function(e,t){return e.__v.__b-t.__v.__b},Xy.__r=0,b8=/(PointerCapture)$|Capture$/i,nC=0,r2=l5(!1),i2=l5(!0),_8=0;var nu,Hn,o1,c5,zp=0,R8=[],pr=Wt,u5=pr.__b,d5=pr.__r,f5=pr.diffed,h5=pr.__c,p5=pr.unmount,m5=pr.__;function wm(e,t){pr.__h&&pr.__h(Hn,e,zp||t),zp=0;var n=Hn.__H||(Hn.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function tn(e){return zp=1,gpe(I8,e)}function gpe(e,t,n){var r=wm(nu++,2);if(r.t=e,!r.__c&&(r.__=[n?n(t):I8(void 0,t),function(a){var l=r.__N?r.__N[0]:r.__[0],c=r.t(l,a);l!==c&&(r.__N=[c,r.__[1]],r.__c.setState({}))}],r.__c=Hn,!Hn.__f)){var i=function(a,l,c){if(!r.__c.__H)return!0;var u=r.__c.__H.__.filter(function(h){return!!h.__c});if(u.every(function(h){return!h.__N}))return!o||o.call(this,a,l,c);var f=r.__c.props!==a;return u.forEach(function(h){if(h.__N){var p=h.__[0];h.__=h.__N,h.__N=void 0,p!==h.__[0]&&(f=!0)}}),o&&o.call(this,a,l,c)||f};Hn.__f=!0;var o=Hn.shouldComponentUpdate,s=Hn.componentWillUpdate;Hn.componentWillUpdate=function(a,l,c){if(this.__e){var u=o;o=void 0,i(a,l,c),o=u}s&&s.call(this,a,l,c)},Hn.shouldComponentUpdate=i}return r.__N||r.__}function Xt(e,t){var n=wm(nu++,3);!pr.__s&&lC(n.__H,t)&&(n.__=e,n.u=t,Hn.__H.__h.push(n))}function sC(e,t){var n=wm(nu++,4);!pr.__s&&lC(n.__H,t)&&(n.__=e,n.u=t,Hn.__h.push(n))}function At(e){return zp=5,gs(function(){return{current:e}},[])}function gs(e,t){var n=wm(nu++,7);return lC(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function hr(e,t){return zp=8,gs(function(){return e},t)}function aC(e){var t=Hn.context[e.__c],n=wm(nu++,9);return n.c=e,t?(n.__==null&&(n.__=!0,t.sub(Hn)),t.props.value):e.__}function vpe(){for(var e;e=R8.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(mv),e.__H.__h.forEach(s2),e.__H.__h=[]}catch(t){e.__H.__h=[],pr.__e(t,e.__v)}}pr.__b=function(e){Hn=null,u5&&u5(e)},pr.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),m5&&m5(e,t)},pr.__r=function(e){d5&&d5(e),nu=0;var t=(Hn=e.__c).__H;t&&(o1===Hn?(t.__h=[],Hn.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(mv),t.__h.forEach(s2),t.__h=[],nu=0)),o1=Hn},pr.diffed=function(e){f5&&f5(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(R8.push(t)!==1&&c5===pr.requestAnimationFrame||((c5=pr.requestAnimationFrame)||ype)(vpe)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),o1=Hn=null},pr.__c=function(e,t){t.some(function(n){try{n.__h.forEach(mv),n.__h=n.__h.filter(function(r){return!r.__||s2(r)})}catch(r){t.some(function(i){i.__h&&(i.__h=[])}),t=[],pr.__e(r,n.__v)}}),h5&&h5(e,t)},pr.unmount=function(e){p5&&p5(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{mv(r)}catch(i){t=i}}),n.__H=void 0,t&&pr.__e(t,n.__v))};var g5=typeof requestAnimationFrame=="function";function ype(e){var t,n=function(){clearTimeout(r),g5&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);g5&&(t=requestAnimationFrame(n))}function mv(e){var t=Hn,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),Hn=t}function s2(e){var t=Hn;e.__c=e.__(),Hn=t}function lC(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function I8(e,t){return typeof t=="function"?t(e):t}var xpe=Symbol.for("preact-signals");function cC(){if(fd>1)fd--;else{for(var e,t=!1;Mh!==void 0;){var n=Mh;for(Mh=void 0,a2++;n!==void 0;){var r=n.o;if(n.o=void 0,n.f&=-3,!(8&n.f)&&O8(n))try{n.c()}catch(i){t||(e=i,t=!0)}n=r}}if(a2=0,fd--,t)throw e}}var bn=void 0;function Hp(e){var t=bn;bn=void 0;try{return e()}finally{bn=t}}var Mh=void 0,fd=0,a2=0,Qy=0;function P8(e){if(bn!==void 0){var t=e.n;if(t===void 0||t.t!==bn)return t={i:0,S:e,p:bn.s,n:void 0,t:bn,e:void 0,x:void 0,r:t},bn.s!==void 0&&(bn.s.n=t),bn.s=t,e.n=t,32&bn.f&&e.S(t),t;if(t.i===-1)return t.i=0,t.n!==void 0&&(t.n.p=t.p,t.p!==void 0&&(t.p.n=t.n),t.p=bn.s,t.n=void 0,bn.s.n=t,bn.s=t),t}}function Gr(e,t){this.v=e,this.i=0,this.n=void 0,this.t=void 0,this.W=t==null?void 0:t.watched,this.Z=t==null?void 0:t.unwatched}Gr.prototype.brand=xpe;Gr.prototype.h=function(){return!0};Gr.prototype.S=function(e){var t=this,n=this.t;n!==e&&e.e===void 0&&(e.x=n,this.t=e,n!==void 0?n.e=e:Hp(function(){var r;(r=t.W)==null||r.call(t)}))};Gr.prototype.U=function(e){var t=this;if(this.t!==void 0){var n=e.e,r=e.x;n!==void 0&&(n.x=r,e.e=void 0),r!==void 0&&(r.e=n,e.x=void 0),e===this.t&&(this.t=r,r===void 0&&Hp(function(){var i;(i=t.Z)==null||i.call(t)}))}};Gr.prototype.subscribe=function(e){var t=this;return $x(function(){var n=t.value,r=bn;bn=void 0;try{e(n)}finally{bn=r}})};Gr.prototype.valueOf=function(){return this.value};Gr.prototype.toString=function(){return this.value+""};Gr.prototype.toJSON=function(){return this.value};Gr.prototype.peek=function(){var e=bn;bn=void 0;try{return this.value}finally{bn=e}};Object.defineProperty(Gr.prototype,"value",{get:function(){var e=P8(this);return e!==void 0&&(e.i=this.i),this.v},set:function(e){if(e!==this.v){if(a2>100)throw new Error("Cycle detected");this.v=e,this.i++,Qy++,fd++;try{for(var t=this.t;t!==void 0;t=t.x)t.t.N()}finally{cC()}}}});function Ir(e,t){return new Gr(e,t)}function O8(e){for(var t=e.s;t!==void 0;t=t.n)if(t.S.i!==t.i||!t.S.h()||t.S.i!==t.i)return!0;return!1}function M8(e){for(var t=e.s;t!==void 0;t=t.n){var n=t.S.n;if(n!==void 0&&(t.r=n),t.S.n=t,t.i=-1,t.n===void 0){e.s=t;break}}}function $8(e){for(var t=e.s,n=void 0;t!==void 0;){var r=t.p;t.i===-1?(t.S.U(t),r!==void 0&&(r.n=t.n),t.n!==void 0&&(t.n.p=r)):n=t,t.S.n=t.r,t.r!==void 0&&(t.r=void 0),t=r}e.s=n}function pu(e,t){Gr.call(this,void 0),this.x=e,this.s=void 0,this.g=Qy-1,this.f=4,this.W=t==null?void 0:t.watched,this.Z=t==null?void 0:t.unwatched}pu.prototype=new Gr;pu.prototype.h=function(){if(this.f&=-3,1&this.f)return!1;if((36&this.f)==32||(this.f&=-5,this.g===Qy))return!0;if(this.g=Qy,this.f|=1,this.i>0&&!O8(this))return this.f&=-2,!0;var e=bn;try{M8(this),bn=this;var t=this.x();(16&this.f||this.v!==t||this.i===0)&&(this.v=t,this.f&=-17,this.i++)}catch(n){this.v=n,this.f|=16,this.i++}return bn=e,$8(this),this.f&=-2,!0};pu.prototype.S=function(e){if(this.t===void 0){this.f|=36;for(var t=this.s;t!==void 0;t=t.n)t.S.S(t)}Gr.prototype.S.call(this,e)};pu.prototype.U=function(e){if(this.t!==void 0&&(Gr.prototype.U.call(this,e),this.t===void 0)){this.f&=-33;for(var t=this.s;t!==void 0;t=t.n)t.S.U(t)}};pu.prototype.N=function(){if(!(2&this.f)){this.f|=6;for(var e=this.t;e!==void 0;e=e.x)e.t.N()}};Object.defineProperty(pu.prototype,"value",{get:function(){if(1&this.f)throw new Error("Cycle detected");var e=P8(this);if(this.h(),e!==void 0&&(e.i=this.i),16&this.f)throw this.v;return this.v}});function mu(e,t){return new pu(e,t)}function D8(e){var t=e.u;if(e.u=void 0,typeof t=="function"){fd++;var n=bn;bn=void 0;try{t()}catch(r){throw e.f&=-2,e.f|=8,uC(e),r}finally{bn=n,cC()}}}function uC(e){for(var t=e.s;t!==void 0;t=t.n)t.S.U(t);e.x=void 0,e.s=void 0,D8(e)}function wpe(e){if(bn!==this)throw new Error("Out-of-order effect");$8(this),bn=e,this.f&=-2,8&this.f&&uC(this),cC()}function hf(e){this.x=e,this.u=void 0,this.s=void 0,this.o=void 0,this.f=32}hf.prototype.c=function(){var e=this.S();try{if(8&this.f||this.x===void 0)return;var t=this.x();typeof t=="function"&&(this.u=t)}finally{e()}};hf.prototype.S=function(){if(1&this.f)throw new Error("Cycle detected");this.f|=1,this.f&=-9,D8(this),M8(this),fd++;var e=bn;return bn=this,wpe.bind(this,e)};hf.prototype.N=function(){2&this.f||(this.f|=2,this.o=Mh,Mh=this)};hf.prototype.d=function(){this.f|=8,1&this.f||uC(this)};hf.prototype.dispose=function(){this.d()};function $x(e){var t=new hf(e);try{t.c()}catch(r){throw t.d(),r}var n=t.d.bind(t);return n[Symbol.dispose]=n,n}var s1;function pf(e,t){Wt[e]=t.bind(null,Wt[e]||function(){})}function Zy(e){s1&&s1(),s1=e&&e.S()}function F8(e){var t=this,n=e.data,r=_pe(n);r.value=n;var i=gs(function(){for(var o=t.__v;o=o.__;)if(o.__c){o.__c.__$f|=4;break}return t.__$u.c=function(){var s,a=t.__$u.S(),l=i.value;a(),y8(l)||((s=t.base)==null?void 0:s.nodeType)!==3?(t.__$f|=1,t.setState({})):t.base.data=l},mu(function(){var s=r.value.value;return s===0?0:s===!0?"":s||""})},[]);return i.value}F8.displayName="_st";Object.defineProperties(Gr.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:F8},props:{configurable:!0,get:function(){return{data:this}}},__b:{configurable:!0,value:1}});pf("__b",function(e,t){if(typeof t.type=="string"){var n,r=t.props;for(var i in r)if(i!=="children"){var o=r[i];o instanceof Gr&&(n||(t.__np=n={}),n[i]=o,r[i]=o.peek())}}e(t)});pf("__r",function(e,t){Zy();var n,r=t.__c;r&&(r.__$f&=-2,(n=r.__$u)===void 0&&(r.__$u=n=function(i){var o;return $x(function(){o=this}),o.c=function(){r.__$f|=1,r.setState({})},o}())),Zy(n),e(t)});pf("__e",function(e,t,n,r){Zy(),e(t,n,r)});pf("diffed",function(e,t){Zy();var n;if(typeof t.type=="string"&&(n=t.__e)){var r=t.__np,i=t.props;if(r){var o=n.U;if(o)for(var s in o){var a=o[s];a!==void 0&&!(s in r)&&(a.d(),o[s]=void 0)}else n.U=o={};for(var l in r){var c=o[l],u=r[l];c===void 0?(c=bpe(n,l,u,i),o[l]=c):c.o(u,i)}}}e(t)});function bpe(e,t,n,r){var i=t in e&&e.ownerSVGElement===void 0,o=Ir(n);return{o:function(s,a){o.value=s,r=a},d:$x(function(){var s=o.value.value;r[t]!==s&&(r[t]=s,i?e[t]=s:s?e.setAttribute(t,s):e.removeAttribute(t))})}}pf("unmount",function(e,t){if(typeof t.type=="string"){var n=t.__e;if(n){var r=n.U;if(r){n.U=void 0;for(var i in r){var o=r[i];o&&o.d()}}}}else{var s=t.__c;if(s){var a=s.__$u;a&&(s.__$u=void 0,a.d())}}e(t)});pf("__h",function(e,t,n,r){(r<3||r===9)&&(t.__$f|=2),e(t,n,r)});Mo.prototype.shouldComponentUpdate=function(e,t){var n=this.__$u,r=n&&n.s!==void 0;for(var i in t)return!0;if(this.__f||typeof this.u=="boolean"&&this.u===!0){if(!(r||2&this.__$f||4&this.__$f)||1&this.__$f)return!0}else if(!(r||4&this.__$f)||3&this.__$f)return!0;for(var o in e)if(o!=="__source"&&e[o]!==this.props[o])return!0;for(var s in this.props)if(!(s in e))return!0;return!1};function _pe(e){return gs(function(){return Ir(e)},[])}function Wp(e){var t=At(e);t.current=e,Xt(function(){return $x(function(){return t.current()})},[])}function L8(e,t){for(var n in t)e[n]=t[n];return e}function l2(e,t){for(var n in e)if(n!=="__source"&&!(n in t))return!0;for(var r in t)if(r!=="__source"&&e[r]!==t[r])return!0;return!1}function kpe(e,t){var n=t(),r=tn({t:{__:n,u:t}}),i=r[0].t,o=r[1];return sC(function(){i.__=n,i.u=t,a1(i)&&o({t:i})},[e,n,t]),Xt(function(){return a1(i)&&o({t:i}),e(function(){a1(i)&&o({t:i})})},[e]),n}function a1(e){var t,n,r=e.u,i=e.__;try{var o=r();return!((t=i)===(n=o)&&(t!==0||1/t==1/n)||t!=t&&n!=n)}catch(s){return!0}}function v5(e,t){this.props=e,this.context=t}function Dx(e,t){function n(i){var o=this.props.ref,s=o==i.ref;return!s&&o&&(o.call?o(null):o.current=null),t?!t(this.props,i)||!s:l2(this.props,i)}function r(i){return this.shouldComponentUpdate=n,tu(e,i)}return r.displayName="Memo("+(e.displayName||e.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(v5.prototype=new Mo).isPureReactComponent=!0,v5.prototype.shouldComponentUpdate=function(e,t){return l2(this.props,e)||l2(this.state,t)};var y5=Wt.__b;Wt.__b=function(e){e.type&&e.type.__f&&e.ref&&(e.props.ref=e.ref,e.ref=null),y5&&y5(e)};var Spe=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function dC(e){function t(n){var r=L8({},n);return delete r.ref,e(r,n.ref||null)}return t.$$typeof=Spe,t.render=t,t.prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}var Epe=Wt.__e;Wt.__e=function(e,t,n,r){if(e.then){for(var i,o=t;o=o.__;)if((i=o.__c)&&i.__c)return t.__e==null&&(t.__e=n.__e,t.__k=n.__k),i.__c(e,t)}Epe(e,t,n,r)};var x5=Wt.unmount;function B8(e,t,n){return e&&(e.__c&&e.__c.__H&&(e.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),e.__c.__H=null),(e=L8({},e)).__c!=null&&(e.__c.__P===n&&(e.__c.__P=t),e.__c.__e=!0,e.__c=null),e.__k=e.__k&&e.__k.map(function(r){return B8(r,t,n)})),e}function z8(e,t,n){return e&&n&&(e.__v=null,e.__k=e.__k&&e.__k.map(function(r){return z8(r,t,n)}),e.__c&&e.__c.__P===t&&(e.__e&&n.appendChild(e.__e),e.__c.__e=!0,e.__c.__P=n)),e}function l1(){this.__u=0,this.o=null,this.__b=null}function H8(e){var t=e.__.__c;return t&&t.__a&&t.__a(e)}function Ig(){this.i=null,this.l=null}Wt.unmount=function(e){var t=e.__c;t&&t.__R&&t.__R(),t&&32&e.__u&&(e.type=null),x5&&x5(e)},(l1.prototype=new Mo).__c=function(e,t){var n=t.__c,r=this;r.o==null&&(r.o=[]),r.o.push(n);var i=H8(r.__v),o=!1,s=function(){o||(o=!0,n.__R=null,i?i(a):a())};n.__R=s;var a=function(){if(!--r.__u){if(r.state.__a){var l=r.state.__a;r.__v.__k[0]=z8(l,l.__c.__P,l.__c.__O)}var c;for(r.setState({__a:r.__b=null});c=r.o.pop();)c.forceUpdate()}};r.__u++||32&t.__u||r.setState({__a:r.__b=r.__v.__k[0]}),e.then(s,s)},l1.prototype.componentWillUnmount=function(){this.o=[]},l1.prototype.render=function(e,t){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=B8(this.__b,n,r.__O=r.__P)}this.__b=null}var i=t.__a&&tu(fn,null,e.fallback);return i&&(i.__u&=-33),[tu(fn,null,t.__a?null:e.children),i]};var w5=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&(e.props.revealOrder[0]!=="t"||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};function Cpe(e){return this.getChildContext=function(){return e.context},e.children}function jpe(e){var t=this,n=e.h;if(t.componentWillUnmount=function(){Oh(null,t.v),t.v=null,t.h=null},t.h&&t.h!==n&&t.componentWillUnmount(),!t.v){for(var r=t.__v;r!==null&&!r.__m&&r.__!==null;)r=r.__;t.h=n,t.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:r.__m},contains:function(){return!0},appendChild:function(i){this.childNodes.push(i),t.h.appendChild(i)},insertBefore:function(i,o){this.childNodes.push(i),t.h.insertBefore(i,o)},removeChild:function(i){this.childNodes.splice(this.childNodes.indexOf(i)>>>1,1),t.h.removeChild(i)}}}Oh(tu(Cpe,{context:t.context},e.__v),t.v)}function Npe(e,t){var n=tu(jpe,{__v:e,h:t});return n.containerInfo=t,n}(Ig.prototype=new Mo).__a=function(e){var t=this,n=H8(t.__v),r=t.l.get(e);return r[0]++,function(i){var o=function(){t.props.revealOrder?(r.push(i),w5(t,e,r)):i()};n?n(o):o()}},Ig.prototype.render=function(e){this.i=null,this.l=new Map;var t=Jy(e.children);e.revealOrder&&e.revealOrder[0]==="b"&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},Ig.prototype.componentDidUpdate=Ig.prototype.componentDidMount=function(){var e=this;this.l.forEach(function(t,n){w5(e,n,t)})};var Ape=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Tpe=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Rpe=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Ipe=/[A-Z0-9]/g,Ppe=typeof document<"u",Ope=function(e){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(e)};Mo.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(Mo.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var b5=Wt.event;function Mpe(){}function $pe(){return this.cancelBubble}function Dpe(){return this.defaultPrevented}Wt.event=function(e){return b5&&(e=b5(e)),e.persist=Mpe,e.isPropagationStopped=$pe,e.isDefaultPrevented=Dpe,e.nativeEvent=e};var Fpe={enumerable:!1,configurable:!0,get:function(){return this.class}},_5=Wt.vnode;Wt.vnode=function(e){typeof e.type=="string"&&function(t){var n=t.props,r=t.type,i={},o=r.indexOf("-")===-1;for(var s in n){var a=n[s];if(!(s==="value"&&"defaultValue"in n&&a==null||Ppe&&s==="children"&&r==="noscript"||s==="class"||s==="className")){var l=s.toLowerCase();s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&a===!0?a="":l==="translate"&&a==="no"?a=!1:l[0]==="o"&&l[1]==="n"?l==="ondoubleclick"?s="ondblclick":l!=="onchange"||r!=="input"&&r!=="textarea"||Ope(n.type)?l==="onfocus"?s="onfocusin":l==="onblur"?s="onfocusout":Rpe.test(s)&&(s=l):l=s="oninput":o&&Tpe.test(s)?s=s.replace(Ipe,"-$&").toLowerCase():a===null&&(a=void 0),l==="oninput"&&i[s=l]&&(s="oninputCapture"),i[s]=a}}r=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=Jy(n.children).forEach(function(c){c.props.selected=i.value.indexOf(c.props.value)!=-1})),r=="select"&&i.defaultValue!=null&&(i.value=Jy(n.children).forEach(function(c){c.props.selected=i.multiple?i.defaultValue.indexOf(c.props.value)!=-1:i.defaultValue==c.props.value})),n.class&&!n.className?(i.class=n.class,Object.defineProperty(i,"className",Fpe)):(n.className&&!n.class||n.class&&n.className)&&(i.class=i.className=n.className),t.props=i}(e),e.$$typeof=Ape,_5&&_5(e)};var k5=Wt.__r;Wt.__r=function(e){k5&&k5(e),e.__c};var S5=Wt.diffed;Wt.diffed=function(e){S5&&S5(e);var t=e.props,n=e.__e;n!=null&&e.type==="textarea"&&"value"in t&&t.value!==n.value&&(n.value=t.value==null?"":t.value)};var Lpe=0;function C(e,t,n,r,i,o){t||(t={});var s,a,l=t;if("ref"in l)for(a in l={},t)a=="ref"?s=t[a]:l[a]=t[a];var c={type:e,props:l,key:n,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--Lpe,__i:-1,__u:0,__source:i,__self:o};if(typeof e=="function"&&(s=e.defaultProps))for(a in s)l[a]===void 0&&(l[a]=s[a]);return Wt.vnode&&Wt.vnode(c),c}Array.prototype.toSorted||Object.defineProperty(Array.prototype,"toSorted",{value:function(e){return[...this].sort(e)},writable:!0,configurable:!0});function qd(e,t){return e===t||e!==e&&t!==t}var fC=e=>{const t=e.createOscillator(),n=e.createGain();t.connect(n),n.connect(e.destination);const r={type:"sine",freq:[392,600],duration:.3,gain:.12},i=r.freq,o=r.duration/i.length;i.forEach((s,a)=>{t.frequency.setValueAtTime(s,e.currentTime+a*o)}),t.type=r.type,n.gain.setValueAtTime(r.gain,e.currentTime),n.gain.setTargetAtTime(0,e.currentTime+r.duration*.7,.05),t.start(),t.stop(e.currentTime+r.duration)},Bpe=e=>new Promise(t=>{const n=new Map,r=new IntersectionObserver(i=>{for(const o of i){const s=o.target,a=o.boundingClientRect;n.set(s,a)}r.disconnect(),t(n)});for(const i of e)r.observe(i)}),lr=dC(({size:e=15,name:t,fill:n="currentColor",stroke:r="currentColor",className:i,externalURL:o="",style:s},a)=>{const l=Array.isArray(e)?e[0]:e,c=Array.isArray(e)?e[1]||e[0]:e,u="".concat(o,"#").concat(t);return C("svg",{ref:a,width:"".concat(l,"px"),height:"".concat(c,"px"),fill:n,stroke:r,className:i,style:{...s,minWidth:"".concat(l,"px"),maxWidth:"".concat(l,"px"),minHeight:"".concat(c,"px"),maxHeight:"".concat(c,"px")},children:[C("title",{children:t}),C("use",{href:u})]})}),Bt=24,_r={width:550,height:350,initialHeight:400},ns=240,Na="react-scan-widget-settings-v2",gv="react-scan-widget-collapsed-v1",Cu="react-scan-widget-last-view-v1",Ql=typeof window<"u";function W8(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=W8(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function zpe(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=W8(e))&&(r&&(r+=" "),r+=t);return r}var hC="-",Hpe=e=>{const t=Upe(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:s=>{const a=s.split(hC);return a[0]===""&&a.length!==1&&a.shift(),U8(a,t)||Wpe(s)},getConflictingClassGroupIds:(s,a)=>{const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}}},U8=(e,t)=>{var s;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?U8(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(hC);return(s=t.validators.find(({validator:a})=>a(o)))==null?void 0:s.classGroupId},E5=/^\[(.+)\]$/,Wpe=e=>{if(E5.test(e)){const t=E5.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Upe=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return qpe(Object.entries(e.classGroups),n).forEach(([o,s])=>{c2(s,r,o,t)}),r},c2=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:C5(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(Vpe(i)){c2(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,s])=>{c2(s,C5(t,o),n,r)})})},C5=(e,t)=>{let n=e;return t.split(hC).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Vpe=e=>e.isThemeGetter,qpe=(e,t)=>t?e.map(([n,r])=>{const i=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([s,a])=>[t+s,a])):o);return[n,i]}):e,Kpe=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(o,s)=>{n.set(o,s),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let s=n.get(o);if(s!==void 0)return s;if((s=r.get(o))!==void 0)return i(o,s),s},set(o,s){n.has(o)?n.set(o,s):i(o,s)}}},V8="!",Ype=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],o=t.length,s=a=>{const l=[];let c=0,u=0,f;for(let b=0;b<a.length;b++){let m=a[b];if(c===0){if(m===i&&(r||a.slice(b,b+o)===t)){l.push(a.slice(u,b)),u=b+o;continue}if(m==="/"){f=b;continue}}m==="["?c++:m==="]"&&c--}const h=l.length===0?a:a.substring(u),p=h.startsWith(V8),v=p?h.substring(1):h,g=f&&f>u?f-u:void 0;return{modifiers:l,hasImportantModifier:p,baseClassName:v,maybePostfixModifierPosition:g}};return n?a=>n({className:a,parseClassName:s}):s},Gpe=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Xpe=e=>({cache:Kpe(e.cacheSize),parseClassName:Ype(e),...Hpe(e)}),Jpe=/\s+/,Qpe=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,o=[],s=e.trim().split(Jpe);let a="";for(let l=s.length-1;l>=0;l-=1){const c=s[l],{modifiers:u,hasImportantModifier:f,baseClassName:h,maybePostfixModifierPosition:p}=n(c);let v=!!p,g=r(v?h.substring(0,p):h);if(!g){if(!v){a=c+(a.length>0?" "+a:a);continue}if(g=r(h),!g){a=c+(a.length>0?" "+a:a);continue}v=!1}const b=Gpe(u).join(":"),m=f?b+V8:b,y=m+g;if(o.includes(y))continue;o.push(y);const x=i(g,v);for(let k=0;k<x.length;++k){const S=x[k];o.push(m+S)}a=c+(a.length>0?" "+a:a)}return a};function Zpe(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=q8(t))&&(r&&(r+=" "),r+=n);return r}var q8=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=q8(e[r]))&&(n&&(n+=" "),n+=t);return n};function eme(e,...t){let n,r,i,o=s;function s(l){const c=t.reduce((u,f)=>f(u),e());return n=Xpe(c),r=n.cache.get,i=n.cache.set,o=a,a(l)}function a(l){const c=r(l);if(c)return c;const u=Qpe(l,n);return i(l,u),u}return function(){return o(Zpe.apply(null,arguments))}}var Mn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},K8=/^\[(?:([a-z-]+):)?(.+)\]$/i,tme=/^\d+\/\d+$/,nme=new Set(["px","full","screen"]),rme=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,ime=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ome=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sme=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ame=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,da=e=>hd(e)||nme.has(e)||tme.test(e),ll=e=>mf(e,"length",mme),hd=e=>!!e&&!Number.isNaN(Number(e)),c1=e=>mf(e,"number",hd),Kf=e=>!!e&&Number.isInteger(Number(e)),lme=e=>e.endsWith("%")&&hd(e.slice(0,-1)),Yt=e=>K8.test(e),cl=e=>rme.test(e),cme=new Set(["length","size","percentage"]),ume=e=>mf(e,cme,Y8),dme=e=>mf(e,"position",Y8),fme=new Set(["image","url"]),hme=e=>mf(e,fme,vme),pme=e=>mf(e,"",gme),Yf=()=>!0,mf=(e,t,n)=>{const r=K8.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},mme=e=>ime.test(e)&&!ome.test(e),Y8=()=>!1,gme=e=>sme.test(e),vme=e=>ame.test(e),yme=()=>{const e=Mn("colors"),t=Mn("spacing"),n=Mn("blur"),r=Mn("brightness"),i=Mn("borderColor"),o=Mn("borderRadius"),s=Mn("borderSpacing"),a=Mn("borderWidth"),l=Mn("contrast"),c=Mn("grayscale"),u=Mn("hueRotate"),f=Mn("invert"),h=Mn("gap"),p=Mn("gradientColorStops"),v=Mn("gradientColorStopPositions"),g=Mn("inset"),b=Mn("margin"),m=Mn("opacity"),y=Mn("padding"),x=Mn("saturate"),k=Mn("scale"),S=Mn("sepia"),E=Mn("skew"),T=Mn("space"),M=Mn("translate"),W=()=>["auto","contain","none"],F=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto",Yt,t],G=()=>[Yt,t],z=()=>["",da,ll],H=()=>["auto",hd,Yt],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],I=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],O=()=>["start","end","center","between","around","evenly","stretch"],D=()=>["","0",Yt],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[hd,Yt];return{cacheSize:500,separator:":",theme:{colors:[Yf],spacing:[da,ll],blur:["none","",cl,Yt],brightness:Y(),borderColor:[e],borderRadius:["none","","full",cl,Yt],borderSpacing:G(),borderWidth:z(),contrast:Y(),grayscale:D(),hueRotate:Y(),invert:D(),gap:G(),gradientColorStops:[e],gradientColorStopPositions:[lme,ll],inset:L(),margin:L(),opacity:Y(),padding:G(),saturate:Y(),scale:Y(),sepia:D(),skew:Y(),space:G(),translate:G()},classGroups:{aspect:[{aspect:["auto","square","video",Yt]}],container:["container"],columns:[{columns:[cl]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),Yt]}],overflow:[{overflow:F()}],"overflow-x":[{"overflow-x":F()}],"overflow-y":[{"overflow-y":F()}],overscroll:[{overscroll:W()}],"overscroll-x":[{"overscroll-x":W()}],"overscroll-y":[{"overscroll-y":W()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Kf,Yt]}],basis:[{basis:L()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Yt]}],grow:[{grow:D()}],shrink:[{shrink:D()}],order:[{order:["first","last","none",Kf,Yt]}],"grid-cols":[{"grid-cols":[Yf]}],"col-start-end":[{col:["auto",{span:["full",Kf,Yt]},Yt]}],"col-start":[{"col-start":H()}],"col-end":[{"col-end":H()}],"grid-rows":[{"grid-rows":[Yf]}],"row-start-end":[{row:["auto",{span:[Kf,Yt]},Yt]}],"row-start":[{"row-start":H()}],"row-end":[{"row-end":H()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Yt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Yt]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...O()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...O(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...O(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[y]}],px:[{px:[y]}],py:[{py:[y]}],ps:[{ps:[y]}],pe:[{pe:[y]}],pt:[{pt:[y]}],pr:[{pr:[y]}],pb:[{pb:[y]}],pl:[{pl:[y]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[T]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[T]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Yt,t]}],"min-w":[{"min-w":[Yt,t,"min","max","fit"]}],"max-w":[{"max-w":[Yt,t,"none","full","min","max","fit","prose",{screen:[cl]},cl]}],h:[{h:[Yt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Yt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Yt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Yt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",cl,ll]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",c1]}],"font-family":[{font:[Yf]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Yt]}],"line-clamp":[{"line-clamp":["none",hd,c1]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",da,Yt]}],"list-image":[{"list-image":["none",Yt]}],"list-style-type":[{list:["none","disc","decimal",Yt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...I(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",da,ll]}],"underline-offset":[{"underline-offset":["auto",da,Yt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:G()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Yt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Yt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),dme]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",ume]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},hme]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[v]}],"gradient-via-pos":[{via:[v]}],"gradient-to-pos":[{to:[v]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...I(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:I()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...I()]}],"outline-offset":[{"outline-offset":[da,Yt]}],"outline-w":[{outline:[da,ll]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:z()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[da,ll]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",cl,pme]}],"shadow-color":[{shadow:[Yf]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",cl,Yt]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Yt]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",Yt]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",Yt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Kf,Yt]}],"translate-x":[{"translate-x":[M]}],"translate-y":[{"translate-y":[M]}],"skew-x":[{"skew-x":[E]}],"skew-y":[{"skew-y":[E]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Yt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Yt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":G()}],"scroll-mx":[{"scroll-mx":G()}],"scroll-my":[{"scroll-my":G()}],"scroll-ms":[{"scroll-ms":G()}],"scroll-me":[{"scroll-me":G()}],"scroll-mt":[{"scroll-mt":G()}],"scroll-mr":[{"scroll-mr":G()}],"scroll-mb":[{"scroll-mb":G()}],"scroll-ml":[{"scroll-ml":G()}],"scroll-p":[{"scroll-p":G()}],"scroll-px":[{"scroll-px":G()}],"scroll-py":[{"scroll-py":G()}],"scroll-ps":[{"scroll-ps":G()}],"scroll-pe":[{"scroll-pe":G()}],"scroll-pt":[{"scroll-pt":G()}],"scroll-pr":[{"scroll-pr":G()}],"scroll-pb":[{"scroll-pb":G()}],"scroll-pl":[{"scroll-pl":G()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Yt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[da,ll,c1]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xme=eme(yme),be=(...e)=>xme(zpe(e));typeof navigator<"u"&&navigator.userAgent.includes("Firefox");var G8=(e,t)=>{let n=0;return r=>{const i=Date.now();if(i-n>=t)return n=i,e(r)}},Mc=e=>{if(!Ql)return null;try{const t=localStorage.getItem(e);return t?JSON.parse(t):null}catch(t){return null}},no=(e,t)=>{if(Ql)try{window.localStorage.setItem(e,JSON.stringify(t))}catch(n){}},j5=e=>{if(Ql)try{window.localStorage.removeItem(e)}catch(t){}},wme=24,bme=12,Up=e=>{if(!e)return{name:"Unknown",wrappers:[],wrapperTypes:[]};const{tag:t,type:n,elementType:r}=e;let i=Ci(n);const o=[],s=[];if(Gy(e)||t===tC||t===eC||(n==null?void 0:n.$$typeof)===Symbol.for("react.memo")||(r==null?void 0:r.$$typeof)===Symbol.for("react.memo")){const a=Gy(e);s.push({type:"memo",title:a?"This component has been auto-memoized by the React Compiler.":"Memoized component that skips re-renders if props are the same",compiler:a})}if(t===wme&&s.push({type:"lazy",title:"Lazily loaded component that supports code splitting"}),t===ope&&s.push({type:"suspense",title:"Component that can suspend while content is loading"}),t===bme&&s.push({type:"profiler",title:"Component that measures rendering performance"}),typeof i=="string"){const a=/^(\w+)\((.*)\)$/;let l=i;for(;a.test(l);){const c=l.match(a);if(c!=null&&c[1]&&(c!=null&&c[2]))o.unshift(c[1]),l=c[2];else break}i=l}return{name:i||"Unknown",wrappers:o,wrapperTypes:s}},Fx=Ir(!1),u2=Ir(null),Ms={corner:"bottom-right",dimensions:{isFullWidth:!1,isFullHeight:!1,width:_r.width,height:_r.height,position:{x:Bt,y:Bt}},lastDimensions:{isFullWidth:!1,isFullHeight:!1,width:_r.width,height:_r.height,position:{x:Bt,y:Bt}},componentsTree:{width:ns}},_me=()=>{var t,n,r,i,o;const e=Mc(Na);return e?{corner:(t=e.corner)!=null?t:Ms.corner,dimensions:(n=e.dimensions)!=null?n:Ms.dimensions,lastDimensions:(i=(r=e.lastDimensions)!=null?r:e.dimensions)!=null?i:Ms.lastDimensions,componentsTree:(o=e.componentsTree)!=null?o:Ms.componentsTree}:(no(Na,{corner:Ms.corner,dimensions:Ms.dimensions,lastDimensions:Ms.lastDimensions,componentsTree:Ms.componentsTree}),Ms)},Ct=Ir(_me()),u1=()=>{if(!Ql)return;const{dimensions:e}=Ct.value,{width:t,height:n,position:r}=e;Ct.value={...Ct.value,dimensions:{isFullWidth:t>=window.innerWidth-Bt*2,isFullHeight:n>=window.innerHeight-Bt*2,width:t,height:n,position:r}}},Pn=Ir({view:"none"}),d1=Mc(gv),eo=Ir(d1!=null?d1:null);function kme(){return!1}function pC(e){function t(n){return this.shouldComponentUpdate=kme,tu(e,n)}return t.displayName="Memo(".concat(e.displayName||e.name,")"),t.prototype.isReactComponent=!0,t._forwarded=!0,t}var Sme=e=>{const{count:t,getScrollElement:n,estimateSize:r,overscan:i=5}=e,[o,s]=tn(0),[a,l]=tn(0),c=At(),u=At(null),f=At(null),h=r(),p=hr(m=>{var x,k;if(!u.current)return;const y=(k=(x=m==null?void 0:m[0])==null?void 0:x.contentRect.height)!=null?k:u.current.getBoundingClientRect().height;l(y)},[]),v=hr(()=>{f.current!==null&&cancelAnimationFrame(f.current),f.current=requestAnimationFrame(()=>{p(),f.current=null})},[p]);Xt(()=>{const m=n();if(!m)return;u.current=m;const y=()=>{u.current&&s(u.current.scrollTop)};p(),c.current||(c.current=new ResizeObserver(()=>{v()})),c.current.observe(m),m.addEventListener("scroll",y,{passive:!0});const x=new MutationObserver(v);return x.observe(m,{attributes:!0,childList:!0,subtree:!0}),()=>{m.removeEventListener("scroll",y),c.current&&c.current.disconnect(),x.disconnect(),f.current!==null&&cancelAnimationFrame(f.current)}},[n,p,v]);const g=gs(()=>{const m=Math.floor(o/h),y=Math.ceil(a/h);return{start:Math.max(0,m-i),end:Math.min(t,m+y+i)}},[o,h,a,t,i]);return{virtualItems:gs(()=>{const m=[];for(let y=g.start;y<g.end;y++)m.push({key:y,index:y,start:y*h});return m},[g,h]),totalSize:t*h,scrollTop:o,containerHeight:a}};Mc("react-scann-pinned");var Eme=e=>{var r;const t=[];let n=e;for(;n;){const i=n.elementType,o=typeof i=="function"?i.displayName||i.name:typeof i=="string"?i:"Unknown",s=n.index!==void 0?"[".concat(n.index,"]"):"";t.unshift("".concat(o).concat(s)),n=(r=n.return)!=null?r:null}return t.join("::")},cc=new WeakMap,Cme=(e,t)=>{const n=t.bind(null,e);return document.addEventListener("scroll",n,{passive:!0,capture:!0}),()=>{document.removeEventListener("scroll",n,{capture:!0})}},jme={activeFlashes:new Map,create(e){const t=e.querySelector(".react-scan-flash-overlay"),n=t instanceof HTMLElement?t:(()=>{const i=document.createElement("div");i.className="react-scan-flash-overlay",e.appendChild(i);const o=Cme(e,()=>{e.querySelector(".react-scan-flash-overlay")&&this.create(e)});return this.activeFlashes.set(e,{element:e,overlay:i,scrollCleanup:o}),i})(),r=cc.get(n);r&&(clearTimeout(r),cc.delete(n)),requestAnimationFrame(()=>{n.style.transition="none",n.style.opacity="0.9";const i=setTimeout(()=>{n.style.transition="opacity 150ms ease-out",n.style.opacity="0";const o=setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n);const s=this.activeFlashes.get(e);s!=null&&s.scrollCleanup&&s.scrollCleanup(),this.activeFlashes.delete(e),cc.delete(n)},150);cc.set(n,o)},300);cc.set(n,i)})},cleanup(e){const t=this.activeFlashes.get(e);if(t){const n=cc.get(t.overlay);n&&(clearTimeout(n),cc.delete(t.overlay)),t.overlay.parentNode&&t.overlay.parentNode.removeChild(t.overlay),t.scrollCleanup&&t.scrollCleanup(),this.activeFlashes.delete(e)}},cleanupAll(){for(const[,e]of this.activeFlashes)this.cleanup(e.element)}},N5=1e3,X8={updates:[],currentFiber:null,totalUpdates:0,windowOffset:0,currentIndex:0,isViewingHistory:!1,latestFiber:null,isVisible:!1,playbackSpeed:1},ki=Ir(X8),J8=Ir(0),jc=[],uc=null,Nme=()=>{if(jc.length===0)return;const e=[...jc],{updates:t,totalUpdates:n,currentIndex:r,isViewingHistory:i}=ki.value,o=[...t];let s=n;for(const{update:u}of e)o.length>=N5&&o.shift(),o.push(u),s++;const a=Math.max(0,s-N5);let l;i?r===n-1?l=o.length-1:r===0?l=0:a===0?l=r:l=r-1:l=o.length-1;const c=e[e.length-1];ki.value={...ki.value,latestFiber:c.fiber,updates:o,totalUpdates:s,windowOffset:a,currentIndex:l,isViewingHistory:i},jc=jc.slice(e.length)},Q8={showTimeline:()=>{ki.value={...ki.value,isVisible:!0}},hideTimeline:()=>{ki.value={...ki.value,isVisible:!1,currentIndex:ki.value.updates.length-1}},updateFrame:(e,t)=>{ki.value={...ki.value,currentIndex:e,isViewingHistory:t}},updatePlaybackSpeed:e=>{ki.value={...ki.value,playbackSpeed:e}},addUpdate:(e,t)=>{if(jc.push({update:e,fiber:t}),!uc){const n=()=>{Nme(),uc=null,jc.length>0&&(uc=setTimeout(n,96))};uc=setTimeout(n,96)}},reset:()=>{uc&&(clearTimeout(uc),uc=null),jc=[],ki.value=X8}},oi=Ir({query:"",matches:[],currentMatchIndex:-1}),f1=Ir(!1),Z8=(e,t=0,n=null)=>e.reduce((r,i,o)=>{var c,u;const s=i.element?Eme(i.fiber):"".concat(n,"-").concat(o),a=(c=i.fiber)!=null&&c.type?mge(i.fiber):void 0,l={...i,depth:t,nodeId:s,parentId:n,fiber:i.fiber,renderData:a};return r.push(l),(u=i.children)!=null&&u.length&&r.push(...Z8(i.children,t+1,s)),r},[]),Ame=e=>e.reduce((t,n)=>Math.max(t,n.depth),0),Tme=(e,t)=>{if(t<=0)return 24;const o=Math.max(0,e-ns);if(o<24)return 0;const a=Math.min(o*.3,t*24)/t;return Math.max(0,Math.min(24,a))},Rme=["memo","forwardRef","lazy","suspense"],eF=e=>{const t=e.match(/\[(.*?)\]/);if(!t)return null;const n=[],r=t[1].split(",");for(const i of r){const o=i.trim().toLowerCase();o&&n.push(o)}return n},Ime=e=>{if(e.length===0)return!1;for(const t of e){let n=!1;for(const r of Rme)if(r.toLowerCase().includes(t)){n=!0;break}if(!n)return!1}return!0},tF=(e,t)=>{if(e.length===0)return!0;if(!t.length)return!1;for(const n of e){let r=!1;for(const i of t)if(i.type.toLowerCase().includes(n)){r=!0;break}if(!r)return!1}return!0},Pme=(e,t)=>gs(()=>{const{query:n,matches:r}=t,i=r.some(c=>c.nodeId===e.nodeId),o=eF(n)||[],s=n?n.replace(/\[.*?\]/,"").trim():"";if(!n||!i)return{highlightedText:C("span",{className:"truncate",children:e.label}),typeHighlight:!1};let a=!0;if(o.length>0)if(!e.fiber)a=!1;else{const{wrapperTypes:c}=Up(e.fiber);a=tF(o,c)}let l=C("span",{className:"truncate",children:e.label});if(s)try{if(s.startsWith("/")&&s.endsWith("/")){const c=s.slice(1,-1),u=new RegExp("(".concat(c,")"),"i"),f=e.label.split(u);l=C("span",{className:"tree-node-search-highlight",children:f.map((h,p)=>u.test(h)?C("span",{className:be("regex",{start:u.test(h)&&p===0,middle:u.test(h)&&p%2===1,end:u.test(h)&&p===f.length-1,"!ml-0":p===1}),children:h},"".concat(e.nodeId,"-").concat(h)):h)})}else{const c=e.label.toLowerCase(),u=s.toLowerCase(),f=c.indexOf(u);f>=0&&(l=C("span",{className:"tree-node-search-highlight",children:[e.label.slice(0,f),C("span",{className:"single",children:e.label.slice(f,f+s.length)}),e.label.slice(f+s.length)]}))}}catch(c){}return{highlightedText:l,typeHighlight:a&&o.length>0}},[e.label,e.nodeId,e.fiber,t]),A5=e=>e>0?e<.1-Number.EPSILON?"< 0.1":e<1e3?Number(e.toFixed(1)).toString():"".concat((e/1e3).toFixed(1),"k"):"0",Ome=({node:e,nodeIndex:t,hasChildren:n,isCollapsed:r,handleTreeNodeClick:i,handleTreeNodeToggle:o,searchValue:s})=>{var p,v,g;const a=At(null),l=At((v=(p=e.renderData)==null?void 0:p.renderCount)!=null?v:0),{highlightedText:c,typeHighlight:u}=Pme(e,s);Xt(()=>{var y;const b=(y=e.renderData)==null?void 0:y.renderCount,m=a.current;!m||!l.current||!b||l.current===b||(m.classList.remove("count-flash"),m.offsetWidth,m.classList.add("count-flash"),l.current=b)},[(g=e.renderData)==null?void 0:g.renderCount]);const f=gs(()=>{if(!e.renderData)return null;const{selfTime:b,totalTime:m,renderCount:y}=e.renderData;return y?C("span",{className:be("flex items-center gap-x-0.5 ml-1.5","text-[10px] text-neutral-400"),children:C("span",{ref:a,title:"Self time: ".concat(A5(b),"ms\nTotal time: ").concat(A5(m),"ms"),className:"count-badge",children:["×",y]})}):null},[e.renderData]),h=gs(()=>{if(!e.fiber)return null;const{wrapperTypes:b}=Up(e.fiber),m=b[0];return C("span",{className:be("flex items-center gap-x-1","text-[10px] text-neutral-400 tracking-wide","overflow-hidden"),children:[m&&C(fn,{children:[C("span",{title:m==null?void 0:m.title,className:be("rounded py-[1px] px-1","bg-neutral-700 text-neutral-300","truncate",m.type==="memo"&&"bg-[#8e61e3] text-white",u&&"bg-yellow-300 text-black"),children:m.type},m.type),m.compiler&&C("span",{className:"text-yellow-300 ml-1",children:"✨"})]}),b.length>1&&"×".concat(b.length),f]})},[e.fiber,u,f]);return C("button",{type:"button",title:e.title,"data-index":t,className:be("flex items-center gap-x-1","pl-1 pr-2","w-full h-7","text-left","rounded","cursor-pointer select-none"),onClick:i,children:[C("button",{type:"button","data-index":t,onClick:o,className:be("w-6 h-6 flex items-center justify-center","text-left"),children:n&&C(lr,{name:"icon-chevron-right",size:12,className:be("transition-transform",!r&&"rotate-90")})}),c,h]})},Mme=()=>{const e=At(null),t=At(null),n=At(null),r=At(null),i=At(null),o=At(0),s=At(!1),a=At(!1),l=At(null),[c,u]=tn([]),[f,h]=tn(new Set),[p,v]=tn(void 0),[g,b]=tn(oi.value),m=gs(()=>{const I=[],U=c,O=new Map(U.map(D=>[D.nodeId,D]));for(const D of U){let $=!0,Y=D;for(;Y.parentId;){const ie=O.get(Y.parentId);if(!ie)break;if(f.has(ie.nodeId)){$=!1;break}Y=ie}$&&I.push(D)}return I},[f,c]),y=28,{virtualItems:x,totalSize:k}=Sme({count:m.length,getScrollElement:()=>e.current,estimateSize:()=>y,overscan:5}),S=hr(I=>{var D;s.current=!0,(D=r.current)==null||D.blur(),f1.value=!0;const{parentCompositeFiber:U}=Nc(I);if(!U)return;Tt.inspectState.value={kind:"focused",focusedDomElement:I,fiber:U};const O=m.findIndex($=>$.element===I);if(O!==-1){v(O);const $=O*y,Y=e.current;if(Y){const ie=Y.clientHeight,ae=Y.scrollTop;($<ae||$+y>ae+ie)&&Y.scrollTo({top:Math.max(0,$-ie/2),behavior:"instant"})}}},[m]),E=hr(I=>{const U=I.currentTarget,O=Number(U.dataset.index);if(Number.isNaN(O))return;const D=m[O].element;D&&S(D)},[m,S]),T=hr(I=>{h(U=>{const O=new Set(U);return O.has(I)?O.delete(I):O.add(I),O})},[]),M=hr(I=>{I.stopPropagation();const U=I.target,O=Number(U.dataset.index);if(Number.isNaN(O))return;const D=m[O].nodeId;T(D)},[m,T]),W=hr(I=>{var ie,ae,xe,ke,Ne;(ie=n.current)==null||ie.classList.remove("!border-red-500");const U=[];if(!I){oi.value={query:I,matches:U,currentMatchIndex:-1};return}if(I.includes("[")&&!I.includes("]")&&I.length>I.indexOf("[")+1){(ae=n.current)==null||ae.classList.add("!border-red-500");return}const O=eF(I)||[];if(I.includes("[")&&!Ime(O)){(xe=n.current)==null||xe.classList.add("!border-red-500");return}const D=I.replace(/\[.*?\]/,"").trim(),$=/^\/.*\/$/.test(D);let Y=V=>!1;if(D.startsWith("/")&&!$&&D.length>1){(ke=n.current)==null||ke.classList.add("!border-red-500");return}if($)try{const V=D.slice(1,-1),Q=new RegExp(V,"i");Y=re=>Q.test(re)}catch(V){(Ne=n.current)==null||Ne.classList.add("!border-red-500");return}else if(D){const V=D.toLowerCase();Y=Q=>Q.toLowerCase().includes(V)}for(const V of c){let Q=!0;if(D&&(Q=Y(V.label)),Q&&O.length>0)if(!V.fiber)Q=!1;else{const{wrapperTypes:re}=Up(V.fiber);Q=tF(O,re)}Q&&U.push(V)}if(oi.value={query:I,matches:U,currentMatchIndex:U.length>0?0:-1},U.length>0){const V=U[0],Q=m.findIndex(re=>re.nodeId===V.nodeId);if(Q!==-1){const re=Q*y,Pe=e.current;if(Pe){const Ye=Pe.clientHeight;Pe.scrollTo({top:Math.max(0,re-Ye/2),behavior:"instant"})}}}},[c,m]),F=hr(I=>{const U=I.currentTarget;U&&W(U.value)},[W]),L=hr(I=>{const{matches:U,currentMatchIndex:O}=oi.value;if(U.length===0)return;const D=I==="next"?(O+1)%U.length:(O-1+U.length)%U.length;oi.value={...oi.value,currentMatchIndex:D};const $=U[D],Y=m.findIndex(ie=>ie.nodeId===$.nodeId);if(Y!==-1){v(Y);const ie=Y*y,ae=e.current;if(ae){const xe=ae.clientHeight;ae.scrollTo({top:Math.max(0,ie-xe/2),behavior:"instant"})}}},[m]),G=hr(I=>{if(t.current&&(t.current.style.width="".concat(I,"px")),e.current){e.current.style.width="".concat(I,"px");const U=Tme(I,o.current);e.current.style.setProperty("--indentation-size","".concat(U,"px"))}},[]),z=hr(I=>{if(!l.current)return;const U=Ct.value.dimensions.width,O=Math.floor(U-ns/2);l.current.classList.remove("cursor-ew-resize","cursor-w-resize","cursor-e-resize"),I<=ns?l.current.classList.add("cursor-w-resize"):I>=O?l.current.classList.add("cursor-e-resize"):l.current.classList.add("cursor-ew-resize")},[]),H=hr(I=>{if(I.preventDefault(),I.stopPropagation(),!e.current)return;e.current.style.setProperty("pointer-events","none"),a.current=!0;const U=I.clientX,O=e.current.offsetWidth,D=Ct.value.dimensions.width,$=Math.floor(D-ns/2);z(O);const Y=ae=>{const xe=U-ae.clientX,ke=O+xe;z(ke);const Ne=Math.min($,Math.max(ns,ke));G(Ne)},ie=()=>{e.current&&(e.current.style.removeProperty("pointer-events"),document.removeEventListener("pointermove",Y),document.removeEventListener("pointerup",ie),Ct.value={...Ct.value,componentsTree:{...Ct.value.componentsTree,width:e.current.offsetWidth}},no(Na,Ct.value),a.current=!1)};document.addEventListener("pointermove",Y),document.addEventListener("pointerup",ie)},[G,z]);Xt(()=>{if(!e.current)return;const I=e.current.offsetWidth;return z(I),Ct.subscribe(()=>{e.current&&z(e.current.offsetWidth)})},[z]);const J=hr(()=>{s.current=!1},[]);return Xt(()=>{let I=!0;const U=ie=>{const ae=new Map,xe=[];for(const{element:ke,name:Ne,fiber:V}of ie){if(!ke)continue;let Q=Ne;const{name:re,wrappers:Pe}=Up(V);re&&(Pe.length>0?Q="".concat(Pe.join("("),"(").concat(re,")").concat(")".repeat(Pe.length)):Q=re),ae.set(ke,{label:re||Ne,title:Q,children:[],element:ke,fiber:V})}for(const{element:ke,depth:Ne}of ie){if(!ke)continue;const V=ae.get(ke);if(V)if(Ne===0)xe.push(V);else{let Q=ke.parentElement;for(;Q;){const re=ae.get(Q);if(re){re.children=re.children||[],re.children.push(V);break}Q=Q.parentElement}}}return xe},O=()=>{const ie=i.current;if(!ie)return;const ae=nge(),xe=U(ae);if(xe.length>0){const ke=Z8(xe),Ne=Ame(ke);if(o.current=Ne,G(Ct.value.componentsTree.width),u(ke),I){I=!1;const V=ke.findIndex(Q=>Q.element===ie);if(V!==-1){const Q=V*y,re=e.current;re&&setTimeout(()=>{re.scrollTo({top:Q,behavior:"instant"})},96)}}}},D=Tt.inspectState.subscribe(ie=>{if(ie.kind==="focused"){if(f1.value)return;W(""),i.current=ie.focusedDomElement,O()}});let $=0;const Y=J8.subscribe(()=>{if(Tt.inspectState.value.kind==="focused"){if(cancelAnimationFrame($),a.current)return;$=requestAnimationFrame(()=>{f1.value=!1,O()})}});return()=>{D(),Y(),oi.value={query:"",matches:[],currentMatchIndex:-1}}},[]),Xt(()=>{const I=U=>{if(s.current&&p)switch(U.key){case"ArrowUp":{if(U.preventDefault(),U.stopPropagation(),p>0){const O=m[p-1];O!=null&&O.element&&S(O.element)}return}case"ArrowDown":{if(U.preventDefault(),U.stopPropagation(),p<m.length-1){const O=m[p+1];O!=null&&O.element&&S(O.element)}return}case"ArrowLeft":{U.preventDefault(),U.stopPropagation();const O=m[p];O!=null&&O.nodeId&&T(O.nodeId);return}case"ArrowRight":{U.preventDefault(),U.stopPropagation();const O=m[p];O!=null&&O.nodeId&&T(O.nodeId);return}}};return document.addEventListener("keydown",I),()=>{document.removeEventListener("keydown",I)}},[p,m,S,T]),Xt(()=>oi.subscribe(b),[]),Xt(()=>Ct.subscribe(U=>{var O;(O=t.current)==null||O.style.setProperty("transition","width 0.1s"),G(U.componentsTree.width),setTimeout(()=>{var D;(D=t.current)==null||D.style.removeProperty("transition")},500)}),[]),C("div",{className:"react-scan-components-tree flex",children:[C("div",{ref:l,onPointerDown:H,className:"relative resize-v-line",children:C("span",{children:C(lr,{name:"icon-ellipsis",size:18})})}),C("div",{ref:t,className:"flex flex-col h-full",children:[C("div",{className:"p-2 border-b border-[#1e1e1e]",children:C("div",{ref:n,title:'Search components by:\n\n• Name (e.g., "Button") — Case insensitive, matches any part\n\n• Regular Expression (e.g., "/^Button/") — Use forward slashes\n\n• Wrapper Type (e.g., "[memo,forwardRef]"):\n   - Available types: memo, forwardRef, lazy, suspense\n   - Matches any part of type name (e.g., "mo" matches "memo")\n   - Use commas for multiple types\n\n• Combined Search:\n   - Mix name/regex with type: "button [for]"\n   - Will match components satisfying both conditions\n\n• Navigation:\n   - Enter → Next match\n   - Shift + Enter → Previous match\n   - Cmd/Ctrl + Enter → Select and focus match\n',className:be("relative","flex items-center gap-x-1 px-2","rounded","border border-transparent","focus-within:border-[#454545]","bg-[#1e1e1e] text-neutral-300","transition-colors","whitespace-nowrap","overflow-hidden"),children:[C(lr,{name:"icon-search",size:12,className:" text-neutral-500"}),C("div",{className:"relative flex-1 h-7 overflow-hidden",children:C("input",{ref:r,type:"text",value:oi.value.query,onClick:I=>{I.stopPropagation(),I.currentTarget.focus()},onPointerDown:I=>{I.stopPropagation()},onKeyDown:I=>{I.key==="Escape"&&I.currentTarget.blur(),oi.value.matches.length&&(I.key==="Enter"&&I.shiftKey?L("prev"):I.key==="Enter"&&(I.metaKey||I.ctrlKey?(I.preventDefault(),I.stopPropagation(),S(oi.value.matches[oi.value.currentMatchIndex].element),I.currentTarget.focus()):L("next")))},onChange:F,className:"absolute inset-y-0 inset-x-1",placeholder:"Component name, /regex/, or [type]"})}),oi.value.query?C(fn,{children:[C("span",{className:"flex items-center gap-x-0.5 text-xs text-neutral-500",children:[oi.value.currentMatchIndex+1,"|",oi.value.matches.length]}),!!oi.value.matches.length&&C(fn,{children:[C("button",{type:"button",onClick:I=>{I.stopPropagation(),L("prev")},className:"button rounded w-4 h-4 flex items-center justify-center text-neutral-400 hover:text-neutral-300",children:C(lr,{name:"icon-chevron-right",className:"-rotate-90",size:12})}),C("button",{type:"button",onClick:I=>{I.stopPropagation(),L("next")},className:"button rounded w-4 h-4 flex items-center justify-center text-neutral-400 hover:text-neutral-300",children:C(lr,{name:"icon-chevron-right",className:"rotate-90",size:12})})]}),C("button",{type:"button",onClick:I=>{I.stopPropagation(),W("")},className:"button rounded w-4 h-4 flex items-center justify-center text-neutral-400 hover:text-neutral-300",children:C(lr,{name:"icon-close",size:12})})]}):!!c.length&&C("span",{className:"text-xs text-neutral-500",children:c.length})]})}),C("div",{className:"flex-1 overflow-hidden",children:C("div",{ref:e,onPointerLeave:J,className:"tree h-full overflow-auto will-change-transform",children:C("div",{className:"relative w-full",style:{height:k},children:x.map(I=>{var $;const U=m[I.index];if(!U)return null;const O=Tt.inspectState.value.kind==="focused"&&U.element===Tt.inspectState.value.focusedDomElement,D=I.index===p;return C("div",{className:be("absolute left-0 w-full overflow-hidden","text-neutral-400 hover:text-neutral-300","bg-transparent hover:bg-[#5f3f9a]/20",(O||D)&&"text-neutral-300 bg-[#5f3f9a]/40 hover:bg-[#5f3f9a]/40"),style:{top:I.start,height:y},children:C("div",{className:"w-full h-full",style:{paddingLeft:"calc(".concat(U.depth," * var(--indentation-size))")},children:C(Ome,{node:U,nodeIndex:I.index,hasChildren:!!(($=U.children)!=null&&$.length),isCollapsed:f.has(U.nodeId),handleTreeNodeClick:E,handleTreeNodeToggle:M,searchValue:g})})},U.nodeId)})})})})]})]})},e0=Dx(({text:e,children:t,onCopy:n,className:r,iconSize:i=14})=>{const[o,s]=tn(!1);Xt(()=>{if(o){const c=setTimeout(()=>s(!1),600);return()=>{clearTimeout(c)}}},[o]);const a=hr(c=>{c.preventDefault(),c.stopPropagation(),navigator.clipboard.writeText(e).then(()=>{s(!0),n==null||n(!0,e)},()=>{n==null||n(!1,e)})},[e,n]),l=C("button",{onClick:a,type:"button",className:be("z-10","flex items-center justify-center","hover:text-dev-pink-400","transition-colors duration-200 ease-in-out","cursor-pointer","size-[".concat(i,"px]"),r),children:C(lr,{name:"icon-".concat(o?"check":"copy"),size:[i],className:be(o&&"text-green-500")})});return t?t({ClipboardIcon:l,onClick:a}):l}),$me=({length:e,expanded:t,onToggle:n,isNegative:r})=>C("div",{className:"flex items-center gap-1",children:[C("button",{type:"button",onClick:n,className:"flex items-center p-0 opacity-50",children:C(lr,{name:"icon-chevron-right",size:12,className:be("transition-[color,transform]",r?"text-[#f87171]":"text-[#4ade80]",t&&"rotate-90")})}),C("span",{children:["Array(",e,")"]})]}),d2=({value:e,path:t,isNegative:n})=>{const[r,i]=tn(!1);if(!(e!==null&&typeof e=="object"&&!(e instanceof Date)))return C("div",{className:"flex items-center gap-1",children:[C("span",{className:"text-gray-500",children:[t,":"]}),C("span",{className:"truncate",children:i0(e)})]});const s=Object.entries(e);return C("div",{className:"flex flex-col",children:[C("div",{className:"flex items-center gap-1",children:[C("button",{type:"button",onClick:()=>i(!r),className:"flex items-center p-0 opacity-50",children:C(lr,{name:"icon-chevron-right",size:12,className:be("transition-[color,transform]",n?"text-[#f87171]":"text-[#4ade80]",r&&"rotate-90")})}),C("span",{className:"text-gray-500",children:[t,":"]}),!r&&C("span",{className:"truncate",children:e instanceof Date?i0(e):"{".concat(Object.keys(e).join(", "),"}")})]}),r&&C("div",{className:"pl-5 border-l border-[#333] mt-0.5 ml-1 flex flex-col gap-0.5",children:s.map(([a,l])=>C(d2,{value:l,path:a,isNegative:n},a))})]})},t0=({value:e,expanded:t,onToggle:n,isNegative:r})=>{const{value:i,error:o}=oge(e);return o?C("span",{className:"text-gray-500 font-italic",children:o}):i!==null&&typeof i=="object"&&!(i instanceof Promise)?Array.isArray(i)?C("div",{className:"flex flex-col gap-1 relative",children:[C($me,{length:i.length,expanded:t,onToggle:n,isNegative:r}),t&&C("div",{className:"pl-2 border-l border-[#333] mt-0.5 ml-1 flex flex-col gap-0.5",children:i.map((a,l)=>C(d2,{value:a,path:l.toString(),isNegative:r},l.toString()))}),C(e0,{text:P5(i),className:"absolute top-0.5 right-0.5 opacity-0 transition-opacity group-hover:opacity-100 self-end",children:({ClipboardIcon:a})=>C(fn,{children:a})})]}):C("div",{className:"flex items-start gap-1 relative",children:[C("button",{type:"button",onClick:n,className:be("flex items-center","p-0 mt-0.5 mr-1","opacity-50"),children:C(lr,{name:"icon-chevron-right",size:12,className:be("transition-[color,transform]",r?"text-[#f87171]":"text-[#4ade80]",t&&"rotate-90")})}),C("div",{className:"flex-1",children:t?C("div",{className:"pl-2 border-l border-[#333] mt-0.5 ml-1 flex flex-col gap-0.5",children:Object.entries(i).map(([a,l])=>C(d2,{value:l,path:a,isNegative:r},a))}):C("span",{children:i0(i)})}),C(e0,{text:P5(i),className:"absolute top-0.5 right-0.5 opacity-0 transition-opacity group-hover:opacity-100 self-end",children:({ClipboardIcon:a})=>C(fn,{children:a})})]}):C("span",{children:i0(i)})},Dme=50;Ir({fiber:null,fiberProps:{current:[],changes:new Set},fiberState:{current:[],changes:new Set},fiberContext:{current:[],changes:new Set}});var f2=e=>{switch(e.kind){case"initialized":return e.changes.currentValue;case"partially-initialized":return e.value}},T5=(e,t)=>{for(const n of e){const r=t.get(n.name);if(r){t.set(r.name,{count:r.count+1,currentValue:n.value,id:r.name,lastUpdated:Date.now(),name:r.name,previousValue:n.prevValue});continue}t.set(n.name,{count:1,currentValue:n.value,id:n.name,lastUpdated:Date.now(),name:n.name,previousValue:n.prevValue})}},Fme=(e,t)=>{for(const n of e){const r=t.contextChanges.get(n.contextType);if(r){if(qd(f2(r),n.value))continue;if(r.kind==="partially-initialized"){t.contextChanges.set(n.contextType,{kind:"initialized",changes:{count:1,currentValue:n.value,id:n.contextType.toString(),lastUpdated:Date.now(),name:n.name,previousValue:r.value}});continue}t.contextChanges.set(n.contextType,{kind:"initialized",changes:{count:r.changes.count+1,currentValue:n.value,id:n.contextType.toString(),lastUpdated:Date.now(),name:n.name,previousValue:r.changes.currentValue}});continue}t.contextChanges.set(n.contextType,{kind:"partially-initialized",id:n.contextType.toString(),lastUpdated:Date.now(),name:n.name,value:n.value})}},Lme=e=>{const t={contextChanges:new Map,propsChanges:new Map,stateChanges:new Map};return e.forEach(n=>{Fme(n.contextChanges,t),T5(n.stateChanges,t.stateChanges),T5(n.propsChanges,t.propsChanges)}),t},R5=(e,t)=>{const n=new Map;return e.forEach((r,i)=>{n.set(i,r)}),t.forEach((r,i)=>{const o=n.get(i);if(!o){n.set(i,r);return}n.set(i,{count:o.count+r.count,currentValue:r.currentValue,id:r.id,lastUpdated:r.lastUpdated,name:r.name,previousValue:r.previousValue})}),n},Bme=(e,t)=>{const n=new Map;return e.contextChanges.forEach((r,i)=>{n.set(i,r)}),t.contextChanges.forEach((r,i)=>{const o=n.get(i);if(!o){n.set(i,r);return}if(f2(r)!==f2(o))switch(o.kind){case"initialized":switch(r.kind){case"initialized":{n.set(i,{kind:"initialized",changes:{...r.changes,count:r.changes.count+o.changes.count+1,currentValue:r.changes.currentValue,previousValue:r.changes.previousValue}});return}case"partially-initialized":{n.set(i,{kind:"initialized",changes:{count:o.changes.count+1,currentValue:r.value,id:r.id,lastUpdated:r.lastUpdated,name:r.name,previousValue:o.changes.currentValue}});return}}case"partially-initialized":switch(r.kind){case"initialized":{n.set(i,{kind:"initialized",changes:{count:r.changes.count+1,currentValue:r.changes.currentValue,id:r.changes.id,lastUpdated:r.changes.lastUpdated,name:r.changes.name,previousValue:o.value}});return}case"partially-initialized":{n.set(i,{kind:"initialized",changes:{count:1,currentValue:r.value,id:r.id,lastUpdated:r.lastUpdated,name:r.name,previousValue:o.value}});return}}}}),n},zme=(e,t)=>{const n=Bme(e,t),r=R5(e.propsChanges,t.propsChanges),i=R5(e.stateChanges,t.stateChanges);return{contextChanges:n,propsChanges:r,stateChanges:i}},h2=e=>Array.from(e.propsChanges.values()).reduce((t,n)=>t+n.count,0)+Array.from(e.stateChanges.values()).reduce((t,n)=>t+n.count,0)+Array.from(e.contextChanges.values()).filter(t=>t.kind==="initialized").reduce((t,n)=>t+n.changes.count,0),Hme=e=>{const t=At({queue:[]}),[n,r]=tn({propsChanges:new Map,stateChanges:new Map,contextChanges:new Map}),i=Tt.inspectState.value.kind==="focused"?Tt.inspectState.value.fiber:null,o=i?g8(i):null;return Xt(()=>{const s=setInterval(()=>{t.current.queue.length!==0&&(r(a=>{const l=Lme(t.current.queue),c=zme(a,l);return h2(a),h2(c),c}),t.current.queue=[])},Dme);return()=>{clearInterval(s)}},[i]),Xt(()=>{if(!o)return;const s=l=>{var c;(c=t.current)==null||c.queue.push(l)};let a=Tt.changesListeners.get(o);return a||(a=[],Tt.changesListeners.set(o,a)),a.push(s),()=>{var l,c;r({propsChanges:new Map,stateChanges:new Map,contextChanges:new Map}),t.current.queue=[],Tt.changesListeners.set(o,(c=(l=Tt.changesListeners.get(o))==null?void 0:l.filter(u=>u!==s))!=null?c:[])}},[o]),Xt(()=>()=>{r({propsChanges:new Map,stateChanges:new Map,contextChanges:new Map}),t.current.queue=[]},[o]),n},n0=e=>{var t;if(e==null)return{value:e};if(typeof e=="function")return{value:e};if(typeof e!="object")return{value:e};if(pd(e))return{value:"Promise"};try{const n=Object.getPrototypeOf(e);return n===Promise.prototype||((t=n==null?void 0:n.constructor)==null?void 0:t.name)==="Promise"?{value:"Promise"}:{value:e}}catch(n){return{value:null,error:"Error accessing value"}}},Wme=Dx(()=>{const[e,t]=tn(!0),n=Hme(),[r,i]=tn(!1),o=h2(n)>0;Xt(()=>{if(!r&&o){const l=setTimeout(()=>{i(!0),requestAnimationFrame(()=>{t(!0)})},0);return()=>clearTimeout(l)}},[r,o]);const s=new Map(Array.from(n.contextChanges.entries()).filter(([,l])=>l.kind==="initialized").map(([l,c])=>[l,c.kind==="partially-initialized"?null:c.changes])),a=Tt.inspectState.value.kind==="focused"?Tt.inspectState.value.fiber:null;if(a)return C(fn,{children:[C(Vme,{}),C("div",{className:"overflow-hidden h-full flex flex-col gap-y-2",children:[C("div",{className:"flex flex-col gap-2 px-3 pt-2",children:[C("span",{className:"text-sm font-medium text-[#888]",children:["Why did"," ",C("span",{className:"text-[#A855F7]",children:Ci(a)})," ","render?"]}),!o&&C("div",{className:"text-sm text-[#737373] bg-[#1E1E1E] rounded-md p-4 flex flex-col gap-4",children:[C("div",{children:"No changes detected since selecting"}),C("div",{children:"The props, state, and context changes within your component will be reported here"})]})]}),C("div",{className:be("flex flex-col gap-y-2 pl-3 relative overflow-y-auto h-full"),children:[C(h1,{changes:n.propsChanges,title:"Changed Props",isExpanded:e}),C(h1,{renderName:l=>{var c;return Ume(l,(c=Ci(Ox(a)))!=null?c:"Unknown Component")},changes:n.stateChanges,title:"Changed State",isExpanded:e}),C(h1,{changes:s,title:"Changed Context",isExpanded:e})]})]})]})}),Ume=(e,t)=>{if(Number.isNaN(Number(e)))return e;const n=Number.parseInt(e);return C("span",{className:"truncate",children:[C("span",{className:"text-white",children:[n,(i=>{const o=i%10,s=i%100;if(s>=11&&s<=13)return"th";switch(o){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}})(n)," hook"," "]}),C("span",{style:{color:"#666"},children:["called in ",C("i",{className:"text-[#A855F7] truncate",children:t})]})]})},Vme=Dx(()=>{const e=At(null),t=At(null),n=At(null),r=At({isPropsChanged:!1,isStateChanged:!1,isContextChanged:!1});return Xt(()=>{const i=G8(()=>{var a,l,c;const s=[];((a=e.current)==null?void 0:a.dataset.flash)==="true"&&s.push(e.current),((l=t.current)==null?void 0:l.dataset.flash)==="true"&&s.push(t.current),((c=n.current)==null?void 0:c.dataset.flash)==="true"&&s.push(n.current);for(const u of s)u.classList.remove("count-flash-white"),u.offsetWidth,u.classList.add("count-flash-white")},400);return ki.subscribe(s=>{var u,f,h,p,v,g,b,m,y;if(!e.current||!t.current||!n.current)return;const{currentIndex:a,updates:l}=s,c=l[a];!c||a===0||(i(),r.current={isPropsChanged:((h=(f=(u=c.props)==null?void 0:u.changes)==null?void 0:f.size)!=null?h:0)>0,isStateChanged:((g=(v=(p=c.state)==null?void 0:p.changes)==null?void 0:v.size)!=null?g:0)>0,isContextChanged:((y=(m=(b=c.context)==null?void 0:b.changes)==null?void 0:m.size)!=null?y:0)>0},e.current.dataset.flash!=="true"&&(e.current.dataset.flash=r.current.isPropsChanged.toString()),t.current.dataset.flash!=="true"&&(t.current.dataset.flash=r.current.isStateChanged.toString()),n.current.dataset.flash!=="true"&&(n.current.dataset.flash=r.current.isContextChanged.toString()))})},[]),C("button",{type:"button",className:be("react-section-header","overflow-hidden","max-h-0","transition-[max-height]"),children:C("div",{className:be("flex-1 react-scan-expandable"),children:C("div",{className:"overflow-hidden",children:C("div",{className:"flex items-center whitespace-nowrap",children:[C("div",{className:"flex items-center gap-x-2",children:"What changed?"}),C("div",{className:be("ml-auto","change-scope","transition-opacity duration-300 delay-150"),children:[C("div",{ref:e,children:"props"}),C("div",{ref:t,children:"state"}),C("div",{ref:n,children:"context"})]})]})})})})}),qme=e=>e,h1=Dx(({title:e,changes:t,renderName:n=qme})=>{const[r,i]=tn(new Set),[o,s]=tn(new Set),a=Array.from(t.entries());return t.size===0?null:C("div",{children:[C("div",{className:"text-xs text-[#888] mb-1.5",children:e}),C("div",{className:"flex flex-col gap-2",children:a.map(([l,c])=>{const u=o.has(String(l)),{value:f,error:h}=n0(c.previousValue),{value:p,error:v}=n0(c.currentValue),g=oF(f,p);return C("div",{children:[C("button",{onClick:()=>{s(b=>{const m=new Set(b);return m.has(String(l))?m.delete(String(l)):m.add(String(l)),m})},className:"flex items-center gap-2 w-full bg-transparent border-none p-0 cursor-pointer text-white text-xs",children:C("div",{className:"flex items-center gap-1.5 flex-1",children:[C(lr,{name:"icon-chevron-right",size:12,className:be("text-[#666] transition-transform duration-200 ease-[cubic-bezier(0.25,0.1,0.25,1)]",{"rotate-90":u})}),C("div",{className:"whitespace-pre-wrap break-words text-left font-medium flex items-center gap-x-1.5",children:[n(c.name),C(Xme,{count:c.count,isFunction:typeof c.currentValue=="function",showWarning:g.changes.length===0,forceFlash:!0})]})]})}),C("div",{className:be("react-scan-expandable",{"react-scan-expanded":u}),children:C("div",{className:"pl-3 text-xs font-mono border-l-1 border-[#333]",children:C("div",{className:"flex flex-col gap-0.5",children:h||v?C(Kme,{currError:v,prevError:h}):g.changes.length>0?C(Yme,{change:c,diff:g,expandedFns:r,renderName:n,setExpandedFns:i,title:e}):C(Gme,{currValue:p,entryKey:l,expandedFns:r,prevValue:f,setExpandedFns:i})})})})]},l)})})]})}),Kme=({prevError:e,currError:t})=>C(fn,{children:[e&&C("div",{className:"text-[#f87171] bg-[#2a1515] pr-1.5 py-[3px] rounded italic",children:e}),t&&C("div",{className:"text-[#4ade80] bg-[#1a2a1a] pr-1.5 py-[3px] rounded italic mt-0.5",children:t})]}),Yme=({diff:e,title:t,renderName:n,change:r,expandedFns:i,setExpandedFns:o})=>e.changes.map((s,a)=>{const{value:l,error:c}=n0(s.prevValue),{value:u,error:f}=n0(s.currentValue),h=typeof l=="function"||typeof u=="function";let p;return t==="Props"&&(p=s.path.length>0?"".concat(n(String(r.name)),".").concat(qo(s.path)):void 0),t==="State"&&s.path.length>0&&(p="state.".concat(qo(s.path))),p||(p=qo(s.path)),C("div",{className:be("flex flex-col gap-y-1",a<e.changes.length-1&&"mb-4"),children:[p&&C("div",{className:"text-[#666] text-[10px]",children:p}),C("button",{type:"button",className:be("group","flex items-start","py-[3px] px-1.5","text-left text-[#f87171] bg-[#2a1515]","rounded","overflow-hidden break-all",h&&"cursor-pointer"),onClick:h?()=>{const v="".concat(qo(s.path),"-prev");o(g=>{const b=new Set(g);return b.has(v)?b.delete(v):b.add(v),b})}:void 0,children:[C("span",{className:"w-3 flex items-center justify-center opacity-50",children:"-"}),C("span",{className:"flex-1 whitespace-nowrap font-mono",children:c?C("span",{className:"italic text-[#f87171]",children:c}):h?C("div",{className:"flex gap-1 items-start flex-col",children:[C("div",{className:"flex gap-1 items-start w-full",children:[C("span",{className:"flex-1 max-h-40",children:m2(l,i.has("".concat(qo(s.path),"-prev")))}),typeof l=="function"&&C(e0,{text:l.toString(),className:"opacity-0 transition-opacity group-hover:opacity-100",children:({ClipboardIcon:v})=>C(fn,{children:v})})]}),(l==null?void 0:l.toString())===(u==null?void 0:u.toString())&&C("div",{className:"text-[10px] text-[#666] italic",children:"Function reference changed"})]}):C(t0,{value:l,expanded:i.has("".concat(qo(s.path),"-prev")),onToggle:()=>{const v="".concat(qo(s.path),"-prev");o(g=>{const b=new Set(g);return b.has(v)?b.delete(v):b.add(v),b})},isNegative:!0})})]}),C("button",{type:"button",className:be("group","flex items-start","py-[3px] px-1.5","text-left text-[#4ade80] bg-[#1a2a1a]","rounded","overflow-hidden break-all",h&&"cursor-pointer"),onClick:h?()=>{const v="".concat(qo(s.path),"-current");o(g=>{const b=new Set(g);return b.has(v)?b.delete(v):b.add(v),b})}:void 0,children:[C("span",{className:"w-3 flex items-center justify-center opacity-50",children:"+"}),C("span",{className:"flex-1 whitespace-pre-wrap font-mono",children:f?C("span",{className:"italic text-[#4ade80]",children:f}):h?C("div",{className:"flex gap-1 items-start flex-col",children:[C("div",{className:"flex gap-1 items-start w-full",children:[C("span",{className:"flex-1",children:m2(u,i.has("".concat(qo(s.path),"-current")))}),typeof u=="function"&&C(e0,{text:u.toString(),className:"opacity-0 transition-opacity group-hover:opacity-100",children:({ClipboardIcon:v})=>C(fn,{children:v})})]}),(l==null?void 0:l.toString())===(u==null?void 0:u.toString())&&C("div",{className:"text-[10px] text-[#666] italic",children:"Function reference changed"})]}):C(t0,{value:u,expanded:i.has("".concat(qo(s.path),"-current")),onToggle:()=>{const v="".concat(qo(s.path),"-current");o(g=>{const b=new Set(g);return b.has(v)?b.delete(v):b.add(v),b})},isNegative:!1})})]})]},"".concat(p,"-").concat(r.name,"-").concat(a))}),Gme=({prevValue:e,currValue:t,entryKey:n,expandedFns:r,setExpandedFns:i})=>C(fn,{children:[C("div",{className:"group flex gap-0.5 items-start text-[#f87171] bg-[#2a1515] py-[3px] px-1.5 rounded",children:[C("span",{className:"w-3 flex items-center justify-center opacity-50",children:"-"}),C("span",{className:"flex-1 overflow-hidden whitespace-pre-wrap font-mono",children:C(t0,{value:e,expanded:r.has("".concat(String(n),"-prev")),onToggle:()=>{const o="".concat(String(n),"-prev");i(s=>{const a=new Set(s);return a.has(o)?a.delete(o):a.add(o),a})},isNegative:!0})})]}),C("div",{className:"group flex gap-0.5 items-start text-[#4ade80] bg-[#1a2a1a] py-[3px] px-1.5 rounded mt-0.5",children:[C("span",{className:"w-3 flex items-center justify-center opacity-50",children:"+"}),C("span",{className:"flex-1 overflow-hidden whitespace-pre-wrap font-mono",children:C(t0,{value:t,expanded:r.has("".concat(String(n),"-current")),onToggle:()=>{const o="".concat(String(n),"-current");i(s=>{const a=new Set(s);return a.has(o)?a.delete(o):a.add(o),a})},isNegative:!1})})]}),typeof t=="object"&&t!==null&&C("div",{className:"text-[#666] text-[10px] italic mt-1 flex items-center gap-x-1",children:[C(lr,{name:"icon-triangle-alert",className:"text-yellow-500 mb-px",size:14}),C("span",{children:"Reference changed but objects are structurally the same"})]})]}),Xme=({count:e,forceFlash:t,isFunction:n,showWarning:r})=>{const i=At(!0),o=At(null),s=At(e);return Xt(()=>{const a=o.current;!a||s.current===e||(a.classList.remove("count-flash"),a.offsetWidth,a.classList.add("count-flash"),s.current=e)},[e]),Xt(()=>{if(i.current){i.current=!1;return}if(t){let a=setTimeout(()=>{var l;(l=o.current)==null||l.classList.add("count-flash-white"),a=setTimeout(()=>{var c;(c=o.current)==null||c.classList.remove("count-flash-white")},300)},500);return()=>{clearTimeout(a)}}},[t]),C("div",{ref:o,className:"count-badge",children:[r&&C(lr,{name:"icon-triangle-alert",className:"text-yellow-500 mb-px",size:14}),n&&C(lr,{name:"icon-function",className:"text-[#A855F7] mb-px",size:14}),"x",e]})},vl={lastRendered:new Map,expandedPaths:new Set,cleanup:()=>{vl.lastRendered.clear(),vl.expandedPaths.clear(),jme.cleanupAll(),cge(),Q8.reset()}},nF=class extends Mo{constructor(){super(...arguments),this.state={hasError:!1,error:null},this.handleReset=()=>{this.setState({hasError:!1,error:null}),vl.cleanup()}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){var e;return this.state.hasError?C("div",{className:"p-4 bg-red-950/50 h-screen backdrop-blur-sm",children:[C("div",{className:"flex items-center gap-2 mb-3 text-red-400 font-medium",children:[C(lr,{name:"icon-flame",className:"text-red-500",size:16}),"Something went wrong in the inspector"]}),C("div",{className:"p-3 bg-black/40 rounded font-mono text-xs text-red-300 mb-4 break-words",children:((e=this.state.error)==null?void 0:e.message)||JSON.stringify(this.state.error)}),C("button",{type:"button",onClick:this.handleReset,className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-md text-sm font-medium transition-colors flex items-center justify-center gap-2",children:"Reset Inspector"})]}):this.props.children}},Jme=mu(()=>be("react-scan-inspector","flex-1","opacity-0","overflow-y-auto overflow-x-hidden","transition-opacity delay-0","pointer-events-none",!Fx.value&&"opacity-100 delay-300 pointer-events-auto")),Qme=pC(()=>{const e=At(null),t=n=>{if(!n)return;e.current=n;const{data:r,shouldUpdate:i}=dge(n);if(i){const o={timestamp:Date.now(),fiberInfo:sge(n),props:r.fiberProps,state:r.fiberState,context:r.fiberContext,stateNames:lge(n)};Q8.addUpdate(o,n)}};return Wp(()=>{const n=Tt.inspectState.value;Hp(()=>{var o;if(n.kind!=="focused"||!n.focusedDomElement){e.current=null,vl.cleanup();return}n.kind==="focused"&&(Fx.value=!1);const{parentCompositeFiber:r}=I5(n.focusedDomElement,n.fiber);if(!r){Tt.inspectState.value={kind:"inspect-off"},Pn.value={view:"none"};return}((o=e.current)==null?void 0:o.type)!==r.type&&(e.current=r,vl.cleanup(),t(r))})}),Wp(()=>{J8.value,Hp(()=>{const n=Tt.inspectState.value;if(n.kind!=="focused"||!n.focusedDomElement){e.current=null,vl.cleanup();return}const{parentCompositeFiber:r}=I5(n.focusedDomElement,n.fiber);if(!r){Tt.inspectState.value={kind:"inspect-off"},Pn.value={view:"none"};return}t(r),n.focusedDomElement.isConnected||(e.current=null,vl.cleanup(),Tt.inspectState.value={kind:"inspecting",hoveredDomElement:null})})}),Xt(()=>()=>{vl.cleanup()},[]),C(nF,{children:C("div",{className:Jme,children:C("div",{className:"w-full h-full",children:C(Wme,{})})})})}),Zme=pC(()=>Tt.inspectState.value.kind!=="focused"?null:C(nF,{children:[C(Qme,{}),C(Mme,{})]})),rF=e=>{var t,n,r,i;if("__REACT_DEVTOOLS_GLOBAL_HOOK__"in window){const o=window.__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!(o!=null&&o.renderers))return null;for(const[,s]of Array.from(o.renderers))try{const a=(t=s.findFiberByHostInstance)==null?void 0:t.call(s,e);if(a)return a}catch(a){}}if("_reactRootContainer"in e){const s=e._reactRootContainer;return(i=(r=(n=s==null?void 0:s._internalRoot)==null?void 0:n.current)==null?void 0:r.child)!=null?i:null}for(const o in e)if(o.startsWith("__reactInternalInstance$")||o.startsWith("__reactFiber"))return e[o];return null},iF=e=>{let t=e;for(;t;){if(t.stateNode instanceof Element)return t.stateNode;if(!t.child)break;t=t.child}for(;t;){if(t.stateNode instanceof Element)return t.stateNode;if(!t.return)break;t=t.return}return null},mC=e=>{if(!e)return null;try{const t=rF(e);if(!t)return null;const n=$h(t);return n?n[0]:null}catch(t){return null}},$h=e=>{let t=e,n=null;for(;t;){if(lpe(t))return[t,n];h8(t)&&!n&&(n=t),t=t.return}return null},ege=async e=>{const t=mC(e);if(!t)return null;const n=iF(t);if(!n)return null;const r=(await Bpe([n])).get(n);return r||null},Nc=e=>{const t=mC(e);if(!t)return{};if(!iF(t))return{};const r=$h(t);if(!r)return{};const[i]=r;return{parentCompositeFiber:i}},I5=(e,t)=>{if(!e.isConnected)return{};let n=t!=null?t:mC(e);if(!n)return{};let r=n;for(;r;){if(!r.stateNode){r=r.return;continue}r=r.return}return{}},tge=e=>{var i,o,s;const t=(i=e.memoizedProps)!=null?i:{},n=(s=(o=e.alternate)==null?void 0:o.memoizedProps)!=null?s:{},r=[];for(const a in t){if(a==="children")continue;const l=t[a],c=n[a];qd(l,c)||r.push({name:a,value:l,prevValue:c,type:1})}return r},p2=new Set(["HTML","HEAD","META","TITLE","BASE","SCRIPT","SCRIPT","STYLE","LINK","NOSCRIPT","SOURCE","TRACK","EMBED","OBJECT","PARAM","TEMPLATE","PORTAL","SLOT","AREA","XML","DOCTYPE","COMMENT"]),r0=(e,t=!0)=>{if(e.stateNode&&"nodeType"in e.stateNode){const r=e.stateNode;return t&&r.tagName&&p2.has(r.tagName.toLowerCase())?null:r}let n=e.child;for(;n;){const r=r0(n,t);if(r)return r;n=n.sibling}return null},nge=(e=document.body)=>{const t=[],n=i=>{if(!i)return null;const{parentCompositeFiber:o}=Nc(i);return o&&r0(o)===i?i:null},r=(i,o=0)=>{var a;const s=n(i);if(s){const{parentCompositeFiber:l}=Nc(s);if(!l)return;t.push({element:s,depth:o,name:(a=Ci(l.type))!=null?a:"Unknown",fiber:l})}for(const l of Array.from(i.children))r(l,s?o+1:o)};return r(e),t},P5=e=>{try{if(e===null)return"null";if(e===void 0)return"undefined";if(pd(e))return"Promise";if(typeof e=="function"){const t=e.toString();try{return t.replace(/\s+/g," ").replace(/{\s+/g,"{\n  ").replace(/;\s+/g,";\n  ").replace(/}\s*$/g,"\n}").replace(/\(\s+/g,"(").replace(/\s+\)/g,")").replace(/,\s+/g,", ")}catch(n){return t}}switch(!0){case e instanceof Date:return e.toISOString();case e instanceof RegExp:return e.toString();case e instanceof Error:return"".concat(e.name,": ").concat(e.message);case e instanceof Map:return JSON.stringify(Array.from(e.entries()),null,2);case e instanceof Set:return JSON.stringify(Array.from(e),null,2);case e instanceof DataView:return JSON.stringify(Array.from(new Uint8Array(e.buffer)),null,2);case e instanceof ArrayBuffer:return JSON.stringify(Array.from(new Uint8Array(e)),null,2);case(ArrayBuffer.isView(e)&&"length"in e):return JSON.stringify(Array.from(e),null,2);case Array.isArray(e):return JSON.stringify(e,null,2);case typeof e=="object":return JSON.stringify(e,null,2);default:return String(e)}}catch(t){return String(e)}},rge=(e,t)=>{try{return typeof e!="function"||typeof t!="function"?!1:e.toString()===t.toString()}catch(n){return!1}},oF=(e,t,n=[],r=new WeakSet)=>{if(e===t)return{type:"primitive",changes:[],hasDeepChanges:!1};if(typeof e=="function"&&typeof t=="function"){const c=rge(e,t);return{type:"primitive",changes:[{path:n,prevValue:e,currentValue:t,sameFunction:c}],hasDeepChanges:!c}}if(e===null||t===null||e===void 0||t===void 0||typeof e!="object"||typeof t!="object")return{type:"primitive",changes:[{path:n,prevValue:e,currentValue:t}],hasDeepChanges:!0};if(r.has(e)||r.has(t))return{type:"object",changes:[{path:n,prevValue:"[Circular]",currentValue:"[Circular]"}],hasDeepChanges:!1};r.add(e),r.add(t);const i=e,o=t,s=new Set([...Object.keys(i),...Object.keys(o)]),a=[];let l=!1;for(const c of s){const u=i[c],f=o[c];if(u!==f)if(typeof u=="object"&&typeof f=="object"&&u!==null&&f!==null){const h=oF(u,f,[...n,c],r);a.push(...h.changes),h.hasDeepChanges&&(l=!0)}else a.push({path:[...n,c],prevValue:u,currentValue:f}),l=!0}return{type:"object",changes:a,hasDeepChanges:l}},qo=e=>e.length===0?"":e.reduce((t,n,r)=>/^\d+$/.test(n)?"".concat(t,"[").concat(n,"]"):r===0?n:"".concat(t,".").concat(n),"");function ige(e){const t=e.replace(/\s+/g," ").trim(),n=[];let r="";for(let m=0;m<t.length;m++){const y=t[m];if(y==="="&&t[m+1]===">"){r.trim()&&n.push(r.trim()),n.push("=>"),r="",m++;continue}/[(){}[\];,<>:\?!]/.test(y)?(r.trim()&&n.push(r.trim()),n.push(y),r=""):/\s/.test(y)?(r.trim()&&n.push(r.trim()),r=""):r+=y}r.trim()&&n.push(r.trim());const i=[];for(let m=0;m<n.length;m++){const y=n[m],x=n[m+1];y==="("&&x===")"||y==="["&&x==="]"||y==="{"&&x==="}"||y==="<"&&x===">"?(i.push(y+x),m++):i.push(y)}const o=new Set,s=new Set;function a(m,y,x){let k=0;for(let S=x;S<i.length;S++){const E=i[S];if(E===m)k++;else if(E===y&&(k--,k===0))return S}return-1}for(let m=0;m<i.length;m++)if(i[m]==="("){const x=a("(",")",m);if(x!==-1&&i[x+1]==="=>")for(let k=m;k<=x;k++)o.add(k)}for(let m=1;m<i.length;m++){const y=i[m-1],x=i[m];if(/^[a-zA-Z0-9_$]+$/.test(y)&&x==="<"){const k=a("<",">",m);if(k!==-1)for(let S=m;S<=k;S++)s.add(S)}}let l=0;const c="  ",u=[];let f="";function h(){f.trim()&&u.push(f.replace(/\s+$/,"")),f=""}function p(){h(),f=c.repeat(l)}const v=[];function g(){return v.length?v[v.length-1]:null}function b(m,y=!1){f.trim()?y||/^[),;:\].}>]$/.test(m)?f+=m:f+=" ".concat(m):f+=m}for(let m=0;m<i.length;m++){const y=i[m],x=i[m+1]||"";if(["(","{","[","<"].includes(y)){if(b(y),v.push(y),y==="{")l++,p();else if((y==="("||y==="["||y==="<")&&!(o.has(m)&&y==="("||s.has(m)&&y==="<")){const k={"(":")","[":"]","<":">"}[y];x!==k&&x!=="()"&&x!=="[]"&&x!=="<>"&&(l++,p())}}else if([")","}","]",">"].includes(y)){const k=g();y===")"&&k==="("||y==="]"&&k==="["||y===">"&&k==="<"?!(o.has(m)&&y===")")&&!(s.has(m)&&y===">")&&(l=Math.max(l-1,0),p()):y==="}"&&k==="{"&&(l=Math.max(l-1,0),p()),v.pop(),b(y),y==="}"&&p()}else if(/^\(\)|\[\]|\{\}|\<\>$/.test(y))b(y);else if(y==="=>")b(y);else if(y===";")b(y,!0),p();else if(y===","){b(y,!0);const k=g();!(o.has(m)&&k==="(")&&!(s.has(m)&&k==="<")&&k&&["{","[","(","<"].includes(k)&&p()}else b(y)}return h(),u.join("\n").replace(/\n\s*\n+/g,"\n").trim()}var m2=(e,t=!1)=>{try{const n=e.toString(),r=n.match(/(?:function\s*)?(?:\(([^)]*)\)|([^=>\s]+))\s*=>?/);if(!r)return"ƒ";const o=(r[1]||r[2]||"").replace(/\s+/g,"");return t?ige(n):"ƒ (".concat(o,") => ...")}catch(n){return"ƒ"}},i0=e=>{if(e===null)return"null";if(e===void 0)return"undefined";if(typeof e=="string")return'"'.concat(e.length>150?"".concat(e.slice(0,20),"..."):e,'"');if(typeof e=="number"||typeof e=="boolean")return String(e);if(typeof e=="function")return m2(e);if(Array.isArray(e))return"Array(".concat(e.length,")");if(e instanceof Map)return"Map(".concat(e.size,")");if(e instanceof Set)return"Set(".concat(e.size,")");if(e instanceof Date)return e.toISOString();if(e instanceof RegExp)return e.toString();if(e instanceof Error)return"".concat(e.name,": ").concat(e.message);if(typeof e=="object"){const t=Object.keys(e);return"{".concat(t.length>2?"".concat(t.slice(0,2).join(", "),", ..."):t.join(", "),"}")}return String(e)},oge=e=>{var t;if(e==null)return{value:e};if(typeof e=="function")return{value:e};if(typeof e!="object")return{value:e};if(e instanceof Promise)return{value:"Promise"};try{const n=Object.getPrototypeOf(e);return n===Promise.prototype||((t=n==null?void 0:n.constructor)==null?void 0:t.name)==="Promise"?{value:"Promise"}:{value:e}}catch(n){return{value:null,error:"Error accessing value"}}},pd=e=>!!e&&(e instanceof Promise||typeof e=="object"&&"then"in e),sge=e=>{var n,r;const t=mh(e);return{displayName:Ci(e)||"Unknown",type:e.type,key:e.key,id:e.index,selfTime:(n=t==null?void 0:t.selfTime)!=null?n:null,totalTime:(r=t==null?void 0:t.totalTime)!=null?r:null}},gC=new Map,sF=new Map,vC=new Map,g2=null,age=new RegExp("\\[(?<name>\\w+),\\s*set\\w+\\]","g"),lge=e=>{var n,r;const t=((r=(n=e.type)==null?void 0:n.toString)==null?void 0:r.call(n))||"";return t?Array.from(t.matchAll(age),i=>{var o,s;return(s=(o=i.groups)==null?void 0:o.name)!=null?s:""}):[]},cge=()=>{gC.clear(),sF.clear(),vC.clear(),g2=null},uge=e=>{const t=e.type!==g2;return g2=e.type,t},p1=(e,t,n,r)=>{const i=e.get(t),o=e===gC||e===vC,s=!qd(n,r);if(!i)return e.set(t,{count:s&&o?1:0,currentValue:n,previousValue:r,lastUpdated:Date.now()}),{hasChanged:s,count:s&&o?1:o?0:1};if(!qd(i.currentValue,n)){const a=i.count+1;return e.set(t,{count:a,currentValue:n,previousValue:i.currentValue,lastUpdated:Date.now()}),{hasChanged:!0,count:a}}return{hasChanged:!1,count:i.count}},O5=e=>{if(!e)return{};if(e.tag===d8||e.tag===f8||e.tag===tC||e.tag===eC){let t=e.memoizedState;const n={};let r=0;for(;t;)t.queue&&t.memoizedState!==void 0&&(n[r]=t.memoizedState),t=t.next,r++;return n}return e.tag===Px?e.memoizedState||{}:{}},aF=e=>{var a;const t=e.memoizedProps||{},n=((a=e.alternate)==null?void 0:a.memoizedProps)||{},r={},i={},o=Object.keys(t);for(const l of o)l in t&&(r[l]=t[l],i[l]=n[l]);const s=tge(e).map(l=>({name:l.name,value:l.value,prevValue:l.prevValue}));return{current:r,prev:i,changes:s}},lF=e=>{const t=O5(e),n=e.alternate?O5(e.alternate):{},r=[];for(const[i,o]of Object.entries(t)){const s=e.tag===Px?i:Number(i);e.alternate&&!qd(n[i],o)&&r.push({name:s,value:o,prevValue:n[i]})}return{current:t,prev:n,changes:r}},cF=e=>{const t=$5(e),n=e.alternate?$5(e.alternate):new Map,r={},i={},o=[],s=new Set;for(const[a,l]of t){const c=l.displayName,u=a;if(s.has(u))continue;s.add(u),r[c]=l.value;const f=n.get(a);f&&(i[c]=f.value,qd(f.value,l.value)||o.push({name:c,value:l.value,prevValue:f.value,contextType:a}))}return{current:r,prev:i,changes:o}},dge=e=>{const t=()=>({current:[],changes:new Set,changesCounts:new Map});if(!e)return{data:{fiberProps:t(),fiberState:t(),fiberContext:t()},shouldUpdate:!1};let n=!1;const r=uge(e),i=t();if(e.memoizedProps){const{current:f,changes:h}=aF(e);for(const[p,v]of Object.entries(f))i.current.push({name:p,value:pd(v)?{type:"promise",displayValue:"Promise"}:v});for(const p of h){const{hasChanged:v,count:g}=p1(gC,p.name,p.value,p.prevValue);v&&(n=!0,i.changes.add(p.name),i.changesCounts.set(p.name,g))}}const o=t(),{current:s,changes:a}=lF(e);for(const[f,h]of Object.entries(s)){const p=e.tag===Px?f:Number(f);o.current.push({name:p,value:h})}for(const f of a){const{hasChanged:h,count:p}=p1(sF,f.name,f.value,f.prevValue);h&&(n=!0,o.changes.add(f.name),o.changesCounts.set(f.name,p))}const l=t(),{current:c,changes:u}=cF(e);for(const[f,h]of Object.entries(c))l.current.push({name:f,value:h});if(!r)for(const f of u){const{hasChanged:h,count:p}=p1(vC,f.name,f.value,f.prevValue);h&&(n=!0,l.changes.add(f.name),l.changesCounts.set(f.name,p))}return!n&&!r&&(i.changes.clear(),o.changes.clear(),l.changes.clear()),{data:{fiberProps:i,fiberState:o,fiberContext:l},shouldUpdate:n||r}},M5=new WeakMap,$5=e=>{var i;if(!e)return new Map;const t=M5.get(e);if(t)return t;const n=new Map;let r=e;for(;r;){const o=r.dependencies;if(o!=null&&o.firstContext){let s=o.firstContext;for(;s;){const a=s.memoizedValue,l=(i=s.context)==null?void 0:i.displayName;if(n.has(a)||n.set(s.context,{value:a,displayName:l!=null?l:"UnnamedContext",contextType:null}),s===s.next)break;s=s.next}}r=r.return}return M5.set(e,n),n},D5=e=>{const t=()=>({current:[],changes:new Set,changesCounts:new Map});if(!e)return{fiberProps:t(),fiberState:t(),fiberContext:t()};const n=t();if(e.memoizedProps){const{current:a,changes:l}=aF(e);for(const[c,u]of Object.entries(a))n.current.push({name:c,value:pd(u)?{type:"promise",displayValue:"Promise"}:u});for(const c of l)n.changes.add(c.name),n.changesCounts.set(c.name,1)}const r=t();if(e.memoizedState){const{current:a,changes:l}=lF(e);for(const[c,u]of Object.entries(a))r.current.push({name:c,value:pd(u)?{type:"promise",displayValue:"Promise"}:u});for(const c of l)r.changes.add(c.name),r.changesCounts.set(c.name,1)}const i=t(),{current:o,changes:s}=cF(e);for(const[a,l]of Object.entries(o))i.current.push({name:a,value:pd(l)?{type:"promise",displayValue:"Promise"}:l});for(const a of s)i.changes.add(a.name),i.changesCounts.set(a.name,1);return{fiberProps:n,fiberState:r,fiberContext:i}},v2=0,F5=performance.now(),m1=0,L5=!1,uF=()=>{m1++;const e=performance.now();e-F5>=1e3&&(v2=m1,m1=0,F5=e),requestAnimationFrame(uF)},fge=()=>(L5||(L5=!0,uF(),v2=60),v2),hge=new WeakMap;function pge(e){return String(g8(e))}function mge(e){const t=pge(e),n=hge.get(Ox(e));if(n)return n.get(t)}function gge(e,t){const n=[];for(const r of e){const i=r.target;this.seenElements.has(i)||(this.seenElements.add(i),n.push(r))}n.length>0&&this.resolveNext&&(this.resolveNext(n),this.resolveNext=null),this.seenElements.size===this.uniqueElements.size&&(t.disconnect(),this.done=!0,this.resolveNext&&this.resolveNext([]))}var vge=async function*(e){const t={uniqueElements:new Set(e),seenElements:new Set,resolveNext:null,done:!1},n=new IntersectionObserver(gge.bind(t));for(const r of t.uniqueElements)n.observe(r);for(;!t.done;){const r=await new Promise(i=>{t.resolveNext=i});r.length>0&&(yield r)}},yge="*, ::before, ::after {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}\n\n::backdrop {\n  --tw-border-spacing-x: 0;\n  --tw-border-spacing-y: 0;\n  --tw-translate-x: 0;\n  --tw-translate-y: 0;\n  --tw-rotate: 0;\n  --tw-skew-x: 0;\n  --tw-skew-y: 0;\n  --tw-scale-x: 1;\n  --tw-scale-y: 1;\n  --tw-pan-x:  ;\n  --tw-pan-y:  ;\n  --tw-pinch-zoom:  ;\n  --tw-scroll-snap-strictness: proximity;\n  --tw-gradient-from-position:  ;\n  --tw-gradient-via-position:  ;\n  --tw-gradient-to-position:  ;\n  --tw-ordinal:  ;\n  --tw-slashed-zero:  ;\n  --tw-numeric-figure:  ;\n  --tw-numeric-spacing:  ;\n  --tw-numeric-fraction:  ;\n  --tw-ring-inset:  ;\n  --tw-ring-offset-width: 0px;\n  --tw-ring-offset-color: #fff;\n  --tw-ring-color: rgb(59 130 246 / 0.5);\n  --tw-ring-offset-shadow: 0 0 #0000;\n  --tw-ring-shadow: 0 0 #0000;\n  --tw-shadow: 0 0 #0000;\n  --tw-shadow-colored: 0 0 #0000;\n  --tw-blur:  ;\n  --tw-brightness:  ;\n  --tw-contrast:  ;\n  --tw-grayscale:  ;\n  --tw-hue-rotate:  ;\n  --tw-invert:  ;\n  --tw-saturate:  ;\n  --tw-sepia:  ;\n  --tw-drop-shadow:  ;\n  --tw-backdrop-blur:  ;\n  --tw-backdrop-brightness:  ;\n  --tw-backdrop-contrast:  ;\n  --tw-backdrop-grayscale:  ;\n  --tw-backdrop-hue-rotate:  ;\n  --tw-backdrop-invert:  ;\n  --tw-backdrop-opacity:  ;\n  --tw-backdrop-saturate:  ;\n  --tw-backdrop-sepia:  ;\n  --tw-contain-size:  ;\n  --tw-contain-layout:  ;\n  --tw-contain-paint:  ;\n  --tw-contain-style:  ;\n}/*\n! tailwindcss v3.4.17 | MIT License | https://tailwindcss.com\n*//*\n1. Prevent padding and border from affecting element width. (https://github.com/mozdevs/cssremedy/issues/4)\n2. Allow adding a border to an element by just adding a border-width. (https://github.com/tailwindcss/tailwindcss/pull/116)\n*/\n\n*,\n::before,\n::after {\n  box-sizing: border-box; /* 1 */\n  border-width: 0; /* 2 */\n  border-style: solid; /* 2 */\n  border-color: #e5e7eb; /* 2 */\n}\n\n::before,\n::after {\n  --tw-content: '';\n}\n\n/*\n1. Use a consistent sensible line-height in all browsers.\n2. Prevent adjustments of font size after orientation changes in iOS.\n3. Use a more readable tab size.\n4. Use the user's configured `sans` font-family by default.\n5. Use the user's configured `sans` font-feature-settings by default.\n6. Use the user's configured `sans` font-variation-settings by default.\n7. Disable tap highlights on iOS\n*/\n\nhtml,\n:host {\n  line-height: 1.5; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n  -moz-tab-size: 4; /* 3 */\n  -o-tab-size: 4;\n     tab-size: 4; /* 3 */\n  font-family: ui-sans-serif, system-ui, sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\"; /* 4 */\n  font-feature-settings: normal; /* 5 */\n  font-variation-settings: normal; /* 6 */\n  -webkit-tap-highlight-color: transparent; /* 7 */\n}\n\n/*\n1. Remove the margin in all browsers.\n2. Inherit line-height from `html` so users can set them as a class directly on the `html` element.\n*/\n\nbody {\n  margin: 0; /* 1 */\n  line-height: inherit; /* 2 */\n}\n\n/*\n1. Add the correct height in Firefox.\n2. Correct the inheritance of border color in Firefox. (https://bugzilla.mozilla.org/show_bug.cgi?id=190655)\n3. Ensure horizontal rules are visible by default.\n*/\n\nhr {\n  height: 0; /* 1 */\n  color: inherit; /* 2 */\n  border-top-width: 1px; /* 3 */\n}\n\n/*\nAdd the correct text decoration in Chrome, Edge, and Safari.\n*/\n\nabbr:where([title]) {\n  -webkit-text-decoration: underline dotted;\n          text-decoration: underline dotted;\n}\n\n/*\nRemove the default font size and weight for headings.\n*/\n\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n  font-size: inherit;\n  font-weight: inherit;\n}\n\n/*\nReset links to optimize for opt-in styling instead of opt-out.\n*/\n\na {\n  color: inherit;\n  text-decoration: inherit;\n}\n\n/*\nAdd the correct font weight in Edge and Safari.\n*/\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/*\n1. Use the user's configured `mono` font-family by default.\n2. Use the user's configured `mono` font-feature-settings by default.\n3. Use the user's configured `mono` font-variation-settings by default.\n4. Correct the odd `em` font sizing in all browsers.\n*/\n\ncode,\nkbd,\nsamp,\npre {\n  font-family: Menlo, Consolas, Monaco, Liberation Mono, Lucida Console, monospace; /* 1 */\n  font-feature-settings: normal; /* 2 */\n  font-variation-settings: normal; /* 3 */\n  font-size: 1em; /* 4 */\n}\n\n/*\nAdd the correct font size in all browsers.\n*/\n\nsmall {\n  font-size: 80%;\n}\n\n/*\nPrevent `sub` and `sup` elements from affecting the line height in all browsers.\n*/\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/*\n1. Remove text indentation from table contents in Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=999088, https://bugs.webkit.org/show_bug.cgi?id=201297)\n2. Correct table border color inheritance in all Chrome and Safari. (https://bugs.chromium.org/p/chromium/issues/detail?id=935729, https://bugs.webkit.org/show_bug.cgi?id=195016)\n3. Remove gaps between table borders by default.\n*/\n\ntable {\n  text-indent: 0; /* 1 */\n  border-color: inherit; /* 2 */\n  border-collapse: collapse; /* 3 */\n}\n\n/*\n1. Change the font styles in all browsers.\n2. Remove the margin in Firefox and Safari.\n3. Remove default padding in all browsers.\n*/\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-feature-settings: inherit; /* 1 */\n  font-variation-settings: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  font-weight: inherit; /* 1 */\n  line-height: inherit; /* 1 */\n  letter-spacing: inherit; /* 1 */\n  color: inherit; /* 1 */\n  margin: 0; /* 2 */\n  padding: 0; /* 3 */\n}\n\n/*\nRemove the inheritance of text transform in Edge and Firefox.\n*/\n\nbutton,\nselect {\n  text-transform: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Remove default button styles.\n*/\n\nbutton,\ninput:where([type='button']),\ninput:where([type='reset']),\ninput:where([type='submit']) {\n  -webkit-appearance: button; /* 1 */\n  background-color: transparent; /* 2 */\n  background-image: none; /* 2 */\n}\n\n/*\nUse the modern Firefox focus style for all focusable elements.\n*/\n\n:-moz-focusring {\n  outline: auto;\n}\n\n/*\nRemove the additional `:invalid` styles in Firefox. (https://github.com/mozilla/gecko-dev/blob/2f9eacd9d3d995c937b4251a5557d95d494c9be1/layout/style/res/forms.css#L728-L737)\n*/\n\n:-moz-ui-invalid {\n  box-shadow: none;\n}\n\n/*\nAdd the correct vertical alignment in Chrome and Firefox.\n*/\n\nprogress {\n  vertical-align: baseline;\n}\n\n/*\nCorrect the cursor style of increment and decrement buttons in Safari.\n*/\n\n::-webkit-inner-spin-button,\n::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/*\n1. Correct the odd appearance in Chrome and Safari.\n2. Correct the outline style in Safari.\n*/\n\n[type='search'] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/*\nRemove the inner padding in Chrome and Safari on macOS.\n*/\n\n::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/*\n1. Correct the inability to style clickable types in iOS and Safari.\n2. Change font properties to `inherit` in Safari.\n*/\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/*\nAdd the correct display in Chrome and Safari.\n*/\n\nsummary {\n  display: list-item;\n}\n\n/*\nRemoves the default spacing and border for appropriate elements.\n*/\n\nblockquote,\ndl,\ndd,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6,\nhr,\nfigure,\np,\npre {\n  margin: 0;\n}\n\nfieldset {\n  margin: 0;\n  padding: 0;\n}\n\nlegend {\n  padding: 0;\n}\n\nol,\nul,\nmenu {\n  list-style: none;\n  margin: 0;\n  padding: 0;\n}\n\n/*\nReset default styling for dialogs.\n*/\ndialog {\n  padding: 0;\n}\n\n/*\nPrevent resizing textareas horizontally by default.\n*/\n\ntextarea {\n  resize: vertical;\n}\n\n/*\n1. Reset the default placeholder opacity in Firefox. (https://github.com/tailwindlabs/tailwindcss/issues/3300)\n2. Set the default placeholder color to the user's configured gray 400 color.\n*/\n\ninput::-moz-placeholder, textarea::-moz-placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\ninput::placeholder,\ntextarea::placeholder {\n  opacity: 1; /* 1 */\n  color: #9ca3af; /* 2 */\n}\n\n/*\nSet the default cursor for buttons.\n*/\n\nbutton,\n[role=\"button\"] {\n  cursor: pointer;\n}\n\n/*\nMake sure disabled buttons don't get the pointer cursor.\n*/\n:disabled {\n  cursor: default;\n}\n\n/*\n1. Make replaced elements `display: block` by default. (https://github.com/mozdevs/cssremedy/issues/14)\n2. Add `vertical-align: middle` to align replaced elements more sensibly by default. (https://github.com/jensimmons/cssremedy/issues/14#issuecomment-634934210)\n   This can trigger a poorly considered lint error in some tools but is included by design.\n*/\n\nimg,\nsvg,\nvideo,\ncanvas,\naudio,\niframe,\nembed,\nobject {\n  display: block; /* 1 */\n  vertical-align: middle; /* 2 */\n}\n\n/*\nConstrain images and videos to the parent width and preserve their intrinsic aspect ratio. (https://github.com/mozdevs/cssremedy/issues/14)\n*/\n\nimg,\nvideo {\n  max-width: 100%;\n  height: auto;\n}\n\n/* Make elements with the HTML hidden attribute stay hidden by default */\n[hidden]:where(:not([hidden=\"until-found\"])) {\n  display: none;\n}\n.\\!container {\n  width: 100% !important;\n}\n.container {\n  width: 100%;\n}\n@media (min-width: 640px) {\n\n  .\\!container {\n    max-width: 640px !important;\n  }\n\n  .container {\n    max-width: 640px;\n  }\n}\n@media (min-width: 768px) {\n\n  .\\!container {\n    max-width: 768px !important;\n  }\n\n  .container {\n    max-width: 768px;\n  }\n}\n@media (min-width: 1024px) {\n\n  .\\!container {\n    max-width: 1024px !important;\n  }\n\n  .container {\n    max-width: 1024px;\n  }\n}\n@media (min-width: 1280px) {\n\n  .\\!container {\n    max-width: 1280px !important;\n  }\n\n  .container {\n    max-width: 1280px;\n  }\n}\n@media (min-width: 1536px) {\n\n  .\\!container {\n    max-width: 1536px !important;\n  }\n\n  .container {\n    max-width: 1536px;\n  }\n}\n.pointer-events-none {\n  pointer-events: none;\n}\n.pointer-events-auto {\n  pointer-events: auto;\n}\n.visible {\n  visibility: visible;\n}\n.static {\n  position: static;\n}\n.fixed {\n  position: fixed;\n}\n.absolute {\n  position: absolute;\n}\n.relative {\n  position: relative;\n}\n.sticky {\n  position: sticky;\n}\n.inset-0 {\n  inset: 0px;\n}\n.inset-x-1 {\n  left: 4px;\n  right: 4px;\n}\n.inset-y-0 {\n  top: 0px;\n  bottom: 0px;\n}\n.-right-1 {\n  right: -4px;\n}\n.-right-2\\.5 {\n  right: -10px;\n}\n.-top-1 {\n  top: -4px;\n}\n.-top-2\\.5 {\n  top: -10px;\n}\n.bottom-0 {\n  bottom: 0px;\n}\n.bottom-4 {\n  bottom: 16px;\n}\n.left-0 {\n  left: 0px;\n}\n.left-3 {\n  left: 12px;\n}\n.right-0 {\n  right: 0px;\n}\n.right-0\\.5 {\n  right: 2px;\n}\n.right-2 {\n  right: 8px;\n}\n.right-4 {\n  right: 16px;\n}\n.top-0 {\n  top: 0px;\n}\n.top-0\\.5 {\n  top: 2px;\n}\n.top-1\\/2 {\n  top: 50%;\n}\n.top-2 {\n  top: 8px;\n}\n.z-10 {\n  z-index: 10;\n}\n.z-100 {\n  z-index: 100;\n}\n.z-50 {\n  z-index: 50;\n}\n.z-\\[124124124124\\] {\n  z-index: 124124124124;\n}\n.z-\\[214748365\\] {\n  z-index: 214748365;\n}\n.z-\\[214748367\\] {\n  z-index: 214748367;\n}\n.m-\\[2px\\] {\n  margin: 2px;\n}\n.mx-0\\.5 {\n  margin-left: 2px;\n  margin-right: 2px;\n}\n.\\!ml-0 {\n  margin-left: 0px !important;\n}\n.mb-1\\.5 {\n  margin-bottom: 6px;\n}\n.mb-2 {\n  margin-bottom: 8px;\n}\n.mb-3 {\n  margin-bottom: 12px;\n}\n.mb-4 {\n  margin-bottom: 16px;\n}\n.mb-px {\n  margin-bottom: 1px;\n}\n.ml-1 {\n  margin-left: 4px;\n}\n.ml-1\\.5 {\n  margin-left: 6px;\n}\n.ml-auto {\n  margin-left: auto;\n}\n.mr-0\\.5 {\n  margin-right: 2px;\n}\n.mr-1 {\n  margin-right: 4px;\n}\n.mr-1\\.5 {\n  margin-right: 6px;\n}\n.mr-16 {\n  margin-right: 64px;\n}\n.mr-auto {\n  margin-right: auto;\n}\n.mt-0\\.5 {\n  margin-top: 2px;\n}\n.mt-1 {\n  margin-top: 4px;\n}\n.mt-4 {\n  margin-top: 16px;\n}\n.block {\n  display: block;\n}\n.inline {\n  display: inline;\n}\n.flex {\n  display: flex;\n}\n.table {\n  display: table;\n}\n.hidden {\n  display: none;\n}\n.aspect-square {\n  aspect-ratio: 1 / 1;\n}\n.h-1 {\n  height: 4px;\n}\n.h-1\\.5 {\n  height: 6px;\n}\n.h-10 {\n  height: 40px;\n}\n.h-12 {\n  height: 48px;\n}\n.h-4 {\n  height: 16px;\n}\n.h-4\\/5 {\n  height: 80%;\n}\n.h-6 {\n  height: 24px;\n}\n.h-7 {\n  height: 28px;\n}\n.h-8 {\n  height: 32px;\n}\n.h-\\[150px\\] {\n  height: 150px;\n}\n.h-\\[235px\\] {\n  height: 235px;\n}\n.h-\\[28px\\] {\n  height: 28px;\n}\n.h-\\[48px\\] {\n  height: 48px;\n}\n.h-\\[50px\\] {\n  height: 50px;\n}\n.h-\\[calc\\(100\\%-150px\\)\\] {\n  height: calc(100% - 150px);\n}\n.h-\\[calc\\(100\\%-200px\\)\\] {\n  height: calc(100% - 200px);\n}\n.h-\\[calc\\(100\\%-25px\\)\\] {\n  height: calc(100% - 25px);\n}\n.h-\\[calc\\(100\\%-40px\\)\\] {\n  height: calc(100% - 40px);\n}\n.h-\\[calc\\(100\\%-48px\\)\\] {\n  height: calc(100% - 48px);\n}\n.h-fit {\n  height: -moz-fit-content;\n  height: fit-content;\n}\n.h-full {\n  height: 100%;\n}\n.h-screen {\n  height: 100vh;\n}\n.max-h-0 {\n  max-height: 0px;\n}\n.max-h-40 {\n  max-height: 160px;\n}\n.max-h-9 {\n  max-height: 36px;\n}\n.min-h-9 {\n  min-height: 36px;\n}\n.min-h-\\[48px\\] {\n  min-height: 48px;\n}\n.min-h-fit {\n  min-height: -moz-fit-content;\n  min-height: fit-content;\n}\n.w-1 {\n  width: 4px;\n}\n.w-1\\/2 {\n  width: 50%;\n}\n.w-1\\/3 {\n  width: 33.333333%;\n}\n.w-2\\/4 {\n  width: 50%;\n}\n.w-3 {\n  width: 12px;\n}\n.w-4 {\n  width: 16px;\n}\n.w-4\\/5 {\n  width: 80%;\n}\n.w-6 {\n  width: 24px;\n}\n.w-80 {\n  width: 320px;\n}\n.w-\\[20px\\] {\n  width: 20px;\n}\n.w-\\[72px\\] {\n  width: 72px;\n}\n.w-\\[90\\%\\] {\n  width: 90%;\n}\n.w-\\[calc\\(100\\%-200px\\)\\] {\n  width: calc(100% - 200px);\n}\n.w-fit {\n  width: -moz-fit-content;\n  width: fit-content;\n}\n.w-full {\n  width: 100%;\n}\n.w-px {\n  width: 1px;\n}\n.w-screen {\n  width: 100vw;\n}\n.min-w-0 {\n  min-width: 0px;\n}\n.min-w-\\[200px\\] {\n  min-width: 200px;\n}\n.min-w-fit {\n  min-width: -moz-fit-content;\n  min-width: fit-content;\n}\n.max-w-md {\n  max-width: 448px;\n}\n.flex-1 {\n  flex: 1 1 0%;\n}\n.shrink-0 {\n  flex-shrink: 0;\n}\n.grow {\n  flex-grow: 1;\n}\n.-translate-y-1\\/2 {\n  --tw-translate-y: -50%;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.-translate-y-\\[200\\%\\] {\n  --tw-translate-y: -200%;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.translate-y-0 {\n  --tw-translate-y: 0px;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.translate-y-1 {\n  --tw-translate-y: 4px;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.-rotate-90 {\n  --tw-rotate: -90deg;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.rotate-0 {\n  --tw-rotate: 0deg;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.rotate-180 {\n  --tw-rotate: 180deg;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.rotate-90 {\n  --tw-rotate: 90deg;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.scale-110 {\n  --tw-scale-x: 1.1;\n  --tw-scale-y: 1.1;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n.transform {\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n@keyframes fadeIn {\n\n  0% {\n    opacity: 0;\n  }\n\n  100% {\n    opacity: 1;\n  }\n}\n.animate-fade-in {\n  animation: fadeIn ease-in forwards;\n}\n.cursor-default {\n  cursor: default;\n}\n.cursor-e-resize {\n  cursor: e-resize;\n}\n.cursor-ew-resize {\n  cursor: ew-resize;\n}\n.cursor-move {\n  cursor: move;\n}\n.cursor-nesw-resize {\n  cursor: nesw-resize;\n}\n.cursor-ns-resize {\n  cursor: ns-resize;\n}\n.cursor-nwse-resize {\n  cursor: nwse-resize;\n}\n.cursor-pointer {\n  cursor: pointer;\n}\n.cursor-w-resize {\n  cursor: w-resize;\n}\n.select-none {\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n}\n.resize {\n  resize: both;\n}\n.appearance-none {\n  -webkit-appearance: none;\n     -moz-appearance: none;\n          appearance: none;\n}\n.flex-col {\n  flex-direction: column;\n}\n.items-start {\n  align-items: flex-start;\n}\n.items-end {\n  align-items: flex-end;\n}\n.items-center {\n  align-items: center;\n}\n.items-stretch {\n  align-items: stretch;\n}\n.justify-start {\n  justify-content: flex-start;\n}\n.justify-end {\n  justify-content: flex-end;\n}\n.justify-center {\n  justify-content: center;\n}\n.justify-between {\n  justify-content: space-between;\n}\n.gap-0\\.5 {\n  gap: 2px;\n}\n.gap-1 {\n  gap: 4px;\n}\n.gap-1\\.5 {\n  gap: 6px;\n}\n.gap-2 {\n  gap: 8px;\n}\n.gap-4 {\n  gap: 16px;\n}\n.gap-x-0\\.5 {\n  -moz-column-gap: 2px;\n       column-gap: 2px;\n}\n.gap-x-1 {\n  -moz-column-gap: 4px;\n       column-gap: 4px;\n}\n.gap-x-1\\.5 {\n  -moz-column-gap: 6px;\n       column-gap: 6px;\n}\n.gap-x-2 {\n  -moz-column-gap: 8px;\n       column-gap: 8px;\n}\n.gap-x-3 {\n  -moz-column-gap: 12px;\n       column-gap: 12px;\n}\n.gap-x-4 {\n  -moz-column-gap: 16px;\n       column-gap: 16px;\n}\n.gap-y-0\\.5 {\n  row-gap: 2px;\n}\n.gap-y-1 {\n  row-gap: 4px;\n}\n.gap-y-2 {\n  row-gap: 8px;\n}\n.gap-y-4 {\n  row-gap: 16px;\n}\n.space-y-1\\.5 > :not([hidden]) ~ :not([hidden]) {\n  --tw-space-y-reverse: 0;\n  margin-top: calc(6px * calc(1 - var(--tw-space-y-reverse)));\n  margin-bottom: calc(6px * var(--tw-space-y-reverse));\n}\n.divide-y > :not([hidden]) ~ :not([hidden]) {\n  --tw-divide-y-reverse: 0;\n  border-top-width: calc(1px * calc(1 - var(--tw-divide-y-reverse)));\n  border-bottom-width: calc(1px * var(--tw-divide-y-reverse));\n}\n.divide-zinc-800 > :not([hidden]) ~ :not([hidden]) {\n  --tw-divide-opacity: 1;\n  border-color: rgb(39 39 42 / var(--tw-divide-opacity, 1));\n}\n.place-self-center {\n  place-self: center;\n}\n.self-end {\n  align-self: flex-end;\n}\n.overflow-auto {\n  overflow: auto;\n}\n.overflow-hidden {\n  overflow: hidden;\n}\n.\\!overflow-visible {\n  overflow: visible !important;\n}\n.overflow-x-auto {\n  overflow-x: auto;\n}\n.overflow-y-auto {\n  overflow-y: auto;\n}\n.overflow-x-hidden {\n  overflow-x: hidden;\n}\n.truncate {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n.whitespace-nowrap {\n  white-space: nowrap;\n}\n.whitespace-pre-wrap {\n  white-space: pre-wrap;\n}\n.text-wrap {\n  text-wrap: wrap;\n}\n.break-words {\n  overflow-wrap: break-word;\n}\n.break-all {\n  word-break: break-all;\n}\n.rounded {\n  border-radius: 4px;\n}\n.rounded-full {\n  border-radius: 9999px;\n}\n.rounded-lg {\n  border-radius: 8px;\n}\n.rounded-md {\n  border-radius: 6px;\n}\n.rounded-sm {\n  border-radius: 2px;\n}\n.rounded-l-md {\n  border-top-left-radius: 6px;\n  border-bottom-left-radius: 6px;\n}\n.rounded-l-sm {\n  border-top-left-radius: 2px;\n  border-bottom-left-radius: 2px;\n}\n.rounded-r-md {\n  border-top-right-radius: 6px;\n  border-bottom-right-radius: 6px;\n}\n.rounded-r-sm {\n  border-top-right-radius: 2px;\n  border-bottom-right-radius: 2px;\n}\n.rounded-t-lg {\n  border-top-left-radius: 8px;\n  border-top-right-radius: 8px;\n}\n.rounded-t-sm {\n  border-top-left-radius: 2px;\n  border-top-right-radius: 2px;\n}\n.rounded-bl-lg {\n  border-bottom-left-radius: 8px;\n}\n.rounded-br-lg {\n  border-bottom-right-radius: 8px;\n}\n.rounded-tl-lg {\n  border-top-left-radius: 8px;\n}\n.rounded-tr-lg {\n  border-top-right-radius: 8px;\n}\n.border {\n  border-width: 1px;\n}\n.border-4 {\n  border-width: 4px;\n}\n.border-b {\n  border-bottom-width: 1px;\n}\n.border-l {\n  border-left-width: 1px;\n}\n.border-l-0 {\n  border-left-width: 0px;\n}\n.border-l-1 {\n  border-left-width: 1px;\n}\n.border-r {\n  border-right-width: 1px;\n}\n.border-t {\n  border-top-width: 1px;\n}\n.border-none {\n  border-style: none;\n}\n.\\!border-red-500 {\n  --tw-border-opacity: 1 !important;\n  border-color: rgb(239 68 68 / var(--tw-border-opacity, 1)) !important;\n}\n.border-\\[\\#1e1e1e\\] {\n  --tw-border-opacity: 1;\n  border-color: rgb(30 30 30 / var(--tw-border-opacity, 1));\n}\n.border-\\[\\#222\\] {\n  --tw-border-opacity: 1;\n  border-color: rgb(34 34 34 / var(--tw-border-opacity, 1));\n}\n.border-\\[\\#27272A\\] {\n  --tw-border-opacity: 1;\n  border-color: rgb(39 39 42 / var(--tw-border-opacity, 1));\n}\n.border-\\[\\#333\\] {\n  --tw-border-opacity: 1;\n  border-color: rgb(51 51 51 / var(--tw-border-opacity, 1));\n}\n.border-transparent {\n  border-color: transparent;\n}\n.border-zinc-800 {\n  --tw-border-opacity: 1;\n  border-color: rgb(39 39 42 / var(--tw-border-opacity, 1));\n}\n.bg-\\[\\#0A0A0A\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(10 10 10 / var(--tw-bg-opacity, 1));\n}\n.bg-\\[\\#141414\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(20 20 20 / var(--tw-bg-opacity, 1));\n}\n.bg-\\[\\#18181B\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(24 24 27 / var(--tw-bg-opacity, 1));\n}\n.bg-\\[\\#18181B\\]\\/50 {\n  background-color: rgb(24 24 27 / 0.5);\n}\n.bg-\\[\\#1D3A66\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(29 58 102 / var(--tw-bg-opacity, 1));\n}\n.bg-\\[\\#1E1E1E\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(30 30 30 / var(--tw-bg-opacity, 1));\n}\n.bg-\\[\\#1a2a1a\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(26 42 26 / var(--tw-bg-opacity, 1));\n}\n.bg-\\[\\#1e1e1e\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(30 30 30 / var(--tw-bg-opacity, 1));\n}\n.bg-\\[\\#214379d4\\] {\n  background-color: #214379d4;\n}\n.bg-\\[\\#27272A\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(39 39 42 / var(--tw-bg-opacity, 1));\n}\n.bg-\\[\\#2a1515\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(42 21 21 / var(--tw-bg-opacity, 1));\n}\n.bg-\\[\\#412162\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(65 33 98 / var(--tw-bg-opacity, 1));\n}\n.bg-\\[\\#44444a\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(68 68 74 / var(--tw-bg-opacity, 1));\n}\n.bg-\\[\\#4b4b4b\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(75 75 75 / var(--tw-bg-opacity, 1));\n}\n.bg-\\[\\#5f3f9a\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(95 63 154 / var(--tw-bg-opacity, 1));\n}\n.bg-\\[\\#5f3f9a\\]\\/40 {\n  background-color: rgb(95 63 154 / 0.4);\n}\n.bg-\\[\\#6a369e\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(106 54 158 / var(--tw-bg-opacity, 1));\n}\n.bg-\\[\\#7521c8\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(117 33 200 / var(--tw-bg-opacity, 1));\n}\n.bg-\\[\\#8e61e3\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(142 97 227 / var(--tw-bg-opacity, 1));\n}\n.bg-\\[\\#EFD81A\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(239 216 26 / var(--tw-bg-opacity, 1));\n}\n.bg-\\[\\#b77116\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(183 113 22 / var(--tw-bg-opacity, 1));\n}\n.bg-\\[\\#b94040\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(185 64 64 / var(--tw-bg-opacity, 1));\n}\n.bg-\\[\\#d36cff\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(211 108 255 / var(--tw-bg-opacity, 1));\n}\n.bg-\\[\\#efd81a6b\\] {\n  background-color: #efd81a6b;\n}\n.bg-black {\n  --tw-bg-opacity: 1;\n  background-color: rgb(0 0 0 / var(--tw-bg-opacity, 1));\n}\n.bg-black\\/40 {\n  background-color: rgb(0 0 0 / 0.4);\n}\n.bg-gray-200 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(229 231 235 / var(--tw-bg-opacity, 1));\n}\n.bg-green-500\\/50 {\n  background-color: rgb(34 197 94 / 0.5);\n}\n.bg-green-500\\/60 {\n  background-color: rgb(34 197 94 / 0.6);\n}\n.bg-neutral-700 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(64 64 64 / var(--tw-bg-opacity, 1));\n}\n.bg-purple-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(168 85 247 / var(--tw-bg-opacity, 1));\n}\n.bg-purple-500\\/90 {\n  background-color: rgb(168 85 247 / 0.9);\n}\n.bg-purple-800 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(107 33 168 / var(--tw-bg-opacity, 1));\n}\n.bg-red-500 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(239 68 68 / var(--tw-bg-opacity, 1));\n}\n.bg-red-500\\/90 {\n  background-color: rgb(239 68 68 / 0.9);\n}\n.bg-red-950\\/50 {\n  background-color: rgb(69 10 10 / 0.5);\n}\n.bg-transparent {\n  background-color: transparent;\n}\n.bg-white {\n  --tw-bg-opacity: 1;\n  background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1));\n}\n.bg-yellow-300 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(253 224 71 / var(--tw-bg-opacity, 1));\n}\n.bg-zinc-800 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(39 39 42 / var(--tw-bg-opacity, 1));\n}\n.bg-zinc-900\\/30 {\n  background-color: rgb(24 24 27 / 0.3);\n}\n.bg-zinc-900\\/50 {\n  background-color: rgb(24 24 27 / 0.5);\n}\n.p-0 {\n  padding: 0px;\n}\n.p-1 {\n  padding: 4px;\n}\n.p-2 {\n  padding: 8px;\n}\n.p-3 {\n  padding: 12px;\n}\n.p-4 {\n  padding: 16px;\n}\n.p-5 {\n  padding: 20px;\n}\n.p-6 {\n  padding: 24px;\n}\n.px-1 {\n  padding-left: 4px;\n  padding-right: 4px;\n}\n.px-1\\.5 {\n  padding-left: 6px;\n  padding-right: 6px;\n}\n.px-2 {\n  padding-left: 8px;\n  padding-right: 8px;\n}\n.px-2\\.5 {\n  padding-left: 10px;\n  padding-right: 10px;\n}\n.px-3 {\n  padding-left: 12px;\n  padding-right: 12px;\n}\n.px-4 {\n  padding-left: 16px;\n  padding-right: 16px;\n}\n.py-0\\.5 {\n  padding-top: 2px;\n  padding-bottom: 2px;\n}\n.py-1 {\n  padding-top: 4px;\n  padding-bottom: 4px;\n}\n.py-1\\.5 {\n  padding-top: 6px;\n  padding-bottom: 6px;\n}\n.py-2 {\n  padding-top: 8px;\n  padding-bottom: 8px;\n}\n.py-3 {\n  padding-top: 12px;\n  padding-bottom: 12px;\n}\n.py-4 {\n  padding-top: 16px;\n  padding-bottom: 16px;\n}\n.py-\\[1px\\] {\n  padding-top: 1px;\n  padding-bottom: 1px;\n}\n.py-\\[3px\\] {\n  padding-top: 3px;\n  padding-bottom: 3px;\n}\n.py-\\[5px\\] {\n  padding-top: 5px;\n  padding-bottom: 5px;\n}\n.pb-2 {\n  padding-bottom: 8px;\n}\n.pl-1 {\n  padding-left: 4px;\n}\n.pl-2 {\n  padding-left: 8px;\n}\n.pl-2\\.5 {\n  padding-left: 10px;\n}\n.pl-3 {\n  padding-left: 12px;\n}\n.pl-5 {\n  padding-left: 20px;\n}\n.pl-6 {\n  padding-left: 24px;\n}\n.pr-1 {\n  padding-right: 4px;\n}\n.pr-1\\.5 {\n  padding-right: 6px;\n}\n.pr-2 {\n  padding-right: 8px;\n}\n.pr-2\\.5 {\n  padding-right: 10px;\n}\n.pt-0 {\n  padding-top: 0px;\n}\n.pt-2 {\n  padding-top: 8px;\n}\n.pt-5 {\n  padding-top: 20px;\n}\n.text-left {\n  text-align: left;\n}\n.font-mono {\n  font-family: Menlo, Consolas, Monaco, Liberation Mono, Lucida Console, monospace;\n}\n.text-\\[10px\\] {\n  font-size: 10px;\n}\n.text-\\[11px\\] {\n  font-size: 11px;\n}\n.text-\\[13px\\] {\n  font-size: 13px;\n}\n.text-\\[14px\\] {\n  font-size: 14px;\n}\n.text-\\[17px\\] {\n  font-size: 17px;\n}\n.text-\\[8px\\] {\n  font-size: 8px;\n}\n.text-sm {\n  font-size: 14px;\n  line-height: 20px;\n}\n.text-xs {\n  font-size: 12px;\n  line-height: 16px;\n}\n.font-bold {\n  font-weight: 700;\n}\n.font-medium {\n  font-weight: 500;\n}\n.font-semibold {\n  font-weight: 600;\n}\n.uppercase {\n  text-transform: uppercase;\n}\n.lowercase {\n  text-transform: lowercase;\n}\n.capitalize {\n  text-transform: capitalize;\n}\n.italic {\n  font-style: italic;\n}\n.leading-6 {\n  line-height: 24px;\n}\n.leading-none {\n  line-height: 1;\n}\n.tracking-wide {\n  letter-spacing: 0.025em;\n}\n.text-\\[\\#4ade80\\] {\n  --tw-text-opacity: 1;\n  color: rgb(74 222 128 / var(--tw-text-opacity, 1));\n}\n.text-\\[\\#5a5a5a\\] {\n  --tw-text-opacity: 1;\n  color: rgb(90 90 90 / var(--tw-text-opacity, 1));\n}\n.text-\\[\\#65656D\\] {\n  --tw-text-opacity: 1;\n  color: rgb(101 101 109 / var(--tw-text-opacity, 1));\n}\n.text-\\[\\#666\\] {\n  --tw-text-opacity: 1;\n  color: rgb(102 102 102 / var(--tw-text-opacity, 1));\n}\n.text-\\[\\#6E6E77\\] {\n  --tw-text-opacity: 1;\n  color: rgb(110 110 119 / var(--tw-text-opacity, 1));\n}\n.text-\\[\\#6F6F78\\] {\n  --tw-text-opacity: 1;\n  color: rgb(111 111 120 / var(--tw-text-opacity, 1));\n}\n.text-\\[\\#7346a0\\] {\n  --tw-text-opacity: 1;\n  color: rgb(115 70 160 / var(--tw-text-opacity, 1));\n}\n.text-\\[\\#737373\\] {\n  --tw-text-opacity: 1;\n  color: rgb(115 115 115 / var(--tw-text-opacity, 1));\n}\n.text-\\[\\#888\\] {\n  --tw-text-opacity: 1;\n  color: rgb(136 136 136 / var(--tw-text-opacity, 1));\n}\n.text-\\[\\#8E61E3\\] {\n  --tw-text-opacity: 1;\n  color: rgb(142 97 227 / var(--tw-text-opacity, 1));\n}\n.text-\\[\\#999\\] {\n  --tw-text-opacity: 1;\n  color: rgb(153 153 153 / var(--tw-text-opacity, 1));\n}\n.text-\\[\\#A1A1AA\\] {\n  --tw-text-opacity: 1;\n  color: rgb(161 161 170 / var(--tw-text-opacity, 1));\n}\n.text-\\[\\#A855F7\\] {\n  --tw-text-opacity: 1;\n  color: rgb(168 85 247 / var(--tw-text-opacity, 1));\n}\n.text-\\[\\#E4E4E7\\] {\n  --tw-text-opacity: 1;\n  color: rgb(228 228 231 / var(--tw-text-opacity, 1));\n}\n.text-\\[\\#d36cff\\] {\n  --tw-text-opacity: 1;\n  color: rgb(211 108 255 / var(--tw-text-opacity, 1));\n}\n.text-\\[\\#f87171\\] {\n  --tw-text-opacity: 1;\n  color: rgb(248 113 113 / var(--tw-text-opacity, 1));\n}\n.text-black {\n  --tw-text-opacity: 1;\n  color: rgb(0 0 0 / var(--tw-text-opacity, 1));\n}\n.text-gray-100 {\n  --tw-text-opacity: 1;\n  color: rgb(243 244 246 / var(--tw-text-opacity, 1));\n}\n.text-gray-300 {\n  --tw-text-opacity: 1;\n  color: rgb(209 213 219 / var(--tw-text-opacity, 1));\n}\n.text-gray-400 {\n  --tw-text-opacity: 1;\n  color: rgb(156 163 175 / var(--tw-text-opacity, 1));\n}\n.text-gray-500 {\n  --tw-text-opacity: 1;\n  color: rgb(107 114 128 / var(--tw-text-opacity, 1));\n}\n.text-green-500 {\n  --tw-text-opacity: 1;\n  color: rgb(34 197 94 / var(--tw-text-opacity, 1));\n}\n.text-neutral-300 {\n  --tw-text-opacity: 1;\n  color: rgb(212 212 212 / var(--tw-text-opacity, 1));\n}\n.text-neutral-400 {\n  --tw-text-opacity: 1;\n  color: rgb(163 163 163 / var(--tw-text-opacity, 1));\n}\n.text-neutral-500 {\n  --tw-text-opacity: 1;\n  color: rgb(115 115 115 / var(--tw-text-opacity, 1));\n}\n.text-purple-400 {\n  --tw-text-opacity: 1;\n  color: rgb(192 132 252 / var(--tw-text-opacity, 1));\n}\n.text-red-300 {\n  --tw-text-opacity: 1;\n  color: rgb(252 165 165 / var(--tw-text-opacity, 1));\n}\n.text-red-400 {\n  --tw-text-opacity: 1;\n  color: rgb(248 113 113 / var(--tw-text-opacity, 1));\n}\n.text-red-500 {\n  --tw-text-opacity: 1;\n  color: rgb(239 68 68 / var(--tw-text-opacity, 1));\n}\n.text-white {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n.text-white\\/30 {\n  color: rgb(255 255 255 / 0.3);\n}\n.text-white\\/70 {\n  color: rgb(255 255 255 / 0.7);\n}\n.text-yellow-300 {\n  --tw-text-opacity: 1;\n  color: rgb(253 224 71 / var(--tw-text-opacity, 1));\n}\n.text-yellow-500 {\n  --tw-text-opacity: 1;\n  color: rgb(234 179 8 / var(--tw-text-opacity, 1));\n}\n.text-zinc-200 {\n  --tw-text-opacity: 1;\n  color: rgb(228 228 231 / var(--tw-text-opacity, 1));\n}\n.text-zinc-400 {\n  --tw-text-opacity: 1;\n  color: rgb(161 161 170 / var(--tw-text-opacity, 1));\n}\n.text-zinc-500 {\n  --tw-text-opacity: 1;\n  color: rgb(113 113 122 / var(--tw-text-opacity, 1));\n}\n.text-zinc-600 {\n  --tw-text-opacity: 1;\n  color: rgb(82 82 91 / var(--tw-text-opacity, 1));\n}\n.opacity-0 {\n  opacity: 0;\n}\n.opacity-100 {\n  opacity: 1;\n}\n.opacity-50 {\n  opacity: 0.5;\n}\n.shadow-lg {\n  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n}\n.outline {\n  outline-style: solid;\n}\n.ring-1 {\n  --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);\n  --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(1px + var(--tw-ring-offset-width)) var(--tw-ring-color);\n  box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000);\n}\n.ring-white\\/\\[0\\.08\\] {\n  --tw-ring-color: rgb(255 255 255 / 0.08);\n}\n.blur {\n  --tw-blur: blur(8px);\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n.\\!filter {\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow) !important;\n}\n.filter {\n  filter: var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow);\n}\n.backdrop-blur-sm {\n  --tw-backdrop-blur: blur(4px);\n  -webkit-backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n  backdrop-filter: var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);\n}\n.transition {\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, -webkit-backdrop-filter;\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter;\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter, -webkit-backdrop-filter;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-\\[border-radius\\] {\n  transition-property: border-radius;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-\\[color\\2c transform\\] {\n  transition-property: color,transform;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-\\[max-height\\] {\n  transition-property: max-height;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-\\[opacity\\] {\n  transition-property: opacity;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-all {\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-colors {\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-none {\n  transition-property: none;\n}\n.transition-opacity {\n  transition-property: opacity;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.transition-transform {\n  transition-property: transform;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n}\n.delay-0 {\n  transition-delay: 0s;\n}\n.delay-150 {\n  transition-delay: 150ms;\n}\n.delay-300 {\n  transition-delay: 300ms;\n}\n.\\!duration-0 {\n  transition-duration: 0s !important;\n}\n.duration-0 {\n  transition-duration: 0s;\n}\n.duration-200 {\n  transition-duration: 200ms;\n}\n.duration-300 {\n  transition-duration: 300ms;\n}\n.ease-\\[cubic-bezier\\(0\\.23\\2c 1\\2c 0\\.32\\2c 1\\)\\] {\n  transition-timing-function: cubic-bezier(0.23,1,0.32,1);\n}\n.ease-\\[cubic-bezier\\(0\\.25\\2c 0\\.1\\2c 0\\.25\\2c 1\\)\\] {\n  transition-timing-function: cubic-bezier(0.25,0.1,0.25,1);\n}\n.ease-in-out {\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n}\n.ease-out {\n  transition-timing-function: cubic-bezier(0, 0, 0.2, 1);\n}\n.will-change-transform {\n  will-change: transform;\n}\n.animation-duration-300 {\n  animation-duration: .3s;\n}\n.animation-delay-300 {\n  animation-delay: .3s;\n}\n.\\[touch-action\\:none\\] {\n  touch-action: none;\n}\n\n* {\n  outline: none !important;\n  text-rendering: optimizeLegibility;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  backface-visibility: hidden;\n\n  /* WebKit (Chrome, Safari, Edge) specific scrollbar styles */\n  &::-webkit-scrollbar {\n    width: 6px;\n    height: 6px;\n  }\n\n  &::-webkit-scrollbar-track {\n    border-radius: 10px;\n    background: transparent;\n  }\n\n  &::-webkit-scrollbar-thumb {\n    border-radius: 10px;\n    background: rgba(255, 255, 255, 0.3);\n  }\n\n  &::-webkit-scrollbar-thumb:hover {\n    background: rgba(255, 255, 255, 0.4);\n  }\n\n  &::-webkit-scrollbar-corner {\n    background: transparent;\n  }\n}\n\n@-moz-document url-prefix() {\n  * {\n    scrollbar-width: thin;\n    scrollbar-color: rgba(255, 255, 255, 0.4) transparent;\n    scrollbar-width: 6px;\n  }\n}\n\nbutton:hover {\n  background-image: none;\n}\n\nbutton {\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n  border-style: none;\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n  transition-timing-function: linear;\n  cursor: pointer;\n}\n\ninput {\n  border-style: none;\n  background-color: transparent;\n  background-image: none;\n  outline: 2px solid transparent;\n  outline-offset: 2px;\n}\n\ninput::-moz-placeholder {\n  font-size: 12px;\n  line-height: 16px;\n  font-style: italic;\n  --tw-text-opacity: 1;\n  color: rgb(115 115 115 / var(--tw-text-opacity, 1));\n}\n\ninput::placeholder {\n  font-size: 12px;\n  line-height: 16px;\n  font-style: italic;\n  --tw-text-opacity: 1;\n  color: rgb(115 115 115 / var(--tw-text-opacity, 1));\n}\n\ninput:-moz-placeholder-shown {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\ninput:placeholder-shown {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n\nsvg {\n  height: auto;\n  width: auto;\n  pointer-events: none;\n}\n\n/*\n  Using CSS content with data attributes is more performant than:\n  1. React re-renders with JSX text content\n  2. Direct DOM manipulation methods:\n     - element.textContent (creates/updates text nodes, triggers repaint)\n     - element.innerText (triggers reflow by computing styles & layout)\n     - element.innerHTML (heavy parsing, triggers reflow, security risks)\n  3. Multiple data attributes with complex CSS concatenation\n\n  This approach:\n  - Avoids React reconciliation\n  - Uses browser's native CSS engine (optimized content updates)\n  - Minimizes main thread work\n  - Reduces DOM operations\n  - Avoids forced reflows (layout recalculation)\n  - Only triggers necessary repaints\n  - Keeps pseudo-element updates in render layer\n*/\n.with-data-text {\n  overflow: hidden;\n  &::before {\n    content: attr(data-text);\n  }\n  &::before {\n    display: block;\n  }\n  &::before {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n}\n\n#react-scan-toolbar {\n  position: fixed;\n  left: 0px;\n  top: 0px;\n  display: flex;\n  flex-direction: column;\n  --tw-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);\n  --tw-shadow-colored: 0 10px 15px -3px var(--tw-shadow-color), 0 4px 6px -4px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n  font-family: Menlo, Consolas, Monaco, Liberation Mono, Lucida Console, monospace;\n  font-size: 13px;\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n  --tw-bg-opacity: 1;\n  background-color: rgb(0 0 0 / var(--tw-bg-opacity, 1));\n  -webkit-user-select: none;\n     -moz-user-select: none;\n          user-select: none;\n  cursor: move;\n  opacity: 0;\n  z-index: 2147483678;\n}\n\n@keyframes fadeIn {\n\n  0% {\n    opacity: 0;\n  }\n\n  100% {\n    opacity: 1;\n  }\n}\n\n#react-scan-toolbar {\n  animation: fadeIn ease-in forwards;\n  animation-duration: .3s;\n  animation-delay: .3s;\n  --tw-shadow: 0 4px 12px rgba(0,0,0,0.2);\n  --tw-shadow-colored: 0 4px 12px var(--tw-shadow-color);\n  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n  place-self: start;\n\n  /* [CURSOR GENERATED] Anti-blur fixes:\n   * We removed will-change-transform and replaced it with these properties\n   * because will-change was causing stacking context issues and inconsistent\n   * text rendering. The new properties work together to force proper\n   * GPU acceleration without z-index side effects:\n   */\n  transform: translate3d(\n    0,\n    0,\n    0\n  ); /* Forces GPU acceleration without causing stacking issues */\n  backface-visibility: hidden; /* Prevents blurry text during transforms */\n  perspective: 1000; /* Creates proper 3D context for crisp text */ /* Ensures consistent text rendering across browsers */\n  transform-style: preserve-3d;\n}\n\n.button {\n  &:hover {\n    background: rgba(255, 255, 255, 0.1);\n  }\n\n  &:active {\n    background: rgba(255, 255, 255, 0.15);\n  }\n}\n\n.resize-line-wrapper {\n  position: absolute;\n  overflow: hidden;\n}\n\n.resize-line {\n  position: absolute;\n  inset: 0px;\n  overflow: hidden;\n  --tw-bg-opacity: 1;\n  background-color: rgb(0 0 0 / var(--tw-bg-opacity, 1));\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n\n  svg {\n    position: absolute;\n  }\n\n  svg {\n    top: 50%;\n  }\n\n  svg {\n    left: 50%;\n  }\n\n  svg {\n    --tw-translate-x: -50%;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  }\n\n  svg {\n    --tw-translate-y: -50%;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  }\n}\n\n.resize-right,\n.resize-left {\n  top: 0px;\n  bottom: 0px;\n  width: 24px;\n  cursor: ew-resize;\n\n  .resize-line-wrapper {\n    top: 0px;\n    bottom: 0px;\n  }\n\n  .resize-line-wrapper {\n    width: 50%;\n  }\n\n  &:hover {\n    .resize-line {\n      --tw-translate-x: 0px;\n      transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n    }\n  }\n}\n.resize-right {\n  right: 0px;\n  --tw-translate-x: 50%;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n\n  .resize-line-wrapper {\n    right: 0px;\n  }\n  .resize-line {\n    border-top-right-radius: 8px;\n    border-bottom-right-radius: 8px;\n  }\n  .resize-line {\n    --tw-translate-x: -100%;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  }\n}\n\n.resize-left {\n  left: 0px;\n  --tw-translate-x: -50%;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n\n  .resize-line-wrapper {\n    left: 0px;\n  }\n  .resize-line {\n    border-top-left-radius: 8px;\n    border-bottom-left-radius: 8px;\n  }\n  .resize-line {\n    --tw-translate-x: 100%;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  }\n}\n\n.resize-top,\n.resize-bottom {\n  left: 0px;\n  right: 0px;\n  height: 24px;\n  cursor: ns-resize;\n\n  .resize-line-wrapper {\n    left: 0px;\n    right: 0px;\n  }\n\n  .resize-line-wrapper {\n    height: 50%;\n  }\n\n  &:hover {\n    .resize-line {\n      --tw-translate-y: 0px;\n      transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n    }\n  }\n}\n.resize-top {\n  top: 0px;\n  --tw-translate-y: -50%;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n\n  .resize-line-wrapper {\n    top: 0px;\n  }\n  .resize-line {\n    border-top-left-radius: 8px;\n    border-top-right-radius: 8px;\n  }\n  .resize-line {\n    --tw-translate-y: 100%;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  }\n}\n\n.resize-bottom {\n  bottom: 0px;\n  --tw-translate-y: 50%;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n\n  .resize-line-wrapper {\n    bottom: 0px;\n  }\n  .resize-line {\n    border-bottom-right-radius: 8px;\n    border-bottom-left-radius: 8px;\n  }\n  .resize-line {\n    --tw-translate-y: -100%;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  }\n}\n\n.react-scan-header {\n  display: flex;\n  align-items: center;\n  -moz-column-gap: 8px;\n       column-gap: 8px;\n  padding-left: 12px;\n  padding-right: 8px;\n  min-height: 36px;\n  border-bottom-width: 1px;\n  --tw-border-opacity: 1;\n  border-color: rgb(34 34 34 / var(--tw-border-opacity, 1));\n  overflow: hidden;\n  white-space: nowrap;\n}\n\n.react-scan-replay-button,\n.react-scan-close-button {\n  display: flex;\n  align-items: center;\n  padding: 4px;\n  min-width: -moz-fit-content;\n  min-width: fit-content;\n  border-radius: 4px;\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 300ms;\n}\n\n.react-scan-replay-button {\n  position: relative;\n  overflow: hidden;\n  background-color: rgb(168 85 247 / 0.5) !important;\n\n  &:hover {\n    background-color: rgb(168 85 247 / 0.25);\n  }\n\n  &.disabled {\n    opacity: 0.5;\n  }\n\n  &.disabled {\n    pointer-events: none;\n  }\n\n  &:before {\n    content: \"\";\n  }\n\n  &:before {\n    position: absolute;\n  }\n\n  &:before {\n    inset: 0px;\n  }\n\n  &:before {\n    --tw-translate-x: -100%;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  }\n\n  &:before {\n    animation: shimmer 2s infinite;\n    background: linear-gradient(\n      to right,\n      transparent,\n      rgba(142, 97, 227, 0.3),\n      transparent\n    );\n  }\n}\n\n.react-scan-close-button {\n  background-color: rgb(255 255 255 / 0.1);\n\n  &:hover {\n    background-color: rgb(255 255 255 / 0.15);\n  }\n}\n\n@keyframes shimmer {\n  100% {\n    --tw-translate-x: 100%;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  }\n}\n\n.react-section-header {\n  position: sticky;\n  z-index: 100;\n  display: flex;\n  align-items: center;\n  -moz-column-gap: 8px;\n       column-gap: 8px;\n  padding-left: 12px;\n  padding-right: 12px;\n  height: 28px;\n  width: 100%;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  --tw-text-opacity: 1;\n  color: rgb(136 136 136 / var(--tw-text-opacity, 1));\n  border-bottom-width: 1px;\n  --tw-border-opacity: 1;\n  border-color: rgb(34 34 34 / var(--tw-border-opacity, 1));\n  --tw-bg-opacity: 1;\n  background-color: rgb(10 10 10 / var(--tw-bg-opacity, 1));\n}\n\n.react-scan-section {\n  display: flex;\n  flex-direction: column;\n  padding-left: 8px;\n  padding-right: 8px;\n  --tw-text-opacity: 1;\n  color: rgb(136 136 136 / var(--tw-text-opacity, 1));\n}\n\n.react-scan-section::before {\n  --tw-text-opacity: 1;\n  color: rgb(107 114 128 / var(--tw-text-opacity, 1));\n  --tw-content: attr(data-section);\n  content: var(--tw-content);\n}\n\n.react-scan-section {\n  font-size: 12px;\n  line-height: 16px;\n\n  > .react-scan-property {\n    margin-left: -14px;\n  }\n}\n\n.react-scan-property {\n  position: relative;\n  display: flex;\n  flex-direction: column;\n  padding-left: 32px;\n  border-left-width: 1px;\n  border-color: transparent;\n  overflow: hidden;\n}\n\n.react-scan-property-content {\n  display: flex;\n  flex: 1 1 0%;\n  flex-direction: column;\n  min-height: 28px;\n  max-width: 100%;\n  overflow: hidden;\n}\n\n.react-scan-string {\n  color: #9ecbff;\n}\n\n.react-scan-number {\n  color: #79c7ff;\n}\n\n.react-scan-boolean {\n  color: #56b6c2;\n}\n\n.react-scan-key {\n  width: -moz-fit-content;\n  width: fit-content;\n  max-width: 240px;\n  white-space: nowrap;\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n\n.react-scan-input {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n  --tw-bg-opacity: 1;\n  background-color: rgb(0 0 0 / var(--tw-bg-opacity, 1));\n}\n\n@keyframes blink {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.react-scan-arrow {\n  position: absolute;\n  top: 0px;\n  left: 28px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  height: 28px;\n  width: 24px;\n  --tw-translate-x: -100%;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  z-index: 10;\n\n  > svg {\n    transition-property: transform;\n    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    transition-duration: 150ms;\n  }\n}\n\n.react-scan-expandable {\n  display: grid;\n  grid-template-rows: 0fr;\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 75ms;\n\n  &.react-scan-expanded {\n    grid-template-rows: 1fr;\n  }\n\n  &.react-scan-expanded {\n    transition-duration: 100ms;\n  }\n}\n\n.react-scan-nested {\n  position: relative;\n  overflow: hidden;\n\n  &:before {\n    content: \"\";\n  }\n\n  &:before {\n    position: absolute;\n  }\n\n  &:before {\n    top: 0px;\n  }\n\n  &:before {\n    left: 0px;\n  }\n\n  &:before {\n    height: 100%;\n  }\n\n  &:before {\n    width: 1px;\n  }\n\n  &:before {\n    background-color: rgb(107 114 128 / 0.3);\n  }\n}\n\n.react-scan-settings {\n  position: absolute;\n  inset: 0px;\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n  padding-top: 8px;\n  padding-bottom: 8px;\n  padding-left: 16px;\n  padding-right: 16px;\n  --tw-text-opacity: 1;\n  color: rgb(136 136 136 / var(--tw-text-opacity, 1));\n\n  > div {\n    display: flex;\n  }\n\n  > div {\n    align-items: center;\n  }\n\n  > div {\n    justify-content: space-between;\n  }\n\n  > div {\n    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    transition-duration: 150ms;\n  }\n\n  > div {\n    transition-duration: 300ms;\n  }\n}\n\n.react-scan-preview-line {\n  position: relative;\n  display: flex;\n  min-height: 28px;\n  align-items: center;\n  -moz-column-gap: 8px;\n       column-gap: 8px;\n}\n\n.react-scan-flash-overlay {\n  position: absolute;\n  inset: 0px;\n  opacity: 0;\n  z-index: 50;\n  pointer-events: none;\n  transition-property: opacity;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n  mix-blend-mode: multiply;\n  background-color: rgb(168 85 247 / 0.9);\n}\n\n.react-scan-toggle {\n  position: relative;\n  display: inline-flex;\n  height: 24px;\n  width: 40px;\n\n  input {\n    position: absolute;\n  }\n\n  input {\n    inset: 0px;\n  }\n\n  input {\n    z-index: 20;\n  }\n\n  input {\n    opacity: 0;\n  }\n\n  input {\n    cursor: pointer;\n  }\n\n  input {\n    height: 100%;\n  }\n\n  input {\n    width: 100%;\n  }\n\n  input:checked {\n    + div {\n      --tw-bg-opacity: 1;\n      background-color: rgb(95 63 154 / var(--tw-bg-opacity, 1));\n    }\n    + div {\n\n      &::before {\n        --tw-translate-x: 100%;\n        transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n      }\n\n      &::before {\n        left: auto;\n      }\n\n      &::before {\n        --tw-border-opacity: 1;\n        border-color: rgb(95 63 154 / var(--tw-border-opacity, 1));\n      }\n    }\n  }\n\n  > div {\n    position: absolute;\n  }\n\n  > div {\n    inset: 4px;\n  }\n\n  > div {\n    --tw-bg-opacity: 1;\n    background-color: rgb(64 64 64 / var(--tw-bg-opacity, 1));\n  }\n\n  > div {\n    border-radius: 9999px;\n  }\n\n  > div {\n    pointer-events: none;\n  }\n\n  > div {\n    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    transition-duration: 150ms;\n  }\n\n  > div {\n    transition-duration: 300ms;\n  }\n\n  > div {\n\n    &:before {\n      --tw-content: '';\n      content: var(--tw-content);\n    }\n\n    &:before {\n      position: absolute;\n    }\n\n    &:before {\n      top: 50%;\n    }\n\n    &:before {\n      left: 0px;\n    }\n\n    &:before {\n      --tw-translate-y: -50%;\n      transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n    }\n\n    &:before {\n      height: 16px;\n    }\n\n    &:before {\n      width: 16px;\n    }\n\n    &:before {\n      --tw-bg-opacity: 1;\n      background-color: rgb(255 255 255 / var(--tw-bg-opacity, 1));\n    }\n\n    &:before {\n      border-width: 2px;\n    }\n\n    &:before {\n      --tw-border-opacity: 1;\n      border-color: rgb(64 64 64 / var(--tw-border-opacity, 1));\n    }\n\n    &:before {\n      border-radius: 9999px;\n    }\n\n    &:before {\n      --tw-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);\n      --tw-shadow-colored: 0 1px 2px 0 var(--tw-shadow-color);\n      box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow);\n    }\n\n    &:before {\n      transition-property: all;\n      transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n      transition-duration: 150ms;\n    }\n\n    &:before {\n      transition-duration: 300ms;\n    }\n  }\n}\n\n.react-scan-flash-active {\n  opacity: 0.4;\n  transition-property: opacity;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 300ms;\n}\n\n.react-scan-inspector-overlay {\n  display: flex;\n  flex-direction: column;\n  opacity: 0;\n  transition-property: opacity;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 300ms;\n\n  &.fade-out {\n    opacity: 0;\n  }\n\n  &.fade-in {\n    opacity: 1;\n  }\n}\n\n.react-scan-what-changed {\n  ul {\n    list-style-type: disc;\n  }\n  ul {\n    padding-left: 16px;\n  }\n\n  li {\n    white-space: nowrap;\n  }\n\n  li {\n    > div {\n      display: flex;\n    }\n    > div {\n      align-items: center;\n    }\n    > div {\n      justify-content: space-between;\n    }\n    > div {\n      -moz-column-gap: 8px;\n           column-gap: 8px;\n    }\n  }\n}\n\n.count-badge {\n  display: flex;\n  align-items: center;\n  -moz-column-gap: 8px;\n       column-gap: 8px;\n  padding-left: 6px;\n  padding-right: 6px;\n  padding-top: 2px;\n  padding-bottom: 2px;\n  border-radius: 4px;\n  font-size: 12px;\n  line-height: 16px;\n  font-weight: 500;\n  --tw-numeric-spacing: tabular-nums;\n  font-variant-numeric: var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction);\n  --tw-text-opacity: 1;\n  color: rgb(168 85 247 / var(--tw-text-opacity, 1));\n  background-color: rgb(168 85 247 / 0.1);\n  transform-origin: center;\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-delay: 150ms;\n  transition-duration: 300ms;\n}\n\n@keyframes countFlash {\n\n  0% {\n    background-color: rgba(168, 85, 247, 0.3);\n    transform: scale(1.05);\n  }\n\n  100% {\n    background-color: rgba(168, 85, 247, 0.1);\n    transform: scale(1);\n  }\n}\n\n.count-flash {\n  animation: countFlash .3s ease-out forwards;\n}\n\n@keyframes countFlashShake {\n\n  0% {\n    transform: translateX(0);\n  }\n\n  25% {\n    transform: translateX(-5px);\n  }\n\n  50% {\n    transform: translateX(5px) scale(1.1);\n  }\n\n  75% {\n    transform: translateX(-5px);\n  }\n\n  100% {\n    transform: translateX(0);\n  }\n}\n\n.count-flash-white {\n  animation: countFlashShake .3s ease-out forwards;\n  transition-delay: 500ms !important;\n}\n\n.change-scope {\n  display: flex;\n  align-items: center;\n  -moz-column-gap: 4px;\n       column-gap: 4px;\n  --tw-text-opacity: 1;\n  color: rgb(102 102 102 / var(--tw-text-opacity, 1));\n  font-size: 12px;\n  line-height: 16px;\n  font-family: Menlo, Consolas, Monaco, Liberation Mono, Lucida Console, monospace;\n\n  > div {\n    padding-left: 6px;\n    padding-right: 6px;\n  }\n\n  > div {\n    padding-top: 2px;\n    padding-bottom: 2px;\n  }\n\n  > div {\n    transform-origin: center;\n  }\n\n  > div {\n    border-radius: 4px;\n  }\n\n  > div {\n    font-size: 12px;\n    line-height: 16px;\n  }\n\n  > div {\n    font-weight: 500;\n  }\n\n  > div {\n    --tw-numeric-spacing: tabular-nums;\n    font-variant-numeric: var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction);\n  }\n\n  > div {\n    transform-origin: center;\n  }\n\n  > div {\n    transition-property: all;\n    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    transition-duration: 150ms;\n  }\n\n  > div {\n    transition-delay: 150ms;\n  }\n\n  > div {\n    transition-duration: 300ms;\n  }\n\n  > div {\n\n    &[data-flash=\"true\"] {\n      background-color: rgb(168 85 247 / 0.1);\n    }\n\n    &[data-flash=\"true\"] {\n      --tw-text-opacity: 1;\n      color: rgb(168 85 247 / var(--tw-text-opacity, 1));\n    }\n  }\n}\n\n.react-scan-slider {\n  position: relative;\n  min-height: 24px;\n\n  > input {\n    position: absolute;\n  }\n\n  > input {\n    inset: 0px;\n  }\n\n  > input {\n    opacity: 0;\n  }\n\n  &:before {\n    --tw-content: '';\n    content: var(--tw-content);\n  }\n\n  &:before {\n    position: absolute;\n  }\n\n  &:before {\n    left: 0px;\n    right: 0px;\n  }\n\n  &:before {\n    top: 50%;\n  }\n\n  &:before {\n    --tw-translate-y: -50%;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  }\n\n  &:before {\n    height: 6px;\n  }\n\n  &:before {\n    background-color: rgb(142 97 227 / 0.4);\n  }\n\n  &:before {\n    border-radius: 8px;\n  }\n\n  &:before {\n    pointer-events: none;\n  }\n\n  &:after {\n    --tw-content: '';\n    content: var(--tw-content);\n  }\n\n  &:after {\n    position: absolute;\n  }\n\n  &:after {\n    left: 0px;\n    right: 0px;\n  }\n\n  &:after {\n    top: -8px;\n    bottom: -8px;\n  }\n\n  &:after {\n    z-index: -10;\n  }\n\n  span {\n    position: absolute;\n  }\n\n  span {\n    left: 0px;\n  }\n\n  span {\n    top: 50%;\n  }\n\n  span {\n    --tw-translate-y: -50%;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  }\n\n  span {\n    height: 10px;\n  }\n\n  span {\n    width: 10px;\n  }\n\n  span {\n    border-radius: 8px;\n  }\n\n  span {\n    --tw-bg-opacity: 1;\n    background-color: rgb(142 97 227 / var(--tw-bg-opacity, 1));\n  }\n\n  span {\n    pointer-events: none;\n  }\n\n  span {\n    transition-property: transform;\n    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    transition-duration: 150ms;\n  }\n\n  span {\n    transition-duration: 75ms;\n  }\n}\n\n.resize-v-line {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  min-width: 4px;\n  max-width: 4px;\n  height: 100%;\n  width: 100%;\n  transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n\n  &:hover,\n  &:active {\n    > span {\n      --tw-bg-opacity: 1;\n      background-color: rgb(34 34 34 / var(--tw-bg-opacity, 1));\n    }\n\n    svg {\n      opacity: 1;\n    }\n  }\n\n  &::before {\n    --tw-content: \"\";\n    content: var(--tw-content);\n  }\n\n  &::before {\n    position: absolute;\n  }\n\n  &::before {\n    inset: 0px;\n  }\n\n  &::before {\n    left: 50%;\n  }\n\n  &::before {\n    --tw-translate-x: -50%;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  }\n\n  &::before {\n    width: 1px;\n  }\n\n  &::before {\n    --tw-bg-opacity: 1;\n    background-color: rgb(34 34 34 / var(--tw-bg-opacity, 1));\n  }\n\n  &::before {\n    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    transition-duration: 150ms;\n  }\n\n  > span {\n    position: absolute;\n  }\n\n  > span {\n    left: 50%;\n  }\n\n  > span {\n    top: 50%;\n  }\n\n  > span {\n    --tw-translate-x: -50%;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  }\n\n  > span {\n    --tw-translate-y: -50%;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  }\n\n  > span {\n    height: 18px;\n  }\n\n  > span {\n    width: 6px;\n  }\n\n  > span {\n    border-radius: 4px;\n  }\n\n  > span {\n    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;\n    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    transition-duration: 150ms;\n  }\n\n  svg {\n    position: absolute;\n  }\n\n  svg {\n    left: 50%;\n  }\n\n  svg {\n    top: 50%;\n  }\n\n  svg {\n    --tw-translate-x: -50%;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  }\n\n  svg {\n    --tw-translate-y: -50%;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  }\n\n  svg {\n    --tw-rotate: 90deg;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  }\n\n  svg {\n    --tw-text-opacity: 1;\n    color: rgb(163 163 163 / var(--tw-text-opacity, 1));\n  }\n\n  svg {\n    opacity: 0;\n  }\n\n  svg {\n    transition-property: opacity;\n    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n    transition-duration: 150ms;\n  }\n\n  svg {\n    z-index: 50;\n  }\n}\n\n.tree-node-search-highlight {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n\n  span {\n    padding-top: 1px;\n    padding-bottom: 1px;\n  }\n\n  span {\n    border-radius: 2px;\n  }\n\n  span {\n    --tw-bg-opacity: 1;\n    background-color: rgb(253 224 71 / var(--tw-bg-opacity, 1));\n  }\n\n  span {\n    font-weight: 500;\n  }\n\n  span {\n    --tw-text-opacity: 1;\n    color: rgb(0 0 0 / var(--tw-text-opacity, 1));\n  }\n\n  .single {\n    margin-right: 1px;\n  }\n\n  .single {\n    padding-left: 2px;\n    padding-right: 2px;\n  }\n\n  .regex {\n    padding-left: 2px;\n    padding-right: 2px;\n  }\n\n  .start {\n    margin-left: 1px;\n  }\n\n  .start {\n    border-top-left-radius: 2px;\n    border-bottom-left-radius: 2px;\n  }\n\n  .end {\n    margin-right: 1px;\n  }\n\n  .end {\n    border-top-right-radius: 2px;\n    border-bottom-right-radius: 2px;\n  }\n\n  .middle {\n    margin-left: 1px;\n    margin-right: 1px;\n  }\n\n  .middle {\n    border-radius: 2px;\n  }\n}\n\n.react-scan-toolbar-notification {\n  position: absolute;\n  left: 0px;\n  right: 0px;\n  display: flex;\n  align-items: center;\n  -moz-column-gap: 8px;\n       column-gap: 8px;\n  padding: 4px;\n  padding-left: 8px;\n  font-size: 10px;\n  --tw-text-opacity: 1;\n  color: rgb(212 212 212 / var(--tw-text-opacity, 1));\n  background-color: rgb(0 0 0 / 0.9);\n  transition-property: transform;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 150ms;\n\n  &:before {\n    --tw-content: '';\n    content: var(--tw-content);\n  }\n\n  &:before {\n    position: absolute;\n  }\n\n  &:before {\n    left: 0px;\n    right: 0px;\n  }\n\n  &:before {\n    --tw-bg-opacity: 1;\n    background-color: rgb(0 0 0 / var(--tw-bg-opacity, 1));\n  }\n\n  &:before {\n    height: 8px;\n  }\n\n  &.position-top {\n    top: 100%;\n  }\n\n  &.position-top {\n    --tw-translate-y: -100%;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  }\n\n  &.position-top {\n    border-bottom-right-radius: 8px;\n    border-bottom-left-radius: 8px;\n  }\n\n  &.position-top {\n\n    &::before {\n      top: 0px;\n    }\n\n    &::before {\n      --tw-translate-y: -100%;\n      transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n    }\n  }\n\n  &.position-bottom {\n    bottom: 100%;\n  }\n\n  &.position-bottom {\n    --tw-translate-y: 100%;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  }\n\n  &.position-bottom {\n    border-top-left-radius: 8px;\n    border-top-right-radius: 8px;\n  }\n\n  &.position-bottom {\n\n    &::before {\n      bottom: 0px;\n    }\n\n    &::before {\n      --tw-translate-y: 100%;\n      transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n    }\n  }\n\n  &.is-open {\n    --tw-translate-y: 0px;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  }\n}\n\n.react-scan-header-item {\n  position: absolute;\n  inset: 0px;\n  --tw-translate-y: -200%;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  transition-property: transform;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 300ms;\n\n  &.is-visible {\n    --tw-translate-y: 0px;\n    transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n  }\n}\n\n.react-scan-components-tree:has(.resize-v-line:hover, .resize-v-line:active)\n  .tree {\n  overflow: hidden;\n}\n\n.react-scan-expandable {\n  display: grid;\n  grid-template-rows: 0fr;\n  overflow: hidden;\n  transition-property: all;\n  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);\n  transition-duration: 75ms;\n  transition-timing-function: ease-out;\n\n  > * {\n    min-height: 0;\n  }\n\n  &.react-scan-expanded {\n    grid-template-rows: 1fr;\n    transition-duration: 100ms;\n  }\n}\n\n.after\\:absolute::after {\n  content: var(--tw-content);\n  position: absolute;\n}\n\n.after\\:inset-0::after {\n  content: var(--tw-content);\n  inset: 0px;\n}\n\n.after\\:left-1\\/2::after {\n  content: var(--tw-content);\n  left: 50%;\n}\n\n.after\\:top-\\[100\\%\\]::after {\n  content: var(--tw-content);\n  top: 100%;\n}\n\n.after\\:h-\\[6px\\]::after {\n  content: var(--tw-content);\n  height: 6px;\n}\n\n.after\\:w-\\[10px\\]::after {\n  content: var(--tw-content);\n  width: 10px;\n}\n\n.after\\:-translate-x-1\\/2::after {\n  content: var(--tw-content);\n  --tw-translate-x: -50%;\n  transform: translate(var(--tw-translate-x), var(--tw-translate-y)) rotate(var(--tw-rotate)) skewX(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y));\n}\n\n@keyframes fadeOut {\n\n  0% {\n    content: var(--tw-content);\n    opacity: 1;\n  }\n\n  100% {\n    content: var(--tw-content);\n    opacity: 0;\n  }\n}\n\n.after\\:animate-\\[fadeOut_1s_ease-out_forwards\\]::after {\n  content: var(--tw-content);\n  animation: fadeOut 1s ease-out forwards;\n}\n\n.after\\:border-l-\\[5px\\]::after {\n  content: var(--tw-content);\n  border-left-width: 5px;\n}\n\n.after\\:border-r-\\[5px\\]::after {\n  content: var(--tw-content);\n  border-right-width: 5px;\n}\n\n.after\\:border-t-\\[6px\\]::after {\n  content: var(--tw-content);\n  border-top-width: 6px;\n}\n\n.after\\:border-l-transparent::after {\n  content: var(--tw-content);\n  border-left-color: transparent;\n}\n\n.after\\:border-r-transparent::after {\n  content: var(--tw-content);\n  border-right-color: transparent;\n}\n\n.after\\:border-t-white::after {\n  content: var(--tw-content);\n  --tw-border-opacity: 1;\n  border-top-color: rgb(255 255 255 / var(--tw-border-opacity, 1));\n}\n\n.after\\:bg-purple-500\\/30::after {\n  content: var(--tw-content);\n  background-color: rgb(168 85 247 / 0.3);\n}\n\n.after\\:content-\\[\\\"\\\"\\]::after {\n  --tw-content: \"\";\n  content: var(--tw-content);\n}\n\n.focus-within\\:border-\\[\\#454545\\]:focus-within {\n  --tw-border-opacity: 1;\n  border-color: rgb(69 69 69 / var(--tw-border-opacity, 1));\n}\n\n.hover\\:bg-\\[\\#0f0f0f\\]:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(15 15 15 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-\\[\\#18181B\\]:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(24 24 27 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-\\[\\#34343b\\]:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(52 52 59 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-\\[\\#5f3f9a\\]\\/20:hover {\n  background-color: rgb(95 63 154 / 0.2);\n}\n\n.hover\\:bg-\\[\\#5f3f9a\\]\\/40:hover {\n  background-color: rgb(95 63 154 / 0.4);\n}\n\n.hover\\:bg-red-600:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(220 38 38 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-zinc-700:hover {\n  --tw-bg-opacity: 1;\n  background-color: rgb(63 63 70 / var(--tw-bg-opacity, 1));\n}\n\n.hover\\:bg-zinc-800\\/50:hover {\n  background-color: rgb(39 39 42 / 0.5);\n}\n\n.hover\\:text-neutral-300:hover {\n  --tw-text-opacity: 1;\n  color: rgb(212 212 212 / var(--tw-text-opacity, 1));\n}\n\n.hover\\:text-white:hover {\n  --tw-text-opacity: 1;\n  color: rgb(255 255 255 / var(--tw-text-opacity, 1));\n}\n\n.group:hover .group-hover\\:bg-\\[\\#21437982\\] {\n  background-color: #21437982;\n}\n\n.group:hover .group-hover\\:bg-\\[\\#5b2d89\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(91 45 137 / var(--tw-bg-opacity, 1));\n}\n\n.group:hover .group-hover\\:bg-\\[\\#6a6a6a\\] {\n  --tw-bg-opacity: 1;\n  background-color: rgb(106 106 106 / var(--tw-bg-opacity, 1));\n}\n\n.group:hover .group-hover\\:bg-\\[\\#efda1a2f\\] {\n  background-color: #efda1a2f;\n}\n\n.group:hover .group-hover\\:opacity-100 {\n  opacity: 1;\n}\n\n.peer\\/bottom:hover ~ .peer-hover\\/bottom\\:rounded-b-none {\n  border-bottom-right-radius: 0px;\n  border-bottom-left-radius: 0px;\n}\n\n.peer\\/left:hover ~ .peer-hover\\/left\\:rounded-l-none {\n  border-top-left-radius: 0px;\n  border-bottom-left-radius: 0px;\n}\n\n.peer\\/right:hover ~ .peer-hover\\/right\\:rounded-r-none {\n  border-top-right-radius: 0px;\n  border-bottom-right-radius: 0px;\n}\n\n.peer\\/top:hover ~ .peer-hover\\/top\\:rounded-t-none {\n  border-top-left-radius: 0px;\n  border-top-right-radius: 0px;\n}\n",xge=(e,t,n=t)=>{const[r,i]=tn(e);return Xt(()=>{if(e===r)return;const s=setTimeout(()=>i(e),e?t:n);return()=>clearTimeout(s)},[e,t,n]),r},wge=mu(()=>be("absolute inset-0 flex items-center gap-x-2","translate-y-0","transition-transform duration-300",Fx.value&&"-translate-y-[200%]")),bge=()=>{const e=At(null),t=At(null),[n,r]=tn(null);Wp(()=>{const o=Tt.inspectState.value;o.kind==="focused"&&r(o.fiber)}),Wp(()=>{const o=ki.value;Hp(()=>{var v,g;if(Tt.inspectState.value.kind!=="focused"||!e.current||!t.current)return;const{totalUpdates:s,currentIndex:a,updates:l,isVisible:c,windowOffset:u}=o,f=Math.max(0,s-1),h=c?"#".concat(u+a," Re-render"):f>0?"×".concat(f):"";let p;if(f>0&&a>=0&&a<l.length){const b=(g=(v=l[a])==null?void 0:v.fiberInfo)==null?void 0:g.selfTime;p=b>0?b<.1-Number.EPSILON?"< 0.1ms":"".concat(Number(b.toFixed(1)),"ms"):void 0}e.current.dataset.text=h?" • ".concat(h):"",t.current.dataset.text=p?" • ".concat(p):""})});const i=gs(()=>{if(!n)return null;const{name:o,wrappers:s,wrapperTypes:a}=Up(n),l=s.length?"".concat(s.join("("),"(").concat(o,")").concat(")".repeat(s.length)):o!=null?o:"",c=a[0];return C("span",{title:l,className:"flex items-center gap-x-1",children:[o!=null?o:"Unknown",C("span",{title:c==null?void 0:c.title,className:"flex items-center gap-x-1 text-[10px] text-purple-400",children:!!c&&C(fn,{children:[C("span",{className:be("rounded py-[1px] px-1","truncate",c.compiler&&"bg-purple-800 text-neutral-400",!c.compiler&&"bg-neutral-700 text-neutral-300",c.type==="memo"&&"bg-[#5f3f9a] text-white"),children:c.type},c.type),c.compiler&&C("span",{className:"text-yellow-300",children:"✨"})]})}),a.length>1&&C("span",{className:"text-[10px] text-neutral-400",children:["×",a.length-1]})]})},[n]);return C("div",{className:wge,children:[i,C("div",{className:"flex items-center gap-x-2 mr-auto text-xs text-[#888]",children:[C("span",{ref:e,className:"with-data-text cursor-pointer !overflow-visible",title:"Click to toggle between rerenders and total renders"}),C("span",{ref:t,className:"with-data-text !overflow-visible"})]})]})},_ge=()=>{const e=xge(Tt.inspectState.value.kind==="focused",150,0),t=()=>{Pn.value={view:"none"},Tt.inspectState.value={kind:"inspect-off"}};if(Pn.value.view!=="notifications")return C("div",{className:"react-scan-header",children:[C("div",{className:"relative flex-1 h-full",children:C("div",{className:be("react-scan-header-item is-visible",!e&&"!duration-0"),children:C(bge,{})})}),C("button",{type:"button",title:"Close",className:"react-scan-close-button",onClick:t,children:C(lr,{name:"icon-close"})})]})},kge=({className:e,...t})=>C("div",{className:be("react-scan-toggle",e),children:[C("input",{type:"checkbox",...t}),C("div",{})]}),Sge=({fps:e})=>{const t=n=>n<30?"#EF4444":n<50?"#F59E0B":"rgb(214,132,245)";return C("div",{className:be("flex items-center gap-x-1 px-2 w-full","h-6","rounded-md","font-mono leading-none","bg-[#141414]","ring-1 ring-white/[0.08]"),children:[C("div",{style:{color:t(e)},className:"text-sm font-semibold tracking-wide transition-colors ease-in-out w-full flex justify-center items-center",children:e}),C("span",{className:"text-white/30 text-[11px] font-medium tracking-wide ml-auto min-w-fit",children:"FPS"})]})},Ege=()=>{const[e,t]=tn(null);return Xt(()=>{const n=setInterval(()=>{t(fge())},200);return()=>clearInterval(n)},[]),C("div",{className:be("flex items-center justify-end gap-x-2 px-1 ml-1 w-[72px]","whitespace-nowrap text-sm text-white"),children:e===null?C(fn,{children:"️"}):C(Sge,{fps:e})})},Go=()=>Ql?(window.reactScanIdCounter===void 0&&(window.reactScanIdCounter=0),"".concat(++window.reactScanIdCounter)):"0",us=e=>e(),Ar=class dF extends Array{constructor(t=25){super(),this.capacity=t}push(...t){const n=super.push(...t);for(;this.length>this.capacity;)this.shift();return n}static fromArray(t,n){const r=new dF(n);return r.push(...t),r}},Cge=class{constructor(e){this.subscribers=new Set,this.currentValue=e}subscribe(e){return this.subscribers.add(e),e(this.currentValue),()=>{this.subscribers.delete(e)}}setState(e){this.currentValue=e,this.subscribers.forEach(t=>t(e))}getCurrentState(){return this.currentValue}},fF=150,B5=new Cge(new Ar(fF)),$s=50,jge=class{constructor(){this.channels={}}publish(e,t,n=!0){const r=this.channels[t];if(!r){if(!n)return;this.channels[t]={callbacks:new Ar($s),state:new Ar($s)},this.channels[t].state.push(e);return}r.state.push(e),r.callbacks.forEach(i=>i(e))}getAvailableChannels(){return Ar.fromArray(Object.keys(this.channels),$s)}subscribe(e,t,n=!1){const r=()=>(n||this.channels[e].state.forEach(o=>{t(o)}),()=>{const o=this.channels[e].callbacks.filter(s=>s!==t);this.channels[e].callbacks=Ar.fromArray(o,$s)}),i=this.channels[e];return i?(i.callbacks.push(t),r()):(this.channels[e]={callbacks:new Ar($s),state:new Ar($s)},this.channels[e].callbacks.push(t),r())}updateChannelState(e,t,n=!0){const r=this.channels[e];if(!r){if(!n)return;const i=new Ar($s),o={callbacks:new Ar($s),state:i};this.channels[e]=o,o.state=t(i);return}r.state=t(r.state)}getChannelState(e){var t;return(t=this.channels[e].state)!=null?t:new Ar($s)}},o0=new jge,hF={skipProviders:!0,skipHocs:!0,skipContainers:!0,skipMinified:!0,skipUtilities:!0,skipBoundaries:!0},Gf={providers:[/Provider$/,/^Provider$/,/^Context$/],hocs:[/^with[A-Z]/,/^forward(?:Ref)?$/i,/^Forward(?:Ref)?\(/],containers:[/^(?:App)?Container$/,/^Root$/,/^ReactDev/],utilities:[/^Fragment$/,/^Suspense$/,/^ErrorBoundary$/,/^Portal$/,/^Consumer$/,/^Layout$/,/^Router/,/^Hydration/],boundaries:[/^Boundary$/,/Boundary$/,/^Provider$/,/Provider$/]},Nge=(e,t=hF)=>{const n=[];return t.skipProviders&&n.push(...Gf.providers),t.skipHocs&&n.push(...Gf.hocs),t.skipContainers&&n.push(...Gf.containers),t.skipUtilities&&n.push(...Gf.utilities),t.skipBoundaries&&n.push(...Gf.boundaries),!n.some(r=>r.test(e))},z5=[/^[a-z]$/,/^[a-z][0-9]$/,/^_+$/,/^[A-Za-z][_$]$/,/^[a-z]{1,2}$/],Age=e=>{var o,s;for(let a=0;a<z5.length;a++)if(z5[a].test(e))return!0;const t=!/[aeiou]/i.test(e),n=((s=(o=e.match(/\d/g))==null?void 0:o.length)!=null?s:0)>e.length/2,r=/^[a-z]+$/.test(e),i=/[$_]{2,}/.test(e);return Number(t)+Number(n)+Number(r)+Number(i)>=2},Tge=(e,t=hF)=>{if(!e)return[];if(!Ci(e.type))return[];const r=new Array;let i=e;for(;i.return;){const s=Rge(i.type);s&&!Age(s)&&Nge(s,t)&&s.toLowerCase()!==s&&r.push(s),i=i.return}const o=new Array(r.length);for(let s=0;s<r.length;s++)o[s]=r[r.length-s-1];return o},Rge=e=>{const t=Ci(e);return t?t.replace(new RegExp("^(?:Memo|Forward(?:Ref)?|With.*?)\\((?<inner>.*?)\\)$"),"$<inner>"):""},Ige=(e,t=()=>!0)=>{let n=e;for(;n;){const r=Ci(n.type);if(r&&t(r))return r;n=n.return}return null},Pg,y2="never-hidden",Pge=()=>{Pg==null||Pg();const e=()=>{document.hidden&&(y2=Date.now())};document.addEventListener("visibilitychange",e),Pg=()=>{document.removeEventListener("visibilitychange",e)}},Oge=e=>["pointerup","click"].includes(e)?"pointer":(e.includes("key"),["keydown","keyup"].includes(e)?"keyboard":null),g1=null,Mge=e=>{Pge();const t=new Map,n=new Map,r=o=>{if(!o.interactionId)return;if(o.interactionId&&o.target&&!n.has(o.interactionId)&&n.set(o.interactionId,o.target),o.target){let a=o.target;for(;a;){if(a.id==="react-scan-toolbar-root"||a.id==="react-scan-root")return;a=a.parentElement}}const s=t.get(o.interactionId);if(s)o.duration>s.latency?(s.entries=[o],s.latency=o.duration):o.duration===s.latency&&o.startTime===s.entries[0].startTime&&s.entries.push(o);else{const a=Oge(o.name);if(!a)return;const l={id:o.interactionId,latency:o.duration,entries:[o],target:o.target,type:a,startTime:o.startTime,endTime:Date.now(),processingStart:o.processingStart,processingEnd:o.processingEnd,duration:o.duration,inputDelay:o.processingStart-o.startTime,processingDuration:o.processingEnd-o.processingStart,presentationDelay:o.duration-(o.processingEnd-o.startTime),timestamp:Date.now(),timeSinceTabInactive:y2==="never-hidden"?"never-hidden":Date.now()-y2,visibilityState:document.visibilityState,timeOrigin:performance.timeOrigin,referrer:document.referrer};t.set(l.id,l),g1||(g1=requestAnimationFrame(()=>{requestAnimationFrame(()=>{e(t.get(l.id)),g1=null})}))}},i=new PerformanceObserver(o=>{const s=o.getEntries();for(let a=0,l=s.length;a<l;a++){const c=s[a];r(c)}});try{i.observe({type:"event",buffered:!0,durationThreshold:16}),i.observe({type:"first-input",buffered:!0})}catch(o){}return()=>i.disconnect()},$ge=()=>Mge(e=>{o0.publish({kind:"entry-received",entry:e},"recording")}),vv=25,va=new Ar(vv),Dge=(e,t)=>{let n=null;for(const r of t){if(r.type!==e.type)continue;if(n===null){n=r;continue}const i=(o,s)=>Math.abs(o.startDateTime)-(s.startTime+s.timeOrigin);i(r,e)<i(n,e)&&(n=r)}return n},Fge=e=>o0.subscribe("recording",n=>{const r=n.kind==="auto-complete-race"?va.find(o=>o.interactionUUID===n.interactionUUID):Dge(n.entry,va);if(!r)return;const i=r.completeInteraction(n);e(i)}),Lge=({onMicroTask:e,onRAF:t,onTimeout:n,abort:r})=>{queueMicrotask(()=>{(r==null?void 0:r())!==!0&&e()&&requestAnimationFrame(()=>{(r==null?void 0:r())!==!0&&t()&&setTimeout(()=>{(r==null?void 0:r())!==!0&&n()},0)})})},Bge=e=>{var i;const t=rF(e);if(!t)return;let n=t?Ci(t==null?void 0:t.type):"N/A";return n||(n=(i=Ige(t,o=>o.length>2))!=null?i:"N/A"),n?{componentPath:Tge(t),childrenTree:{},componentName:n,elementFiber:t}:void 0},H5=(e,t)=>{let n=null;const r=l=>{switch(e){case"pointer":return l.phase==="start"?"pointerup":l.target instanceof HTMLInputElement||l.target instanceof HTMLSelectElement?"change":"click";case"keyboard":return l.phase==="start"?"keydown":"change"}},i={current:{kind:"uninitialized-stage",interactionUUID:Go(),stageStart:Date.now(),interactionType:e}},o=l=>{var g,b;if(l.composedPath().some(m=>m instanceof Element&&m.id==="react-scan-toolbar-root")||(Date.now()-i.current.stageStart>2e3&&(i.current={kind:"uninitialized-stage",interactionUUID:Go(),stageStart:Date.now(),interactionType:e}),i.current.kind!=="uninitialized-stage"))return;const u=performance.now();(g=t==null?void 0:t.onStart)==null||g.call(t,i.current.interactionUUID);const f=Bge(l.target);if(!f){(b=t==null?void 0:t.onError)==null||b.call(t,i.current.interactionUUID);return}const h={},p=pF(h);i.current={...i.current,interactionType:e,blockingTimeStart:Date.now(),childrenTree:f.childrenTree,componentName:f.componentName,componentPath:f.componentPath,fiberRenders:h,kind:"interaction-start",interactionStartDetail:u,stopListeningForRenders:p};const v=r({phase:"end",target:l.target});document.addEventListener(v,s,{once:!0}),requestAnimationFrame(()=>{document.removeEventListener(v,s)})};document.addEventListener(r({phase:"start"}),o,{capture:!0});const s=(l,c,u)=>{var f;if(i.current.kind!=="interaction-start"&&c===n){if(e==="pointer"&&l.target instanceof HTMLSelectElement){i.current={kind:"uninitialized-stage",interactionUUID:Go(),stageStart:Date.now(),interactionType:e};return}(f=t==null?void 0:t.onError)==null||f.call(t,i.current.interactionUUID),i.current={kind:"uninitialized-stage",interactionUUID:Go(),stageStart:Date.now(),interactionType:e};return}n=c,Lge({abort:u,onMicroTask:()=>i.current.kind==="uninitialized-stage"?!1:(i.current={...i.current,kind:"js-end-stage",jsEndDetail:performance.now()},!0),onRAF:()=>{var h;return i.current.kind!=="js-end-stage"&&i.current.kind!=="raf-stage"?((h=t==null?void 0:t.onError)==null||h.call(t,i.current.interactionUUID),i.current={kind:"uninitialized-stage",interactionUUID:Go(),stageStart:Date.now(),interactionType:e},!1):(i.current={...i.current,kind:"raf-stage",rafStart:performance.now()},!0)},onTimeout:()=>{var m;if(i.current.kind!=="raf-stage"){(m=t==null?void 0:t.onError)==null||m.call(t,i.current.interactionUUID),i.current={kind:"uninitialized-stage",interactionUUID:Go(),stageStart:Date.now(),interactionType:e};return}const h=Date.now(),p=Object.freeze({...i.current,kind:"timeout-stage",blockingTimeEnd:h,commitEnd:performance.now()});i.current={kind:"uninitialized-stage",interactionUUID:Go(),stageStart:h,interactionType:e};let v=!1;const g=y=>{var E;v=!0;const x=y.kind==="auto-complete-race"?y.detailedTiming.commitEnd-y.detailedTiming.interactionStartDetail:y.entry.latency,k={detailedTiming:p,latency:x,completedAt:Date.now(),flushNeeded:!0};(E=t==null?void 0:t.onComplete)==null||E.call(t,p.interactionUUID,k,y);const S=va.filter(T=>T.interactionUUID!==p.interactionUUID);return va=Ar.fromArray(S,vv),k},b={completeInteraction:g,endDateTime:Date.now(),startDateTime:p.blockingTimeStart,type:e,interactionUUID:p.interactionUUID};if(va.push(b),zge())setTimeout(()=>{if(v)return;g({kind:"auto-complete-race",detailedTiming:p,interactionUUID:p.interactionUUID});const y=va.filter(x=>x.interactionUUID!==p.interactionUUID);va=Ar.fromArray(y,vv)},1e3);else{const y=va.filter(x=>x.interactionUUID!==p.interactionUUID);va=Ar.fromArray(y,vv),g({kind:"auto-complete-race",detailedTiming:p,interactionUUID:p.interactionUUID})}}})},a=l=>{const c=Go();s(l,c,()=>c!==n)};return e==="keyboard"&&document.addEventListener("keypress",a),()=>{document.removeEventListener(r({phase:"start"}),o,{capture:!0}),document.removeEventListener("keypress",a)}},W5=e=>{var t;return(t=p8(e,n=>{if(h8(n))return!0}))==null?void 0:t.stateNode},zge=()=>"PerformanceEventTiming"in globalThis,pF=e=>{const t=n=>{var u,f,h,p,v,g,b;const r=Ci(n.type);if(!r)return;const i=e[r];if(!i){const m=new Set,y=n.return&&$h(n.return),x=y&&Ci(y[0]);x&&m.add(x);const{selfTime:k,totalTime:S}=mh(n),E=D5(n),T={current:[],changes:new Set,changesCounts:new Map},M={fiberProps:E.fiberProps||T,fiberState:E.fiberState||T,fiberContext:E.fiberContext||T};e[r]={renderCount:1,hasMemoCache:Gy(n),wasFiberRenderMount:U5(n),parents:m,selfTime:k,totalTime:S,nodeInfo:[{element:W5(n),name:(u=Ci(n.type))!=null?u:"Unknown",selfTime:mh(n).selfTime}],changes:M};return}if((h=(f=$h(n))==null?void 0:f[0])==null?void 0:h.type){const m=n.return&&$h(n.return),y=m&&Ci(m[0]);y&&i.parents.add(y)}const{selfTime:s,totalTime:a}=mh(n),l=D5(n);if(!l)return;const c={current:[],changes:new Set,changesCounts:new Map};i.wasFiberRenderMount=i.wasFiberRenderMount||U5(n),i.hasMemoCache=i.hasMemoCache||Gy(n),i.changes={fiberProps:v1(((p=i.changes)==null?void 0:p.fiberProps)||c,l.fiberProps||c),fiberState:v1(((v=i.changes)==null?void 0:v.fiberState)||c,l.fiberState||c),fiberContext:v1(((g=i.changes)==null?void 0:g.fiberContext)||c,l.fiberContext||c)},i.renderCount+=1,i.selfTime+=s,i.totalTime+=a,i.nodeInfo.push({element:W5(n),name:(b=Ci(n.type))!=null?b:"Unknown",selfTime:mh(n).selfTime})};return Tt.interactionListeningForRenders=t,()=>{Tt.interactionListeningForRenders===t&&(Tt.interactionListeningForRenders=null)}},v1=(e,t)=>{const n={current:[...e.current],changes:new Set,changesCounts:new Map};for(const r of t.current)n.current.some(i=>i.name===r.name)||n.current.push(r);for(const r of t.changes)if(typeof r=="string"||typeof r=="number"){n.changes.add(r);const i=e.changesCounts.get(r)||0,o=t.changesCounts.get(r)||0;n.changesCounts.set(r,i+o)}return n},U5=e=>{if(!e.alternate)return!0;const t=e.alternate,n=t&&t.memoizedState!=null&&t.memoizedState.element!=null&&t.memoizedState.isDehydrated!==!0,r=e.memoizedState!=null&&e.memoizedState.element!=null&&e.memoizedState.isDehydrated!==!0;return!n&&r},Hge=e=>{let t;const n=new Set,r=(c,u)=>{const f=typeof c=="function"?c(t):c;if(!Object.is(f,t)){const h=t;t=(u!=null?u:typeof f!="object"||f===null)?f:Object.assign({},t,f),n.forEach(p=>p(t,h))}},i=()=>t,a={setState:r,getState:i,getInitialState:()=>l,subscribe:(c,u)=>{let f,h;u?(f=c,h=u):h=c;let p=f?f(t):void 0;const v=(g,b)=>{if(f){const m=f(g),y=f(b);Object.is(p,m)||(p=m,h(m,y))}else h(g,b)};return n.add(v),()=>n.delete(v)}},l=t=e(r,i,a);return a},mF=e=>Hge,Og=null;mF()(e=>({state:{events:[]},actions:{addEvent:t=>{e(n=>({state:{events:[...n.state.events,t]}}))},clear:()=>{e({state:{events:[]}})}}}));var y1=200,Vp=mF()((e,t)=>{const n=new Set;return{state:{events:new Ar(y1)},actions:{addEvent:r=>{n.forEach(l=>l(r));const i=[...t().state.events,r],o=(l,c)=>{const u=i.find(f=>{if(f.kind!=="long-render"&&f.id!==l.id&&(l.data.startAt<=f.data.startAt&&l.data.endAt<=f.data.endAt&&l.data.endAt>=f.data.startAt||f.data.startAt<=l.data.startAt&&f.data.endAt>=l.data.startAt||l.data.startAt<=f.data.startAt&&l.data.endAt>=f.data.endAt))return!0});u&&c(u)},s=new Set;i.forEach(l=>{l.kind!=="interaction"&&o(l,()=>{s.add(l.id)})});const a=i.filter(l=>!s.has(l.id));e(()=>({state:{events:Ar.fromArray(a,y1)}}))},addListener:r=>(n.add(r),()=>{n.delete(r)}),clear:()=>{e({state:{events:new Ar(y1)}})}}}}),Wge=()=>kpe(Vp.subscribe,Vp.getState),yv=null,xv=null,x1=null,x2,Uge=()=>{const e=t=>{x2=t.composedPath().map(n=>n.id).filter(Boolean).includes("react-scan-toolbar")};return document.addEventListener("mouseover",e),x1=e,()=>{x1&&document.removeEventListener("mouseover",x1)}},Vge=()=>{const e=()=>{yv=performance.now(),xv=performance.timeOrigin};return document.addEventListener("visibilitychange",e),()=>{document.removeEventListener("visibilitychange",e)}},gF=150,w1=[];function qge(){let e,t;function n(){let i=null;Og=null,Og={},i=pF(Og);const o=performance.timeOrigin,s=performance.now();return e=requestAnimationFrame(()=>{t=setTimeout(()=>{const a=performance.now(),l=a-s,c=performance.timeOrigin;w1.push(a+c);const u=w1.filter(v=>a+c-v<=1e3),f=u.length;w1=u;const h=yv!==null&&xv!==null?a+c-(xv+yv)<100:null,p=x2!==null&&x2;if(l>gF&&!h&&document.visibilityState==="visible"&&!p){const v=c+a,g=s+o;Vp.getState().actions.addEvent({kind:"long-render",id:Go(),data:{endAt:v,startAt:g,meta:{fiberRenders:Og,latency:l,fps:f}}})}yv=null,xv=null,i==null||i(),n()},0)}),i}const r=n();return()=>{r(),cancelAnimationFrame(e),clearTimeout(t)}}var Kge=()=>{const e=$ge(),t=Uge(),n=Vge(),r=qge(),i=async(l,c,u)=>{Vp.getState().actions.addEvent({kind:"interaction",id:Go(),data:{startAt:c.detailedTiming.blockingTimeStart,endAt:performance.now()+performance.timeOrigin,meta:{...c,kind:u.kind}}});const f=o0.getChannelState("recording");c.detailedTiming.stopListeningForRenders(),f.length&&o0.updateChannelState("recording",()=>new Ar($s))},o=H5("pointer",{onComplete:i}),s=H5("keyboard",{onComplete:i}),a=Fge(l=>{B5.setState(Ar.fromArray(B5.getCurrentState().concat(l),fF))});return()=>{t(),n(),r(),e(),o(),a(),s()}},qp=e=>{var n;const t=e.filter(r=>r.length>2);return t.length===0?(n=e.at(-1))!=null?n:"Unknown":t.at(-1)},Br=e=>{switch(e.kind){case"interaction":{const{renderTime:t,otherJSTime:n,framePreparation:r,frameConstruction:i,frameDraw:o}=e;return t+n+r+i+(o!=null?o:0)}case"dropped-frames":return e.otherTime+e.renderTime}},Yge=e=>e.wasFiberRenderMount||e.hasMemoCache?!1:e.changes.context.length===0&&e.changes.props.length===0&&e.changes.state.length===0,bm=e=>{const t=Br(e.timing);switch(e.kind){case"interaction":return t<200?"low":t<500?"needs-improvement":"high";case"dropped-frames":return t<50?"low":t<gF?"needs-improvement":"high"}},bo=()=>aC(vF),vF=T8(null),yF=({size:e=24,className:t})=>C("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:be(["lucide lucide-chevron-right",t]),children:C("path",{d:"m9 18 6-6-6-6"})}),Gge=({className:e="",size:t=24,events:n=[]})=>{const r=n.includes(!0),i=n.filter(a=>a).length,o=i>99?">99":i,s=r?Math.max(t*.6,14):Math.max(t*.4,6);return C("div",{className:"relative",children:[C("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:"lucide lucide-bell ".concat(e),children:[C("path",{d:"M10.268 21a2 2 0 0 0 3.464 0"}),C("path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326"})]}),n.length>0&&i>0&&No.options.value.showNotificationCount&&C("div",{className:be(["absolute",r?"-top-2.5 -right-2.5":"-top-1 -right-1","rounded-full","flex items-center justify-center","text-[8px] font-medium text-white","aspect-square",r?"bg-red-500/90":"bg-purple-500/90"]),style:{width:"".concat(s,"px"),height:"".concat(s,"px"),padding:r?"0.5px":"0"},children:r&&o})]})},s0=({className:e="",size:t=24})=>C("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:e,children:[C("path",{d:"M18 6 6 18"}),C("path",{d:"m6 6 12 12"})]}),Xge=({className:e="",size:t=24})=>C("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:e,children:[C("path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z"}),C("path",{d:"M16 9a5 5 0 0 1 0 6"}),C("path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728"})]}),Jge=({className:e="",size:t=24})=>C("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:e,children:[C("path",{d:"M16 9a5 5 0 0 1 .95 2.293"}),C("path",{d:"M19.364 5.636a9 9 0 0 1 1.889 9.96"}),C("path",{d:"m2 2 20 20"}),C("path",{d:"m7 7-.587.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298V11"}),C("path",{d:"M9.828 4.172A.686.686 0 0 1 11 4.657v.686"})]}),Qge=({size:e=24,className:t})=>C("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:e,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:be(["lucide lucide-arrow-left",t]),children:[C("path",{d:"m12 19-7-7 7-7"}),C("path",{d:"M19 12H5"})]}),Zge=({className:e="",size:t=24})=>C("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:e,children:[C("path",{d:"M14 4.1 12 6"}),C("path",{d:"m5.1 8-2.9-.8"}),C("path",{d:"m6 12-1.9 2"}),C("path",{d:"M7.2 2.2 8 5.1"}),C("path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z"})]}),eve=({className:e="",size:t=24})=>C("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:e,children:[C("path",{d:"M10 8h.01"}),C("path",{d:"M12 12h.01"}),C("path",{d:"M14 8h.01"}),C("path",{d:"M16 12h.01"}),C("path",{d:"M18 8h.01"}),C("path",{d:"M6 8h.01"}),C("path",{d:"M7 16h10"}),C("path",{d:"M8 12h.01"}),C("rect",{width:"20",height:"16",x:"2",y:"4",rx:"2"})]}),tve=({className:e="",size:t=24})=>C("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",className:e,style:{transform:"rotate(180deg)"},children:[C("circle",{cx:"12",cy:"12",r:"10"}),C("path",{d:"m4.9 4.9 14.2 14.2"})]}),nve=({className:e="",size:t=24})=>C("svg",{xmlns:"http://www.w3.org/2000/svg",width:t,height:t,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:e,children:[C("polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7"}),C("polyline",{points:"16 17 22 17 22 11"})]}),xF=({children:e,triggerContent:t,wrapperProps:n})=>{const[r,i]=tn("closed"),[o,s]=tn(null),[a,l]=tn({width:window.innerWidth,height:window.innerHeight}),c=At(null),u=At(null),f=aC(yC),h=At(!1);Xt(()=>{const m=()=>{l({width:window.innerWidth,height:window.innerHeight}),p()};return window.addEventListener("resize",m),()=>window.removeEventListener("resize",m)},[]);const p=()=>{if(c.current&&f){const m=c.current.getBoundingClientRect(),y=f.getBoundingClientRect(),x=m.left+m.width/2,k=m.top,S=new DOMRect(x-y.left,k-y.top,m.width,m.height);s(S)}};Xt(()=>{p()},[c.current]),Xt(()=>{if(r==="opening"){const m=setTimeout(()=>i("open"),120);return()=>clearTimeout(m)}else if(r==="closing"){const m=setTimeout(()=>i("closed"),120);return()=>clearTimeout(m)}},[r]),Xt(()=>{const m=setInterval(()=>{!h.current&&r!=="closed"&&i("closing")},1e3);return()=>clearInterval(m)},[r]);const v=()=>{h.current=!0,p(),i("opening")},g=()=>{h.current=!1,p(),i("closing")},b=()=>{var W;if(!o||!f)return{top:0,left:0};const m=f.getBoundingClientRect(),y=175,x=((W=u.current)==null?void 0:W.offsetHeight)||40,k=5,S=o.x+m.left,E=o.y+m.top;let T=S,M=E-4;return T-y/2<k?T=k+y/2:T+y/2>a.width-k&&(T=a.width-k-y/2),M-x<k&&(M=E+o.height+4),{top:M-m.top,left:T-m.left}};return C(fn,{children:[f&&o&&r!=="closed"&&Npe(C("div",{ref:u,className:be(["absolute z-100 bg-white text-black rounded-lg px-3 py-2 shadow-lg","transform transition-all duration-120 ease-[cubic-bezier(0.23,1,0.32,1)]",'after:content-[""] after:absolute after:top-[100%]',"after:left-1/2 after:-translate-x-1/2","after:w-[10px] after:h-[6px]","after:border-l-[5px] after:border-l-transparent","after:border-r-[5px] after:border-r-transparent","after:border-t-[6px] after:border-t-white","pointer-events-none",r==="opening"||r==="closing"?"opacity-0 translate-y-1":"opacity-100 translate-y-0"]),style:{top:b().top+"px",left:b().left+"px",transform:"translate(-50%, -100%)",minWidth:"175px"},children:e}),f),C("div",{ref:c,onMouseEnter:v,onMouseLeave:g,...n,children:t})]})},rve=({selectedEvent:e})=>{const{notificationState:t,setNotificationState:n,setRoute:r}=bo();return C("div",{className:be(["flex w-full justify-between items-center px-3 py-2 text-xs"]),children:[C("div",{className:be(["bg-[#18181B] flex items-center gap-x-1 p-1 rounded-sm"]),children:[C("button",{onClick:()=>{r({route:"render-visualization",routeMessage:null})},className:be(["w-1/2 flex items-center justify-center whitespace-nowrap py-[5px] px-1 gap-x-1",t.route==="render-visualization"||t.route==="render-explanation"?"text-white bg-[#7521c8] rounded-sm":"text-[#6E6E77] bg-[#18181B] rounded-sm"]),children:"Ranked"}),C("button",{onClick:()=>{r({route:"other-visualization",routeMessage:null})},className:be(["w-1/2 flex items-center justify-center whitespace-nowrap py-[5px] px-1 gap-x-1",t.route==="other-visualization"?"text-white bg-[#7521c8] rounded-sm":"text-[#6E6E77] bg-[#18181B] rounded-sm"]),children:"Overview"}),C("button",{onClick:()=>{r({route:"optimize",routeMessage:null})},className:be(["w-1/2 flex items-center justify-center whitespace-nowrap py-[5px] px-1 gap-x-1",t.route==="optimize"?"text-white bg-[#7521c8] rounded-sm":"text-[#6E6E77] bg-[#18181B] rounded-sm"]),children:C("span",{children:"Prompts"})})]}),C(xF,{triggerContent:C("button",{onClick:()=>{n(i=>{i.audioNotificationsOptions.enabled&&i.audioNotificationsOptions.audioContext.state!=="closed"&&i.audioNotificationsOptions.audioContext.close();const o=i.audioNotificationsOptions.enabled;localStorage.setItem("react-scan-notifications-audio",String(!o));const s=new AudioContext;return i.audioNotificationsOptions.enabled||fC(s),o&&s.close(),{...i,audioNotificationsOptions:o?{audioContext:null,enabled:!1}:{audioContext:s,enabled:!0}}})},className:"ml-auto",children:C("div",{className:be(["flex gap-x-2 justify-center items-center text-[#6E6E77]"]),children:[C("span",{children:"Alerts"}),t.audioNotificationsOptions.enabled?C(Xge,{size:16,className:"text-[#6E6E77]"}):C(Jge,{size:16,className:"text-[#6E6E77]"})]})}),children:C(fn,{children:"Play a chime when a slowdown is recorded"})})]})},ju=e=>{let t="";return e.toSorted((r,i)=>i.totalTime-r.totalTime).slice(0,30).filter(r=>r.totalTime>5).forEach(r=>{let i="";i+="Component Name:",i+=r.name,i+="\n",i+="Rendered: ".concat(r.count," times\n"),i+="Sum of self times for ".concat(r.name," is ").concat(r.totalTime.toFixed(0),"ms\n"),r.changes.props.length>0&&(i+="Changed props for all ".concat(r.name,' instances ("name:count" pairs)\n'),r.changes.props.forEach(o=>{i+="".concat(o.name,":").concat(o.count,"x\n")})),r.changes.state.length>0&&(i+="Changed state for all ".concat(r.name,' instances ("hook index:count" pairs)\n'),r.changes.state.forEach(o=>{i+="".concat(o.index,":").concat(o.count,"x\n")})),r.changes.context.length>0&&(i+="Changed context for all ".concat(r.name,' instances ("context display name (if exists):count" pairs)\n'),r.changes.context.forEach(o=>{i+="".concat(o.name,":").concat(o.count,"x\n")})),t+=i,t+="\n"}),t},ive=({renderTime:e,eHandlerTimeExcludingRenders:t,toRafTime:n,commitTime:r,framePresentTime:i,formattedReactData:o})=>"I will provide you with a set of high level, and low level performance data about an interaction in a React App:\n### High level\n- react component render time: ".concat(e.toFixed(0),"ms\n- how long it took to run javascript event handlers (EXCLUDING REACT RENDERS): ").concat(t.toFixed(0),"ms\n- how long it took from the last event handler time, to the last request animation frame: ").concat(n.toFixed(0),"ms\n	- things like prepaint, style recalculations, layerization, async web API's like observers may occur during this time\n- how long it took from the last request animation frame to when the dom was committed: ").concat(r.toFixed(0),"ms\n	- during this period you will see paint, commit, potential style recalcs, and other misc browser activity. Frequently high times here imply css that makes the browser do a lot of work, or mutating expensive dom properties during the event handler stage. This can be many things, but it narrows the problem scope significantly when this is high\n").concat(i===null?"":"- how long it took from dom commit for the frame to be presented: ".concat(i.toFixed(0),"ms. This is when information about how to paint the next frame is sent to the compositor threads, and when the GPU does work. If this is high, look for issues that may be a bottleneck for operations occurring during this time"),"\n\n### Low level\nWe also have lower level information about react components, such as their render time, and which props/state/context changed when they re-rendered.\n").concat(o),ove=({interactionType:e,name:t,componentPath:n,time:r,renderTime:i,eHandlerTimeExcludingRenders:o,toRafTime:s,commitTime:a,framePresentTime:l,formattedReactData:c})=>"You will attempt to implement a performance improvement to a user interaction in a React app. You will be provided with data about the interaction, and the slow down.\n\nYour should split your goals into 2 parts:\n- identifying the problem\n- fixing the problem\n	- it is okay to implement a fix even if you aren't 100% sure the fix solves the performance problem. When you aren't sure, you should tell the user to try repeating the interaction, and feeding the \"Formatted Data\" in the React Scan notifications optimize tab. This allows you to start a debugging flow with the user, where you attempt a fix, and observe the result. The user may make a mistake when they pass you the formatted data, so must make sure, given the data passed to you, that the associated data ties to the same interaction you were trying to debug.\n\n\nMake sure to check if the user has the react compiler enabled (project dependent, configured through build tool), so you don't unnecessarily memoize components. If it is, you do not need to worry about memoizing user components\n\nOne challenge you may face is the performance problem lies in a node_module, not in user code. If you are confident the problem originates because of a node_module, there are multiple strategies, which are context dependent:\n- you can try to work around the problem, knowing which module is slow\n- you can determine if its possible to resolve the problem in the node_module by modifying non node_module code\n- you can monkey patch the node_module to experiment and see if it's really the problem (you can modify a functions properties to hijack the call for example)\n- you can determine if it's feasible to replace whatever node_module is causing the problem with a performant option (this is an extreme)\n\nThe interaction was a ".concat(e," on the component named ").concat(t,". This component has the following ancestors ").concat(n,". This is the path from the component, to the root. This should be enough information to figure out where this component is in the user's code base\n\nThis path is the component that was clicked, so it should tell you roughly where component had an event handler that triggered a state change.\n\nPlease note that the leaf node of this path might not be user code (if they use a UI library), and they may contain many wrapper components that just pass through children that aren't relevant to the actual click. So make you sure analyze the path and understand what the user code is doing\n\nWe have a set of high level, and low level data about the performance issue.\n\nThe click took ").concat(r.toFixed(0),"ms from interaction start, to when a new frame was presented to a user.\n\nWe also provide you with a breakdown of what the browser spent time on during the period of interaction start to frame presentation.\n\n- react component render time: ").concat(i.toFixed(0),"ms\n- how long it took to run javascript event handlers (EXCLUDING REACT RENDERS): ").concat(o.toFixed(0),"ms\n- how long it took from the last event handler time, to the last request animation frame: ").concat(s.toFixed(0),"ms\n	- things like prepaint, style recalculations, layerization, async web API's like observers may occur during this time\n- how long it took from the last request animation frame to when the dom was committed: ").concat(a.toFixed(0),"ms\n	- during this period you will see paint, commit, potential style recalcs, and other misc browser activity. Frequently high times here imply css that makes the browser do a lot of work, or mutating expensive dom properties during the event handler stage. This can be many things, but it narrows the problem scope significantly when this is high\n").concat(l===null?"":"- how long it took from dom commit for the frame to be presented: ".concat(l.toFixed(0),"ms. This is when information about how to paint the next frame is sent to the compositor threads, and when the GPU does work. If this is high, look for issues that may be a bottleneck for operations occurring during this time"),"\n\n\nWe also have lower level information about react components, such as their render time, and which props/state/context changed when they re-rendered.\n\n").concat(c,"\n\nYou may notice components have many renders, but much fewer props/state/context changes. This normally implies most of the components could of been memoized to avoid computation\n\nIt's also important to remember if a component had no props/state/context change, and it was memoized, it would not render. So the flow should be:\n- find the most expensive components\n- see what's causing them to render\n- determine how you can make those state/props/context not change for a large set of the renders\n- once there are no more changes left, you can memoize the component so it no longer unnecessarily re-renders. \n\nAn important thing to note is that if you see a lot of react renders (some components with very high render counts), but javascript excluding renders is much higher than render time, it is possible that the components with lots of renders run hooks like useEffect/useLayoutEffect, which run during the JS event handler period.\n\nIt's also good to note that react profiles hook times in development, and if many hooks are called (lets say 5,000 components all called a useEffect), it will have to profile every single one. And it may also be the case the comparison of the hooks dependency can be expensive, and that would not be tracked in render time.\n\nIf a node_module is the component with high renders, you can experiment to see if that component is the root issue (because of hooks). You should use the same instructions for node_module debugging mentioned previously.\n\n"),sve=({renderTime:e,otherTime:t,formattedReactData:n})=>"You will attempt to implement a performance improvement to a large slowdown in a react app\n\nYour should split your goals into 2 parts:\n- identifying the problem\n- fixing the problem\n	- it is okay to implement a fix even if you aren't 100% sure the fix solves the performance problem. When you aren't sure, you should tell the user to try repeating the interaction, and feeding the \"Formatted Data\" in the React Scan notifications optimize tab. This allows you to start a debugging flow with the user, where you attempt a fix, and observe the result. The user may make a mistake when they pass you the formatted data, so must make sure, given the data passed to you, that the associated data ties to the same interaction you were trying to debug.\n\nMake sure to check if the user has the react compiler enabled (project dependent, configured through build tool), so you don't unnecessarily memoize components. If it is, you do not need to worry about memoizing user components\n\nOne challenge you may face is the performance problem lies in a node_module, not in user code. If you are confident the problem originates because of a node_module, there are multiple strategies, which are context dependent:\n- you can try to work around the problem, knowing which module is slow\n- you can determine if its possible to resolve the problem in the node_module by modifying non node_module code\n- you can monkey patch the node_module to experiment and see if it's really the problem (you can modify a functions properties to hijack the call for example)\n- you can determine if it's feasible to replace whatever node_module is causing the problem with a performant option (this is an extreme)\n\n\nWe have the high level time of how much react spent rendering, and what else the browser spent time on during this slowdown\n\n- react component render time: ".concat(e.toFixed(0),"ms\n- other time: ").concat(t,"ms\n\n\nWe also have lower level information about react components, such as their render time, and which props/state/context changed when they re-rendered.\n\n").concat(n,"\n\nYou may notice components have many renders, but much fewer props/state/context changes. This normally implies most of the components could of been memoized to avoid computation\n\nIt's also important to remember if a component had no props/state/context change, and it was memoized, it would not render. So the flow should be:\n- find the most expensive components\n- see what's causing them to render\n- determine how you can make those state/props/context not change for a large set of the renders\n- once there are no more changes left, you can memoize the component so it no longer unnecessarily re-renders. \n\nAn important thing to note is that if you see a lot of react renders (some components with very high render counts), but other time is much higher than render time, it is possible that the components with lots of renders run hooks like useEffect/useLayoutEffect, which run outside of what we profile (just react render time).\n\nIt's also good to note that react profiles hook times in development, and if many hooks are called (lets say 5,000 components all called a useEffect), it will have to profile every single one. And it may also be the case the comparison of the hooks dependency can be expensive, and that would not be tracked in render time.\n\nIf a node_module is the component with high renders, you can experiment to see if that component is the root issue (because of hooks). You should use the same instructions for node_module debugging mentioned previously.\n\nIf renders don't seem to be the problem, see if there are any expensive CSS properties being added/mutated, or any expensive DOM Element mutations/new elements being created that could cause this slowdown. \n"),ave=({renderTime:e,otherTime:t,formattedReactData:n})=>"Your goal will be to help me find the source of a performance problem in a React App. I collected a large dataset about this specific performance problem.\n\nWe have the high level time of how much react spent rendering, and what else the browser spent time on during this slowdown\n\n- react component render time: ".concat(e.toFixed(0),"ms\n- other time (other JavaScript, hooks like useEffect, style recalculations, layerization, paint & commit and everything else the browser might do to draw a new frame after javascript mutates the DOM): ").concat(t,"ms\n\n\nWe also have lower level information about react components, such as their render time, and which props/state/context changed when they re-rendered.\n\n").concat(n,"\n\nYou may notice components have many renders, but much fewer props/state/context changes. This normally implies most of the components could of been memoized to avoid computation\n\nIt's also important to remember if a component had no props/state/context change, and it was memoized, it would not render. So a flow we can go through is:\n- find the most expensive components\n- see what's causing them to render\n- determine how you can make those state/props/context not change for a large set of the renders\n- once there are no more changes left, you can memoize the component so it no longer unnecessarily re-renders. \n\n\nAn important thing to note is that if you see a lot of react renders (some components with very high render counts), but other time is much higher than render time, it is possible that the components with lots of renders run hooks like useEffect/useLayoutEffect, which run outside of what we profile (just react render time).\n\nIt's also good to note that react profiles hook times in development, and if many hooks are called (lets say 5,000 components all called a useEffect), it will have to profile every single one, and this can add significant overhead when thousands of effects ran.\n\nIf it's not possible to explain the root problem from this data, please ask me for more data explicitly, and what we would need to know to find the source of the performance problem.\n"),lve=({renderTime:e,otherTime:t,formattedReactData:n})=>"I will provide you with a set of high level, and low level performance data about a large frame drop in a React App:\n### High level\n- react component render time: ".concat(e.toFixed(0),"ms\n- how long it took to run everything else (other JavaScript, hooks like useEffect, style recalculations, layerization, paint & commit and everything else the browser might do to draw a new frame after javascript mutates the DOM): ").concat(t,"ms\n\n### Low level\nWe also have lower level information about react components, such as their render time, and which props/state/context changed when they re-rendered.\n").concat(n),cve=({interactionType:e,name:t,time:n,renderTime:r,eHandlerTimeExcludingRenders:i,toRafTime:o,commitTime:s,framePresentTime:a,formattedReactData:l})=>"Your goal will be to help me find the source of a performance problem. I collected a large dataset about this specific performance problem.\n\nThere was a ".concat(e," on a component named ").concat(t,". This means, roughly, the component that handled the ").concat(e," event was named ").concat(t,".\n\nWe have a set of high level, and low level data about the performance issue.\n\nThe click took ").concat(n.toFixed(0),"ms from interaction start, to when a new frame was presented to a user.\n\nWe also provide you with a breakdown of what the browser spent time on during the period of interaction start to frame presentation.\n\n- react component render time: ").concat(r.toFixed(0),"ms\n- how long it took to run javascript event handlers (EXCLUDING REACT RENDERS): ").concat(i.toFixed(0),"ms\n- how long it took from the last event handler time, to the last request animation frame: ").concat(o.toFixed(0),"ms\n	- things like prepaint, style recalculations, layerization, async web API's like observers may occur during this time\n- how long it took from the last request animation frame to when the dom was committed: ").concat(s.toFixed(0),"ms\n	- during this period you will see paint, commit, potential style recalcs, and other misc browser activity. Frequently high times here imply css that makes the browser do a lot of work, or mutating expensive dom properties during the event handler stage. This can be many things, but it narrows the problem scope significantly when this is high\n").concat(a===null?"":"- how long it took from dom commit for the frame to be presented: ".concat(a.toFixed(0),"ms. This is when information about how to paint the next frame is sent to the compositor threads, and when the GPU does work. If this is high, look for issues that may be a bottleneck for operations occurring during this time"),"\n\nWe also have lower level information about react components, such as their render time, and which props/state/context changed when they re-rendered.\n\n").concat(l,"\n\n\nYou may notice components have many renders, but much fewer props/state/context changes. This normally implies most of the components could of been memoized to avoid computation\n\nIt's also important to remember if a component had no props/state/context change, and it was memoized, it would not render. So a flow we can go through is:\n- find the most expensive components\n- see what's causing them to render\n- determine how you can make those state/props/context not change for a large set of the renders\n- once there are no more changes left, you can memoize the component so it no longer unnecessarily re-renders. \n\n\nAn important thing to note is that if you see a lot of react renders (some components with very high render counts), but javascript excluding renders is much higher than render time, it is possible that the components with lots of renders run hooks like useEffect/useLayoutEffect, which run during the JS event handler period.\n\nIt's also good to note that react profiles hook times in development, and if many hooks are called (lets say 5,000 components all called a useEffect), it will have to profile every single one. And it may also be the case the comparison of the hooks dependency can be expensive, and that would not be tracked in render time.\n\nIf it's not possible to explain the root problem from this data, please ask me for more data explicitly, and what we would need to know to find the source of the performance problem.\n"),w2=(e,t)=>us(()=>{switch(e){case"data":switch(t.kind){case"dropped-frames":return lve({formattedReactData:ju(t.groupedFiberRenders),renderTime:t.groupedFiberRenders.reduce((n,r)=>n+r.totalTime,0),otherTime:t.timing.otherTime});case"interaction":return ive({commitTime:t.timing.frameConstruction,eHandlerTimeExcludingRenders:t.timing.otherJSTime,formattedReactData:ju(t.groupedFiberRenders),framePresentTime:t.timing.frameDraw,renderTime:t.groupedFiberRenders.reduce((n,r)=>n+r.totalTime,0),toRafTime:t.timing.framePreparation})}case"explanation":switch(t.kind){case"dropped-frames":return ave({formattedReactData:ju(t.groupedFiberRenders),renderTime:t.groupedFiberRenders.reduce((n,r)=>n+r.totalTime,0),otherTime:t.timing.otherTime});case"interaction":return cve({commitTime:t.timing.frameConstruction,eHandlerTimeExcludingRenders:t.timing.otherJSTime,formattedReactData:ju(t.groupedFiberRenders),framePresentTime:t.timing.frameDraw,interactionType:t.type,name:qp(t.componentPath),renderTime:t.groupedFiberRenders.reduce((n,r)=>n+r.totalTime,0),time:Br(t.timing),toRafTime:t.timing.framePreparation})}case"fix":switch(t.kind){case"dropped-frames":return sve({formattedReactData:ju(t.groupedFiberRenders),renderTime:t.groupedFiberRenders.reduce((n,r)=>n+r.totalTime,0),otherTime:t.timing.otherTime});case"interaction":return ove({commitTime:t.timing.frameConstruction,componentPath:t.componentPath.join(">"),eHandlerTimeExcludingRenders:t.timing.otherJSTime,formattedReactData:ju(t.groupedFiberRenders),framePresentTime:t.timing.frameDraw,interactionType:t.type,name:qp(t.componentPath),renderTime:t.groupedFiberRenders.reduce((n,r)=>n+r.totalTime,0),time:Br(t.timing),toRafTime:t.timing.framePreparation})}}}),uve=({selectedEvent:e})=>{const[t,n]=tn("fix"),[r,i]=tn(!1);return C("div",{className:be(["w-full h-full"]),children:[C("div",{className:be(["border border-[#27272A] rounded-sm h-4/5 text-xs overflow-hidden"]),children:[C("div",{className:be(["bg-[#18181B] p-1 rounded-t-sm"]),children:C("div",{className:be(["flex items-center gap-x-1"]),children:[C("button",{onClick:()=>n("fix"),className:be(["flex items-center justify-center whitespace-nowrap py-1.5 px-3 rounded-sm",t==="fix"?"text-white bg-[#7521c8]":"text-[#6E6E77] hover:text-white"]),children:"Fix"}),C("button",{onClick:()=>n("explanation"),className:be(["flex items-center justify-center whitespace-nowrap py-1.5 px-3 rounded-sm",t==="explanation"?"text-white bg-[#7521c8]":"text-[#6E6E77] hover:text-white"]),children:"Explanation"}),C("button",{onClick:()=>n("data"),className:be(["flex items-center justify-center whitespace-nowrap py-1.5 px-3 rounded-sm",t==="data"?"text-white bg-[#7521c8]":"text-[#6E6E77] hover:text-white"]),children:"Data"})]})}),C("div",{className:be(["overflow-y-auto h-full"]),children:C("pre",{className:be(["p-2 h-full","whitespace-pre-wrap break-words","text-gray-300 font-mono "]),children:w2(t,e)})})]}),C("button",{onClick:async()=>{const o=w2(t,e);await navigator.clipboard.writeText(o),i(!0),setTimeout(()=>i(!1),1e3)},className:be(["mt-4 px-4 py-2 bg-[#18181B] text-[#6E6E77] rounded-sm","hover:text-white transition-colors duration-200","flex items-center justify-center gap-x-2 text-xs"]),children:[C("span",{children:r?"Copied!":"Copy Prompt"}),C("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:be(["transition-transform duration-200",r&&"scale-110"]),children:r?C("path",{d:"M20 6L9 17l-5-5"}):C(fn,{children:[C("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),C("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]})})]})]})},dve=(e,t)=>{switch(e.kind){case"dropped-frames":return[...t?[{name:"Total Processing Time",time:Br(e.timing),color:"bg-red-500",kind:"total-processing-time"}]:[{name:"Renders",time:e.timing.renderTime,color:"bg-purple-500",kind:"render"},{name:"JavaScript, DOM updates, Draw Frame",time:e.timing.otherTime,color:"bg-[#4b4b4b]",kind:"other-frame-drop"}]];case"interaction":return[...t?[]:[{name:"Renders",time:e.timing.renderTime,color:"bg-purple-500",kind:"render"}],{name:t?"React Renders, Hooks, Other JavaScript":"JavaScript/React Hooks ",time:e.timing.otherJSTime,color:"bg-[#EFD81A]",kind:"other-javascript"},{name:"Update DOM and Draw New Frame",time:Br(e.timing)-e.timing.renderTime-e.timing.otherJSTime,color:"bg-[#1D3A66]",kind:"other-not-javascript"}]}},fve=({selectedEvent:e})=>{var l,c;const[t]=tn((l=xC())!=null?l:!1),{notificationState:n}=bo(),[r,i]=tn((c=n.routeMessage)!=null&&c.name?[n.routeMessage.name]:[]),o=dve(e,t),s=aC(yC);Xt(()=>{var u;if((u=n.routeMessage)!=null&&u.name){const f=s==null?void 0:s.querySelector("#overview-scroll-container"),h=s==null?void 0:s.querySelector("#react-scan-overview-bar-".concat(n.routeMessage.name));if(f&&h){const p=h.getBoundingClientRect().top,v=f.getBoundingClientRect().top,g=p-v;f.scrollTop=f.scrollTop+g}}},[n.route]),Xt(()=>{n.route==="other-visualization"&&i(u=>{var f;return(f=n.routeMessage)!=null&&f.name?[n.routeMessage.name]:u})},[n.route]);const a=o.reduce((u,f)=>u+f.time,0);return C("div",{className:"rounded-sm border border-zinc-800 text-xs",children:[C("div",{className:"p-2 border-b border-zinc-800 bg-zinc-900/50",children:C("div",{className:"flex items-center justify-between",children:[C("h3",{className:"text-xs font-medium",children:"What was time spent on?"}),C("span",{className:"text-xs text-zinc-400",children:["Total: ",a.toFixed(0),"ms"]})]})}),C("div",{className:"divide-y divide-zinc-800",children:o.map(u=>{const f=r.includes(u.kind);return C("div",{id:"react-scan-overview-bar-".concat(u.kind),children:[C("button",{onClick:()=>i(h=>h.includes(u.kind)?h.filter(p=>p!==u.kind):[...h,u.kind]),className:"w-full px-3 py-2 flex items-center gap-4 hover:bg-zinc-800/50 transition-colors",children:C("div",{className:"flex-1",children:[C("div",{className:"flex items-center justify-between mb-2",children:[C("div",{className:"flex items-center gap-0.5",children:[C("svg",{className:"h-4 w-4 text-zinc-400 transition-transform ".concat(f?"rotate-90":""),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:C("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})}),C("span",{className:"font-medium flex items-center text-left",children:u.name})]}),C("span",{className:" text-zinc-400",children:[u.time.toFixed(0),"ms"]})]}),C("div",{className:"h-1 bg-zinc-800 rounded-full overflow-hidden",children:C("div",{className:"h-full ".concat(u.color," transition-all"),style:{width:"".concat(u.time/a*100,"%")}})})]})}),f&&C("div",{className:"bg-zinc-900/30 border-t border-zinc-800 px-2.5 py-3",children:C("p",{className:" text-zinc-400 mb-4 text-xs",children:us(()=>{switch(e.kind){case"interaction":switch(u.kind){case"render":return C(Nu,{input:pve(e)});case"other-javascript":return C(Nu,{input:mve(e)});case"other-not-javascript":return C(Nu,{input:hve(e)})}case"dropped-frames":switch(u.kind){case"total-processing-time":return C(Nu,{input:{kind:"total-processing",data:{time:Br(e.timing)}}});case"render":return C(fn,{children:C(Nu,{input:{kind:"render",data:{topByTime:e.groupedFiberRenders.toSorted((h,p)=>p.totalTime-h.totalTime).slice(0,3).map(h=>({name:h.name,percentage:h.totalTime/Br(e.timing)}))}}})});case"other-frame-drop":return C(Nu,{input:{kind:"other"}})}}})})})]},u.kind)})})]})},hve=e=>{const t=e.groupedFiberRenders.reduce((o,s)=>o+s.count,0),n=e.timing.renderTime,r=Br(e.timing),i=n/r*100;return t>100?{kind:"high-render-count-update-dom-draw-frame",data:{count:t,percentageOfTotal:i,copyButton:C(V5,{})}}:{kind:"update-dom-draw-frame",data:{copyButton:C(V5,{})}}},V5=()=>{const[e,t]=tn(!1),{notificationState:n}=bo();return C("button",{onClick:async()=>{n.selectedEvent&&(await navigator.clipboard.writeText(w2("explanation",n.selectedEvent)),t(!0),setTimeout(()=>t(!1),1e3))},className:"bg-zinc-800 flex hover:bg-zinc-700 text-zinc-200 px-2 py-1 rounded gap-x-3",children:[C("span",{children:e?"Copied!":"Copy Prompt"}),C("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:be(["transition-transform duration-200",e&&"scale-110"]),children:e?C("path",{d:"M20 6L9 17l-5-5"}):C(fn,{children:[C("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),C("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]})})]})},pve=e=>e.timing.renderTime/Br(e.timing)>.3?{kind:"render",data:{topByTime:e.groupedFiberRenders.toSorted((t,n)=>n.totalTime-t.totalTime).slice(0,3).map(t=>({percentage:t.totalTime/Br(e.timing),name:t.name}))}}:{kind:"other"},mve=e=>{const t=e.groupedFiberRenders.reduce((n,r)=>n+r.count,0);return e.timing.otherJSTime/Br(e.timing)<.2?{kind:"js-explanation-base"}:e.groupedFiberRenders.find(n=>n.count>200)||e.groupedFiberRenders.reduce((n,r)=>n+r.count,0)>500?{kind:"high-render-count-high-js",data:{renderCount:t,topByCount:e.groupedFiberRenders.filter(n=>n.count>100).toSorted((n,r)=>r.count-n.count).slice(0,3)}}:e.timing.otherJSTime/Br(e.timing)>.3?e.timing.renderTime>.2?{kind:"js-explanation-base"}:{kind:"low-render-count-high-js",data:{renderCount:t}}:{kind:"js-explanation-base"}},Nu=({input:e})=>{switch(e.kind){case"total-processing":return C("div",{className:be(["text-[#E4E4E7] text-[10px] leading-6 flex flex-col gap-y-2"]),children:[C("p",{children:["This is the time it took to draw the entire frame that was presented to the user. To be at 60FPS, this number needs to be ","<=16ms"]}),C("p",{children:'To debug the issue, check the "Ranked" tab to see if there are significant component renders'}),C("p",{children:"On a production React build, React Scan can't access the time it took for component to render. To get that information, run React Scan on a development build"}),C("p",{children:["To understand precisely what caused the slowdown while in production, use the ",C("strong",{children:"Chrome profiler"})," and analyze the function call times."]}),C("p",{})]});case"render":return C("div",{className:be(["text-[#E4E4E7] text-[10px] leading-6 flex flex-col gap-y-2"]),children:[C("p",{children:"This is the time it took React to run components, and internal logic to handle the output of your component."}),C("div",{className:be(["flex flex-col"]),children:[C("p",{children:"The slowest components for this time period were:"}),e.data.topByTime.map(t=>C("div",{children:[C("strong",{children:t.name}),":"," ",(t.percentage*100).toFixed(0),"% of total"]},t.name))]}),C("p",{children:'To view the render times of all your components, and what caused them to render, go to the "Ranked" tab'}),C("p",{children:'The "Ranked" tab shows the render times of every component.'}),C("p",{children:"The render times of the same components are grouped together into one bar."}),C("p",{children:"Clicking the component will show you what props, state, or context caused the component to re-render."})]});case"js-explanation-base":return C("div",{className:be(["text-[#E4E4E7] text-[10px] leading-6 flex flex-col gap-y-2"]),children:[C("p",{children:"This is the period when JavaScript hooks and other JavaScript outside of React Renders run."}),C("p",{children:["The most common culprit for high JS time is expensive hooks, like expensive callbacks inside of ",C("code",{children:"useEffect"}),"'s or a large number of useEffect's called, but this can also be JavaScript event handlers (",C("code",{children:"'onclick'"}),", ",C("code",{children:"'onchange'"}),") that performed expensive computation."]}),C("p",{children:"If you have lots of components rendering that call hooks, like useEffect, it can add significant overhead even if the callbacks are not expensive. If this is the case, you can try optimizing the renders of those components to avoid the hook from having to run."}),C("p",{children:["You should profile your app using the"," ",C("strong",{children:"Chrome DevTools profiler"})," to learn exactly which functions took the longest to execute."]})]});case"high-render-count-high-js":return C("div",{className:be(["text-[#E4E4E7] text-[10px] leading-6 flex flex-col gap-y-2"]),children:[C("p",{children:"This is the period when JavaScript hooks and other JavaScript outside of React Renders run."}),e.data.renderCount===0?C(fn,{children:[C("p",{children:"There were no renders, which means nothing related to React caused this slowdown. The most likely cause of the slowdown is a slow JavaScript event handler, or code related to a Web API"}),C("p",{children:["You should try to reproduce the slowdown while profiling your website with the",C("strong",{children:"Chrome DevTools profiler"})," to see exactly what functions took the longest to execute."]})]}):C(fn,{children:[" ",C("p",{children:["There were ",C("strong",{children:e.data.renderCount})," renders, which could have contributed to the high JavaScript/Hook time if they ran lots of hooks, like ",C("code",{children:"useEffects"}),"."]}),C("div",{className:be(["flex flex-col"]),children:[C("p",{children:"You should try optimizing the renders of:"}),e.data.topByCount.map(t=>C("div",{children:["- ",C("strong",{children:t.name})," (rendered ",t.count,"x)"]},t.name))]}),"and then checking if the problem still exists.",C("p",{children:["You can also try profiling your app using the"," ",C("strong",{children:"Chrome DevTools profiler"})," to see exactly what functions took the longest to execute."]})]})]});case"low-render-count-high-js":return C("div",{className:be(["text-[#E4E4E7] text-[10px] leading-6 flex flex-col gap-y-2"]),children:[C("p",{children:"This is the period when JavaScript hooks and other JavaScript outside of React Renders run."}),C("p",{children:["There were only ",C("strong",{children:e.data.renderCount})," renders detected, which means either you had very expensive hooks like"," ",C("code",{children:"useEffect"}),"/",C("code",{children:"useLayoutEffect"}),", or there is other JavaScript running during this interaction that took up the majority of the time."]}),C("p",{children:["To understand precisely what caused the slowdown, use the"," ",C("strong",{children:"Chrome profiler"})," and analyze the function call times."]})]});case"high-render-count-update-dom-draw-frame":return C("div",{className:be(["text-[#E4E4E7] text-[10px] leading-6 flex flex-col gap-y-2"]),children:[C("p",{children:"These are the calculations the browser is forced to do in response to the JavaScript that ran during the interaction."}),C("p",{children:"This can be caused by CSS updates/CSS recalculations, or new DOM elements/DOM mutations."}),C("p",{children:["During this interaction, there were"," ",C("strong",{children:e.data.count})," renders, which was"," ",C("strong",{children:[e.data.percentageOfTotal.toFixed(0),"%"]})," of the time spent processing"]}),C("p",{children:"The work performed as a result of the renders may have forced the browser to spend a lot of time to draw the next frame."}),C("p",{children:'You can try optimizing the renders to see if the performance problem still exists using the "Ranked" tab.'}),C("p",{children:"If you use an AI-based code editor, you can export the performance data collected as a prompt."}),C("p",{children:e.data.copyButton}),C("p",{children:"Provide this formatted data to the model and ask it to find, or fix, what could be causing this performance problem."}),C("p",{children:'For a larger selection of prompts, try the "Prompts" tab'})]});case"update-dom-draw-frame":return C("div",{className:be(["text-[#E4E4E7] text-[10px] leading-6 flex flex-col gap-y-2"]),children:[C("p",{children:"These are the calculations the browser is forced to do in response to the JavaScript that ran during the interaction."}),C("p",{children:"This can be caused by CSS updates/CSS recalculations, or new DOM elements/DOM mutations."}),C("p",{children:"If you use an AI-based code editor, you can export the performance data collected as a prompt."}),C("p",{children:e.data.copyButton}),C("p",{children:"Provide this formatted data to the model and ask it to find, or fix, what could be causing this performance problem."}),C("p",{children:'For a larger selection of prompts, try the "Prompts" tab'})]});case"other":return C("div",{className:be(["text-[#E4E4E7] text-[10px] leading-6 flex flex-col gap-y-2"]),children:[C("p",{children:["This is the time it took to run everything other than React renders. This can be hooks like ",C("code",{children:"useEffect"}),", other JavaScript not part of React, or work the browser has to do to update the DOM and draw the next frame."]}),C("p",{children:["To get a better picture of what happened, profile your app using the"," ",C("strong",{children:"Chrome profiler"})," when the performance problem arises."]})]})}},Rn=null,fr=null,jn=Ir({kind:"idle",current:null}),b1=null,md=()=>{b1&&cancelAnimationFrame(b1),b1=requestAnimationFrame(()=>{if(!Rn||!fr)return;fr.clearRect(0,0,Rn.width,Rn.height);const e="hsl(271, 76%, 53%)",t=jn.value,{alpha:n,current:r}=us(()=>{var i,o,s;switch(t.kind){case"transition":{const a=(i=t.current)!=null&&i.alpha&&t.current.alpha>0?t.current:t.transitionTo;return{alpha:a?a.alpha:0,current:a}}case"move-out":return{alpha:(s=(o=t.current)==null?void 0:o.alpha)!=null?s:0,current:t.current};case"idle":return{alpha:1,current:t.current}}});switch(r==null||r.rects.forEach(i=>{fr&&(fr.shadowColor=e,fr.shadowBlur=6,fr.strokeStyle=e,fr.lineWidth=2,fr.globalAlpha=n,fr.beginPath(),fr.rect(i.left,i.top,i.width,i.height),fr.stroke(),fr.shadowBlur=0,fr.beginPath(),fr.rect(i.left,i.top,i.width,i.height),fr.stroke())}),t.kind){case"move-out":{if(t.current.alpha===0){jn.value={kind:"idle",current:null};return}t.current.alpha<=.01&&(t.current.alpha=0),t.current.alpha=Math.max(0,t.current.alpha-.03),md();return}case"transition":{if(t.current&&t.current.alpha>0){t.current.alpha=Math.max(0,t.current.alpha-.03),md();return}if(t.transitionTo.alpha===1){jn.value={kind:"idle",current:t.transitionTo};return}t.transitionTo.alpha=Math.min(t.transitionTo.alpha+.03,1),md()}case"idle":return}})},_1=null,gve=e=>{if(Rn=document.createElement("canvas"),fr=Rn.getContext("2d",{alpha:!0}),!fr)return null;const t=window.devicePixelRatio||1,{innerWidth:n,innerHeight:r}=window;Rn.style.width="".concat(n,"px"),Rn.style.height="".concat(r,"px"),Rn.width=n*t,Rn.height=r*t,Rn.style.position="fixed",Rn.style.left="0",Rn.style.top="0",Rn.style.pointerEvents="none",Rn.style.zIndex="2147483600",fr.scale(t,t),e.appendChild(Rn),_1&&window.removeEventListener("resize",_1);const i=()=>{if(!Rn||!fr)return;const o=window.devicePixelRatio||1,{innerWidth:s,innerHeight:a}=window;Rn.style.width="".concat(s,"px"),Rn.style.height="".concat(a,"px"),Rn.width=s*o,Rn.height=a*o,fr.scale(o,o),md()};return _1=i,window.addEventListener("resize",i),jn.subscribe(()=>{requestAnimationFrame(()=>{md()})}),vve};function vve(){Rn!=null&&Rn.parentNode&&Rn.parentNode.removeChild(Rn),Rn=null,fr=null}var gh=()=>{var t,n;const e=jn.value.current?jn.value.current:jn.value.kind==="transition"?jn.value.transitionTo:null;if(e){if(jn.value.kind==="transition"){jn.value={kind:"move-out",current:((t=jn.value.current)==null?void 0:t.alpha)===0?jn.value.transitionTo:(n=jn.value.current)!=null?n:jn.value.transitionTo};return}jn.value={kind:"move-out",current:{alpha:0,...e}}}},yve=({selectedEvent:e})=>{const t=Br(e.timing),n=t-e.timing.renderTime,[r]=tn(xC()),o=e.groupedFiberRenders.map(c=>({event:c,kind:"render",totalTime:r?c.count:c.totalTime})),s=us(()=>{switch(e.kind){case"dropped-frames":return e.timing.renderTime/t<.1;case"interaction":return(e.timing.otherJSTime+e.timing.renderTime)/t<.2}});e.kind==="interaction"&&!r&&o.push({kind:"other-javascript",totalTime:e.timing.otherJSTime}),s&&!r&&(e.kind==="interaction"?o.push({kind:"other-not-javascript",totalTime:Br(e.timing)-e.timing.renderTime-e.timing.otherJSTime}):o.push({kind:"other-frame-drop",totalTime:n}));const a=At({lastCallAt:null,timer:null}),l=o.reduce((c,u)=>c+u.totalTime,0);return C("div",{className:be(["flex flex-col h-full w-full gap-y-1"]),children:[us(()=>{if(r&&o.length===0)return C("div",{className:"flex flex-col items-center justify-center h-full text-zinc-400",children:[C("p",{className:"text-sm w-full text-left text-white mb-1.5",children:"No data available"}),C("p",{className:"text-x w-full text-lefts",children:"No data was collected during this period"})]});if(o.length===0)return C("div",{className:"flex flex-col items-center justify-center h-full text-zinc-400",children:[C("p",{className:"text-sm w-full text-left text-white mb-1.5",children:"No renders collected"}),C("p",{className:"text-x w-full text-lefts",children:"There were no renders during this period"})]})}),o.toSorted((c,u)=>u.totalTime-c.totalTime).map(c=>C(wF,{bars:o,bar:c,debouncedMouseEnter:a,totalBarTime:l,isProduction:r},c.kind==="render"?c.event.id:c.kind))]})},xve=e=>e.current&&e.current.alpha>0?"fading-out":"fading-in",wF=({bar:e,debouncedMouseEnter:t,totalBarTime:n,isProduction:r,bars:i,depth:o=0})=>{const{setNotificationState:s,setRoute:a}=bo(),[l,c]=tn(!1),u=e.kind==="render"?e.event.parents.size===0:!0,f=i.filter(v=>v.kind==="render"&&e.kind==="render"?e.event.parents.has(v.event.name)&&v.event.name!==e.event.name:!1),h=e.kind==="render"?Array.from(e.event.parents).filter(v=>!i.some(g=>g.kind==="render"&&g.event.name===v)):[],p=()=>{e.kind==="render"?(s(v=>({...v,selectedFiber:e.event})),a({route:"render-explanation",routeMessage:null})):a({route:"other-visualization",routeMessage:{kind:"auto-open-overview-accordion",name:e.kind}})};return C("div",{className:"w-full",children:[C("div",{className:be(["w-full flex items-center relative text-xs min-w-0"]),children:[C("button",{onMouseLeave:()=>{t.current.timer&&clearTimeout(t.current.timer),gh()},onMouseEnter:async()=>{const v=async()=>{if(t.current.lastCallAt=Date.now(),e.kind!=="render"){const x=jn.value.current?jn.value.current:jn.value.kind==="transition"?jn.value.transitionTo:null;if(!x){jn.value={kind:"idle",current:null};return}jn.value={kind:"move-out",current:{alpha:0,...x}};return}const g=jn.value,b=us(()=>{switch(g.kind){case"transition":return g.transitionTo;case"idle":case"move-out":return g.current}}),m=[];if(g.kind==="transition"){const x=xve(g);us(()=>{switch(x){case"fading-in":{jn.value={kind:"transition",current:g.transitionTo,transitionTo:{rects:m,alpha:0,name:e.event.name}};return}case"fading-out":{jn.value={kind:"transition",current:jn.value.current?{alpha:0,...jn.value.current}:null,transitionTo:{rects:m,alpha:0,name:e.event.name}};return}}})}else jn.value={kind:"transition",transitionTo:{rects:m,alpha:0,name:e.event.name},current:b?{alpha:0,...b}:null};const y=e.event.elements.filter(x=>x instanceof Element);for await(const x of vge(y))x.forEach(({boundingClientRect:k})=>{m.push(k)}),md()};if(t.current.lastCallAt&&Date.now()-t.current.lastCallAt<200){t.current.timer&&clearTimeout(t.current.timer),t.current.timer=setTimeout(()=>{v()},200);return}v()},onClick:p,className:be(["h-full w-[90%] flex items-center hover:bg-[#0f0f0f] rounded-l-md min-w-0 relative"]),children:[C("div",{style:{minWidth:"fit-content",width:"".concat(e.totalTime/n*100,"%")},className:be(["flex items-center rounded-sm text-white text-xs h-[28px] shrink-0",e.kind==="render"&&"bg-[#412162] group-hover:bg-[#5b2d89]",e.kind==="other-frame-drop"&&"bg-[#44444a] group-hover:bg-[#6a6a6a]",e.kind==="other-javascript"&&"bg-[#efd81a6b] group-hover:bg-[#efda1a2f]",e.kind==="other-not-javascript"&&"bg-[#214379d4] group-hover:bg-[#21437982]"])}),C("div",{className:be(["absolute inset-0 flex items-center px-2","min-w-0"]),children:C("div",{className:"flex items-center gap-x-2 min-w-0 w-full",children:[C("span",{className:be(["truncate"]),children:us(()=>{switch(e.kind){case"other-frame-drop":return"JavaScript, DOM updates, Draw Frame";case"other-javascript":return"JavaScript/React Hooks";case"other-not-javascript":return"Update DOM and Draw New Frame";case"render":return e.event.name}})}),e.kind==="render"&&Yge(e.event)&&C("div",{style:{lineHeight:"10px"},className:be(["px-1 py-0.5 bg-[#6a369e] flex items-center rounded-sm font-semibold text-[8px] shrink-0"]),children:"Memoizable"})]})})]}),C("button",{onClick:()=>e.kind==="render"&&!u&&c(!l),className:be(["flex items-center min-w-fit shrink-0 rounded-r-md h-[28px]",!u&&"hover:bg-[#0f0f0f]",e.kind==="render"&&!u?"cursor-pointer":"cursor-default"]),children:[C("div",{className:"w-[20px] flex items-center justify-center",children:e.kind==="render"&&!u&&C(yF,{className:be("transition-transform",l&&"rotate-90"),size:16})}),C("div",{style:{minWidth:u?"fit-content":r?"30px":"60px"},className:"flex items-center justify-end gap-x-1",children:[e.kind==="render"&&C("span",{className:be(["text-[10px]"]),children:["x",e.event.count]}),(e.kind!=="render"||!r)&&C("span",{className:"text-[10px] text-[#7346a0] pr-1",children:[e.totalTime<1?"<1":e.totalTime.toFixed(0),"ms"]})]})]}),o===0&&C("div",{className:be(["absolute right-0 top-1/2 transition-none -translate-y-1/2 bg-white text-black px-2 py-1 rounded text-xs opacity-0 group-hover:opacity-100 transition-opacity mr-16","pointer-events-none"]),children:"Click to learn more"})]}),l&&(f.length>0||h.length>0)&&C("div",{className:"pl-3 flex flex-col gap-y-1 mt-1",children:[f.toSorted((v,g)=>g.totalTime-v.totalTime).map((v,g)=>C(wF,{depth:o+1,bar:v,debouncedMouseEnter:t,totalBarTime:n,isProduction:r,bars:i},g)),h.map(v=>C("div",{className:"w-full",children:C("div",{className:"w-full flex items-center relative text-xs",children:C("div",{className:"h-full w-full flex items-center relative",children:[C("div",{className:"flex items-center rounded-sm text-white text-xs h-[28px] w-full"}),C("div",{className:"absolute inset-0 flex items-center px-2",children:C("span",{className:"truncate whitespace-nowrap text-white/70 w-full",children:v})})]})})},v))]})]})},wve=({selectedEvent:e,selectedFiber:t})=>{const{setRoute:n}=bo(),[r,i]=tn(!0),[o]=tn(xC());sC(()=>{const a=localStorage.getItem("react-scan-tip-shown"),l=a==="true"?!0:a==="false"?!1:null;if(l===null){i(!0),localStorage.setItem("react-scan-tip-is-shown","true");return}l||i(!1)},[]);const s=t.changes.context.length===0&&t.changes.props.length===0&&t.changes.state.length===0;return C("div",{className:be(["w-full min-h-fit h-full flex flex-col py-4 pt-0 rounded-sm"]),children:[C("div",{className:be(["flex items-start gap-x-4 "]),children:[C("button",{onClick:()=>{n({route:"render-visualization",routeMessage:null})},className:be(["text-white hover:bg-[#34343b] flex gap-x-1 justify-center items-center mb-4 w-fit px-2.5 py-1.5 text-xs rounded-sm bg-[#18181B]"]),children:[C(Qge,{size:14})," ",C("span",{children:"Overview"})]}),C("div",{className:be(["flex flex-col gap-y-1"]),children:[C("div",{className:be(["text-sm font-bold text-white overflow-x-hidden"]),children:C("div",{className:"flex items-center gap-x-2 truncate",children:t.name})}),C("div",{className:be(["flex gap-x-2"]),children:[!o&&C(fn,{children:C("div",{className:be(["text-xs text-gray-400"]),children:["• Render time: ",t.totalTime.toFixed(0),"ms"]})}),C("div",{className:be(["text-xs text-gray-400 mb-4"]),children:["• Renders: ",t.count,"x"]})]})]})]}),r&&!s&&C("div",{className:be(["w-full mb-4 bg-[#0A0A0A] border border-[#27272A] rounded-sm overflow-hidden flex relative"]),children:[C("button",{onClick:()=>{i(!1),localStorage.setItem("react-scan-tip-shown","false")},className:be(["absolute right-2 top-2 rounded-sm p-1 hover:bg-[#18181B]"]),children:C(s0,{size:12})}),C("div",{className:be(["w-1 bg-[#d36cff]"])}),C("div",{className:be(["flex-1"]),children:[C("div",{className:be(["px-3 py-2 text-gray-100 text-xs font-semibold"]),children:"How to stop renders"}),C("div",{className:be(["px-3 pb-2 text-gray-400 text-[10px]"]),children:"Stop the following props, state and context from changing between renders, and wrap the component in React.memo if not already"})]})]}),s&&C("div",{className:be(["w-full mb-4 bg-[#0A0A0A] border border-[#27272A] rounded-sm overflow-hidden flex"]),children:[C("div",{className:be(["w-1 bg-[#d36cff]"])}),C("div",{className:be(["flex-1"]),children:[C("div",{className:be(["px-3 py-2 text-gray-100 text-sm font-semibold"]),children:"No changes detected"}),C("div",{className:be(["px-3 pb-2 text-gray-400 text-xs"]),children:"This component would not of rendered if it was memoized"})]})]}),C("div",{className:be(["flex w-full"]),children:[C("div",{className:be(["flex flex-col border border-[#27272A] rounded-l-sm overflow-hidden w-1/3"]),children:[C("div",{className:be(["text-[14px] font-semibold px-2 py-2 bg-[#18181B] text-white flex justify-center"]),children:"Changed Props"}),t.changes.props.length>0?t.changes.props.toSorted((a,l)=>l.count-a.count).map(a=>C("div",{className:be(["flex flex-col justify-between items-center border-t overflow-x-auto border-[#27272A] px-1 py-1 text-wrap bg-[#0A0A0A] text-[10px]"]),children:[C("span",{className:be(["text-white "]),children:a.name}),C("div",{className:be([" text-[8px]  text-[#d36cff] pl-1 py-1 "]),children:[a.count,"/",t.count,"x"]})]},a.name)):C("div",{className:be(["flex items-center justify-center h-full bg-[#0A0A0A] text-[#A1A1AA] border-t border-[#27272A]"]),children:"No changes"})]}),C("div",{className:be(["flex flex-col border border-[#27272A] border-l-0 overflow-hidden w-1/3"]),children:[C("div",{className:be([" text-[14px] font-semibold px-2 py-2 bg-[#18181B] text-white flex justify-center"]),children:"Changed State"}),t.changes.state.length>0?t.changes.state.toSorted((a,l)=>l.count-a.count).map(a=>C("div",{className:be(["flex flex-col justify-between items-center border-t overflow-x-auto border-[#27272A] px-1 py-1 text-wrap bg-[#0A0A0A] text-[10px]"]),children:[C("span",{className:be(["text-white "]),children:["index ",a.index]}),C("div",{className:be(["rounded-full  text-[#d36cff] pl-1 py-1 text-[8px]"]),children:[a.count,"/",t.count,"x"]})]},a.index)):C("div",{className:be(["flex items-center justify-center h-full bg-[#0A0A0A] text-[#A1A1AA] border-t border-[#27272A]"]),children:"No changes"})]}),C("div",{className:be(["flex flex-col border border-[#27272A] border-l-0 rounded-r-sm overflow-hidden w-1/3"]),children:[C("div",{className:be([" text-[14px] font-semibold px-2 py-2 bg-[#18181B] text-white flex justify-center"]),children:"Changed Context"}),t.changes.context.length>0?t.changes.context.toSorted((a,l)=>l.count-a.count).map(a=>C("div",{className:be(["flex flex-col justify-between items-center border-t  border-[#27272A] px-1 py-1 bg-[#0A0A0A] text-[10px] overflow-x-auto"]),children:[C("span",{className:be(["text-white "]),children:a.name}),C("div",{className:be(["rounded-full text-[#d36cff] pl-1 py-1 text-[8px] text-wrap"]),children:[a.count,"/",t.count,"x"]})]},a.name)):C("div",{className:be(["flex items-center justify-center h-full bg-[#0A0A0A] text-[#A1A1AA] border-t border-[#27272A] py-2"]),children:"No changes"})]})]})]})},bve=()=>{const{notificationState:e,setNotificationState:t}=bo(),[n,r]=tn("..."),i=At(null);if(Xt(()=>{const o=setInterval(()=>{r(s=>s==="..."?"":s+".")},500);return()=>clearInterval(o)},[]),!e.selectedEvent)return C("div",{ref:i,className:be(["h-full w-full flex flex-col items-center justify-center relative py-2 px-4"]),children:[C("div",{className:be(["p-2 flex justify-center items-center border-[#27272A] absolute top-0 right-0"]),children:C("button",{onClick:()=>{Pn.value={view:"none"}},children:C(s0,{size:18,className:"text-[#6F6F78]"})})}),C("div",{className:be(["flex flex-col items-start pt-5 bg-[#0A0A0A] p-5 rounded-sm max-w-md"," shadow-lg"]),children:C("div",{className:be(["flex flex-col items-start gap-y-4"]),children:[C("div",{className:be(["flex items-center"]),children:C("span",{className:be(["text-zinc-400 font-medium text-[17px]"]),children:["Scanning for slowdowns",n]})}),e.events.length!==0&&C("p",{className:be(["text-xs"]),children:["Click on an item in the"," ",C("span",{className:be(["text-purple-400"]),children:"History"})," list to get started"]}),C("p",{className:be(["text-zinc-600 text-xs"]),children:"You don't need to keep this panel open for React Scan to record slowdowns"}),C("p",{className:be(["text-zinc-600 text-xs"]),children:"Enable audio alerts to hear a delightful ding every time a large slowdown is recorded"}),C("button",{onClick:()=>{if(e.audioNotificationsOptions.enabled){t(s=>{var a,l;return((a=s.audioNotificationsOptions.audioContext)==null?void 0:a.state)!=="closed"&&((l=s.audioNotificationsOptions.audioContext)==null||l.close()),localStorage.setItem("react-scan-notifications-audio","false"),{...s,audioNotificationsOptions:{audioContext:null,enabled:!1}}});return}localStorage.setItem("react-scan-notifications-audio","true");const o=new AudioContext;fC(o),t(s=>({...s,audioNotificationsOptions:{enabled:!0,audioContext:o}}))},className:be(["px-4 py-2 bg-zinc-800 hover:bg-zinc-700 rounded-sm w-full"," text-sm flex items-center gap-x-2 justify-center"]),children:e.audioNotificationsOptions.enabled?C(fn,{children:C("span",{className:"flex items-center gap-x-1",children:"Disable audio alerts"})}):C(fn,{children:C("span",{className:"flex items-center gap-x-1",children:"Enable audio alerts"})})})]})})]});switch(e.route){case"render-visualization":return C(Mg,{children:C(yve,{selectedEvent:e.selectedEvent})});case"render-explanation":{if(!e.selectedFiber)throw new Error("Invariant: must have selected fiber when viewing render explanation");return C(Mg,{children:C(wve,{selectedFiber:e.selectedFiber,selectedEvent:e.selectedEvent})})}case"other-visualization":return C(Mg,{children:C("div",{className:be(["flex w-full h-full flex-col overflow-y-auto"]),id:"overview-scroll-container",children:C(fve,{selectedEvent:e.selectedEvent})})});case"optimize":return C(Mg,{children:C(uve,{selectedEvent:e.selectedEvent})})}e.route},Mg=({children:e})=>{const{notificationState:t}=bo();if(!t.selectedEvent)throw new Error("Invariant: d must have selected event when viewing render explanation");return C("div",{className:be(["w-full h-full flex flex-col gap-y-2"]),children:[C("div",{className:be(["h-[50px] w-full"]),children:C(rve,{selectedEvent:t.selectedEvent})}),C("div",{className:be(["h-calc(100%-50px) flex flex-col overflow-y-auto px-3"]),children:e})]})},_ve=({selectedEvent:e})=>{const t=bm(e);switch(e.kind){case"interaction":return C("div",{className:be(["w-full flex border-b border-[#27272A] min-h-[48px]"]),children:C("div",{className:be(["min-w-fit w-full justify-start flex items-center border-r border-[#27272A] pl-5 pr-2 text-sm gap-x-4"]),children:[C("div",{className:be(["flex items-center gap-x-2 "]),children:[C("span",{className:be(["text-[#5a5a5a] mr-0.5"]),children:e.type==="click"?"Clicked ":"Typed in "}),C("span",{children:qp(e.componentPath)}),C("div",{className:be(["w-fit flex items-center justify-center h-fit text-white px-1 rounded-sm font-semibold text-[10px] whitespace-nowrap",t==="low"&&"bg-green-500/50",t==="needs-improvement"&&"bg-[#b77116]",t==="high"&&"bg-[#b94040]"]),children:[Br(e.timing).toFixed(0),"ms processing time"]})]}),C("div",{className:be(["flex items-center gap-x-2  justify-end ml-auto"]),children:C("div",{className:be(["p-2 flex justify-center items-center border-[#27272A]"]),children:C("button",{onClick:()=>{Pn.value={view:"none"}},title:"Close",children:C(s0,{size:18,className:"text-[#6F6F78]"})})})})]})});case"dropped-frames":return C("div",{className:be(["w-full flex border-b border-[#27272A] min-h-[48px]"]),children:C("div",{className:be(["min-w-fit w-full justify-start flex items-center border-r border-[#27272A] pl-5 pr-2 text-sm gap-x-4"]),children:[C("div",{className:be(["flex items-center gap-x-2 "]),children:["FPS Drop",C("div",{className:be(["w-fit flex items-center justify-center h-fit text-white px-1 rounded-sm font-semibold text-[10px] whitespace-nowrap",t==="low"&&"bg-green-500/50",t==="needs-improvement"&&"bg-[#b77116]",t==="high"&&"bg-[#b94040]"]),children:["dropped to ",e.fps," FPS"]})]}),C("div",{className:be(["flex items-center gap-x-2 w-2/4 justify-end ml-auto"]),children:C("div",{className:be(["p-2 flex justify-center items-center border-[#27272A]"]),children:C("button",{onClick:()=>{Pn.value={view:"none"}},children:C(s0,{size:18,className:"text-[#6F6F78]"})})})})]})})}},kve=({flashingItemsCount:e,totalEvents:t})=>{const[n,r]=tn(!1),i=At(0),o=At(0);return Xt(()=>{if(i.current>=t)return;const s=Date.now(),a=250,l=s-o.current;if(l>=a){r(!1);const c=setTimeout(()=>{i.current=t,o.current=Date.now(),r(!0),setTimeout(()=>{r(!1)},2e3)},50);return()=>clearTimeout(c)}else{const c=a-l,u=setTimeout(()=>{r(!1),setTimeout(()=>{i.current=t,o.current=Date.now(),r(!0),setTimeout(()=>{r(!1)},2e3)},50)},c);return()=>clearTimeout(u)}},[e]),n},q5=({item:e,shouldFlash:t})=>{var a,l;const[n,r]=tn(!1),i=e.events.map(bm).reduce((c,u)=>{switch(u){case"high":return"high";case"needs-improvement":return c==="high"?"high":"needs-improvement";case"low":return c}},"low"),o=e.events.reduce((c,u)=>t(u.id)?c+1:c,0),s=kve({flashingItemsCount:o,totalEvents:e.events.length});return C("div",{className:be(["flex flex-col gap-y-0.5"]),children:[C("button",{onClick:()=>r(c=>!c),className:be(["pl-2 py-1.5  text-sm flex items-center rounded-sm hover:bg-[#18181B] relative overflow-hidden",s&&!n&&"after:absolute after:inset-0 after:bg-purple-500/30 after:animate-[fadeOut_1s_ease-out_forwards]"]),children:[C("div",{className:be(["w-4/5 flex items-center justify-start h-full text-xs truncate gap-x-1.5"]),children:[C("span",{className:be(["min-w-fit"]),children:C(yF,{className:be(["text-[#A1A1AA] transition-transform",n?"rotate-90":""]),size:14},"chevron-".concat(e.timestamp))}),C("span",{className:be(["text-xs"]),children:e.kind==="collapsed-frame-drops"?"FPS Drops":qp((l=(a=e.events.at(0))==null?void 0:a.componentPath)!=null?l:[])})]}),C("div",{className:be(["ml-auto min-w-fit flex justify-end items-center"]),children:C("div",{style:{lineHeight:"10px"},className:be(["w-fit flex items-center text-[10px] justify-center h-full text-white px-1 py-1 rounded-sm font-semibold",i==="low"&&"bg-green-500/60",i==="needs-improvement"&&"bg-[#b77116] text-[10px]",i==="high"&&"bg-[#b94040]"]),children:["x",e.events.length]})})]}),n&&C(Sve,{children:e.events.toSorted((c,u)=>u.timestamp-c.timestamp).map(c=>C(bF,{event:c,shouldFlash:t(c.id)}))})]})},Sve=({children:e})=>C("div",{className:"relative pl-6 flex flex-col gap-y-1",children:[C("div",{className:"absolute left-3 top-0 bottom-0 w-px bg-[#27272A]"}),e]}),Eve=e=>{const t=At([]),[n,r]=tn(new Set),i=At(!0);return Xt(()=>{if(i.current){i.current=!1,t.current=e;return}const o=new Set(e.map(l=>l.id)),s=new Set(t.current.map(l=>l.id)),a=new Set;o.forEach(l=>{s.has(l)||a.add(l)}),a.size>0&&(r(a),setTimeout(()=>{r(new Set)},2e3)),t.current=e},[e]),o=>n.has(o)},Cve=({shouldFlash:e})=>{const[t,n]=tn(e);return Xt(()=>{if(e){n(!0);const r=setTimeout(()=>{n(!1)},1e3);return()=>clearTimeout(r)}},[e]),t},bF=({event:e,shouldFlash:t})=>{var s,a;const{notificationState:n,setNotificationState:r}=bo(),i=bm(e),o=Cve({shouldFlash:t});switch(e.kind){case"interaction":return C("button",{onClick:()=>{r(l=>({...l,selectedEvent:e,route:"render-visualization",selectedFiber:null}))},className:be(["pl-2 py-1.5  text-sm flex w-full items-center rounded-sm hover:bg-[#18181B] relative overflow-hidden",e.id===((s=n.selectedEvent)==null?void 0:s.id)&&"bg-[#18181B]",o&&"after:absolute after:inset-0 after:bg-purple-500/30 after:animate-[fadeOut_1s_ease-out_forwards]"]),children:[C("div",{className:be(["w-4/5 flex items-center justify-start h-full gap-x-1.5"]),children:[C("span",{className:be(["min-w-fit text-xs"]),children:us(()=>{switch(e.type){case"click":return C(Zge,{size:14});case"keyboard":return C(eve,{size:14})}})}),C("span",{className:be(["text-xs pr-1 truncate"]),children:qp(e.componentPath)})]}),C("div",{className:be([" min-w-fit flex justify-end items-center ml-auto"]),children:C("div",{style:{lineHeight:"10px"},className:be(["gap-x-0.5 w-fit flex items-end justify-center h-full text-white px-1 py-1 rounded-sm font-semibold text-[10px]",i==="low"&&"bg-green-500/50",i==="needs-improvement"&&"bg-[#b77116] text-[10px]",i==="high"&&"bg-[#b94040]"]),children:C("div",{style:{lineHeight:"10px"},className:be(["text-[10px] text-white flex items-end"]),children:[Br(e.timing).toFixed(0),"ms"]})})})]});case"dropped-frames":return C("button",{onClick:()=>{r(l=>({...l,selectedEvent:e,route:"render-visualization",selectedFiber:null}))},className:be(["pl-2 py-1.5  w-full text-sm flex items-center rounded-sm hover:bg-[#18181B] relative overflow-hidden",e.id===((a=n.selectedEvent)==null?void 0:a.id)&&"bg-[#18181B]",o&&"after:absolute after:inset-0 after:bg-purple-500/30 after:animate-[fadeOut_1s_ease-out_forwards]"]),children:[C("div",{className:be(["w-4/5 flex items-center justify-start h-full text-xs truncate"]),children:[C(nve,{size:14,className:"mr-1.5"})," FPS Drop"]}),C("div",{className:be([" min-w-fit flex justify-end items-center ml-auto"]),children:C("div",{style:{lineHeight:"10px"},className:be(["w-fit flex items-center justify-center h-full text-white px-1 py-1 rounded-sm text-[10px] font-bold",i==="low"&&"bg-green-500/60",i==="needs-improvement"&&"bg-[#b77116] text-[10px]",i==="high"&&"bg-[#b94040]"]),children:[e.fps," FPS"]})})]})}},jve=e=>e.reduce((n,r)=>{const i=n.at(-1);if(!i)return[{kind:"single",event:r,timestamp:r.timestamp}];switch(i.kind){case"collapsed-keyboard":return r.kind==="interaction"&&r.type==="keyboard"&&r.componentPath.join("-")===i.events[0].componentPath.join("-")?[...n.filter(s=>s!==i),{kind:"collapsed-keyboard",events:[...i.events,r],timestamp:Math.max(...[...i.events,r].map(s=>s.timestamp))}]:[...n,{kind:"single",event:r,timestamp:r.timestamp}];case"single":return i.event.kind==="interaction"&&i.event.type==="keyboard"&&r.kind==="interaction"&&r.type==="keyboard"&&i.event.componentPath.join("-")===r.componentPath.join("-")?[...n.filter(s=>s!==i),{kind:"collapsed-keyboard",events:[i.event,r],timestamp:Math.max(i.event.timestamp,r.timestamp)}]:i.event.kind==="dropped-frames"&&r.kind==="dropped-frames"?[...n.filter(s=>s!==i),{kind:"collapsed-frame-drops",events:[i.event,r],timestamp:Math.max(i.event.timestamp,r.timestamp)}]:[...n,{kind:"single",event:r,timestamp:r.timestamp}];case"collapsed-frame-drops":return r.kind==="dropped-frames"?[...n.filter(s=>s!==i),{kind:"collapsed-frame-drops",events:[...i.events,r],timestamp:Math.max(...[...i.events,r].map(s=>s.timestamp))}]:[...n,{kind:"single",event:r,timestamp:r.timestamp}]}},[]),_F=(e=150)=>{const{notificationState:t}=bo(),[n,r]=tn(t.events);return Xt(()=>{setTimeout(()=>{r(t.events)},e)},[t.events]),[n,r]},Nve=()=>{const{notificationState:e,setNotificationState:t}=bo(),n=Eve(e.events),[r,i]=_F(),o=jve(r).toSorted((s,a)=>a.timestamp-s.timestamp);return C("div",{className:be(["w-full h-full gap-y-2 flex flex-col border-r border-[#27272A] overflow-y-auto"]),children:[C("div",{className:be(["text-sm text-[#65656D] pl-3 pr-1 w-full flex items-center justify-between"]),children:[C("span",{children:"History"}),C(xF,{wrapperProps:{className:"h-full flex items-center justify-center ml-auto"},triggerContent:C("button",{className:be(["hover:bg-[#18181B] rounded-full p-2"]),title:"Clear all events",onClick:()=>{Vp.getState().actions.clear(),t(s=>({...s,selectedEvent:null,selectedFiber:null,route:s.route==="other-visualization"?"other-visualization":"render-visualization"})),i([])},children:C(tve,{className:be([""]),size:16})}),children:C("div",{className:be(["w-full flex justify-center"]),children:"Clear all events"})})]}),C("div",{className:be(["flex flex-col px-1 gap-y-1"]),children:[o.length===0&&C("div",{className:be(["flex items-center justify-center text-zinc-500 text-sm py-4"]),children:"No Events"}),o.map(s=>us(()=>{switch(s.kind){case"collapsed-keyboard":return C(q5,{shouldFlash:n,item:s});case"single":return C(bF,{event:s.event,shouldFlash:n(s.event.id)},s.event.id);case"collapsed-frame-drops":return C(q5,{shouldFlash:n,item:s})}}))]})]})},Ave=e=>Object.values(e).map(n=>({id:Go(),totalTime:n.nodeInfo.reduce((r,i)=>r+i.selfTime,0),count:n.nodeInfo.length,name:n.nodeInfo[0].name,deletedAll:!1,parents:n.parents,hasMemoCache:n.hasMemoCache,wasFiberRenderMount:n.wasFiberRenderMount,elements:n.nodeInfo.map(r=>r.element),changes:{context:n.changes.fiberContext.current.filter(r=>n.changes.fiberContext.changesCounts.get(r.name)).map(r=>{var i;return{name:String(r.name),count:(i=n.changes.fiberContext.changesCounts.get(r.name))!=null?i:0}}),props:n.changes.fiberProps.current.filter(r=>n.changes.fiberProps.changesCounts.get(r.name)).map(r=>{var i;return{name:String(r.name),count:(i=n.changes.fiberProps.changesCounts.get(r.name))!=null?i:0}}),state:n.changes.fiberState.current.filter(r=>n.changes.fiberState.changesCounts.get(Number(r.name))).map(r=>{var i;return{index:r.name,count:(i=n.changes.fiberState.changesCounts.get(Number(r.name)))!=null?i:0}})}})),Tve=e=>{Xt(()=>{const n=setInterval(()=>{e.forEach(r=>{r.groupedFiberRenders&&r.groupedFiberRenders.forEach(i=>{if(i.deletedAll)return;if(!i.elements||i.elements.length===0){i.deletedAll=!0;return}const o=i.elements.length;i.elements=i.elements.filter(s=>s&&s.isConnected),i.elements.length===0&&o>0&&(i.deletedAll=!0)})})},5e3);return()=>{clearInterval(n)}},[e])},kF=()=>{const e=Wge(),t=[];return Tve(t),e.state.events.forEach(n=>{const r=n.kind==="interaction"?n.data.meta.detailedTiming.fiberRenders:n.data.meta.fiberRenders,i=Ave(r),o=i.reduce((s,a)=>s+a.totalTime,0);switch(n.kind){case"interaction":{const{commitEnd:s,jsEndDetail:a,interactionStartDetail:l,rafStart:c}=n.data.meta.detailedTiming,u=Math.max(0,a-l-o),f=Math.max(n.data.meta.latency-(s-l),0);t.push({componentPath:n.data.meta.detailedTiming.componentPath,groupedFiberRenders:i,id:n.id,kind:"interaction",memory:null,timestamp:n.data.startAt,type:n.data.meta.detailedTiming.interactionType==="keyboard"?"keyboard":"click",timing:{renderTime:o,kind:"interaction",otherJSTime:u,framePreparation:c-a,frameConstruction:s-c,frameDraw:f}});return}case"long-render":{t.push({kind:"dropped-frames",id:n.id,memory:null,timing:{kind:"dropped-frames",renderTime:o,otherTime:n.data.meta.latency},groupedFiberRenders:i,timestamp:n.data.startAt,fps:n.data.meta.fps});return}}}),t},Rve=1e3,Ive=()=>{const{notificationState:e,setNotificationState:t}=bo(),n=At(null),r=At(null),i=At(0),[o]=_F(),s=o.filter(a=>bm(a)==="high").length;return Xt(()=>{const a=localStorage.getItem("react-scan-notifications-audio");if(a!=="false"&&a!=="true"){localStorage.setItem("react-scan-notifications-audio","false");return}if(a!=="false"){t(c=>c.audioNotificationsOptions.enabled?c:{...c,audioNotificationsOptions:{enabled:!0,audioContext:new AudioContext}});return}},[]),Xt(()=>{const{audioNotificationsOptions:a}=e;if(!a.enabled||s===0||n.current&&n.current>=s)return;r.current&&clearTimeout(r.current);const c=Date.now()-i.current,u=Math.max(0,Rve-c);r.current=setTimeout(()=>{fC(a.audioContext),n.current=s,i.current=Date.now(),r.current=null},u)},[s]),Xt(()=>{s===0&&(n.current=null)},[s]),Xt(()=>()=>{r.current&&clearTimeout(r.current)},[]),null},Pve=dC((e,t)=>{var o;const n=kF(),[r,i]=tn({detailsExpanded:!1,events:n,filterBy:"latest",moreInfoExpanded:!1,route:"render-visualization",selectedEvent:(o=n.toSorted((s,a)=>s.timestamp-a.timestamp).at(-1))!=null?o:null,selectedFiber:null,routeMessage:null,audioNotificationsOptions:{enabled:!1,audioContext:null}});return r.events=n,C(vF.Provider,{value:{notificationState:r,setNotificationState:i,setRoute:({route:s,routeMessage:a})=>{i(l=>{const c={...l,route:s,routeMessage:a};switch(s){case"render-visualization":return gh(),{...c,selectedFiber:null};case"optimize":return gh(),{...c,selectedFiber:null};case"other-visualization":return gh(),{...c,selectedFiber:null};case"render-explanation":return gh(),c}})}},children:[C(Ive,{}),C(Ove,{ref:t})]})}),Ove=dC((e,t)=>{var r;const{notificationState:n}=bo();return C("div",{ref:t,className:be(["h-full w-full flex flex-col"]),children:[n.selectedEvent&&C("div",{className:be(["w-full h-[48px] flex flex-col",n.moreInfoExpanded&&"h-[235px]",n.moreInfoExpanded&&n.selectedEvent.kind==="dropped-frames"&&"h-[150px]"]),children:[C(_ve,{selectedEvent:n.selectedEvent}),n.moreInfoExpanded&&C(Mve,{})]}),C("div",{className:be(["flex ",n.selectedEvent?"h-[calc(100%-48px)]":"h-full",n.moreInfoExpanded&&"h-[calc(100%-200px)]",n.moreInfoExpanded&&((r=n.selectedEvent)==null?void 0:r.kind)==="dropped-frames"&&"h-[calc(100%-150px)]"]),children:[C("div",{className:be(["h-full min-w-[200px]"]),children:C(Nve,{})}),C("div",{className:be(["w-[calc(100%-200px)] h-full overflow-y-auto"]),children:C(bve,{})})]})]})}),Mve=()=>{const{notificationState:e}=bo();if(!e.selectedEvent)throw new Error("Invariant must have selected event for more info");const t=e.selectedEvent;return C("div",{className:be(["px-4 py-2 border-b border-[#27272A] bg-[#18181B]/50 h-[calc(100%-40px)]",t.kind==="dropped-frames"&&"h-[calc(100%-25px)]"]),children:C("div",{className:be(["flex flex-col gap-y-4 h-full"]),children:us(()=>{switch(t.kind){case"interaction":return C(fn,{children:[C("div",{className:be(["flex items-center gap-x-3"]),children:[C("span",{className:"text-[#6F6F78] text-xs font-medium",children:t.type==="click"?"Clicked component location":"Typed in component location"}),C("div",{className:"font-mono text-[#E4E4E7] flex items-center bg-[#27272A] pl-2 py-1 rounded-sm overflow-x-auto",children:t.componentPath.toReversed().map((n,r)=>C(fn,{children:[C("span",{style:{lineHeight:"14px"},className:"text-[10px] whitespace-nowrap",children:n},n),r<t.componentPath.length-1&&C("span",{className:"text-[#6F6F78] mx-0.5",children:"‹"})]}))})]}),C("div",{className:be(["flex items-center gap-x-3"]),children:[C("span",{className:"text-[#6F6F78] text-xs font-medium",children:"Total Time"}),C("span",{className:"text-[#E4E4E7] bg-[#27272A] px-1.5 py-1 rounded-sm text-xs",children:[Br(t.timing).toFixed(0),"ms"]})]}),C("div",{className:be(["flex items-center gap-x-3"]),children:[C("span",{className:"text-[#6F6F78] text-xs font-medium",children:"Occurred"}),C("span",{className:"text-[#E4E4E7] bg-[#27272A] px-1.5 py-1 rounded-sm text-xs",children:"".concat(((Date.now()-t.timestamp)/1e3).toFixed(0),"s ago")})]})]});case"dropped-frames":return C(fn,{children:[C("div",{className:be(["flex items-center gap-x-3"]),children:[C("span",{className:"text-[#6F6F78] text-xs font-medium",children:"Total Time"}),C("span",{className:"text-[#E4E4E7] bg-[#27272A] px-1.5 py-1 rounded-sm text-xs",children:[Br(t.timing).toFixed(0),"ms"]})]}),C("div",{className:be(["flex items-center gap-x-3"]),children:[C("span",{className:"text-[#6F6F78] text-xs font-medium",children:"Occurred"}),C("span",{className:"text-[#E4E4E7] bg-[#27272A] px-1.5 py-1 rounded-sm text-xs",children:"".concat(((Date.now()-t.timestamp)/1e3).toFixed(0),"s ago")})]})]})}})})})},$ve=pC(()=>{const e=kF(),[t,n]=tn(e);Xt(()=>{const h=setTimeout(()=>{n(e)},600);return()=>{clearTimeout(h)}},[e]);const r=Tt.inspectState,i=r.value.kind==="inspecting",o=r.value.kind==="focused",[s,a]=tn([]),l=hr(()=>{switch(Tt.inspectState.value.kind){case"inspecting":{Pn.value={view:"none"},Tt.inspectState.value={kind:"inspect-off"};return}case"focused":{Pn.value={view:"inspector"},Tt.inspectState.value={kind:"inspecting",hoveredDomElement:null};return}case"inspect-off":{Pn.value={view:"none"},Tt.inspectState.value={kind:"inspecting",hoveredDomElement:null};return}case"uninitialized":return}},[]),c=hr(h=>{h.preventDefault(),h.stopPropagation()},[]);Wp(()=>{Tt.inspectState.value.kind==="uninitialized"&&(Tt.inspectState.value={kind:"inspect-off"})});let u=null,f="#999";return i?(u=C(lr,{name:"icon-inspect"}),f="#8e61e3"):o?(u=C(lr,{name:"icon-focus"}),f="#8e61e3"):(u=C(lr,{name:"icon-inspect"}),f="#999"),sC(()=>{if(Pn.value.view!=="notifications")return;const h=new Set(e.map(p=>p.id));a([...h.values()])},[e.length,Pn.value.view]),C("div",{className:"flex max-h-9 min-h-9 flex-1 items-stretch overflow-hidden",children:[C("div",{className:"h-full flex items-center min-w-fit",children:C("button",{type:"button",id:"react-scan-inspect-element",title:"Inspect element",onClick:l,className:"button flex items-center justify-center h-full w-full pl-3 pr-2.5",style:{color:f},children:u})}),C("div",{className:"h-full flex items-center justify-center",children:C("button",{type:"button",id:"react-scan-notifications",title:"Notifications",onClick:()=>{switch(Tt.inspectState.value.kind!=="inspect-off"&&(Tt.inspectState.value={kind:"inspect-off"}),Pn.value.view){case"inspector":{Tt.inspectState.value={kind:"inspect-off"};const h=new Set(e.map(p=>p.id));a([...h.values()]),Pn.value={view:"notifications"};return}case"notifications":{Pn.value={view:"none"};return}case"none":{const h=new Set(e.map(p=>p.id));a([...h.values()]),Pn.value={view:"notifications"};return}}},className:"button flex items-center justify-center h-full pl-2.5 pr-2.5",style:{color:f},children:C(Gge,{events:t.filter(h=>!s.includes(h.id)).map(h=>bm(h)==="high"),size:16,className:be(["text-[#999]",Pn.value.view==="notifications"&&"text-[#8E61E3]"])})})}),C(kge,{checked:!0,onChange:c,className:"place-self-center",title:"Outline Re-renders"}),No.options.value.showFPS&&C(Ege,{})]})}),Dve=mu(()=>Tt.inspectState.value.kind==="inspecting"),Fve=mu(()=>be("relative","flex-1","flex flex-col","rounded-t-lg","overflow-hidden","opacity-100","transition-[opacity]",Dve.value&&"opacity-0 duration-0 delay-0")),Lve=mu(()=>Pn.value.view==="inspector"),Bve=mu(()=>Pn.value.view==="notifications"),zve=()=>C("div",{className:be("flex flex-1 flex-col","overflow-hidden z-10","rounded-lg","bg-black","opacity-100","transition-[border-radius]","peer-hover/left:rounded-l-none","peer-hover/right:rounded-r-none","peer-hover/top:rounded-t-none","peer-hover/bottom:rounded-b-none"),children:[C("div",{className:Fve,children:[C(_ge,{}),C("div",{className:be("relative","flex-1 flex","text-white","bg-[#0A0A0A]","transition-opacity delay-150","overflow-hidden","border-b border-[#222]"),children:[C(K5,{isOpen:Lve,children:C(Zme,{})}),C(K5,{isOpen:Bve,children:C(Pve,{})})]})]}),C($ve,{})]}),K5=({isOpen:e,children:t})=>C("div",{className:be("flex-1","opacity-0","overflow-y-auto overflow-x-hidden","transition-opacity delay-0","pointer-events-none",e.value&&"opacity-100 delay-150 pointer-events-auto"),children:C("div",{className:"absolute inset-0 flex",children:t})}),$g=(e,t,n)=>e+(t-e)*n,k1={frameInterval:1e3/60,speeds:{fast:.51,slow:.1,off:0}},Au=Ql&&window.devicePixelRatio||1,Hve=()=>{const e=At(null),t=At(null),n=At(null),r=At(null),i=At(null),o=At(0),s=At(),a=At(new Map),l=At(!1),c=At(0),u=(I,U,O,D)=>{I.save(),I.strokeStyle="white",I.fillStyle="white",I.lineWidth=1.5;const $=D*.6,Y=D*.5,ie=U+(D-$)/2,ae=O;I.beginPath(),I.arc(ie+$/2,ae+Y/2,$/2,Math.PI,0,!1),I.stroke();const xe=D*.8,ke=D*.5,Ne=U+(D-xe)/2,V=O+Y/2;I.fillRect(Ne,V,xe,ke),I.restore()},f=(I,U,O,D)=>{var ze;if(!D)return;const $=24,Y=8,ae=(ze=(D==null?void 0:D.type)&&Ci(D.type))!=null?ze:"Unknown";I.save(),I.font="12px system-ui, -apple-system, sans-serif";const ke=I.measureText(ae).width,Ne=O==="locked"?14:0,V=O==="locked"?6:0,Q=ke+Y*2+Ne+V,re=U.left,Pe=U.top-$-4;if(I.fillStyle="rgb(37, 37, 38, .75)",I.beginPath(),I.roundRect(re,Pe,Q,$,3),I.fill(),O==="locked"){const se=re+Y,fe=Pe+($-Ne)/2+2;u(I,se,fe,Ne),r.current={x:se,y:fe,width:Ne,height:Ne}}else r.current=null;I.fillStyle="white",I.textBaseline="middle";const Ye=re+Y+(O==="locked"?Ne+V:0);I.fillText(ae,Ye,Pe+$/2),I.restore()},h=(I,U,O,D)=>{if(!n.current)return;const $=n.current;U.clearRect(0,0,I.width,I.height),U.strokeStyle="rgba(142, 97, 227, 0.5)",U.fillStyle="rgba(173, 97, 230, 0.10)",O==="locked"?U.setLineDash([]):U.setLineDash([4]),U.lineWidth=1,U.fillRect($.left,$.top,$.width,$.height),U.strokeRect($.left,$.top,$.width,$.height),f(U,$,O,D)},p=(I,U,O,D,$,Y)=>{var ke;const ie=No.options.value.animationSpeed,ae=(ke=k1.speeds[ie])!=null?ke:k1.speeds.off,xe=Ne=>{if(Ne-c.current<k1.frameInterval){o.current=requestAnimationFrame(xe);return}if(c.current=Ne,!n.current){cancelAnimationFrame(o.current);return}n.current={left:$g(n.current.left,O.left,ae),top:$g(n.current.top,O.top,ae),width:$g(n.current.width,O.width,ae),height:$g(n.current.height,O.height,ae)},h(I,U,D,$),Math.abs(n.current.left-O.left)>.1||Math.abs(n.current.top-O.top)>.1||Math.abs(n.current.width-O.width)>.1||Math.abs(n.current.height-O.height)>.1?o.current=requestAnimationFrame(xe):(n.current=O,h(I,U,D,$),cancelAnimationFrame(o.current),U.restore())};cancelAnimationFrame(o.current),clearTimeout(s.current),o.current=requestAnimationFrame(xe),s.current=setTimeout(()=>{cancelAnimationFrame(o.current),n.current=O,h(I,U,D,$),U.restore()},1e3)},v=(I,U,O,D,$)=>{if(U.save(),!n.current){n.current=O,h(I,U,D,$),U.restore();return}p(I,U,O,D,$)},g=async(I,U,O,D)=>{if(!I||!U||!O)return;const{parentCompositeFiber:$}=Nc(I),Y=await ege(I);!$||!Y||v(U,O,Y,D,$)},b=()=>{for(const I of a.current.values())I==null||I()},m=I=>{const U=I.getContext("2d");U&&U.clearRect(0,0,I.width,I.height),n.current=null,r.current=null,i.current=null,I.classList.remove("fade-in"),l.current=!1},y=I=>{if(!e.current||l.current)return;const U=D=>{!e.current||D.propertyName!=="opacity"||!l.current||(e.current.removeEventListener("transitionend",U),m(e.current),I==null||I())},O=a.current.get("fade-out");O&&(O(),a.current.delete("fade-out")),e.current.addEventListener("transitionend",U),a.current.set("fade-out",()=>{var D;(D=e.current)==null||D.removeEventListener("transitionend",U)}),l.current=!0,e.current.classList.remove("fade-in"),requestAnimationFrame(()=>{var D;(D=e.current)==null||D.classList.add("fade-out")})},x=()=>{e.current&&(l.current=!1,e.current.classList.remove("fade-out"),requestAnimationFrame(()=>{var I;(I=e.current)==null||I.classList.add("fade-in")}))},k=I=>{I!==i.current&&(i.current=I,p2.has(I.tagName)?y():x(),Tt.inspectState.value={kind:"inspecting",hoveredDomElement:I})},S=()=>{!n.current||!e.current||l.current||y()},E=G8(I=>{var D,$;if(Tt.inspectState.peek().kind!=="inspecting"||!t.current)return;t.current.style.pointerEvents="none";const O=document.elementFromPoint((D=I==null?void 0:I.clientX)!=null?D:0,($=I==null?void 0:I.clientY)!=null?$:0);if(t.current.style.removeProperty("pointer-events"),clearTimeout(s.current),O&&O!==e.current){const{parentCompositeFiber:Y}=Nc(O);if(Y){const ie=r0(Y);if(ie){k(ie);return}}}S()},32),T=(I,U)=>{const O=r.current;if(!O)return!1;const D=U.getBoundingClientRect(),$=U.width/D.width,Y=U.height/D.height,ie=(I.clientX-D.left)*$,ae=(I.clientY-D.top)*Y,xe=ie/Au,ke=ae/Au;return xe>=O.x&&xe<=O.x+O.width&&ke>=O.y&&ke<=O.y+O.height},M=I=>{I.kind==="focused"&&(Tt.inspectState.value={kind:"inspecting",hoveredDomElement:I.focusedDomElement})},W=I=>{var ae,xe;const U=["react-scan-inspect-element","react-scan-power"];if(I.target instanceof HTMLElement&&U.includes(I.target.id))return;const O=(ae=i.current)==null?void 0:ae.tagName;if(O&&p2.has(O))return;I.preventDefault(),I.stopPropagation();const D=(xe=i.current)!=null?xe:document.elementFromPoint(I.clientX,I.clientY);if(!D)return;const $=I.composedPath().at(0);if($ instanceof HTMLElement&&U.includes($.id)){const ke=new MouseEvent(I.type,I);ke.__reactScanSyntheticEvent=!0,$.dispatchEvent(ke);return}const{parentCompositeFiber:Y}=Nc(D);if(!Y)return;const ie=r0(Y);if(!ie){i.current=null,Tt.inspectState.value={kind:"inspect-off"};return}Tt.inspectState.value={kind:"focused",focusedDomElement:ie,fiber:Y}},F=I=>{if(I.__reactScanSyntheticEvent)return;const U=Tt.inspectState.peek(),O=e.current;if(!(!O||!t.current)){if(T(I,O)){I.preventDefault(),I.stopPropagation(),M(U);return}U.kind==="inspecting"&&W(I)}},L=I=>{var D;if(I.key!=="Escape")return;const U=Tt.inspectState.peek();if(e.current&&((D=document.activeElement)==null?void 0:D.id)!=="react-scan-root"&&(Pn.value={view:"none"},U.kind==="focused"||U.kind==="inspecting"))switch(I.preventDefault(),I.stopPropagation(),U.kind){case"focused":{x(),n.current=null,i.current=U.focusedDomElement,Tt.inspectState.value={kind:"inspecting",hoveredDomElement:U.focusedDomElement};break}case"inspecting":{y(()=>{Fx.value=!1,Tt.inspectState.value={kind:"inspect-off"}});break}}},G=(I,U,O)=>{var $;($=a.current.get(I.kind))==null||$(),t.current&&I.kind!=="inspecting"&&(t.current.style.pointerEvents="none"),o.current&&cancelAnimationFrame(o.current);let D;switch(I.kind){case"inspect-off":y();return;case"inspecting":g(I.hoveredDomElement,U,O,"inspecting");break;case"focused":if(!I.focusedDomElement)return;i.current!==I.focusedDomElement&&(i.current=I.focusedDomElement),Pn.value={view:"inspector"},g(I.focusedDomElement,U,O,"locked"),D=Tt.lastReportTime.subscribe(()=>{if(o.current&&n.current){const{parentCompositeFiber:Y}=Nc(I.focusedDomElement);Y&&g(I.focusedDomElement,U,O,"locked")}}),D&&a.current.set(I.kind,D);break}},z=(I,U)=>{const O=I.getBoundingClientRect();I.width=O.width*Au,I.height=O.height*Au,U.scale(Au,Au),U.save()},H=()=>{const I=Tt.inspectState.peek(),U=e.current;if(!U)return;const O=U==null?void 0:U.getContext("2d");O&&(cancelAnimationFrame(o.current),clearTimeout(s.current),z(U,O),n.current=null,I.kind==="focused"&&I.focusedDomElement?g(I.focusedDomElement,U,O,"locked"):I.kind==="inspecting"&&I.hoveredDomElement&&g(I.hoveredDomElement,U,O,"inspecting"))},J=I=>{const U=Tt.inspectState.peek(),O=e.current;O&&(U.kind==="inspecting"||T(I,O))&&(I.preventDefault(),I.stopPropagation(),I.stopImmediatePropagation())};return Xt(()=>{const I=e.current;if(!I)return;const U=I==null?void 0:I.getContext("2d");if(!U)return;z(I,U);const O=Tt.inspectState.subscribe(D=>{G(D,I,U)});return window.addEventListener("scroll",H,{passive:!0}),window.addEventListener("resize",H,{passive:!0}),document.addEventListener("pointermove",E,{passive:!0,capture:!0}),document.addEventListener("pointerdown",J,{capture:!0}),document.addEventListener("click",F,{capture:!0}),document.addEventListener("keydown",L,{capture:!0}),()=>{b(),O(),window.removeEventListener("scroll",H),window.removeEventListener("resize",H),document.removeEventListener("pointermove",E,{capture:!0}),document.removeEventListener("click",F,{capture:!0}),document.removeEventListener("pointerdown",J,{capture:!0}),document.removeEventListener("keydown",L,{capture:!0}),o.current&&cancelAnimationFrame(o.current),clearTimeout(s.current)}},[]),C(fn,{children:[C("div",{ref:t,className:be("fixed top-0 left-0 w-screen h-screen","z-[214748365]"),style:{pointerEvents:"none"}}),C("canvas",{ref:e,dir:"ltr",className:be("react-scan-inspector-overlay","fixed top-0 left-0 w-screen h-screen","pointer-events-none","z-[214748367]")})]})},Wve=class{constructor(e,t){this.width=e,this.height=t,this.maxWidth=e-Bt*2,this.maxHeight=t-Bt*2}rightEdge(e){return this.width-e-Bt}bottomEdge(e){return this.height-e-Bt}isFullWidth(e){return e>=this.maxWidth}isFullHeight(e){return e>=this.maxHeight}},Tu,Kp=()=>{const e=window.innerWidth,t=window.innerHeight;return Tu&&Tu.width===e&&Tu.height===t||(Tu=new Wve(e,t)),Tu},Uve=(e,t,n,r,i)=>{if(n){if(e==="top-left")return"bottom-right";if(e==="top-right")return"bottom-left";if(e==="bottom-left")return"top-right";if(e==="bottom-right")return"top-left";const[o,s]=t.split("-");if(e==="left")return"".concat(o,"-right");if(e==="right")return"".concat(o,"-left");if(e==="top")return"bottom-".concat(s);if(e==="bottom")return"top-".concat(s)}if(r){if(e==="left")return"".concat(t.split("-")[0],"-right");if(e==="right")return"".concat(t.split("-")[0],"-left")}if(i){if(e==="top")return"bottom-".concat(t.split("-")[1]);if(e==="bottom")return"top-".concat(t.split("-")[1])}return t},Dh=(e,t,n)=>{const r=getComputedStyle(document.body).direction==="rtl",i=window.innerWidth,o=window.innerHeight,s=t===_r.width,a=s?t:Math.min(t,i-Bt*2),l=s?n:Math.min(n,o-Bt*2);let c,u,f=Bt,h=i-a-Bt,p=Bt,v=o-l-Bt;switch(e){case"top-right":c=r?-24:h,u=p;break;case"bottom-right":c=r?-24:h,u=v;break;case"bottom-left":c=r?-h:f,u=v;break;case"top-left":c=r?-h:f,u=p;break;default:c=f,u=p;break}return s&&(r?c=Math.min(-24,Math.max(c,-h)):c=Math.max(f,Math.min(c,h)),u=Math.max(p,Math.min(u,v))),{x:c,y:u}},Vve=(e,t)=>{const[n,r]=t.split("-");return e!==n&&e!==r},qve=(e,t,n,r)=>n&&r?!0:!n&&!r?Vve(e,t):n?e!==t.split("-")[0]:r?e!==t.split("-")[1]:!1,Dg=(e,t,n)=>{const r=n?_r.width:_r.initialHeight,i=n?Kp().maxWidth:Kp().maxHeight,o=e+t;return Math.min(Math.max(r,o),i)},Kve=(e,t,n,r,i)=>{const o=getComputedStyle(document.body).direction==="rtl",s=window.innerWidth-Bt*2,a=window.innerHeight-Bt*2;let l=t.width,c=t.height,u=n.x,f=n.y;if(o&&e.includes("right")){const b=-n.x+t.width-Bt,m=Math.min(t.width+r,b);l=Math.min(s,Math.max(_r.width,m)),u=n.x+(l-t.width)}if(o&&e.includes("left")){const b=window.innerWidth-n.x-Bt,m=Math.min(t.width-r,b);l=Math.min(s,Math.max(_r.width,m))}if(!o&&e.includes("right")){const b=window.innerWidth-n.x-Bt,m=Math.min(t.width+r,b);l=Math.min(s,Math.max(_r.width,m))}if(!o&&e.includes("left")){const b=n.x+t.width-Bt,m=Math.min(t.width-r,b);l=Math.min(s,Math.max(_r.width,m)),u=n.x-(l-t.width)}if(e.includes("bottom")){const b=window.innerHeight-n.y-Bt,m=Math.min(t.height+i,b);c=Math.min(a,Math.max(_r.initialHeight,m))}if(e.includes("top")){const b=n.y+t.height-Bt,m=Math.min(t.height-i,b);c=Math.min(a,Math.max(_r.initialHeight,m)),f=n.y-(c-t.height)}let h=Bt,p=window.innerWidth-Bt-l,v=Bt,g=window.innerHeight-Bt-c;return o?u=Math.min(-24,Math.max(u,-p)):u=Math.max(h,Math.min(u,p)),f=Math.max(v,Math.min(f,g)),{newSize:{width:l,height:c},newPosition:{x:u,y:f}}},Yve=e=>{const t=Kp(),n={"top-left":Math.hypot(e.x,e.y),"top-right":Math.hypot(t.maxWidth-e.x,e.y),"bottom-left":Math.hypot(e.x,t.maxHeight-e.y),"bottom-right":Math.hypot(t.maxWidth-e.x,t.maxHeight-e.y)};let r="top-left";for(const i in n)n[i]<n[r]&&(r=i);return r},Gve=(e,t,n,r,i=100)=>{const o=n!==void 0?e-n:0,s=r!==void 0?t-r:0,a=window.innerWidth/2,l=window.innerHeight/2,c=o>i,u=o<-i,f=s>i,h=s<-i;if(c||u){const p=t>l;return c?p?"bottom-right":"top-right":p?"bottom-left":"top-left"}if(f||h){const p=e>a;return f?p?"bottom-right":"bottom-left":p?"top-right":"top-left"}return e>a?t>l?"bottom-right":"top-right":t>l?"bottom-left":"top-left"},Fg=({position:e})=>{const t=At(null),n=At(null),r=At(null),i=At(null);Xt(()=>{const a=t.current;if(!a)return;const l=()=>{a.classList.remove("pointer-events-none");const f=Tt.inspectState.value.kind==="focused",h=Pn.value.view!=="none";(f||h)&&qve(e,Ct.value.corner,Ct.value.dimensions.isFullWidth,Ct.value.dimensions.isFullHeight)?a.classList.remove("hidden","pointer-events-none","opacity-0"):a.classList.add("hidden","pointer-events-none","opacity-0")},c=Ct.subscribe(f=>{n.current!==null&&r.current!==null&&i.current!==null&&f.dimensions.width===n.current&&f.dimensions.height===r.current&&f.corner===i.current||(l(),n.current=f.dimensions.width,r.current=f.dimensions.height,i.current=f.corner)}),u=Tt.inspectState.subscribe(()=>{l()});return()=>{c(),u(),n.current=null,r.current=null,i.current=null}},[]);const o=hr(a=>{a.preventDefault(),a.stopPropagation();const l=u2.value;if(!l)return;const c=l.style,{dimensions:u}=Ct.value,f=a.clientX,h=a.clientY,p=u.width,v=u.height,g=u.position;Ct.value={...Ct.value,dimensions:{...u,isFullWidth:!1,isFullHeight:!1,width:p,height:v,position:g}};let b=null;const m=x=>{b||(c.transition="none",b=requestAnimationFrame(()=>{const{newSize:k,newPosition:S}=Kve(e,{width:p,height:v},g,x.clientX-f,x.clientY-h);c.transform="translate3d(".concat(S.x,"px, ").concat(S.y,"px, 0)"),c.width="".concat(k.width,"px"),c.height="".concat(k.height,"px");const E=Math.floor(k.width-ns/2),T=Ct.value.componentsTree.width,M=Math.min(E,Math.max(ns,T));Ct.value={...Ct.value,dimensions:{isFullWidth:!1,isFullHeight:!1,width:k.width,height:k.height,position:S},componentsTree:{...Ct.value.componentsTree,width:M}},b=null}))},y=()=>{b&&(cancelAnimationFrame(b),b=null),document.removeEventListener("pointermove",m),document.removeEventListener("pointerup",y);const{dimensions:x,corner:k}=Ct.value,S=Kp(),E=S.isFullWidth(x.width),T=S.isFullHeight(x.height),M=E&&T;let W=k;(M||E||T)&&(W=Yve(x.position));const F=Dh(W,x.width,x.height),L=()=>{l.removeEventListener("transitionend",L)};l.addEventListener("transitionend",L),c.transform="translate3d(".concat(F.x,"px, ").concat(F.y,"px, 0)"),Ct.value={...Ct.value,corner:W,dimensions:{isFullWidth:E,isFullHeight:T,width:x.width,height:x.height,position:F},lastDimensions:{isFullWidth:E,isFullHeight:T,width:x.width,height:x.height,position:F}},no(Na,{corner:W,dimensions:Ct.value.dimensions,lastDimensions:Ct.value.lastDimensions,componentsTree:Ct.value.componentsTree})};document.addEventListener("pointermove",m,{passive:!0}),document.addEventListener("pointerup",y)},[]),s=hr(a=>{a.preventDefault(),a.stopPropagation();const l=u2.value;if(!l)return;const c=l.style,{dimensions:u,corner:f}=Ct.value,h=Kp(),p=h.isFullWidth(u.width),v=h.isFullHeight(u.height),g=p&&v,b=(p||v)&&!g;let m=u.width,y=u.height;const x=Uve(e,f,g,p,v);e==="left"||e==="right"?(m=p?u.width:h.maxWidth,b&&(m=p?_r.width:h.maxWidth)):(y=v?u.height:h.maxHeight,b&&(y=v?_r.initialHeight:h.maxHeight)),g&&(e==="left"||e==="right"?m=_r.width:y=_r.initialHeight);const k=Dh(x,m,y),S={isFullWidth:h.isFullWidth(m),isFullHeight:h.isFullHeight(y),width:m,height:y,position:k},E=Math.floor(m-_r.width/2),T=Ct.value.componentsTree.width,M=Math.floor(m*.3),W=p?ns:(e==="left"||e==="right")&&!p?Math.min(E,Math.max(ns,M)):Math.min(E,Math.max(ns,T));requestAnimationFrame(()=>{Ct.value={corner:x,dimensions:S,lastDimensions:u,componentsTree:{...Ct.value.componentsTree,width:W}},c.transition="all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",c.width="".concat(m,"px"),c.height="".concat(y,"px"),c.transform="translate3d(".concat(k.x,"px, ").concat(k.y,"px, 0)")}),no(Na,{corner:x,dimensions:S,lastDimensions:u,componentsTree:{...Ct.value.componentsTree,width:W}})},[]);return C("div",{ref:t,onPointerDown:o,onDblClick:s,className:be("absolute z-50","flex items-center justify-center","group","transition-colors select-none","peer",{"resize-left peer/left":e==="left","resize-right peer/right z-10":e==="right","resize-top peer/top":e==="top","resize-bottom peer/bottom":e==="bottom"}),children:C("span",{className:"resize-line-wrapper",children:C("span",{className:"resize-line",children:C(lr,{name:"icon-ellipsis",size:18,className:be("text-neutral-400",(e==="left"||e==="right")&&"rotate-90")})})})})},Y5={horizontal:{width:20,height:48},vertical:{width:48,height:20}},Xve=()=>{const e=At(null),t=At(!1),n=At(0),r=At(0),i=At(!1),o=hr((h=!0)=>{if(!e.current)return;const{corner:p}=Ct.value;let v,g;if(eo.value){const W=eo.value.orientation||"horizontal",F=Y5[W];v=F.width,g=F.height}else if(t.current){const W=Ct.value.lastDimensions;v=Dg(W.width,0,!0),g=Dg(W.height,0,!1),i.current&&(i.current=!1)}else v=n.current,g=r.current;let m=Dh(p,v,g);if(eo.value){const{corner:W,orientation:F="horizontal"}=eo.value,L=Y5[F];switch(W){case"top-left":m=F==="horizontal"?{x:-1,y:Bt}:{x:Bt,y:-1};break;case"bottom-left":m=F==="horizontal"?{x:-1,y:window.innerHeight-L.height-Bt}:{x:Bt,y:window.innerHeight-L.height+1};break;case"top-right":m=F==="horizontal"?{x:window.innerWidth-L.width+1,y:Bt}:{x:window.innerWidth-L.width-Bt,y:-1};break;case"bottom-right":default:m=F==="horizontal"?{x:window.innerWidth-L.width+1,y:window.innerHeight-L.height-Bt}:{x:window.innerWidth-L.width-Bt,y:window.innerHeight-L.height+1};break}}const y=v<_r.width||g<_r.initialHeight,x=h&&!y,k=e.current,S=k.style;let E=null;const T=()=>{u1(),k.removeEventListener("transitionend",T),E&&(cancelAnimationFrame(E),E=null)};k.addEventListener("transitionend",T),S.transition="all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",E=requestAnimationFrame(()=>{S.width="".concat(v,"px"),S.height="".concat(g,"px"),S.transform="translate3d(".concat(m.x,"px, ").concat(m.y,"px, 0)"),E=null});const M={isFullWidth:v>=window.innerWidth-Bt*2,isFullHeight:g>=window.innerHeight-Bt*2,width:v,height:g,position:m};Ct.value={corner:p,dimensions:M,lastDimensions:t?Ct.value.lastDimensions:v>n.current?M:Ct.value.lastDimensions,componentsTree:Ct.value.componentsTree},x&&no(Na,{corner:Ct.value.corner,dimensions:Ct.value.dimensions,lastDimensions:Ct.value.lastDimensions,componentsTree:Ct.value.componentsTree}),u1()},[]),s=hr(h=>{if(h.preventDefault(),!e.current||h.target.closest("button"))return;const p=e.current,v=p.style,{dimensions:g}=Ct.value,b=h.clientX,m=h.clientY,y=g.position.x,x=g.position.y;let k=y,S=x,E=null,T=!1,M=b,W=m;const F=G=>{E||(T=!0,M=G.clientX,W=G.clientY,E=requestAnimationFrame(()=>{const z=M-b,H=W-m;k=Number(y)+z,S=Number(x)+H,v.transition="none",v.transform="translate3d(".concat(k,"px, ").concat(S,"px, 0)");const J=k+g.width,I=S+g.height,U=Math.max(0,-k),O=Math.max(0,J-window.innerWidth),D=Math.max(0,-S),$=Math.max(0,I-window.innerHeight),Y=Math.min(g.width,U+O),ie=Math.min(g.height,D+$),ae=Y*g.height+ie*g.width-Y*ie,xe=g.width*g.height;let ke=ae>xe*.35;if(!ke&&No.options.value.showFPS){const Ne=k+g.width,V=Ne-100;ke=Ne<=0||V>=window.innerWidth||S+g.height<=0||S>=window.innerHeight}if(ke){const Ne=k+g.width/2,V=S+g.height/2,Q=window.innerWidth/2,re=window.innerHeight/2;let Pe;Ne<Q?Pe=V<re?"top-left":"bottom-left":Pe=V<re?"top-right":"bottom-right";let Ye;const ze=Math.max(U,O),se=Math.max(D,$);Ye=ze>se?"horizontal":"vertical",Ct.value={...Ct.value,corner:Pe,lastDimensions:{...g,position:Dh(Pe,g.width,g.height)}};const fe={corner:Pe,orientation:Ye};eo.value=fe,no(gv,fe),no(Na,Ct.value),o(!1),document.removeEventListener("pointermove",F),document.removeEventListener("pointerup",L),E&&(cancelAnimationFrame(E),E=null)}E=null}))},L=()=>{if(!p)return;E&&(cancelAnimationFrame(E),E=null),document.removeEventListener("pointermove",F),document.removeEventListener("pointerup",L);const G=Math.abs(M-b),z=Math.abs(W-m),H=Math.sqrt(G*G+z*z);if(!T||H<60)return;const J=Gve(M,W,b,m,Tt.inspectState.value.kind==="focused"?80:40);if(J===Ct.value.corner){v.transition="transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)";const O=Ct.value.dimensions.position;requestAnimationFrame(()=>{v.transform="translate3d(".concat(O.x,"px, ").concat(O.y,"px, 0)")});return}const I=Dh(J,g.width,g.height);if(k===y&&S===x)return;const U=()=>{v.transition="none",u1(),p.removeEventListener("transitionend",U),E&&(cancelAnimationFrame(E),E=null)};p.addEventListener("transitionend",U),v.transition="transform 0.3s cubic-bezier(0.4, 0, 0.2, 1)",requestAnimationFrame(()=>{v.transform="translate3d(".concat(I.x,"px, ").concat(I.y,"px, 0)")}),Ct.value={corner:J,dimensions:{isFullWidth:g.isFullWidth,isFullHeight:g.isFullHeight,width:g.width,height:g.height,position:I},lastDimensions:Ct.value.lastDimensions,componentsTree:Ct.value.componentsTree},no(Na,{corner:J,dimensions:Ct.value.dimensions,lastDimensions:Ct.value.lastDimensions,componentsTree:Ct.value.componentsTree})};document.addEventListener("pointermove",F),document.addEventListener("pointerup",L)},[]),a=hr(h=>{if(h.preventDefault(),!e.current||!eo.value)return;const{corner:p,orientation:v="horizontal"}=eo.value,g=h.clientX,b=h.clientY;let m=null,y=!1;const x=50,k=E=>{if(y||m)return;const T=E.clientX-g,M=E.clientY-b;let W=!1;if(v==="horizontal"?(p.endsWith("left")&&T>x||p.endsWith("right")&&T<-50)&&(W=!0):(p.startsWith("top")&&M>x||p.startsWith("bottom")&&M<-50)&&(W=!0),W){if(y=!0,eo.value=null,no(gv,null),n.current===0&&e.current)requestAnimationFrame(()=>{if(e.current){e.current.style.width="min-content";const F=e.current.offsetWidth;n.current=F||300;const L=Ct.value.lastDimensions,G=Dg(L.width,0,!0),z=Dg(L.height,0,!1);let H=E.clientX-G/2,J=E.clientY-z/2;H=Math.max(Bt,Math.min(H,window.innerWidth-G-Bt)),J=Math.max(Bt,Math.min(J,window.innerHeight-z-Bt)),Ct.value={...Ct.value,dimensions:{...Ct.value.dimensions,position:{x:H,y:J}}},o(!0);const I=Mc(Cu);Pn.value=I||{view:"none"},setTimeout(()=>{if(e.current){const U=new PointerEvent("pointerdown",{clientX:E.clientX,clientY:E.clientY,pointerId:E.pointerId,bubbles:!0});e.current.dispatchEvent(U)}},100)}});else{o(!0);const F=Mc(Cu);Pn.value=F||{view:"none"}}document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",S)}},S=()=>{document.removeEventListener("pointermove",k),document.removeEventListener("pointerup",S)};document.addEventListener("pointermove",k),document.addEventListener("pointerup",S)},[]);Xt(()=>{if(!e.current)return;j5(Cu),eo.value?(r.current=36,n.current=0):(e.current.style.width="min-content",r.current=36,n.current=e.current.offsetWidth),e.current.style.maxWidth="calc(100vw - ".concat(Bt*2,"px)"),e.current.style.maxHeight="calc(100vh - ".concat(Bt*2,"px)"),o(),Tt.inspectState.value.kind!=="focused"&&!eo.value&&!i.current&&(Ct.value={...Ct.value,dimensions:{isFullWidth:!1,isFullHeight:!1,width:n.current,height:r.current,position:Ct.value.dimensions.position}}),u2.value=e.current;const h=Ct.subscribe(b=>{if(!e.current)return;const{x:m,y}=b.dimensions.position,{width:x,height:k}=b.dimensions,S=e.current;requestAnimationFrame(()=>{S.style.transform="translate3d(".concat(m,"px, ").concat(y,"px, 0)"),S.style.width="".concat(x,"px"),S.style.height="".concat(k,"px")})}),p=Pn.subscribe(b=>{t.current=b.view!=="none",o(),eo.value||(b.view!=="none"?no(Cu,b):j5(Cu))}),v=Tt.inspectState.subscribe(b=>{t.current=b.kind==="focused",o()}),g=()=>{o(!0)};return window.addEventListener("resize",g,{passive:!0}),()=>{window.removeEventListener("resize",g),p(),v(),h(),no(Na,{...Ms,corner:Ct.value.corner})}},[]);const[l,c]=tn(!1);Xt(()=>{c(!0)},[]);const u=eo.value;let f="";if(u){const{orientation:h="horizontal",corner:p}=u;h==="horizontal"?f=p!=null&&p.endsWith("right")?"rotate-180":"":f=p!=null&&p.startsWith("bottom")?"-rotate-90":"rotate-90"}return C(fn,{children:[C(Hve,{}),C(yC.Provider,{value:e.current,children:C("div",{id:"react-scan-toolbar",dir:"ltr",ref:e,onPointerDown:u?a:s,className:be("fixed inset-0",u?(()=>{const{orientation:h="horizontal",corner:p}=u;return h==="horizontal"?p!=null&&p.endsWith("right")?"rounded-tl-lg rounded-bl-lg shadow-lg":"rounded-tr-lg rounded-br-lg shadow-lg":p!=null&&p.startsWith("bottom")?"rounded-tl-lg rounded-tr-lg shadow-lg":"rounded-bl-lg rounded-br-lg shadow-lg"})():"rounded-lg shadow-lg","flex flex-col","font-mono text-[13px]","user-select-none","opacity-0",u?"cursor-pointer":"cursor-move","z-[124124124124]","animate-fade-in animation-duration-300 animation-delay-300","will-change-transform","[touch-action:none]"),children:u?C("button",{type:"button",onClick:()=>{eo.value=null,no(gv,null),n.current===0&&e.current&&requestAnimationFrame(()=>{if(e.current){e.current.style.width="min-content";const p=e.current.offsetWidth;n.current=p||300,o(!0)}});const h=Mc(Cu);Pn.value=h||{view:"none"}},className:"flex items-center justify-center w-full h-full text-white",title:"Expand toolbar",children:C(lr,{name:"icon-chevron-right",size:16,className:be("transition-transform",f)})}):C(fn,{children:[C(Fg,{position:"top"}),C(Fg,{position:"bottom"}),C(Fg,{position:"left"}),C(Fg,{position:"right"}),C(zve,{})]})})})]})},yC=T8(null),Jve=()=>C("svg",{xmlns:"http://www.w3.org/2000/svg",style:"display: none;",children:[C("title",{children:"React Scan Icons"}),C("symbol",{id:"icon-inspect",viewBox:"0 0 24 24",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[C("path",{d:"M12.034 12.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.943l-3.444 1.068a1 1 0 0 0-.66.66l-1.067 3.443a.5.5 0 0 1-.943.033z"}),C("path",{d:"M5 3a2 2 0 0 0-2 2"}),C("path",{d:"M19 3a2 2 0 0 1 2 2"}),C("path",{d:"M5 21a2 2 0 0 1-2-2"}),C("path",{d:"M9 3h1"}),C("path",{d:"M9 21h2"}),C("path",{d:"M14 3h1"}),C("path",{d:"M3 9v1"}),C("path",{d:"M21 9v2"}),C("path",{d:"M3 14v1"})]}),C("symbol",{id:"icon-focus",viewBox:"0 0 24 24",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[C("path",{d:"M12.034 12.681a.498.498 0 0 1 .647-.647l9 3.5a.5.5 0 0 1-.033.943l-3.444 1.068a1 1 0 0 0-.66.66l-1.067 3.443a.5.5 0 0 1-.943.033z"}),C("path",{d:"M21 11V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h6"})]}),C("symbol",{id:"icon-next",viewBox:"0 0 24 24",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:C("path",{d:"M6 9h6V5l7 7-7 7v-4H6V9z"})}),C("symbol",{id:"icon-previous",viewBox:"0 0 24 24",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:C("path",{d:"M18 15h-6v4l-7-7 7-7v4h6v6z"})}),C("symbol",{id:"icon-close",viewBox:"0 0 24 24",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[C("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),C("line",{x1:"6",y1:"6",x2:"18",y2:"18"})]}),C("symbol",{id:"icon-replay",viewBox:"0 0 24 24",fill:"none","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[C("path",{d:"M3 7V5a2 2 0 0 1 2-2h2"}),C("path",{d:"M17 3h2a2 2 0 0 1 2 2v2"}),C("path",{d:"M21 17v2a2 2 0 0 1-2 2h-2"}),C("path",{d:"M7 21H5a2 2 0 0 1-2-2v-2"}),C("circle",{cx:"12",cy:"12",r:"1"}),C("path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0"})]}),C("symbol",{id:"icon-ellipsis",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[C("circle",{cx:"12",cy:"12",r:"1"}),C("circle",{cx:"19",cy:"12",r:"1"}),C("circle",{cx:"5",cy:"12",r:"1"})]}),C("symbol",{id:"icon-copy",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[C("rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2"}),C("path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2"})]}),C("symbol",{id:"icon-check",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:C("path",{d:"M20 6 9 17l-5-5"})}),C("symbol",{id:"icon-chevron-right",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:C("path",{d:"m9 18 6-6-6-6"})}),C("symbol",{id:"icon-settings",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[C("path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z"}),C("circle",{cx:"12",cy:"12",r:"3"})]}),C("symbol",{id:"icon-flame",viewBox:"0 0 24 24",children:C("path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"})}),C("symbol",{id:"icon-function",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[C("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2"}),C("path",{d:"M9 17c2 0 2.8-1 2.8-2.8V10c0-2 1-3.3 3.2-3"}),C("path",{d:"M9 11.2h5.7"})]}),C("symbol",{id:"icon-triangle-alert",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[C("path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3"}),C("path",{d:"M12 9v4"}),C("path",{d:"M12 17h.01"})]}),C("symbol",{id:"icon-gallery-horizontal-end",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[C("path",{d:"M2 7v10"}),C("path",{d:"M6 5v14"}),C("rect",{width:"12",height:"18",x:"10",y:"3",rx:"2"})]}),C("symbol",{id:"icon-search",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[C("circle",{cx:"11",cy:"11",r:"8"}),C("line",{x1:"21",y1:"21",x2:"16.65",y2:"16.65"})]}),C("symbol",{id:"icon-lock",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[C("rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}),C("path",{d:"M7 11V7a5 5 0 0 1 10 0v4"})]}),C("symbol",{id:"icon-lock-open",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[C("rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}),C("path",{d:"M7 11V7a5 5 0 0 1 9.9-1"})]}),C("symbol",{id:"icon-sanil",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",children:[C("path",{d:"M2 13a6 6 0 1 0 12 0 4 4 0 1 0-8 0 2 2 0 0 0 4 0"}),C("circle",{cx:"10",cy:"13",r:"8"}),C("path",{d:"M2 21h12c4.4 0 8-3.6 8-8V7a2 2 0 1 0-4 0v6"}),C("path",{d:"M18 3 19.1 5.2"})]})]}),Qve=class extends Mo{constructor(){super(...arguments),this.state={hasError:!1,error:null},this.handleReset=()=>{this.setState({hasError:!1,error:null})}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}render(){var e;return this.state.hasError?C("div",{className:"fixed bottom-4 right-4 z-[124124124124]",children:C("div",{className:"p-3 bg-black rounded-lg shadow-lg w-80",children:[C("div",{className:"flex items-center gap-2 mb-2 text-red-400 text-sm font-medium",children:[C(lr,{name:"icon-flame",className:"text-red-500",size:14}),"React Scan ran into a problem"]}),C("div",{className:"p-2 bg-black rounded font-mono text-xs text-red-300 mb-3 break-words",children:((e=this.state.error)==null?void 0:e.message)||JSON.stringify(this.state.error)}),C("button",{type:"button",onClick:this.handleReset,className:"px-3 py-1.5 bg-red-500 hover:bg-red-600 text-white rounded text-xs font-medium transition-colors flex items-center justify-center gap-1.5",children:"Restart"})]})}):this.props.children}},Zve=e=>{const t=document.createElement("div");t.id="react-scan-toolbar-root",window.__REACT_SCAN_TOOLBAR_CONTAINER__=t,e.appendChild(t),Oh(C(Qve,{children:C(fn,{children:[C(Jve,{}),C(Xve,{})]})}),t);const n=t.remove.bind(t);return t.remove=()=>{window.__REACT_SCAN_TOOLBAR_CONTAINER__=void 0,t.hasChildNodes()&&(Oh(null,t),Oh(null,t)),n()},t},eye={version:"0.4.3"},dc=null,Xf=null,tye=()=>{if(dc&&Xf)return{rootContainer:dc,shadowRoot:Xf};dc=document.createElement("div"),dc.id="react-scan-root",Xf=dc.attachShadow({mode:"open"});const e=document.createElement("style");return e.textContent=yge,Xf.appendChild(e),document.documentElement.appendChild(dc),{rootContainer:dc,shadowRoot:Xf}},Tt={wasDetailsOpen:Ir(!0),isInIframe:Ir(Ql&&window.self!==window.top),inspectState:Ir({kind:"uninitialized"}),monitor:Ir(null),fiberRoots:new Set,reportData:new Map,legacyReportData:new Map,lastReportTime:Ir(0),interactionListeningForRenders:null,changesListeners:new Map},No={instrumentation:null,componentAllowList:null,options:Ir({enabled:!0,log:!1,showToolbar:!0,animationSpeed:"fast",dangerouslyForceRunInProduction:!1,showFPS:!0,showNotificationCount:!0,allowInIframe:!1}),runInAllEnvironments:!1,onRender:null,scheduledOutlines:new Map,activeOutlines:new Map,Store:Tt,version:eye.version};Ql&&window.__REACT_SCAN_EXTENSION__&&(window.__REACT_SCAN_VERSION__=No.version);function nye(e){return e in No.options.value}var rye=e=>{const t=[],n={};for(const r in e){if(!nye(r))continue;const i=e[r];switch(r){case"enabled":case"log":case"showToolbar":case"showNotificationCount":case"dangerouslyForceRunInProduction":case"showFPS":case"allowInIframe":typeof i!="boolean"?t.push("- ".concat(r,' must be a boolean. Got "').concat(i,'"')):n[r]=i;break;case"animationSpeed":["slow","fast","off"].includes(i)?n[r]=i:t.push('- Invalid animation speed "'.concat(i,'". Using default "fast"'));break;case"onCommitStart":typeof i!="function"?t.push("- ".concat(r,' must be a function. Got "').concat(i,'"')):n.onCommitStart=i;break;case"onCommitFinish":typeof i!="function"?t.push("- ".concat(r,' must be a function. Got "').concat(i,'"')):n.onCommitFinish=i;break;case"onRender":typeof i!="function"?t.push("- ".concat(r,' must be a function. Got "').concat(i,'"')):n.onRender=i;break;case"onPaintStart":case"onPaintFinish":typeof i!="function"?t.push("- ".concat(r,' must be a function. Got "').concat(i,'"')):n[r]=i;break;default:t.push('- Unknown option "'.concat(r,'"'))}}return t.length>0&&console.warn("[React Scan] Invalid options:\n".concat(t.join("\n"))),n},SF=e=>{var t;try{const n=rye(e);if(Object.keys(n).length===0)return;const r="showToolbar"in n&&n.showToolbar!==void 0,i={...No.options.value,...n},{instrumentation:o}=No;o&&"enabled"in n,No.options.value=i;try{const s=(t=Mc("react-scan-options"))==null?void 0:t.enabled;typeof s=="boolean"&&(i.enabled=s)}catch(s){No.options.value._debug==="verbose"&&console.error("[React Scan Internal Error]","Failed to create notifications outline canvas",s)}return no("react-scan-options",i),r&&iye(!!i.showToolbar),i}catch(n){No.options.value._debug==="verbose"&&console.error("[React Scan Internal Error]","Failed to create notifications outline canvas",n)}},Lg=null,Bg,xC=()=>{if(Lg!==null)return Lg;Bg!=null||(Bg=Ix());for(const e of Bg.renderers.values())cpe(e)==="production"&&(Lg=!0);return Lg},iye=e=>{var o;(o=window.reactScanCleanupListeners)==null||o.call(window);const t=Kge(),n=oye();window.reactScanCleanupListeners=()=>{t(),n==null||n()};const r=window.__REACT_SCAN_TOOLBAR_CONTAINER__;if(!e){r==null||r.remove();return}r==null||r.remove();const{shadowRoot:i}=tye();Zve(i)},oye=()=>{try{const e=document.documentElement;return gve(e)}catch(e){No.options.value._debug==="verbose"&&console.error("[React Scan Internal Error]","Failed to create notifications outline canvas",e)}};const sye=()=>{SF({enabled:!0,showToolbar:!0})},aye=()=>{SF({enabled:!1,showToolbar:!1})},gf=Ya({theme:"BardsBallad",scheme:"dark",isErudaActive:!1,isReactScanActive:!1},{onSet:(e,t)=>{DP.set("settings",e),t.isErudaActive&&!e.isErudaActive?Xhe():!t.isErudaActive&&e.isErudaActive&&Ghe(),t.isReactScanActive&&!e.isReactScanActive?aye():!t.isReactScanActive&&e.isReactScanActive&&sye(),(e.theme!==t.theme||e.scheme!==t.scheme)&&EF()}}),lye=async()=>{const e=await DP.get("settings");e&&gf.set(e)};lye();const cye=e=>{gf.set(t=>({...t,isErudaActive:e}))},uye=e=>{gf.set(t=>({...t,isReactScanActive:e}))},dye=e=>{gf.set(t=>({...t,theme:e}))},EF=()=>{const e=a8.get(),t=gf.get(),n=e.find(r=>r.name===t.theme);if(n){document.documentElement.style.setProperty("--background",n.light.background);for(let r in n.light.brand)document.documentElement.style.setProperty("--brand-".concat(r),n.light.brand[r]);for(let r in n.light.neutral)document.documentElement.style.setProperty("--neutral-".concat(r),n.light.neutral[r]);for(let r in n.light.orange)document.documentElement.style.setProperty("--orange-".concat(r),n.light.orange[r]);for(let r in n.light.red)document.documentElement.style.setProperty("--red-".concat(r),n.light.red[r]);for(let r in n.light.blue)document.documentElement.style.setProperty("--blue-".concat(r),n.light.blue[r]);for(let r in n.light.green)document.documentElement.style.setProperty("--green-".concat(r),n.light.green[r])}},Li={FREE:1,PREMIUM:4,AMBASSADOR:8,DEVELOPER:16,ADMINISTRATOR:32};function Bi(e,t){return(e&t)===t}function G5(e){if(Bi(e,Li.FREE))return"Free";if(Bi(e,Li.PREMIUM))return"Premium";if(Bi(e,Li.AMBASSADOR))return"Ambassador";if(Bi(e,Li.DEVELOPER))return"Developer";if(Bi(e,Li.ADMINISTRATOR))return"Admin"}const fye=()=>d.jsx("p",{children:"No tab found for this id."}),hye=({tabs:e,props:t})=>{var i;const[n,r]=N.useState(e[0].id);return d.jsxs("div",{className:"w-full mt-5",children:[d.jsx("div",{className:"flex space-x-2 border-b border-neutral-700",children:e.map(o=>d.jsx("button",{onClick:()=>{r(o.id)},className:"py-2 px-4 text-sm font-medium transition-colors border-fantasy-accent ".concat(n===o.id?"border-b-2 text-fantasy-accent":"text-fantasy-text-muted hover:text-fantasy-accent"),children:o.label},o.id))}),d.jsx("div",{className:"p-4",children:((i=e.find(o=>o.id===n))==null?void 0:i.Content(t))||d.jsx(fye,{})})]})},pye=async()=>await Yn.get("/stripe/create-checkout-session"),mye=async()=>await Yn.get("/stripe/create-portal-session"),gye=async()=>{di.clear(),Sn.clear(),Er.set({isLoggedIn:!1,user:null,synced_characters:[]}),await Promise.all(it.tables.map(e=>e.clear()))},vye=async()=>{Sn.clear(),await Promise.all(it.tables.map(e=>e.clear()))},yye=async()=>{const t=(await Yn.get("/discord/getLoginLink")).data;if(!t)return Un("No url in login link response?","error");window.open(t,"_self")},xye=[{id:"profile",label:"Profile",Content:({isLoggedIn:e,user:t})=>d.jsx("div",{className:"max-w-5xl mx-auto",children:e&&t?d.jsxs("div",{className:"my-2 flex flex-col gap-4 lg:grid lg:grid-cols-2 rtl:space-x-reverse flex-wrap",children:[d.jsx("div",{className:"flex flex-col w-full bg-neutral-800 p-4 rounded-lg border-neutral-500 border",children:d.jsxs("div",{className:"flex items-center",children:[d.jsx("div",{className:"w-12 h-12 fantasy-accent-gradient rounded-xl flex items-center justify-center text-xl font-bold text-fantasy-dark mr-4 shadow-lg shadow-fantasy-accent/30",children:t.username[0]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-fantasy-text mb-1",children:t.username}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-fantasy-accent/70",children:[d.jsx("span",{children:t.email}),d.jsx("span",{className:"bg-fantasy-accent/20 px-1.5 py-0.5 rounded text-[10px]",children:G5(t.role)})]})]})]})}),d.jsxs("div",{className:"flex flex-col w-full bg-fantasy-dark p-4 rounded-lg border-fantasy-border border",children:[d.jsx("p",{className:"text-lg",children:"Subscription"}),d.jsxs("p",{className:"mb-4",children:["Current Tier: ",G5(t.role)]}),d.jsx(kt,{color:"primary",onClick:async()=>{let n="";const r=Bi(t.role,Li.PREMIUM),i=Bi(t.role,Li.FREE)||Bi(t.role,Li.PREMIUM);if(i&&!r){const{url:o}=await pye();n=o}else if(i&&r){const{url:o}=await mye();n=o}window.open(n,"_self")},children:Bi(t.role,Li.FREE)?"Subscribe":Bi(t.role,Li.PREMIUM)?"Manage Subscription":"Thank you for everything!"})]}),!t.discord_id&&d.jsxs("div",{className:"flex flex-col w-full bg-neutral-800 p-4 rounded-lg border-indigo-500 border",children:[d.jsx("p",{className:"text-lg",children:"Discord Integration"}),d.jsx("p",{className:"mb-4",children:"Link your Discord account to access additional features"}),d.jsx(kt,{color:"primary",onClick:yye,children:"Connect Discord Account"})]}),d.jsxs("div",{className:"flex flex-col w-full bg-neutral-800 p-4 rounded-lg border-red-500 border",children:[d.jsx("p",{className:"text-lg",children:"Danger Zone"}),d.jsx("p",{className:"mb-4 text-red-500",children:"All local data is cleared (unsynced data will be lost)"}),d.jsx(kt,{color:"danger",onClick:()=>Rt("confirm",({id:n})=>d.jsx(Ul,{id:n,title:"Logout",type:"danger",message:"All local data is cleared (unsynced data will be lost)",onConfirm:gye})),children:"Logout"})]})]}):d.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[d.jsx("p",{className:"text-lg",children:"You are not logged in"}),d.jsx("p",{className:"mb-4",children:"Login to access your profile"}),d.jsx(kt,{color:"light",onClick:()=>Rt("auth",({id:n})=>d.jsx(EO,{id:n})),children:"Login / Register"})]})})},{id:"general",label:"General",Content:({settings:e,themes:t})=>d.jsx(ft,{id:"theme",label:"Theme",value:e.theme,onChange:dye,children:t.map(n=>d.jsx("option",{value:n.name,children:n.name}))})},{id:"developer",label:"Developer",Content:({settings:e})=>d.jsxs(d.Fragment,{children:[d.jsxs("p",{className:"my-2",children:[d.jsx("a",{className:"underline",href:"https://eruda.liriliri.io/",target:"_blank",children:"Eruda"})," allows access to the development console on mobile."]}),d.jsx(vr,{id:"use-eruda",label:"Load Eruda",checked:e.isErudaActive,onChange:cye}),d.jsxs("p",{className:"my-2",children:[d.jsx("a",{className:"underline",href:"https://react-scan.com/",target:"_blank",children:"React Scan"})," helps to visually track down performance problems caused by rerenders."]}),d.jsx(vr,{id:"use-reactscan",label:"Load ReactScan",checked:e.isReactScanActive,onChange:uye}),d.jsx("p",{className:"my-2",children:"Clear Local Storage"}),d.jsx(kt,{color:"danger",onClick:()=>Rt("clear-local-storage",({id:t})=>d.jsx(Ul,{id:t,title:"Clear Local Storage",type:"danger",message:"Clearing local storage will remove everything from this device. all unsynced data will be lost.",onConfirm:vye})),children:"Clear Local Storage"})]})}],wye=()=>{const e=a8.useValue(),t=gf.useValue(),{isLoggedIn:n,user:r}=Er.useValue();return d.jsxs("div",{children:[d.jsx(Xs,{title:"Settings"}),d.jsx(hye,{tabs:xye,props:{themes:e,settings:t,isLoggedIn:n,user:r}})]})},bye=async()=>{const e=await Yn.get("/stripe/sync-stripe-data"),{newAccessToken:t}=e.data;t&&A0(t)},_ye=()=>{const e=su(),t=()=>{e("/settings")};return N.useEffect(()=>{bye()},[]),d.jsxs("div",{style:{textAlign:"center",padding:"2rem"},children:[d.jsx("h1",{children:"Subscription Successful!"}),d.jsx("p",{children:"Thank you for subscribing to Bard's Ballad. Your subscription was processed successfully."}),d.jsx("p",{children:"We hope you enjoy all the premium features and content!"}),d.jsx("button",{onClick:t,style:{marginTop:"1rem",padding:"0.5rem 1rem",fontSize:"1rem",backgroundColor:"#4CAF50",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"},children:"Back to Settings"})]})},wC=Ya({isOnline:navigator.onLine}),Lx=e=>wC.set(t=>({...t,isOnline:e})),kye=N.createContext({}),Sye=()=>N.useContext(kye),Eye=async()=>{try{return(await Yn.get("/marketplace")).data}catch(e){return[]}},Cye=async e=>{try{return(await Yn.get("/marketplace/".concat(e,"/versions"))).data}catch(t){return[]}},jye=async e=>{try{return(await Yn.get("/marketplace/subscribe/".concat(e))).data}catch(t){return null}},Nye=async e=>{try{if(await it.systems.get(e.local_id))return null;const t=nx.safeParse(e);return t.success?(await it.systems.add(e),e):(console.log("Invalid system data:",t.error.format()),null)}catch(t){return console.log("Error saving system:",t),null}},Aye=async e=>{try{if(await it.versions.get(e.local_id))return null;const t=gm.safeParse(e);return t.success?(await it.versions.add(e),e):(console.log("Invalid version data:",t.error.format()),null)}catch(t){return console.log("Error saving version:",t),null}},Tye=({id:e,data:t,title:n="Item Name"})=>{const[r,i]=N.useState([]),[o,s]=N.useState(!0),[a,l]=N.useState(r[0]),[c,u]=N.useState({isSaving:!1,saveSuccessful:!1,error:""});N.useEffect(()=>{(async()=>{if(!t)return i([]);const p=await Cye(t.resource_id);i(p),l(p[0])})()},[]);const f=N.useCallback(()=>cr(e),[e]);if(!t)return null;if(c.isSaving){const h=c.isSaving&&!c.saveSuccessful&&!c.error;return d.jsxs(Vn,{isOpen:!0,onClose:f,children:[d.jsx(Kn,{title:"Install System",onClose:f}),d.jsx(qn,{children:h?d.jsx("h4",{children:"Saving Data..."}):c.error&&!c.saveSuccessful?d.jsxs(d.Fragment,{children:[d.jsx("h4",{children:"Error Saving Data."}),d.jsx("p",{children:c.error})]}):d.jsx("h4",{children:"Item Saved Successfully!."})})]})}return d.jsxs(Vn,{isOpen:!0,onClose:f,children:[d.jsx(Kn,{title:"Install System",onClose:f}),d.jsxs(qn,{children:[d.jsxs("div",{className:"text-center",children:[d.jsx("h4",{className:"text-fantasy-accent font-medium text-2xl",children:t.name}),d.jsx("p",{className:"text-sm text-fantasy-text-muted mt-1",children:"Compatible with 0.0.1"})]}),d.jsxs("div",{className:"p-6 text-center fantasy-card-gradient text-fantasy-text border border-white/10 rounded-lg transition-all duration-300 hover:bg-white/20",children:[d.jsx("p",{children:t.description}),d.jsxs("div",{className:"flex flex-wrap gap-3 justify-center mt-2",children:[d.jsx("span",{className:"bg-gradient-to-br from-fantasy-accent/20 to-fantasy-accent-dark/10 border border-fantasy-accent/30 rounded-xl px-4 py-2 text-sm leading-relaxed",children:"✨ Advanced Character Sheets"}),d.jsx("span",{className:"bg-gradient-to-br from-fantasy-accent/20 to-fantasy-accent-dark/10 border border-fantasy-accent/30 rounded-xl px-4 py-2 text-sm leading-relaxed",children:"🎲 Automated Dice Rolling"}),d.jsx("span",{className:"bg-gradient-to-br from-fantasy-accent/20 to-fantasy-accent-dark/10 border border-fantasy-accent/30 rounded-xl px-4 py-2 text-sm leading-relaxed",children:"📚 Spell Compendium"}),d.jsx("span",{className:"bg-gradient-to-br from-fantasy-accent/20 to-fantasy-accent-dark/10 border border-fantasy-accent/30 rounded-xl px-4 py-2 text-sm leading-relaxed",children:"⚔️ Combat Tracker"})]})]}),d.jsxs("div",{children:[d.jsx("h4",{className:"text-lg",children:"Supported Datapacks"}),d.jsx("div",{className:"flex gap-6 overflow-x-auto py-4",children:[1,2,3,4,5,6,7,8,9,10].map(()=>d.jsx("div",{className:"fantasy-card-gradient border border-fantasy-border rounded-2xl p-6 cursor-pointer transition-all duration-500 backdrop-blur-lg shadow-2xl hover:-translate-y-2 hover:shadow-fantasy-accent/20 hover:shadow-xl hover:border-fantasy-accent/40 relative",children:d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex items-center gap-3",children:[d.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-blue-500 to-fantasy-border rounded-lg flex items-center justify-center",children:d.jsx("span",{className:"text-xl font-bold text-fantasy-text",children:"T"})}),d.jsx("div",{className:"w-32",children:d.jsx("div",{className:"text-lg font-semibold text-fantasy-text",children:"Test Pack"})})]})})}))})]}),d.jsx("div",{className:"flex items-center justify-center w-full",children:d.jsx("div",{className:"flex flex-row justify-center gap-2",children:r.length?d.jsxs(d.Fragment,{children:[d.jsx(vr,{id:"auto-update",label:"Auto Update",checked:o,onChange:s}),d.jsx(mm,{label:ms(a.item_id),options:r.map(h=>({label:ms(h.item_id),onClick:()=>l(h)}))})]}):d.jsx("p",{children:"loading versions..."})})})]}),d.jsxs(yr,{children:[d.jsx(kt,{color:"light",onClick:f,children:"Cancel"}),d.jsx(kt,{color:"primary",onClick:async()=>{try{u({isSaving:!0,saveSuccessful:!1,error:""});const{baseData:h,versionData:p}=await jye(a.item_id);if(!h||!p)return Un("Failed to fetch item data.","error");const v=await Nye(h);if(!v)return u({isSaving:!0,saveSuccessful:!1,error:"Failed to save system data."});const g=await Aye(p);if(!g)return u({isSaving:!0,saveSuccessful:!1,error:"Failed to save version data."});if(!await hu(g.local_id,g.data.types.map(vm)))return u({isSaving:!0,saveSuccessful:!1,error:"Error creating hashes for forked content"});if(!await UE("system",v.local_id,g.local_id,!1))return u({isSaving:!0,saveSuccessful:!1,error:"Failed creating subscription for data."});u({isSaving:!0,saveSuccessful:!0,error:""})}catch(h){console.error("Error creating subscription: ".concat(h)),u({isSaving:!0,saveSuccessful:!1,error:h})}},children:"Install"})]})]})},Rye=({onAccept:e})=>d.jsxs(Vn,{isOpen:!0,children:[d.jsx(Kn,{title:"Disclaimer"}),d.jsxs(qn,{children:[d.jsx("p",{children:"BardsBallad is a system-agnostic character manager that supports a wide variety of user-created and open-license game systems"}),d.jsx("br",{}),d.jsx("p",{children:"Some content may be based on systems originally published under the ORC License, Creative Commons (CC-BY 4.0), or other open licenses. All such content is provided either by BardsBallad or individual users in compliance with their respective licenses."}),d.jsx("br",{}),d.jsx("p",{children:"BardsBallad is not affiliated with or endorsed by Paizo Inc., Wizards of the Coast, or any other publishers. Names like “Pathfinder,” “Starfinder,” or “Dungeons & Dragons” are trademarks of their respective owners and are only used to indicate compatibility where appropriate."}),d.jsx("br",{}),d.jsx("p",{children:"Users are solely responsible for the legality of content they upload or share. Please do not upload copyrighted material or publisher-owned setting content (such as Golarion or the Forgotten Realms) unless you have the appropriate rights."})]}),d.jsx(yr,{children:d.jsx(kt,{color:"primary",onClick:e,children:"I Understand"})})]}),Iye=async e=>{try{return(await Yn.get("/marketplace/".concat(e))).data}catch(t){return null}},Pye=async e=>{try{const t=await Yn.post("/marketplace",e);return t.status===200?{}:{error:t.data}}catch(t){return{error:"Error occured during publish"}}},Oye=async(e,t)=>{try{const n=await Yn.post("/marketplace/".concat(e,"/versions"),t);return n.status===200?{}:{error:n.data}}catch(n){return{error:"Error occured during publishing new version"}}},Mye=({id:e})=>{const{subscriptions:t,isLoading:n}=Tx(),[r,i]=N.useState("system"),[o,s]=N.useState(t==null?void 0:t.find(x=>x.type==="system")),[a,l]=N.useState(o==null?void 0:o.versions[0]),[c,u]=N.useState(""),[f,h]=N.useState(!0),[p,v]=N.useState(!0),[{isPublishing:g,error:b},m]=N.useState({isPublishing:!1,error:""});N.useEffect(()=>{if(!t)return;const x=t==null?void 0:t.find(k=>k.type===r);s(x),l(x==null?void 0:x.versions[0])},[t,r]),N.useEffect(()=>{(async()=>{if(!o)return;if(!await Iye(o==null?void 0:o.item_id))return v(!0);v(!1)})()},[o]);const y=N.useCallback(()=>cr(e),[e]);return d.jsxs(Vn,{isOpen:!0,onClose:y,children:[d.jsx(Kn,{title:p?"Publish new Item":"Publish new version",onClose:y}),d.jsx(qn,{children:n||!t||!o||!a?d.jsx("p",{children:"Loading..."}):g||b?d.jsx("div",{children:g?d.jsx("p",{children:"Publishing..."}):d.jsx("p",{children:b})}):d.jsxs(d.Fragment,{children:[d.jsxs(ft,{id:"type-to-publish",label:"Item Type",value:r,onChange:i,children:[d.jsx("option",{value:"system",children:"System"}),d.jsx("option",{value:"datapack",children:"Datapack"})]}),d.jsx(ft,{id:"item-to-publish",label:"System",value:o==null?void 0:o.item_id,onChange:x=>s(t.find(k=>k.item_id===x)),children:t.filter(x=>x.type===r).map(x=>d.jsx("option",{value:x.item_id,children:x.item.name},x.item_id))}),d.jsx(MS,{id:"description",label:p?"Description":"Changelog",value:c,onChange:u}),p&&d.jsx(vr,{id:"is-public",label:"Is public?",checked:f,onChange:h}),d.jsx(ft,{id:"version-to-publish",label:"Version",value:a==null?void 0:a.local_id,onChange:x=>l(o.versions.find(k=>k.local_id===x)),children:o.versions.map(x=>d.jsx("option",{value:x.local_id,children:ms(x.local_id)},x.local_id))})]})}),d.jsxs(yr,{children:[d.jsx(kt,{color:"light",onClick:y,children:"Close"}),d.jsx(kt,{color:"primary",disabled:!o||!a,onClick:async()=>{m({isPublishing:!0,error:""});let x="";switch(p){case!0:const{error:k}=await Pye({item:o.item,version:a,description:c,resource_type:r,is_public:f});k&&(x=k);break;case!1:const{error:S}=await Oye(o.item_id,{item_id:o.item_id,version:a,changelog:c});S&&(x=S);break}x&&m({isPublishing:!1,error:x}),y()},children:"Publish"})]})]})},S1=({item:e})=>{const{addToast:t}=Sye();return d.jsx("div",{className:"fantasy-card-gradient border border-fantasy-border rounded-2xl p-6 cursor-pointer transition-all duration-500 backdrop-blur-lg shadow-2xl hover:-translate-y-2 hover:shadow-fantasy-accent/20 hover:shadow-xl hover:border-fantasy-accent/40 relative",onClick:()=>Rt("view marketplace item",({id:n})=>d.jsx(Tye,{id:n,title:e.name,data:e})),children:d.jsxs("div",{className:"flex items-start space-x-4",children:[d.jsx("div",{className:"flex-shrink-0 w-12 h-12 bg-gradient-to-br from-blue-500 to-fantasy-border rounded-lg flex items-center justify-center",children:d.jsx("span",{className:"text-xl font-bold text-white",children:e.name[0]})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("h5",{className:"text-xl font-semibold text-neutral-900 truncate dark:text-white",children:e.name}),d.jsxs("p",{className:"text-sm text-neutral-500 dark:text-neutral-400",children:[e.creator_username," | Version ",ms(e.version)]})]})]})},e.name)},$ye=()=>{const[e,t]=N.useState([]),{isLoggedIn:n}=Er.useValue(),{isOnline:r}=wC.useValue();return N.useEffect(()=>{if(!r)return t([]);(async()=>{const o=await Eye();t(o)})()},[r]),N.useEffect(()=>{(async()=>{await Ch.get("seen-marketplace-disclaimer")||Rt("marketplace-disclaimer",({id:s})=>d.jsx(Rye,{onAccept:()=>{cr(s),Ch.set("seen-marketplace-disclaimer",!0)}}))})()},[]),r?d.jsxs("div",{children:[d.jsx(Xs,{title:"Marketplace",subtitle:"Discover amazing systems, themes, and content created by the community"}),d.jsxs("div",{className:"px-4 pb-4",children:[d.jsxs("div",{children:[d.jsx("h3",{className:"text-3xl font-semibold mt-4",children:"Browse Categories"}),d.jsx("div",{className:"flex flex-wrap gap-3 mt-2",children:["⚔️ Game Systems (40)","📦 Datapacks (100+)","🎨 Themes (32)"].map(i=>d.jsx("span",{className:"cursor-pointer bg-gradient-to-br from-fantasy-accent/20 to-fantasy-accent-dark/10 border border-fantasy-accent/30 rounded-xl px-4 py-2 text-sm leading-relaxed",children:i},i))})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-3xl font-semibold mt-4 mb-2",children:"Featured Systems"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:e.filter(i=>i.resource_type==="system").map((i,o)=>d.jsx(S1,{item:i},o))})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-3xl font-semibold mt-4",children:"Featured Datapacks"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:e.filter(i=>i.resource_type==="datapack").map((i,o)=>d.jsx(S1,{item:i},o))})]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-3xl font-semibold mt-4",children:"Featured Themes"}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:e.filter(i=>i.resource_type==="datapack").map((i,o)=>d.jsx(S1,{item:i},o))})]})]}),n&&d.jsx(du,{onClick:()=>Rt("publish-item",({id:i})=>d.jsx(Mye,{id:i}))})]}):d.jsxs("div",{className:"h-full",children:[d.jsx(Xs,{title:"Marketplace"}),d.jsx("div",{className:"flex justify-center items-center p-4",children:d.jsx("h2",{className:"text-3xl",children:"Marketplace is not available while you're offline!"})})]})};function Dye(e){return na(()=>it.datapacks.get(e||""),[e])}const Fye=()=>{const{id:e}=vS(),t=N.useMemo(()=>e?"".concat(e,"|edits"):void 0,[e]),n=o8(e),r=nr(t),i=Dye(r==null?void 0:r.reference_id);return t?n?r?i?d.jsxs("div",{className:"flex flex-col h-full",children:[d.jsx(Xs,{title:i.name,options:[{onClick:()=>Rt("save-new-version",({id:o})=>d.jsx(s8,{id:o,original:n,edits:r,edits_id:t})),Content:()=>d.jsx("p",{className:"block cursor-pointer py-2 px-3 text-white bg-blue-700 rounded md:bg-transparent md:text-blue-700 md:p-0 md:dark:text-blue-500",children:"Save Version"})}]}),d.jsx("div",{className:"p-4 relative flex flex-col flex-grow",children:d.jsx("div",{className:"flex flex-col gap-1",children:r.data.packData.map(o=>d.jsx("div",{className:"mb-4 block max-w-sm p-6 bg-white border border-gray-200 rounded-lg shadow hover:bg-gray-100 dark:bg-neutral-800 dark:border-neutral-700 dark:hover:bg-neutral-700 cursor-pointer",onClick:()=>Rt("edit-pack-data",({id:s})=>d.jsx(VE,{id:s,types:r.data.types,onSave:a=>Jt(t,En(r.data,l=>{const c=l.packData.findIndex(u=>u.name===o.name);c!==-1&&(o.name!==a.name?(l.packData.splice(c,1),l.packData.push(a)):l.packData[c]=a)})),data:o})),children:d.jsxs("p",{children:[o.name," - ",o.typeData.type," ",o.typeData.isArray?"(Array)":""]})},o.name))})})]}):d.jsx(d.Fragment,{children:"Loading System..."}):d.jsx(d.Fragment,{children:"Loading Edits..."}):d.jsx(d.Fragment,{children:"Loading Original"}):d.jsx(d.Fragment,{children:"id not defined..."})},a0=(e,t=7)=>{const n=new Date;return n.setDate(n.getDate()-t),new Date(e)<n};function Lye(){const e=na(()=>it.subscriptions.toArray(),[]);return{subscriptions:(e==null?void 0:e.filter(n=>n.deleted_at&&!a0(n.deleted_at,10)))||[],isLoading:e===void 0}}const Bye=e=>{for(let t in e)return!1;return!0};function zye(){const e=na(async()=>{const n=(await it.characters.toArray()).filter(r=>r.deleted_at&&!Bye(r.data)&&!a0(r.deleted_at,10));return n.sort((r,i)=>{if(!r||!i)return 0;const o=new Date(r.deleted_at),s=new Date(i.deleted_at);return o>s?-1:1}),n},[]);return{characters:e||[],isLoading:e===void 0}}const CF=async e=>{try{let t=await Sn.get("updated_characters")||[];return t.includes(e)||await Sn.set("updated_characters",[...t,e]),await it.characters.update(e,{data:{},updated_at:new Date().toISOString()})}catch(t){console.log("Error clearing character:",t)}},Hye=async e=>{try{let t=await Sn.get("updated_characters")||[];return t.includes(e)||await Sn.set("updated_characters",[...t,e]),await it.characters.update(e,{deleted_at:void 0,updated_at:new Date().toISOString()})}catch(t){console.log("Error reviving character:",t)}},Wye=async e=>{try{const t=new Date;return t.setDate(t.getDate()-11),await it.subscriptions.update(e,{deleted_at:t.toISOString(),updated_at:new Date().toISOString()})}catch(t){console.log("Error clearing subscription:",t)}},Uye=async e=>{try{return await it.subscriptions.update(e,{deleted_at:void 0,updated_at:new Date().toISOString()})}catch(t){console.log("Error reviving subscription:",t)}},Vye=({sub:e})=>{const t=na(()=>J6(e.resource_type,e.resource_id),[e]);return t?d.jsxs("div",{className:"fantasy-card-gradient card-top-border border border-fantasy-border rounded-2xl p-6 cursor-pointer transition-all duration-500 backdrop-blur-lg shadow-2xl hover:-translate-y-2 hover:shadow-fantasy-accent/20 hover:shadow-xl hover:border-fantasy-accent/40 relative",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("div",{className:"w-12 h-12 fantasy-accent-gradient rounded-xl flex items-center justify-center text-xl font-bold text-fantasy-dark mr-4 shadow-lg shadow-fantasy-accent/30",children:t.name[0]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-fantasy-text mb-1",children:t.name}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-fantasy-accent/70",children:[d.jsxs("span",{children:["🏹 ",e.resource_type]}),d.jsx("span",{className:"bg-fantasy-accent/20 px-1.5 py-0.5 rounded text-[10px]",children:ms(e.version_id)})]})]})]}),d.jsxs("div",{className:"flex gap-2 mt-4",children:[d.jsxs("button",{className:"flex-1 fantasy-accent-gradient text-fantasy-dark px-4 py-2 rounded-lg text-xs font-medium transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-fantasy-accent/40",onClick:()=>Uye(e.local_id),children:["Revive ",e.resource_type]}),d.jsx(mm,{label:"⚙️",options:[{label:"export",onClick:()=>Lp(e.resource_type,t,"".concat(t.name,"-export"))},{label:"force delete",onClick:()=>Rt("confirm",({id:n})=>d.jsx(Ul,{id:n,title:"Force Delete ".concat(e.resource_type),type:"danger",message:"Are you sure you want to force delete this ".concat(e.resource_type,"?"),onConfirm:()=>Wye(e.local_id)}))}]})]})]},e.local_id):d.jsx("p",{children:"loading"})},qye=()=>{const{subscriptions:e,isLoading:t}=Lye(),{characters:n,isLoading:r}=zye();return d.jsxs("div",{children:[d.jsx(Xs,{title:"The Catacombs",subtitle:"Items permanently removed after 7 days"}),d.jsxs("div",{className:"px-4 pb-4",children:[d.jsx("div",{className:"mb-5",children:d.jsx(wE,{placeholder:"Search Catacombs...",onSearch:()=>{},filters:[{title:"systems",property:"type",value:"system"},{title:"datapacks",property:"type",value:"datapack"},{title:"themes",property:"type",value:"theme"}]})}),t||r?d.jsx("h5",{className:"mb-4 text-xl",children:"Loading..."}):d.jsx("h5",{className:"flex flex-col gap-4",children:d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6",children:[n.map((i,o)=>d.jsxs("div",{style:{zIndex:"".concat(n.length-o)},className:"fantasy-card-gradient card-top-border border border-fantasy-border rounded-2xl p-6 cursor-pointer transition-all duration-500 backdrop-blur-lg shadow-2xl hover:-translate-y-2 hover:shadow-fantasy-accent/20 hover:shadow-xl hover:border-fantasy-accent/40 relative",children:[d.jsxs("div",{className:"flex items-center mb-4",children:[d.jsx("div",{className:"w-12 h-12 fantasy-accent-gradient rounded-xl flex items-center justify-center text-xl font-bold text-fantasy-dark mr-4 shadow-lg shadow-fantasy-accent/30",children:i.name[0]}),d.jsxs("div",{children:[d.jsx("h3",{className:"text-lg font-semibold text-fantasy-text mb-1",children:i.name}),d.jsxs("div",{className:"flex items-center gap-2 text-xs text-fantasy-accent/70",children:[d.jsx("span",{children:"🏹 Ranger"}),d.jsx("span",{className:"bg-fantasy-accent/20 px-1.5 py-0.5 rounded text-[10px]",children:ms(i.system.local_id)})]})]})]}),d.jsxs("div",{className:"flex gap-2 mt-4",children:[d.jsx("button",{className:"flex-1 fantasy-accent-gradient text-fantasy-dark px-4 py-2 rounded-lg text-xs font-medium transition-all duration-300 hover:-translate-y-0.5 hover:shadow-lg hover:shadow-fantasy-accent/40",onClick:()=>Hye(i.local_id),children:"Revive Adventurer"}),d.jsx(mm,{label:"⚙️",options:[{label:"export",onClick:()=>Lp("character",i,"".concat(i.name,"-export"))},{label:"force delete",onClick:()=>Rt("confirm",({id:s})=>d.jsx(Ul,{id:s,title:"Force Delete Character",type:"danger",message:"Are you sure you want to force delete this character?",onConfirm:()=>CF(i.local_id)}))}]})]})]},i.local_id)),e.map(i=>d.jsx(Vye,{sub:i}))]})})]})]})},bC=async()=>{try{return(await Yn.get("/ping")).status===200}catch(e){return!1}},Kye=async e=>await Yn.post("/systems/push",e).then(t=>t.data),Yye=async(e,t)=>{const n=(e==null?void 0:e.updated_at)||0,r=(e==null?void 0:e.id)||"";return await Yn.get("/systems/pull",{params:{updated_at:n,id:r,batchSize:t}}).then(i=>i.data)},X5="system-checkpoint",Gye=async()=>{const e=await Sn.get(X5),{checkpoint:t,documents:n}=await Yye(e,20);return await Sn.set(X5,t),n},Xye=async()=>{const e=await it.systems.toArray(),t=await it.characters.toArray(),n=Qd(await di.get("token"));if(!n)return{conflicts:[],metadata:[]};const r=await Sn.get("synced_characters")||[],i=Bi(n.role,Li.PREMIUM),o=e.filter(s=>{if(!(s.user_id===n.id))return!1;const c=t.find(f=>f.system.local_id===s.local_id&&r.includes(f.local_id))!==void 0,u=!s.id&&i;return c||u});return await Kye(o)},Jye=e=>it.systems.bulkPut(e),Qye=()=>it.systems.toArray(),Zye=async(e,t)=>{const n=(e==null?void 0:e.updated_at)||0,r=(e==null?void 0:e.id)||"";return await Yn.get("/versions/pull",{params:{updated_at:n,id:r,batchSize:t}}).then(i=>i.data)},e0e=async e=>await Yn.post("/versions/push",e).then(t=>t.data),J5="version-checkpoint",t0e=async()=>{const e=await Sn.get(J5),{checkpoint:t,documents:n}=await Zye(e,20);return await Sn.set(J5,t),n},n0e=async()=>{const e=await it.versions.toArray(),t=await it.characters.toArray(),n=Qd(await di.get("token"));if(!n)return{conflicts:[],metadata:[]};const r=await Sn.get("synced_characters")||[],i=Bi(n.role,Li.PREMIUM),o=e.filter(s=>{if(!(s.user_id===n.id))return!1;const c=t.find(f=>f.system.version_id===s.local_id&&r.includes(f.local_id))!==void 0,u=!s.id&&i;return c||u});return await e0e(o)},r0e=e=>it.versions.bulkPut(e),i0e=()=>it.versions.toArray(),o0e=async(e,t)=>{const n=(e==null?void 0:e.updated_at)||0,r=(e==null?void 0:e.id)||"";return await Yn.get("/characters/pull",{params:{updated_at:n,id:r,batchSize:t}}).then(i=>i.data)},s0e=async e=>await Yn.post("/characters/push",e).then(t=>t.data),Q5="character-checkpoint",a0e=async()=>{const e=await Sn.get(Q5),{checkpoint:t,documents:n}=await o0e(e,20);return await Sn.set(Q5,t),n},l0e=async()=>{const e=await it.characters.toArray(),t=Qd(await di.get("token"));if(!t)return{conflicts:[],metadata:[]};const n=Bi(t.role,Li.PREMIUM),r=await Sn.get("updated_characters")||[],i=await Sn.get("synced_characters")||[],o=e.filter(s=>{const a=i.includes(s.local_id),l=r.includes(s.local_id);return n&&l?!0:a&&l});return await s0e(o)},c0e=e=>it.characters.bulkPut(e),u0e=()=>it.characters.toArray(),d0e=async e=>await Yn.post("/subscriptions/push",e).then(t=>t.data),f0e=async(e,t)=>{const n=(e==null?void 0:e.updated_at)||0,r=(e==null?void 0:e.id)||"";return await Yn.get("/subscriptions/pull",{params:{updated_at:n,id:r,batchSize:t}}).then(i=>i.data)},Z5="subscription-checkpoint",h0e=async()=>{const e=await Sn.get(Z5),{checkpoint:t,documents:n}=await f0e(e,20);return await Sn.set(Z5,t),n},p0e=async()=>{const e=await it.subscriptions.toArray(),t=await it.characters.toArray(),n=Qd(await di.get("token"));if(!n)return{conflicts:[],metadata:[]};const r=await Sn.get("synced_characters")||[],i=Bi(n.role,Li.PREMIUM),o=e.filter(s=>{if(!(s.user_id===n.id))return!1;const c=t.find(f=>{const h=f.system.version_id===s.version_id&&f.system.local_id===s.resource_id,p=r.includes(f.local_id);return h&&p})!==void 0,u=!s.id&&i;return c||u});return await d0e(o)},m0e=e=>it.subscriptions.bulkPut(e),g0e=()=>it.subscriptions.toArray(),v0e=({id:e,data:t,onSave:n})=>{const[r,i]=N.useState(0),[o,s]=N.useState(t[0]),[a,l]=N.useState([]),c=N.useCallback(()=>cr(e),[e]),u=(f,h)=>{const p=[...a,{...f,version:h.version,updated_at:new Date().toISOString()}];l(p);const v=r+1;v>=t.length?(n(p),c()):(i(v),s(t[v]))};return d.jsxs(Vn,{isOpen:!0,children:[d.jsx(Kn,{title:"Conflicts for Local:".concat(o.local.name," / Remote:").concat(o.remote.name)}),d.jsx(qn,{className:"text-center",children:d.jsxs("div",{className:"p-4",children:[d.jsx("p",{className:"text-lg font-medium mb-2",children:"Local"}),d.jsxs("p",{children:["Version: ",o.local.version]}),d.jsxs("p",{children:["Updated: ",new Date(o.local.updated_at).toString()]}),d.jsx("p",{className:"text-lg font-medium mb-2",children:"Remote"}),d.jsxs("p",{children:["Version: ",o.remote.version]}),d.jsxs("p",{children:["Updated: ",new Date(o.remote.updated_at).toString()]})]})}),d.jsxs(yr,{children:[d.jsx(kt,{color:"light",onClick:()=>u(o.local,o.remote),children:"Keep Local"}),d.jsx(kt,{color:"primary",onClick:()=>u(o.remote,o.remote),children:"Keep Remote"})]})]})},y0e=10,eR=[{name:"Subscriptions",get:g0e,bulkPut:m0e,pull:h0e,push:p0e},{name:"Systems",get:Qye,bulkPut:Jye,pull:Gye,push:Xye},{name:"Versions",get:i0e,bulkPut:r0e,pull:t0e,push:n0e},{name:"Characters",get:u0e,bulkPut:c0e,pull:a0e,push:l0e}];bC().then(e=>{Lx(e)});async function jF(e){return e.length===0?[]:new Promise(t=>{Rt("handle-conflicts",({id:n})=>$t.createElement(v0e,{id:n,data:e,onSave:t}))})}async function x0e(e,t,n){let r=!0;for(;r;){const i=await t();i.length<y0e&&(r=!1);const o=i.flatMap(l=>{const c=n.find(v=>v.local_id===l.local_id);if(!c)return[];const u=new Date(c.updated_at).getTime(),f=new Date(l.updated_at).getTime(),h=c.version!==l.version,p=u>=f;return h&&p?{local:c,remote:l}:[]}),s=await jF(o),a=i.map(l=>s.find(c=>c.local_id===l.local_id)||l);await e(a)}}async function w0e(e,t,n){let r=!0;for(;r;){const{conflicts:i,metadata:o}=await t(),s=o.map(c=>({...n.find(f=>f.local_id===c.local_id),...c}));if(await e(s),i.length===0){r=!1;return}const a=i.flatMap(c=>{const u=n.find(f=>f.local_id===c.local_id);return u?{local:u,remote:c}:[]}),l=await jF(a);await e(l)}}const NF=async()=>{const{isOnline:e}=wC.get(),{isLoggedIn:t}=Er.get();if(!e||!t)return;const n=await Sn.get("synced_characters")||[];await Q6(n);for(let i=0;i<eR.length;i++){const o=eR[i];await x0e(o.bulkPut,o.pull,await o.get()),await w0e(o.bulkPut,o.push,await o.get())}(await it.versions.toArray()).forEach(i=>{hu(i.local_id,i.data.types.map(vm))})};window.addEventListener("online",async()=>{console.log("online");const e=await bC();Lx(e),e||console.log("not connected"),NF()});window.addEventListener("offline",()=>{console.log("offline"),Lx(!1)});const b0e=30*1e3,_0e=()=>{const e=N.useRef(null),t=N.useRef(!1),n=N.useCallback(async()=>{if(!t.current){t.current=!0;try{const r=await bC(),{isLoggedIn:i}=Er.get();Lx(r),r&&i&&await NF()}catch(r){console.error("Error in sync",r)}finally{t.current=!1,e.current=setTimeout(n,b0e)}}},[]);N.useEffect(()=>(n(),()=>{t.current=!1,e.current&&(clearTimeout(e.current),e.current=null)}),[n])};EF();window.generateHashes=async()=>{(await it.versions.toArray()).forEach(t=>{hu(t.local_id,t.data.types.map(vm))})};const k0e=()=>(_0e(),N.useEffect(()=>{const e=()=>{const t=window.innerHeight*.01;document.documentElement.style.setProperty("--vh","".concat(t,"px"))};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),N.useEffect(()=>{function e(){const n=document.createElement("div");n.className="particle",n.style.left=Math.random()*100+"%",n.style.animationDelay=Math.random()*8+"s",n.style.animationDuration=Math.random()*6+4+"s",document.getElementById("particleContainer").appendChild(n),setTimeout(()=>{n.remove()},18200)}const t=setInterval(e,2e3);for(let n=0;n<5;n++)setTimeout(e,n*400);return()=>clearInterval(t)},[]),N.useEffect(()=>{async function e(){const[n,r]=await Promise.all([it.characters.toArray(),it.subscriptions.toArray()]);n.forEach(i=>{const o=i.deleted_at,s=!i.data;!o||s||!a0(o,7)||CF(i.local_id)}),r.forEach(i=>{const o=i.deleted_at;!o||!a0(o,7)||qy(i.version_id)})}const t=setInterval(e,6e4);return()=>clearInterval(t)},[]),d.jsx(Kz,{children:d.jsx(kz,{children:d.jsxs(Mi,{path:"/",element:d.jsx(NU,{}),children:[d.jsx(Mi,{index:!0,element:d.jsx(IU,{})}),d.jsxs(Mi,{path:"characters",children:[d.jsx(Mi,{index:!0,element:d.jsx(ufe,{})}),d.jsx(Mi,{path:":id",element:d.jsx(Kfe,{})})]}),d.jsx(Mi,{path:"marketplace",element:d.jsx($ye,{})}),d.jsxs(Mi,{path:"library",children:[d.jsx(Mi,{index:!0,element:d.jsx(che,{})}),d.jsx(Mi,{path:"system/:id",element:d.jsx(Yhe,{})}),d.jsx(Mi,{path:"datapack/:id",element:d.jsx(Fye,{})})]}),d.jsx(Mi,{path:"garbage",element:d.jsx(qye,{})}),d.jsx(Mi,{path:"settings",element:d.jsx(wye,{})}),d.jsx(Mi,{path:"subscription-confirmation",element:d.jsx(_ye,{})})]})})})),S0e={api_host:void 0},E0e=document.getElementById("root"),C0e=mP(E0e);C0e.render(d.jsx($t.StrictMode,{children:d.jsx(Vue,{apiKey:"",options:S0e,children:d.jsx(k0e,{})})}));export{N0e as __vite_legacy_guard};
